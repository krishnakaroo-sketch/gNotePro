(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function i(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(o){if(o.ep)return;o.ep=!0;const l=i(o);fetch(o.href,l)}})();function V0(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Nc={exports:{}},la={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rm;function hb(){if(Rm)return la;Rm=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(r,o,l){var c=null;if(l!==void 0&&(c=""+l),o.key!==void 0&&(c=""+o.key),"key"in o){l={};for(var p in o)p!=="key"&&(l[p]=o[p])}else l=o;return o=l.ref,{$$typeof:t,type:r,key:c,ref:o!==void 0?o:null,props:l}}return la.Fragment=e,la.jsx=i,la.jsxs=i,la}var km;function pb(){return km||(km=1,Nc.exports=hb()),Nc.exports}var h=pb(),Cc={exports:{}},ye={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Im;function mb(){if(Im)return ye;Im=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),_=Symbol.iterator;function S(R){return R===null||typeof R!="object"?null:(R=_&&R[_]||R["@@iterator"],typeof R=="function"?R:null)}var T={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,N={};function D(R,V,Q){this.props=R,this.context=V,this.refs=N,this.updater=Q||T}D.prototype.isReactComponent={},D.prototype.setState=function(R,V){if(typeof R!="object"&&typeof R!="function"&&R!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,R,V,"setState")},D.prototype.forceUpdate=function(R){this.updater.enqueueForceUpdate(this,R,"forceUpdate")};function H(){}H.prototype=D.prototype;function U(R,V,Q){this.props=R,this.context=V,this.refs=N,this.updater=Q||T}var J=U.prototype=new H;J.constructor=U,C(J,D.prototype),J.isPureReactComponent=!0;var X=Array.isArray;function F(){}var K={H:null,A:null,T:null,S:null},ce=Object.prototype.hasOwnProperty;function Z(R,V,Q){var ie=Q.ref;return{$$typeof:t,type:R,key:V,ref:ie!==void 0?ie:null,props:Q}}function me(R,V){return Z(R.type,V,R.props)}function Ee(R){return typeof R=="object"&&R!==null&&R.$$typeof===t}function Me(R){var V={"=":"=0",":":"=2"};return"$"+R.replace(/[=:]/g,function(Q){return V[Q]})}var _e=/\/+/g;function qe(R,V){return typeof R=="object"&&R!==null&&R.key!=null?Me(""+R.key):V.toString(36)}function rt(R){switch(R.status){case"fulfilled":return R.value;case"rejected":throw R.reason;default:switch(typeof R.status=="string"?R.then(F,F):(R.status="pending",R.then(function(V){R.status==="pending"&&(R.status="fulfilled",R.value=V)},function(V){R.status==="pending"&&(R.status="rejected",R.reason=V)})),R.status){case"fulfilled":return R.value;case"rejected":throw R.reason}}throw R}function j(R,V,Q,ie,de){var ge=typeof R;(ge==="undefined"||ge==="boolean")&&(R=null);var Re=!1;if(R===null)Re=!0;else switch(ge){case"bigint":case"string":case"number":Re=!0;break;case"object":switch(R.$$typeof){case t:case e:Re=!0;break;case x:return Re=R._init,j(Re(R._payload),V,Q,ie,de)}}if(Re)return de=de(R),Re=ie===""?"."+qe(R,0):ie,X(de)?(Q="",Re!=null&&(Q=Re.replace(_e,"$&/")+"/"),j(de,V,Q,"",function($t){return $t})):de!=null&&(Ee(de)&&(de=me(de,Q+(de.key==null||R&&R.key===de.key?"":(""+de.key).replace(_e,"$&/")+"/")+Re)),V.push(de)),1;Re=0;var We=ie===""?".":ie+":";if(X(R))for(var Oe=0;Oe<R.length;Oe++)ie=R[Oe],ge=We+qe(ie,Oe),Re+=j(ie,V,Q,ge,de);else if(Oe=S(R),typeof Oe=="function")for(R=Oe.call(R),Oe=0;!(ie=R.next()).done;)ie=ie.value,ge=We+qe(ie,Oe++),Re+=j(ie,V,Q,ge,de);else if(ge==="object"){if(typeof R.then=="function")return j(rt(R),V,Q,ie,de);throw V=String(R),Error("Objects are not valid as a React child (found: "+(V==="[object Object]"?"object with keys {"+Object.keys(R).join(", ")+"}":V)+"). If you meant to render a collection of children, use an array instead.")}return Re}function Y(R,V,Q){if(R==null)return R;var ie=[],de=0;return j(R,ie,"","",function(ge){return V.call(Q,ge,de++)}),ie}function le(R){if(R._status===-1){var V=R._result;V=V(),V.then(function(Q){(R._status===0||R._status===-1)&&(R._status=1,R._result=Q)},function(Q){(R._status===0||R._status===-1)&&(R._status=2,R._result=Q)}),R._status===-1&&(R._status=0,R._result=V)}if(R._status===1)return R._result.default;throw R._result}var Te=typeof reportError=="function"?reportError:function(R){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var V=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof R=="object"&&R!==null&&typeof R.message=="string"?String(R.message):String(R),error:R});if(!window.dispatchEvent(V))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",R);return}console.error(R)},De={map:Y,forEach:function(R,V,Q){Y(R,function(){V.apply(this,arguments)},Q)},count:function(R){var V=0;return Y(R,function(){V++}),V},toArray:function(R){return Y(R,function(V){return V})||[]},only:function(R){if(!Ee(R))throw Error("React.Children.only expected to receive a single React element child.");return R}};return ye.Activity=b,ye.Children=De,ye.Component=D,ye.Fragment=i,ye.Profiler=o,ye.PureComponent=U,ye.StrictMode=r,ye.Suspense=v,ye.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=K,ye.__COMPILER_RUNTIME={__proto__:null,c:function(R){return K.H.useMemoCache(R)}},ye.cache=function(R){return function(){return R.apply(null,arguments)}},ye.cacheSignal=function(){return null},ye.cloneElement=function(R,V,Q){if(R==null)throw Error("The argument must be a React element, but you passed "+R+".");var ie=C({},R.props),de=R.key;if(V!=null)for(ge in V.key!==void 0&&(de=""+V.key),V)!ce.call(V,ge)||ge==="key"||ge==="__self"||ge==="__source"||ge==="ref"&&V.ref===void 0||(ie[ge]=V[ge]);var ge=arguments.length-2;if(ge===1)ie.children=Q;else if(1<ge){for(var Re=Array(ge),We=0;We<ge;We++)Re[We]=arguments[We+2];ie.children=Re}return Z(R.type,de,ie)},ye.createContext=function(R){return R={$$typeof:c,_currentValue:R,_currentValue2:R,_threadCount:0,Provider:null,Consumer:null},R.Provider=R,R.Consumer={$$typeof:l,_context:R},R},ye.createElement=function(R,V,Q){var ie,de={},ge=null;if(V!=null)for(ie in V.key!==void 0&&(ge=""+V.key),V)ce.call(V,ie)&&ie!=="key"&&ie!=="__self"&&ie!=="__source"&&(de[ie]=V[ie]);var Re=arguments.length-2;if(Re===1)de.children=Q;else if(1<Re){for(var We=Array(Re),Oe=0;Oe<Re;Oe++)We[Oe]=arguments[Oe+2];de.children=We}if(R&&R.defaultProps)for(ie in Re=R.defaultProps,Re)de[ie]===void 0&&(de[ie]=Re[ie]);return Z(R,ge,de)},ye.createRef=function(){return{current:null}},ye.forwardRef=function(R){return{$$typeof:p,render:R}},ye.isValidElement=Ee,ye.lazy=function(R){return{$$typeof:x,_payload:{_status:-1,_result:R},_init:le}},ye.memo=function(R,V){return{$$typeof:g,type:R,compare:V===void 0?null:V}},ye.startTransition=function(R){var V=K.T,Q={};K.T=Q;try{var ie=R(),de=K.S;de!==null&&de(Q,ie),typeof ie=="object"&&ie!==null&&typeof ie.then=="function"&&ie.then(F,Te)}catch(ge){Te(ge)}finally{V!==null&&Q.types!==null&&(V.types=Q.types),K.T=V}},ye.unstable_useCacheRefresh=function(){return K.H.useCacheRefresh()},ye.use=function(R){return K.H.use(R)},ye.useActionState=function(R,V,Q){return K.H.useActionState(R,V,Q)},ye.useCallback=function(R,V){return K.H.useCallback(R,V)},ye.useContext=function(R){return K.H.useContext(R)},ye.useDebugValue=function(){},ye.useDeferredValue=function(R,V){return K.H.useDeferredValue(R,V)},ye.useEffect=function(R,V){return K.H.useEffect(R,V)},ye.useEffectEvent=function(R){return K.H.useEffectEvent(R)},ye.useId=function(){return K.H.useId()},ye.useImperativeHandle=function(R,V,Q){return K.H.useImperativeHandle(R,V,Q)},ye.useInsertionEffect=function(R,V){return K.H.useInsertionEffect(R,V)},ye.useLayoutEffect=function(R,V){return K.H.useLayoutEffect(R,V)},ye.useMemo=function(R,V){return K.H.useMemo(R,V)},ye.useOptimistic=function(R,V){return K.H.useOptimistic(R,V)},ye.useReducer=function(R,V,Q){return K.H.useReducer(R,V,Q)},ye.useRef=function(R){return K.H.useRef(R)},ye.useState=function(R){return K.H.useState(R)},ye.useSyncExternalStore=function(R,V,Q){return K.H.useSyncExternalStore(R,V,Q)},ye.useTransition=function(){return K.H.useTransition()},ye.version="19.2.3",ye}var Dm;function gd(){return Dm||(Dm=1,Cc.exports=mb()),Cc.exports}var ee=gd();const gb=V0(ee);var Rc={exports:{}},ua={},kc={exports:{}},Ic={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mm;function vb(){return Mm||(Mm=1,(function(t){function e(j,Y){var le=j.length;j.push(Y);e:for(;0<le;){var Te=le-1>>>1,De=j[Te];if(0<o(De,Y))j[Te]=Y,j[le]=De,le=Te;else break e}}function i(j){return j.length===0?null:j[0]}function r(j){if(j.length===0)return null;var Y=j[0],le=j.pop();if(le!==Y){j[0]=le;e:for(var Te=0,De=j.length,R=De>>>1;Te<R;){var V=2*(Te+1)-1,Q=j[V],ie=V+1,de=j[ie];if(0>o(Q,le))ie<De&&0>o(de,Q)?(j[Te]=de,j[ie]=le,Te=ie):(j[Te]=Q,j[V]=le,Te=V);else if(ie<De&&0>o(de,le))j[Te]=de,j[ie]=le,Te=ie;else break e}}return Y}function o(j,Y){var le=j.sortIndex-Y.sortIndex;return le!==0?le:j.id-Y.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var c=Date,p=c.now();t.unstable_now=function(){return c.now()-p}}var v=[],g=[],x=1,b=null,_=3,S=!1,T=!1,C=!1,N=!1,D=typeof setTimeout=="function"?setTimeout:null,H=typeof clearTimeout=="function"?clearTimeout:null,U=typeof setImmediate<"u"?setImmediate:null;function J(j){for(var Y=i(g);Y!==null;){if(Y.callback===null)r(g);else if(Y.startTime<=j)r(g),Y.sortIndex=Y.expirationTime,e(v,Y);else break;Y=i(g)}}function X(j){if(C=!1,J(j),!T)if(i(v)!==null)T=!0,F||(F=!0,Me());else{var Y=i(g);Y!==null&&rt(X,Y.startTime-j)}}var F=!1,K=-1,ce=5,Z=-1;function me(){return N?!0:!(t.unstable_now()-Z<ce)}function Ee(){if(N=!1,F){var j=t.unstable_now();Z=j;var Y=!0;try{e:{T=!1,C&&(C=!1,H(K),K=-1),S=!0;var le=_;try{t:{for(J(j),b=i(v);b!==null&&!(b.expirationTime>j&&me());){var Te=b.callback;if(typeof Te=="function"){b.callback=null,_=b.priorityLevel;var De=Te(b.expirationTime<=j);if(j=t.unstable_now(),typeof De=="function"){b.callback=De,J(j),Y=!0;break t}b===i(v)&&r(v),J(j)}else r(v);b=i(v)}if(b!==null)Y=!0;else{var R=i(g);R!==null&&rt(X,R.startTime-j),Y=!1}}break e}finally{b=null,_=le,S=!1}Y=void 0}}finally{Y?Me():F=!1}}}var Me;if(typeof U=="function")Me=function(){U(Ee)};else if(typeof MessageChannel<"u"){var _e=new MessageChannel,qe=_e.port2;_e.port1.onmessage=Ee,Me=function(){qe.postMessage(null)}}else Me=function(){D(Ee,0)};function rt(j,Y){K=D(function(){j(t.unstable_now())},Y)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(j){j.callback=null},t.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ce=0<j?Math.floor(1e3/j):5},t.unstable_getCurrentPriorityLevel=function(){return _},t.unstable_next=function(j){switch(_){case 1:case 2:case 3:var Y=3;break;default:Y=_}var le=_;_=Y;try{return j()}finally{_=le}},t.unstable_requestPaint=function(){N=!0},t.unstable_runWithPriority=function(j,Y){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var le=_;_=j;try{return Y()}finally{_=le}},t.unstable_scheduleCallback=function(j,Y,le){var Te=t.unstable_now();switch(typeof le=="object"&&le!==null?(le=le.delay,le=typeof le=="number"&&0<le?Te+le:Te):le=Te,j){case 1:var De=-1;break;case 2:De=250;break;case 5:De=1073741823;break;case 4:De=1e4;break;default:De=5e3}return De=le+De,j={id:x++,callback:Y,priorityLevel:j,startTime:le,expirationTime:De,sortIndex:-1},le>Te?(j.sortIndex=le,e(g,j),i(v)===null&&j===i(g)&&(C?(H(K),K=-1):C=!0,rt(X,le-Te))):(j.sortIndex=De,e(v,j),T||S||(T=!0,F||(F=!0,Me()))),j},t.unstable_shouldYield=me,t.unstable_wrapCallback=function(j){var Y=_;return function(){var le=_;_=Y;try{return j.apply(this,arguments)}finally{_=le}}}})(Ic)),Ic}var Um;function yb(){return Um||(Um=1,kc.exports=vb()),kc.exports}var Dc={exports:{}},kt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pm;function xb(){if(Pm)return kt;Pm=1;var t=gd();function e(v){var g="https://react.dev/errors/"+v;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var x=2;x<arguments.length;x++)g+="&args[]="+encodeURIComponent(arguments[x])}return"Minified React error #"+v+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var r={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function l(v,g,x){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:b==null?null:""+b,children:v,containerInfo:g,implementation:x}}var c=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(v,g){if(v==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return kt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,kt.createPortal=function(v,g){var x=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return l(v,g,null,x)},kt.flushSync=function(v){var g=c.T,x=r.p;try{if(c.T=null,r.p=2,v)return v()}finally{c.T=g,r.p=x,r.d.f()}},kt.preconnect=function(v,g){typeof v=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,r.d.C(v,g))},kt.prefetchDNS=function(v){typeof v=="string"&&r.d.D(v)},kt.preinit=function(v,g){if(typeof v=="string"&&g&&typeof g.as=="string"){var x=g.as,b=p(x,g.crossOrigin),_=typeof g.integrity=="string"?g.integrity:void 0,S=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;x==="style"?r.d.S(v,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:b,integrity:_,fetchPriority:S}):x==="script"&&r.d.X(v,{crossOrigin:b,integrity:_,fetchPriority:S,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},kt.preinitModule=function(v,g){if(typeof v=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var x=p(g.as,g.crossOrigin);r.d.M(v,{crossOrigin:x,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&r.d.M(v)},kt.preload=function(v,g){if(typeof v=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var x=g.as,b=p(x,g.crossOrigin);r.d.L(v,x,{crossOrigin:b,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},kt.preloadModule=function(v,g){if(typeof v=="string")if(g){var x=p(g.as,g.crossOrigin);r.d.m(v,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:x,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else r.d.m(v)},kt.requestFormReset=function(v){r.d.r(v)},kt.unstable_batchedUpdates=function(v,g){return v(g)},kt.useFormState=function(v,g,x){return c.H.useFormState(v,g,x)},kt.useFormStatus=function(){return c.H.useHostTransitionStatus()},kt.version="19.2.3",kt}var Lm;function bb(){if(Lm)return Dc.exports;Lm=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Dc.exports=xb(),Dc.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Om;function _b(){if(Om)return ua;Om=1;var t=yb(),e=gd(),i=bb();function r(n){var s="https://react.dev/errors/"+n;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)s+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+n+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function l(n){var s=n,a=n;if(n.alternate)for(;s.return;)s=s.return;else{n=s;do s=n,(s.flags&4098)!==0&&(a=s.return),n=s.return;while(n)}return s.tag===3?a:null}function c(n){if(n.tag===13){var s=n.memoizedState;if(s===null&&(n=n.alternate,n!==null&&(s=n.memoizedState)),s!==null)return s.dehydrated}return null}function p(n){if(n.tag===31){var s=n.memoizedState;if(s===null&&(n=n.alternate,n!==null&&(s=n.memoizedState)),s!==null)return s.dehydrated}return null}function v(n){if(l(n)!==n)throw Error(r(188))}function g(n){var s=n.alternate;if(!s){if(s=l(n),s===null)throw Error(r(188));return s!==n?null:n}for(var a=n,u=s;;){var m=a.return;if(m===null)break;var y=m.alternate;if(y===null){if(u=m.return,u!==null){a=u;continue}break}if(m.child===y.child){for(y=m.child;y;){if(y===a)return v(m),n;if(y===u)return v(m),s;y=y.sibling}throw Error(r(188))}if(a.return!==u.return)a=m,u=y;else{for(var w=!1,E=m.child;E;){if(E===a){w=!0,a=m,u=y;break}if(E===u){w=!0,u=m,a=y;break}E=E.sibling}if(!w){for(E=y.child;E;){if(E===a){w=!0,a=y,u=m;break}if(E===u){w=!0,u=y,a=m;break}E=E.sibling}if(!w)throw Error(r(189))}}if(a.alternate!==u)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?n:s}function x(n){var s=n.tag;if(s===5||s===26||s===27||s===6)return n;for(n=n.child;n!==null;){if(s=x(n),s!==null)return s;n=n.sibling}return null}var b=Object.assign,_=Symbol.for("react.element"),S=Symbol.for("react.transitional.element"),T=Symbol.for("react.portal"),C=Symbol.for("react.fragment"),N=Symbol.for("react.strict_mode"),D=Symbol.for("react.profiler"),H=Symbol.for("react.consumer"),U=Symbol.for("react.context"),J=Symbol.for("react.forward_ref"),X=Symbol.for("react.suspense"),F=Symbol.for("react.suspense_list"),K=Symbol.for("react.memo"),ce=Symbol.for("react.lazy"),Z=Symbol.for("react.activity"),me=Symbol.for("react.memo_cache_sentinel"),Ee=Symbol.iterator;function Me(n){return n===null||typeof n!="object"?null:(n=Ee&&n[Ee]||n["@@iterator"],typeof n=="function"?n:null)}var _e=Symbol.for("react.client.reference");function qe(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===_e?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case C:return"Fragment";case D:return"Profiler";case N:return"StrictMode";case X:return"Suspense";case F:return"SuspenseList";case Z:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case T:return"Portal";case U:return n.displayName||"Context";case H:return(n._context.displayName||"Context")+".Consumer";case J:var s=n.render;return n=n.displayName,n||(n=s.displayName||s.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case K:return s=n.displayName||null,s!==null?s:qe(n.type)||"Memo";case ce:s=n._payload,n=n._init;try{return qe(n(s))}catch{}}return null}var rt=Array.isArray,j=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Y=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,le={pending:!1,data:null,method:null,action:null},Te=[],De=-1;function R(n){return{current:n}}function V(n){0>De||(n.current=Te[De],Te[De]=null,De--)}function Q(n,s){De++,Te[De]=n.current,n.current=s}var ie=R(null),de=R(null),ge=R(null),Re=R(null);function We(n,s){switch(Q(ge,s),Q(de,n),Q(ie,null),s.nodeType){case 9:case 11:n=(n=s.documentElement)&&(n=n.namespaceURI)?Qp(n):0;break;default:if(n=s.tagName,s=s.namespaceURI)s=Qp(s),n=Zp(s,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}V(ie),Q(ie,n)}function Oe(){V(ie),V(de),V(ge)}function $t(n){n.memoizedState!==null&&Q(Re,n);var s=ie.current,a=Zp(s,n.type);s!==a&&(Q(de,n),Q(ie,a))}function Dt(n){de.current===n&&(V(ie),V(de)),Re.current===n&&(V(Re),sa._currentValue=le)}var xn,tt;function Rt(n){if(xn===void 0)try{throw Error()}catch(a){var s=a.stack.trim().match(/\n( *(at )?)/);xn=s&&s[1]||"",tt=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+xn+n+tt}var sn=!1;function Pn(n,s){if(!n||sn)return"";sn=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(s){var $=function(){throw Error()};if(Object.defineProperty($.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct($,[])}catch(G){var O=G}Reflect.construct(n,[],$)}else{try{$.call()}catch(G){O=G}n.call($.prototype)}}else{try{throw Error()}catch(G){O=G}($=n())&&typeof $.catch=="function"&&$.catch(function(){})}}catch(G){if(G&&O&&typeof G.stack=="string")return[G.stack,O.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var m=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");m&&m.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=u.DetermineComponentFrameRoot(),w=y[0],E=y[1];if(w&&E){var A=w.split(`
`),L=E.split(`
`);for(m=u=0;u<A.length&&!A[u].includes("DetermineComponentFrameRoot");)u++;for(;m<L.length&&!L[m].includes("DetermineComponentFrameRoot");)m++;if(u===A.length||m===L.length)for(u=A.length-1,m=L.length-1;1<=u&&0<=m&&A[u]!==L[m];)m--;for(;1<=u&&0<=m;u--,m--)if(A[u]!==L[m]){if(u!==1||m!==1)do if(u--,m--,0>m||A[u]!==L[m]){var B=`
`+A[u].replace(" at new "," at ");return n.displayName&&B.includes("<anonymous>")&&(B=B.replace("<anonymous>",n.displayName)),B}while(1<=u&&0<=m);break}}}finally{sn=!1,Error.prepareStackTrace=a}return(a=n?n.displayName||n.name:"")?Rt(a):""}function cs(n,s){switch(n.tag){case 26:case 27:case 5:return Rt(n.type);case 16:return Rt("Lazy");case 13:return n.child!==s&&s!==null?Rt("Suspense Fallback"):Rt("Suspense");case 19:return Rt("SuspenseList");case 0:case 15:return Pn(n.type,!1);case 11:return Pn(n.type.render,!1);case 1:return Pn(n.type,!0);case 31:return Rt("Activity");default:return""}}function ds(n){try{var s="",a=null;do s+=cs(n,a),a=n,n=n.return;while(n);return s}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}var bn=Object.prototype.hasOwnProperty,ri=t.unstable_scheduleCallback,Li=t.unstable_cancelCallback,ai=t.unstable_shouldYield,fs=t.unstable_requestPaint,q=t.unstable_now,Ae=t.unstable_getCurrentPriorityLevel,lt=t.unstable_ImmediatePriority,mt=t.unstable_UserBlockingPriority,oi=t.unstable_NormalPriority,hs=t.unstable_LowPriority,jt=t.unstable_IdlePriority,Oi=t.log,hl=t.unstable_setDisableYieldValue,ji=null,Mt=null;function kn(n){if(typeof Oi=="function"&&hl(n),Mt&&typeof Mt.setStrictMode=="function")try{Mt.setStrictMode(ji,n)}catch{}}var Ut=Math.clz32?Math.clz32:M,ps=Math.log,Sa=Math.LN2;function M(n){return n>>>=0,n===0?32:31-(ps(n)/Sa|0)|0}var ne=256,W=262144,Qe=4194304;function ut(n){var s=n&42;if(s!==0)return s;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return n&261888;case 262144:case 524288:case 1048576:case 2097152:return n&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function rn(n,s,a){var u=n.pendingLanes;if(u===0)return 0;var m=0,y=n.suspendedLanes,w=n.pingedLanes;n=n.warmLanes;var E=u&134217727;return E!==0?(u=E&~y,u!==0?m=ut(u):(w&=E,w!==0?m=ut(w):a||(a=E&~n,a!==0&&(m=ut(a))))):(E=u&~y,E!==0?m=ut(E):w!==0?m=ut(w):a||(a=u&~n,a!==0&&(m=ut(a)))),m===0?0:s!==0&&s!==m&&(s&y)===0&&(y=m&-m,a=s&-s,y>=a||y===32&&(a&4194048)!==0)?s:m}function an(n,s){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&s)===0}function pl(n,s){switch(n){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Dd(){var n=Qe;return Qe<<=1,(Qe&62914560)===0&&(Qe=4194304),n}function ml(n){for(var s=[],a=0;31>a;a++)s.push(n);return s}function yr(n,s){n.pendingLanes|=s,s!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function ty(n,s,a,u,m,y){var w=n.pendingLanes;n.pendingLanes=a,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=a,n.entangledLanes&=a,n.errorRecoveryDisabledLanes&=a,n.shellSuspendCounter=0;var E=n.entanglements,A=n.expirationTimes,L=n.hiddenUpdates;for(a=w&~a;0<a;){var B=31-Ut(a),$=1<<B;E[B]=0,A[B]=-1;var O=L[B];if(O!==null)for(L[B]=null,B=0;B<O.length;B++){var G=O[B];G!==null&&(G.lane&=-536870913)}a&=~$}u!==0&&Md(n,u,0),y!==0&&m===0&&n.tag!==0&&(n.suspendedLanes|=y&~(w&~s))}function Md(n,s,a){n.pendingLanes|=s,n.suspendedLanes&=~s;var u=31-Ut(s);n.entangledLanes|=s,n.entanglements[u]=n.entanglements[u]|1073741824|a&261930}function Ud(n,s){var a=n.entangledLanes|=s;for(n=n.entanglements;a;){var u=31-Ut(a),m=1<<u;m&s|n[u]&s&&(n[u]|=s),a&=~m}}function Pd(n,s){var a=s&-s;return a=(a&42)!==0?1:gl(a),(a&(n.suspendedLanes|s))!==0?0:a}function gl(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function vl(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function Ld(){var n=Y.p;return n!==0?n:(n=window.event,n===void 0?32:wm(n.type))}function Od(n,s){var a=Y.p;try{return Y.p=n,s()}finally{Y.p=a}}var li=Math.random().toString(36).slice(2),wt="__reactFiber$"+li,Gt="__reactProps$"+li,ms="__reactContainer$"+li,yl="__reactEvents$"+li,ny="__reactListeners$"+li,iy="__reactHandles$"+li,jd="__reactResources$"+li,xr="__reactMarker$"+li;function xl(n){delete n[wt],delete n[Gt],delete n[yl],delete n[ny],delete n[iy]}function gs(n){var s=n[wt];if(s)return s;for(var a=n.parentNode;a;){if(s=a[ms]||a[wt]){if(a=s.alternate,s.child!==null||a!==null&&a.child!==null)for(n=am(n);n!==null;){if(a=n[wt])return a;n=am(n)}return s}n=a,a=n.parentNode}return null}function vs(n){if(n=n[wt]||n[ms]){var s=n.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return n}return null}function br(n){var s=n.tag;if(s===5||s===26||s===27||s===6)return n.stateNode;throw Error(r(33))}function ys(n){var s=n[jd];return s||(s=n[jd]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function xt(n){n[xr]=!0}var Gd=new Set,Hd={};function Gi(n,s){xs(n,s),xs(n+"Capture",s)}function xs(n,s){for(Hd[n]=s,n=0;n<s.length;n++)Gd.add(s[n])}var sy=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Bd={},qd={};function ry(n){return bn.call(qd,n)?!0:bn.call(Bd,n)?!1:sy.test(n)?qd[n]=!0:(Bd[n]=!0,!1)}function Ea(n,s,a){if(ry(s))if(a===null)n.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":n.removeAttribute(s);return;case"boolean":var u=s.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){n.removeAttribute(s);return}}n.setAttribute(s,""+a)}}function Ta(n,s,a){if(a===null)n.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(s);return}n.setAttribute(s,""+a)}}function Ln(n,s,a,u){if(u===null)n.removeAttribute(a);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(a);return}n.setAttributeNS(s,a,""+u)}}function on(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Vd(n){var s=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function ay(n,s,a){var u=Object.getOwnPropertyDescriptor(n.constructor.prototype,s);if(!n.hasOwnProperty(s)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var m=u.get,y=u.set;return Object.defineProperty(n,s,{configurable:!0,get:function(){return m.call(this)},set:function(w){a=""+w,y.call(this,w)}}),Object.defineProperty(n,s,{enumerable:u.enumerable}),{getValue:function(){return a},setValue:function(w){a=""+w},stopTracking:function(){n._valueTracker=null,delete n[s]}}}}function bl(n){if(!n._valueTracker){var s=Vd(n)?"checked":"value";n._valueTracker=ay(n,s,""+n[s])}}function zd(n){if(!n)return!1;var s=n._valueTracker;if(!s)return!0;var a=s.getValue(),u="";return n&&(u=Vd(n)?n.checked?"true":"false":n.value),n=u,n!==a?(s.setValue(n),!0):!1}function Aa(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var oy=/[\n"\\]/g;function ln(n){return n.replace(oy,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function _l(n,s,a,u,m,y,w,E){n.name="",w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?n.type=w:n.removeAttribute("type"),s!=null?w==="number"?(s===0&&n.value===""||n.value!=s)&&(n.value=""+on(s)):n.value!==""+on(s)&&(n.value=""+on(s)):w!=="submit"&&w!=="reset"||n.removeAttribute("value"),s!=null?wl(n,w,on(s)):a!=null?wl(n,w,on(a)):u!=null&&n.removeAttribute("value"),m==null&&y!=null&&(n.defaultChecked=!!y),m!=null&&(n.checked=m&&typeof m!="function"&&typeof m!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?n.name=""+on(E):n.removeAttribute("name")}function Fd(n,s,a,u,m,y,w,E){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(n.type=y),s!=null||a!=null){if(!(y!=="submit"&&y!=="reset"||s!=null)){bl(n);return}a=a!=null?""+on(a):"",s=s!=null?""+on(s):a,E||s===n.value||(n.value=s),n.defaultValue=s}u=u??m,u=typeof u!="function"&&typeof u!="symbol"&&!!u,n.checked=E?n.checked:!!u,n.defaultChecked=!!u,w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"&&(n.name=w),bl(n)}function wl(n,s,a){s==="number"&&Aa(n.ownerDocument)===n||n.defaultValue===""+a||(n.defaultValue=""+a)}function bs(n,s,a,u){if(n=n.options,s){s={};for(var m=0;m<a.length;m++)s["$"+a[m]]=!0;for(a=0;a<n.length;a++)m=s.hasOwnProperty("$"+n[a].value),n[a].selected!==m&&(n[a].selected=m),m&&u&&(n[a].defaultSelected=!0)}else{for(a=""+on(a),s=null,m=0;m<n.length;m++){if(n[m].value===a){n[m].selected=!0,u&&(n[m].defaultSelected=!0);return}s!==null||n[m].disabled||(s=n[m])}s!==null&&(s.selected=!0)}}function $d(n,s,a){if(s!=null&&(s=""+on(s),s!==n.value&&(n.value=s),a==null)){n.defaultValue!==s&&(n.defaultValue=s);return}n.defaultValue=a!=null?""+on(a):""}function Jd(n,s,a,u){if(s==null){if(u!=null){if(a!=null)throw Error(r(92));if(rt(u)){if(1<u.length)throw Error(r(93));u=u[0]}a=u}a==null&&(a=""),s=a}a=on(s),n.defaultValue=a,u=n.textContent,u===a&&u!==""&&u!==null&&(n.value=u),bl(n)}function _s(n,s){if(s){var a=n.firstChild;if(a&&a===n.lastChild&&a.nodeType===3){a.nodeValue=s;return}}n.textContent=s}var ly=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Kd(n,s,a){var u=s.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?u?n.setProperty(s,""):s==="float"?n.cssFloat="":n[s]="":u?n.setProperty(s,a):typeof a!="number"||a===0||ly.has(s)?s==="float"?n.cssFloat=a:n[s]=(""+a).trim():n[s]=a+"px"}function Yd(n,s,a){if(s!=null&&typeof s!="object")throw Error(r(62));if(n=n.style,a!=null){for(var u in a)!a.hasOwnProperty(u)||s!=null&&s.hasOwnProperty(u)||(u.indexOf("--")===0?n.setProperty(u,""):u==="float"?n.cssFloat="":n[u]="");for(var m in s)u=s[m],s.hasOwnProperty(m)&&a[m]!==u&&Kd(n,m,u)}else for(var y in s)s.hasOwnProperty(y)&&Kd(n,y,s[y])}function Sl(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var uy=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),cy=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Na(n){return cy.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}function On(){}var El=null;function Tl(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var ws=null,Ss=null;function Xd(n){var s=vs(n);if(s&&(n=s.stateNode)){var a=n[Gt]||null;e:switch(n=s.stateNode,s.type){case"input":if(_l(n,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),s=a.name,a.type==="radio"&&s!=null){for(a=n;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+ln(""+s)+'"][type="radio"]'),s=0;s<a.length;s++){var u=a[s];if(u!==n&&u.form===n.form){var m=u[Gt]||null;if(!m)throw Error(r(90));_l(u,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name)}}for(s=0;s<a.length;s++)u=a[s],u.form===n.form&&zd(u)}break e;case"textarea":$d(n,a.value,a.defaultValue);break e;case"select":s=a.value,s!=null&&bs(n,!!a.multiple,s,!1)}}}var Al=!1;function Wd(n,s,a){if(Al)return n(s,a);Al=!0;try{var u=n(s);return u}finally{if(Al=!1,(ws!==null||Ss!==null)&&(mo(),ws&&(s=ws,n=Ss,Ss=ws=null,Xd(s),n)))for(s=0;s<n.length;s++)Xd(n[s])}}function _r(n,s){var a=n.stateNode;if(a===null)return null;var u=a[Gt]||null;if(u===null)return null;a=u[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(n=n.type,u=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!u;break e;default:n=!1}if(n)return null;if(a&&typeof a!="function")throw Error(r(231,s,typeof a));return a}var jn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Nl=!1;if(jn)try{var wr={};Object.defineProperty(wr,"passive",{get:function(){Nl=!0}}),window.addEventListener("test",wr,wr),window.removeEventListener("test",wr,wr)}catch{Nl=!1}var ui=null,Cl=null,Ca=null;function Qd(){if(Ca)return Ca;var n,s=Cl,a=s.length,u,m="value"in ui?ui.value:ui.textContent,y=m.length;for(n=0;n<a&&s[n]===m[n];n++);var w=a-n;for(u=1;u<=w&&s[a-u]===m[y-u];u++);return Ca=m.slice(n,1<u?1-u:void 0)}function Ra(n){var s=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&s===13&&(n=13)):n=s,n===10&&(n=13),32<=n||n===13?n:0}function ka(){return!0}function Zd(){return!1}function Ht(n){function s(a,u,m,y,w){this._reactName=a,this._targetInst=m,this.type=u,this.nativeEvent=y,this.target=w,this.currentTarget=null;for(var E in n)n.hasOwnProperty(E)&&(a=n[E],this[E]=a?a(y):y[E]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?ka:Zd,this.isPropagationStopped=Zd,this}return b(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=ka)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=ka)},persist:function(){},isPersistent:ka}),s}var Hi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ia=Ht(Hi),Sr=b({},Hi,{view:0,detail:0}),dy=Ht(Sr),Rl,kl,Er,Da=b({},Sr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Dl,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Er&&(Er&&n.type==="mousemove"?(Rl=n.screenX-Er.screenX,kl=n.screenY-Er.screenY):kl=Rl=0,Er=n),Rl)},movementY:function(n){return"movementY"in n?n.movementY:kl}}),ef=Ht(Da),fy=b({},Da,{dataTransfer:0}),hy=Ht(fy),py=b({},Sr,{relatedTarget:0}),Il=Ht(py),my=b({},Hi,{animationName:0,elapsedTime:0,pseudoElement:0}),gy=Ht(my),vy=b({},Hi,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),yy=Ht(vy),xy=b({},Hi,{data:0}),tf=Ht(xy),by={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_y={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},wy={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Sy(n){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(n):(n=wy[n])?!!s[n]:!1}function Dl(){return Sy}var Ey=b({},Sr,{key:function(n){if(n.key){var s=by[n.key]||n.key;if(s!=="Unidentified")return s}return n.type==="keypress"?(n=Ra(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?_y[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Dl,charCode:function(n){return n.type==="keypress"?Ra(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Ra(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),Ty=Ht(Ey),Ay=b({},Da,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),nf=Ht(Ay),Ny=b({},Sr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Dl}),Cy=Ht(Ny),Ry=b({},Hi,{propertyName:0,elapsedTime:0,pseudoElement:0}),ky=Ht(Ry),Iy=b({},Da,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),Dy=Ht(Iy),My=b({},Hi,{newState:0,oldState:0}),Uy=Ht(My),Py=[9,13,27,32],Ml=jn&&"CompositionEvent"in window,Tr=null;jn&&"documentMode"in document&&(Tr=document.documentMode);var Ly=jn&&"TextEvent"in window&&!Tr,sf=jn&&(!Ml||Tr&&8<Tr&&11>=Tr),rf=" ",af=!1;function of(n,s){switch(n){case"keyup":return Py.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function lf(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Es=!1;function Oy(n,s){switch(n){case"compositionend":return lf(s);case"keypress":return s.which!==32?null:(af=!0,rf);case"textInput":return n=s.data,n===rf&&af?null:n;default:return null}}function jy(n,s){if(Es)return n==="compositionend"||!Ml&&of(n,s)?(n=Qd(),Ca=Cl=ui=null,Es=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return sf&&s.locale!=="ko"?null:s.data;default:return null}}var Gy={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function uf(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s==="input"?!!Gy[n.type]:s==="textarea"}function cf(n,s,a,u){ws?Ss?Ss.push(u):Ss=[u]:ws=u,s=wo(s,"onChange"),0<s.length&&(a=new Ia("onChange","change",null,a,u),n.push({event:a,listeners:s}))}var Ar=null,Nr=null;function Hy(n){$p(n,0)}function Ma(n){var s=br(n);if(zd(s))return n}function df(n,s){if(n==="change")return s}var ff=!1;if(jn){var Ul;if(jn){var Pl="oninput"in document;if(!Pl){var hf=document.createElement("div");hf.setAttribute("oninput","return;"),Pl=typeof hf.oninput=="function"}Ul=Pl}else Ul=!1;ff=Ul&&(!document.documentMode||9<document.documentMode)}function pf(){Ar&&(Ar.detachEvent("onpropertychange",mf),Nr=Ar=null)}function mf(n){if(n.propertyName==="value"&&Ma(Nr)){var s=[];cf(s,Nr,n,Tl(n)),Wd(Hy,s)}}function By(n,s,a){n==="focusin"?(pf(),Ar=s,Nr=a,Ar.attachEvent("onpropertychange",mf)):n==="focusout"&&pf()}function qy(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Ma(Nr)}function Vy(n,s){if(n==="click")return Ma(s)}function zy(n,s){if(n==="input"||n==="change")return Ma(s)}function Fy(n,s){return n===s&&(n!==0||1/n===1/s)||n!==n&&s!==s}var Jt=typeof Object.is=="function"?Object.is:Fy;function Cr(n,s){if(Jt(n,s))return!0;if(typeof n!="object"||n===null||typeof s!="object"||s===null)return!1;var a=Object.keys(n),u=Object.keys(s);if(a.length!==u.length)return!1;for(u=0;u<a.length;u++){var m=a[u];if(!bn.call(s,m)||!Jt(n[m],s[m]))return!1}return!0}function gf(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function vf(n,s){var a=gf(n);n=0;for(var u;a;){if(a.nodeType===3){if(u=n+a.textContent.length,n<=s&&u>=s)return{node:a,offset:s-n};n=u}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=gf(a)}}function yf(n,s){return n&&s?n===s?!0:n&&n.nodeType===3?!1:s&&s.nodeType===3?yf(n,s.parentNode):"contains"in n?n.contains(s):n.compareDocumentPosition?!!(n.compareDocumentPosition(s)&16):!1:!1}function xf(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var s=Aa(n.document);s instanceof n.HTMLIFrameElement;){try{var a=typeof s.contentWindow.location.href=="string"}catch{a=!1}if(a)n=s.contentWindow;else break;s=Aa(n.document)}return s}function Ll(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s&&(s==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||s==="textarea"||n.contentEditable==="true")}var $y=jn&&"documentMode"in document&&11>=document.documentMode,Ts=null,Ol=null,Rr=null,jl=!1;function bf(n,s,a){var u=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;jl||Ts==null||Ts!==Aa(u)||(u=Ts,"selectionStart"in u&&Ll(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Rr&&Cr(Rr,u)||(Rr=u,u=wo(Ol,"onSelect"),0<u.length&&(s=new Ia("onSelect","select",null,s,a),n.push({event:s,listeners:u}),s.target=Ts)))}function Bi(n,s){var a={};return a[n.toLowerCase()]=s.toLowerCase(),a["Webkit"+n]="webkit"+s,a["Moz"+n]="moz"+s,a}var As={animationend:Bi("Animation","AnimationEnd"),animationiteration:Bi("Animation","AnimationIteration"),animationstart:Bi("Animation","AnimationStart"),transitionrun:Bi("Transition","TransitionRun"),transitionstart:Bi("Transition","TransitionStart"),transitioncancel:Bi("Transition","TransitionCancel"),transitionend:Bi("Transition","TransitionEnd")},Gl={},_f={};jn&&(_f=document.createElement("div").style,"AnimationEvent"in window||(delete As.animationend.animation,delete As.animationiteration.animation,delete As.animationstart.animation),"TransitionEvent"in window||delete As.transitionend.transition);function qi(n){if(Gl[n])return Gl[n];if(!As[n])return n;var s=As[n],a;for(a in s)if(s.hasOwnProperty(a)&&a in _f)return Gl[n]=s[a];return n}var wf=qi("animationend"),Sf=qi("animationiteration"),Ef=qi("animationstart"),Jy=qi("transitionrun"),Ky=qi("transitionstart"),Yy=qi("transitioncancel"),Tf=qi("transitionend"),Af=new Map,Hl="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Hl.push("scrollEnd");function _n(n,s){Af.set(n,s),Gi(s,[n])}var Ua=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)},un=[],Ns=0,Bl=0;function Pa(){for(var n=Ns,s=Bl=Ns=0;s<n;){var a=un[s];un[s++]=null;var u=un[s];un[s++]=null;var m=un[s];un[s++]=null;var y=un[s];if(un[s++]=null,u!==null&&m!==null){var w=u.pending;w===null?m.next=m:(m.next=w.next,w.next=m),u.pending=m}y!==0&&Nf(a,m,y)}}function La(n,s,a,u){un[Ns++]=n,un[Ns++]=s,un[Ns++]=a,un[Ns++]=u,Bl|=u,n.lanes|=u,n=n.alternate,n!==null&&(n.lanes|=u)}function ql(n,s,a,u){return La(n,s,a,u),Oa(n)}function Vi(n,s){return La(n,null,null,s),Oa(n)}function Nf(n,s,a){n.lanes|=a;var u=n.alternate;u!==null&&(u.lanes|=a);for(var m=!1,y=n.return;y!==null;)y.childLanes|=a,u=y.alternate,u!==null&&(u.childLanes|=a),y.tag===22&&(n=y.stateNode,n===null||n._visibility&1||(m=!0)),n=y,y=y.return;return n.tag===3?(y=n.stateNode,m&&s!==null&&(m=31-Ut(a),n=y.hiddenUpdates,u=n[m],u===null?n[m]=[s]:u.push(s),s.lane=a|536870912),y):null}function Oa(n){if(50<Wr)throw Wr=0,Wu=null,Error(r(185));for(var s=n.return;s!==null;)n=s,s=n.return;return n.tag===3?n.stateNode:null}var Cs={};function Xy(n,s,a,u){this.tag=n,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Kt(n,s,a,u){return new Xy(n,s,a,u)}function Vl(n){return n=n.prototype,!(!n||!n.isReactComponent)}function Gn(n,s){var a=n.alternate;return a===null?(a=Kt(n.tag,s,n.key,n.mode),a.elementType=n.elementType,a.type=n.type,a.stateNode=n.stateNode,a.alternate=n,n.alternate=a):(a.pendingProps=s,a.type=n.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=n.flags&65011712,a.childLanes=n.childLanes,a.lanes=n.lanes,a.child=n.child,a.memoizedProps=n.memoizedProps,a.memoizedState=n.memoizedState,a.updateQueue=n.updateQueue,s=n.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},a.sibling=n.sibling,a.index=n.index,a.ref=n.ref,a.refCleanup=n.refCleanup,a}function Cf(n,s){n.flags&=65011714;var a=n.alternate;return a===null?(n.childLanes=0,n.lanes=s,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=a.childLanes,n.lanes=a.lanes,n.child=a.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=a.memoizedProps,n.memoizedState=a.memoizedState,n.updateQueue=a.updateQueue,n.type=a.type,s=a.dependencies,n.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),n}function ja(n,s,a,u,m,y){var w=0;if(u=n,typeof n=="function")Vl(n)&&(w=1);else if(typeof n=="string")w=tb(n,a,ie.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case Z:return n=Kt(31,a,s,m),n.elementType=Z,n.lanes=y,n;case C:return zi(a.children,m,y,s);case N:w=8,m|=24;break;case D:return n=Kt(12,a,s,m|2),n.elementType=D,n.lanes=y,n;case X:return n=Kt(13,a,s,m),n.elementType=X,n.lanes=y,n;case F:return n=Kt(19,a,s,m),n.elementType=F,n.lanes=y,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case U:w=10;break e;case H:w=9;break e;case J:w=11;break e;case K:w=14;break e;case ce:w=16,u=null;break e}w=29,a=Error(r(130,n===null?"null":typeof n,"")),u=null}return s=Kt(w,a,s,m),s.elementType=n,s.type=u,s.lanes=y,s}function zi(n,s,a,u){return n=Kt(7,n,u,s),n.lanes=a,n}function zl(n,s,a){return n=Kt(6,n,null,s),n.lanes=a,n}function Rf(n){var s=Kt(18,null,null,0);return s.stateNode=n,s}function Fl(n,s,a){return s=Kt(4,n.children!==null?n.children:[],n.key,s),s.lanes=a,s.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},s}var kf=new WeakMap;function cn(n,s){if(typeof n=="object"&&n!==null){var a=kf.get(n);return a!==void 0?a:(s={value:n,source:s,stack:ds(s)},kf.set(n,s),s)}return{value:n,source:s,stack:ds(s)}}var Rs=[],ks=0,Ga=null,kr=0,dn=[],fn=0,ci=null,In=1,Dn="";function Hn(n,s){Rs[ks++]=kr,Rs[ks++]=Ga,Ga=n,kr=s}function If(n,s,a){dn[fn++]=In,dn[fn++]=Dn,dn[fn++]=ci,ci=n;var u=In;n=Dn;var m=32-Ut(u)-1;u&=~(1<<m),a+=1;var y=32-Ut(s)+m;if(30<y){var w=m-m%5;y=(u&(1<<w)-1).toString(32),u>>=w,m-=w,In=1<<32-Ut(s)+m|a<<m|u,Dn=y+n}else In=1<<y|a<<m|u,Dn=n}function $l(n){n.return!==null&&(Hn(n,1),If(n,1,0))}function Jl(n){for(;n===Ga;)Ga=Rs[--ks],Rs[ks]=null,kr=Rs[--ks],Rs[ks]=null;for(;n===ci;)ci=dn[--fn],dn[fn]=null,Dn=dn[--fn],dn[fn]=null,In=dn[--fn],dn[fn]=null}function Df(n,s){dn[fn++]=In,dn[fn++]=Dn,dn[fn++]=ci,In=s.id,Dn=s.overflow,ci=n}var St=null,Ye=null,ke=!1,di=null,hn=!1,Kl=Error(r(519));function fi(n){var s=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ir(cn(s,n)),Kl}function Mf(n){var s=n.stateNode,a=n.type,u=n.memoizedProps;switch(s[wt]=n,s[Gt]=u,a){case"dialog":Se("cancel",s),Se("close",s);break;case"iframe":case"object":case"embed":Se("load",s);break;case"video":case"audio":for(a=0;a<Zr.length;a++)Se(Zr[a],s);break;case"source":Se("error",s);break;case"img":case"image":case"link":Se("error",s),Se("load",s);break;case"details":Se("toggle",s);break;case"input":Se("invalid",s),Fd(s,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0);break;case"select":Se("invalid",s);break;case"textarea":Se("invalid",s),Jd(s,u.value,u.defaultValue,u.children)}a=u.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||s.textContent===""+a||u.suppressHydrationWarning===!0||Xp(s.textContent,a)?(u.popover!=null&&(Se("beforetoggle",s),Se("toggle",s)),u.onScroll!=null&&Se("scroll",s),u.onScrollEnd!=null&&Se("scrollend",s),u.onClick!=null&&(s.onclick=On),s=!0):s=!1,s||fi(n,!0)}function Uf(n){for(St=n.return;St;)switch(St.tag){case 5:case 31:case 13:hn=!1;return;case 27:case 3:hn=!0;return;default:St=St.return}}function Is(n){if(n!==St)return!1;if(!ke)return Uf(n),ke=!0,!1;var s=n.tag,a;if((a=s!==3&&s!==27)&&((a=s===5)&&(a=n.type,a=!(a!=="form"&&a!=="button")||fc(n.type,n.memoizedProps)),a=!a),a&&Ye&&fi(n),Uf(n),s===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(r(317));Ye=rm(n)}else if(s===31){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(r(317));Ye=rm(n)}else s===27?(s=Ye,Ai(n.type)?(n=vc,vc=null,Ye=n):Ye=s):Ye=St?mn(n.stateNode.nextSibling):null;return!0}function Fi(){Ye=St=null,ke=!1}function Yl(){var n=di;return n!==null&&(zt===null?zt=n:zt.push.apply(zt,n),di=null),n}function Ir(n){di===null?di=[n]:di.push(n)}var Xl=R(null),$i=null,Bn=null;function hi(n,s,a){Q(Xl,s._currentValue),s._currentValue=a}function qn(n){n._currentValue=Xl.current,V(Xl)}function Wl(n,s,a){for(;n!==null;){var u=n.alternate;if((n.childLanes&s)!==s?(n.childLanes|=s,u!==null&&(u.childLanes|=s)):u!==null&&(u.childLanes&s)!==s&&(u.childLanes|=s),n===a)break;n=n.return}}function Ql(n,s,a,u){var m=n.child;for(m!==null&&(m.return=n);m!==null;){var y=m.dependencies;if(y!==null){var w=m.child;y=y.firstContext;e:for(;y!==null;){var E=y;y=m;for(var A=0;A<s.length;A++)if(E.context===s[A]){y.lanes|=a,E=y.alternate,E!==null&&(E.lanes|=a),Wl(y.return,a,n),u||(w=null);break e}y=E.next}}else if(m.tag===18){if(w=m.return,w===null)throw Error(r(341));w.lanes|=a,y=w.alternate,y!==null&&(y.lanes|=a),Wl(w,a,n),w=null}else w=m.child;if(w!==null)w.return=m;else for(w=m;w!==null;){if(w===n){w=null;break}if(m=w.sibling,m!==null){m.return=w.return,w=m;break}w=w.return}m=w}}function Ds(n,s,a,u){n=null;for(var m=s,y=!1;m!==null;){if(!y){if((m.flags&524288)!==0)y=!0;else if((m.flags&262144)!==0)break}if(m.tag===10){var w=m.alternate;if(w===null)throw Error(r(387));if(w=w.memoizedProps,w!==null){var E=m.type;Jt(m.pendingProps.value,w.value)||(n!==null?n.push(E):n=[E])}}else if(m===Re.current){if(w=m.alternate,w===null)throw Error(r(387));w.memoizedState.memoizedState!==m.memoizedState.memoizedState&&(n!==null?n.push(sa):n=[sa])}m=m.return}n!==null&&Ql(s,n,a,u),s.flags|=262144}function Ha(n){for(n=n.firstContext;n!==null;){if(!Jt(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function Ji(n){$i=n,Bn=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function Et(n){return Pf($i,n)}function Ba(n,s){return $i===null&&Ji(n),Pf(n,s)}function Pf(n,s){var a=s._currentValue;if(s={context:s,memoizedValue:a,next:null},Bn===null){if(n===null)throw Error(r(308));Bn=s,n.dependencies={lanes:0,firstContext:s},n.flags|=524288}else Bn=Bn.next=s;return a}var Wy=typeof AbortController<"u"?AbortController:function(){var n=[],s=this.signal={aborted:!1,addEventListener:function(a,u){n.push(u)}};this.abort=function(){s.aborted=!0,n.forEach(function(a){return a()})}},Qy=t.unstable_scheduleCallback,Zy=t.unstable_NormalPriority,ct={$$typeof:U,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Zl(){return{controller:new Wy,data:new Map,refCount:0}}function Dr(n){n.refCount--,n.refCount===0&&Qy(Zy,function(){n.controller.abort()})}var Mr=null,eu=0,Ms=0,Us=null;function ex(n,s){if(Mr===null){var a=Mr=[];eu=0,Ms=ic(),Us={status:"pending",value:void 0,then:function(u){a.push(u)}}}return eu++,s.then(Lf,Lf),s}function Lf(){if(--eu===0&&Mr!==null){Us!==null&&(Us.status="fulfilled");var n=Mr;Mr=null,Ms=0,Us=null;for(var s=0;s<n.length;s++)(0,n[s])()}}function tx(n,s){var a=[],u={status:"pending",value:null,reason:null,then:function(m){a.push(m)}};return n.then(function(){u.status="fulfilled",u.value=s;for(var m=0;m<a.length;m++)(0,a[m])(s)},function(m){for(u.status="rejected",u.reason=m,m=0;m<a.length;m++)(0,a[m])(void 0)}),u}var Of=j.S;j.S=function(n,s){bp=q(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&ex(n,s),Of!==null&&Of(n,s)};var Ki=R(null);function tu(){var n=Ki.current;return n!==null?n:$e.pooledCache}function qa(n,s){s===null?Q(Ki,Ki.current):Q(Ki,s.pool)}function jf(){var n=tu();return n===null?null:{parent:ct._currentValue,pool:n}}var Ps=Error(r(460)),nu=Error(r(474)),Va=Error(r(542)),za={then:function(){}};function Gf(n){return n=n.status,n==="fulfilled"||n==="rejected"}function Hf(n,s,a){switch(a=n[a],a===void 0?n.push(s):a!==s&&(s.then(On,On),s=a),s.status){case"fulfilled":return s.value;case"rejected":throw n=s.reason,qf(n),n;default:if(typeof s.status=="string")s.then(On,On);else{if(n=$e,n!==null&&100<n.shellSuspendCounter)throw Error(r(482));n=s,n.status="pending",n.then(function(u){if(s.status==="pending"){var m=s;m.status="fulfilled",m.value=u}},function(u){if(s.status==="pending"){var m=s;m.status="rejected",m.reason=u}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw n=s.reason,qf(n),n}throw Xi=s,Ps}}function Yi(n){try{var s=n._init;return s(n._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Xi=a,Ps):a}}var Xi=null;function Bf(){if(Xi===null)throw Error(r(459));var n=Xi;return Xi=null,n}function qf(n){if(n===Ps||n===Va)throw Error(r(483))}var Ls=null,Ur=0;function Fa(n){var s=Ur;return Ur+=1,Ls===null&&(Ls=[]),Hf(Ls,n,s)}function Pr(n,s){s=s.props.ref,n.ref=s!==void 0?s:null}function $a(n,s){throw s.$$typeof===_?Error(r(525)):(n=Object.prototype.toString.call(s),Error(r(31,n==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":n)))}function Vf(n){function s(I,k){if(n){var P=I.deletions;P===null?(I.deletions=[k],I.flags|=16):P.push(k)}}function a(I,k){if(!n)return null;for(;k!==null;)s(I,k),k=k.sibling;return null}function u(I){for(var k=new Map;I!==null;)I.key!==null?k.set(I.key,I):k.set(I.index,I),I=I.sibling;return k}function m(I,k){return I=Gn(I,k),I.index=0,I.sibling=null,I}function y(I,k,P){return I.index=P,n?(P=I.alternate,P!==null?(P=P.index,P<k?(I.flags|=67108866,k):P):(I.flags|=67108866,k)):(I.flags|=1048576,k)}function w(I){return n&&I.alternate===null&&(I.flags|=67108866),I}function E(I,k,P,z){return k===null||k.tag!==6?(k=zl(P,I.mode,z),k.return=I,k):(k=m(k,P),k.return=I,k)}function A(I,k,P,z){var ue=P.type;return ue===C?B(I,k,P.props.children,z,P.key):k!==null&&(k.elementType===ue||typeof ue=="object"&&ue!==null&&ue.$$typeof===ce&&Yi(ue)===k.type)?(k=m(k,P.props),Pr(k,P),k.return=I,k):(k=ja(P.type,P.key,P.props,null,I.mode,z),Pr(k,P),k.return=I,k)}function L(I,k,P,z){return k===null||k.tag!==4||k.stateNode.containerInfo!==P.containerInfo||k.stateNode.implementation!==P.implementation?(k=Fl(P,I.mode,z),k.return=I,k):(k=m(k,P.children||[]),k.return=I,k)}function B(I,k,P,z,ue){return k===null||k.tag!==7?(k=zi(P,I.mode,z,ue),k.return=I,k):(k=m(k,P),k.return=I,k)}function $(I,k,P){if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return k=zl(""+k,I.mode,P),k.return=I,k;if(typeof k=="object"&&k!==null){switch(k.$$typeof){case S:return P=ja(k.type,k.key,k.props,null,I.mode,P),Pr(P,k),P.return=I,P;case T:return k=Fl(k,I.mode,P),k.return=I,k;case ce:return k=Yi(k),$(I,k,P)}if(rt(k)||Me(k))return k=zi(k,I.mode,P,null),k.return=I,k;if(typeof k.then=="function")return $(I,Fa(k),P);if(k.$$typeof===U)return $(I,Ba(I,k),P);$a(I,k)}return null}function O(I,k,P,z){var ue=k!==null?k.key:null;if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return ue!==null?null:E(I,k,""+P,z);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case S:return P.key===ue?A(I,k,P,z):null;case T:return P.key===ue?L(I,k,P,z):null;case ce:return P=Yi(P),O(I,k,P,z)}if(rt(P)||Me(P))return ue!==null?null:B(I,k,P,z,null);if(typeof P.then=="function")return O(I,k,Fa(P),z);if(P.$$typeof===U)return O(I,k,Ba(I,P),z);$a(I,P)}return null}function G(I,k,P,z,ue){if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return I=I.get(P)||null,E(k,I,""+z,ue);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case S:return I=I.get(z.key===null?P:z.key)||null,A(k,I,z,ue);case T:return I=I.get(z.key===null?P:z.key)||null,L(k,I,z,ue);case ce:return z=Yi(z),G(I,k,P,z,ue)}if(rt(z)||Me(z))return I=I.get(P)||null,B(k,I,z,ue,null);if(typeof z.then=="function")return G(I,k,P,Fa(z),ue);if(z.$$typeof===U)return G(I,k,P,Ba(k,z),ue);$a(k,z)}return null}function se(I,k,P,z){for(var ue=null,Ue=null,re=k,be=k=0,Ce=null;re!==null&&be<P.length;be++){re.index>be?(Ce=re,re=null):Ce=re.sibling;var Pe=O(I,re,P[be],z);if(Pe===null){re===null&&(re=Ce);break}n&&re&&Pe.alternate===null&&s(I,re),k=y(Pe,k,be),Ue===null?ue=Pe:Ue.sibling=Pe,Ue=Pe,re=Ce}if(be===P.length)return a(I,re),ke&&Hn(I,be),ue;if(re===null){for(;be<P.length;be++)re=$(I,P[be],z),re!==null&&(k=y(re,k,be),Ue===null?ue=re:Ue.sibling=re,Ue=re);return ke&&Hn(I,be),ue}for(re=u(re);be<P.length;be++)Ce=G(re,I,be,P[be],z),Ce!==null&&(n&&Ce.alternate!==null&&re.delete(Ce.key===null?be:Ce.key),k=y(Ce,k,be),Ue===null?ue=Ce:Ue.sibling=Ce,Ue=Ce);return n&&re.forEach(function(Ii){return s(I,Ii)}),ke&&Hn(I,be),ue}function fe(I,k,P,z){if(P==null)throw Error(r(151));for(var ue=null,Ue=null,re=k,be=k=0,Ce=null,Pe=P.next();re!==null&&!Pe.done;be++,Pe=P.next()){re.index>be?(Ce=re,re=null):Ce=re.sibling;var Ii=O(I,re,Pe.value,z);if(Ii===null){re===null&&(re=Ce);break}n&&re&&Ii.alternate===null&&s(I,re),k=y(Ii,k,be),Ue===null?ue=Ii:Ue.sibling=Ii,Ue=Ii,re=Ce}if(Pe.done)return a(I,re),ke&&Hn(I,be),ue;if(re===null){for(;!Pe.done;be++,Pe=P.next())Pe=$(I,Pe.value,z),Pe!==null&&(k=y(Pe,k,be),Ue===null?ue=Pe:Ue.sibling=Pe,Ue=Pe);return ke&&Hn(I,be),ue}for(re=u(re);!Pe.done;be++,Pe=P.next())Pe=G(re,I,be,Pe.value,z),Pe!==null&&(n&&Pe.alternate!==null&&re.delete(Pe.key===null?be:Pe.key),k=y(Pe,k,be),Ue===null?ue=Pe:Ue.sibling=Pe,Ue=Pe);return n&&re.forEach(function(fb){return s(I,fb)}),ke&&Hn(I,be),ue}function Fe(I,k,P,z){if(typeof P=="object"&&P!==null&&P.type===C&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case S:e:{for(var ue=P.key;k!==null;){if(k.key===ue){if(ue=P.type,ue===C){if(k.tag===7){a(I,k.sibling),z=m(k,P.props.children),z.return=I,I=z;break e}}else if(k.elementType===ue||typeof ue=="object"&&ue!==null&&ue.$$typeof===ce&&Yi(ue)===k.type){a(I,k.sibling),z=m(k,P.props),Pr(z,P),z.return=I,I=z;break e}a(I,k);break}else s(I,k);k=k.sibling}P.type===C?(z=zi(P.props.children,I.mode,z,P.key),z.return=I,I=z):(z=ja(P.type,P.key,P.props,null,I.mode,z),Pr(z,P),z.return=I,I=z)}return w(I);case T:e:{for(ue=P.key;k!==null;){if(k.key===ue)if(k.tag===4&&k.stateNode.containerInfo===P.containerInfo&&k.stateNode.implementation===P.implementation){a(I,k.sibling),z=m(k,P.children||[]),z.return=I,I=z;break e}else{a(I,k);break}else s(I,k);k=k.sibling}z=Fl(P,I.mode,z),z.return=I,I=z}return w(I);case ce:return P=Yi(P),Fe(I,k,P,z)}if(rt(P))return se(I,k,P,z);if(Me(P)){if(ue=Me(P),typeof ue!="function")throw Error(r(150));return P=ue.call(P),fe(I,k,P,z)}if(typeof P.then=="function")return Fe(I,k,Fa(P),z);if(P.$$typeof===U)return Fe(I,k,Ba(I,P),z);$a(I,P)}return typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint"?(P=""+P,k!==null&&k.tag===6?(a(I,k.sibling),z=m(k,P),z.return=I,I=z):(a(I,k),z=zl(P,I.mode,z),z.return=I,I=z),w(I)):a(I,k)}return function(I,k,P,z){try{Ur=0;var ue=Fe(I,k,P,z);return Ls=null,ue}catch(re){if(re===Ps||re===Va)throw re;var Ue=Kt(29,re,null,I.mode);return Ue.lanes=z,Ue.return=I,Ue}finally{}}}var Wi=Vf(!0),zf=Vf(!1),pi=!1;function iu(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function su(n,s){n=n.updateQueue,s.updateQueue===n&&(s.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function mi(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function gi(n,s,a){var u=n.updateQueue;if(u===null)return null;if(u=u.shared,(je&2)!==0){var m=u.pending;return m===null?s.next=s:(s.next=m.next,m.next=s),u.pending=s,s=Oa(n),Nf(n,null,a),s}return La(n,u,s,a),Oa(n)}function Lr(n,s,a){if(s=s.updateQueue,s!==null&&(s=s.shared,(a&4194048)!==0)){var u=s.lanes;u&=n.pendingLanes,a|=u,s.lanes=a,Ud(n,a)}}function ru(n,s){var a=n.updateQueue,u=n.alternate;if(u!==null&&(u=u.updateQueue,a===u)){var m=null,y=null;if(a=a.firstBaseUpdate,a!==null){do{var w={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};y===null?m=y=w:y=y.next=w,a=a.next}while(a!==null);y===null?m=y=s:y=y.next=s}else m=y=s;a={baseState:u.baseState,firstBaseUpdate:m,lastBaseUpdate:y,shared:u.shared,callbacks:u.callbacks},n.updateQueue=a;return}n=a.lastBaseUpdate,n===null?a.firstBaseUpdate=s:n.next=s,a.lastBaseUpdate=s}var au=!1;function Or(){if(au){var n=Us;if(n!==null)throw n}}function jr(n,s,a,u){au=!1;var m=n.updateQueue;pi=!1;var y=m.firstBaseUpdate,w=m.lastBaseUpdate,E=m.shared.pending;if(E!==null){m.shared.pending=null;var A=E,L=A.next;A.next=null,w===null?y=L:w.next=L,w=A;var B=n.alternate;B!==null&&(B=B.updateQueue,E=B.lastBaseUpdate,E!==w&&(E===null?B.firstBaseUpdate=L:E.next=L,B.lastBaseUpdate=A))}if(y!==null){var $=m.baseState;w=0,B=L=A=null,E=y;do{var O=E.lane&-536870913,G=O!==E.lane;if(G?(Ne&O)===O:(u&O)===O){O!==0&&O===Ms&&(au=!0),B!==null&&(B=B.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});e:{var se=n,fe=E;O=s;var Fe=a;switch(fe.tag){case 1:if(se=fe.payload,typeof se=="function"){$=se.call(Fe,$,O);break e}$=se;break e;case 3:se.flags=se.flags&-65537|128;case 0:if(se=fe.payload,O=typeof se=="function"?se.call(Fe,$,O):se,O==null)break e;$=b({},$,O);break e;case 2:pi=!0}}O=E.callback,O!==null&&(n.flags|=64,G&&(n.flags|=8192),G=m.callbacks,G===null?m.callbacks=[O]:G.push(O))}else G={lane:O,tag:E.tag,payload:E.payload,callback:E.callback,next:null},B===null?(L=B=G,A=$):B=B.next=G,w|=O;if(E=E.next,E===null){if(E=m.shared.pending,E===null)break;G=E,E=G.next,G.next=null,m.lastBaseUpdate=G,m.shared.pending=null}}while(!0);B===null&&(A=$),m.baseState=A,m.firstBaseUpdate=L,m.lastBaseUpdate=B,y===null&&(m.shared.lanes=0),_i|=w,n.lanes=w,n.memoizedState=$}}function Ff(n,s){if(typeof n!="function")throw Error(r(191,n));n.call(s)}function $f(n,s){var a=n.callbacks;if(a!==null)for(n.callbacks=null,n=0;n<a.length;n++)Ff(a[n],s)}var Os=R(null),Ja=R(0);function Jf(n,s){n=Wn,Q(Ja,n),Q(Os,s),Wn=n|s.baseLanes}function ou(){Q(Ja,Wn),Q(Os,Os.current)}function lu(){Wn=Ja.current,V(Os),V(Ja)}var Yt=R(null),pn=null;function vi(n){var s=n.alternate;Q(at,at.current&1),Q(Yt,n),pn===null&&(s===null||Os.current!==null||s.memoizedState!==null)&&(pn=n)}function uu(n){Q(at,at.current),Q(Yt,n),pn===null&&(pn=n)}function Kf(n){n.tag===22?(Q(at,at.current),Q(Yt,n),pn===null&&(pn=n)):yi()}function yi(){Q(at,at.current),Q(Yt,Yt.current)}function Xt(n){V(Yt),pn===n&&(pn=null),V(at)}var at=R(0);function Ka(n){for(var s=n;s!==null;){if(s.tag===13){var a=s.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||mc(a)||gc(a)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Vn=0,xe=null,Ve=null,dt=null,Ya=!1,js=!1,Qi=!1,Xa=0,Gr=0,Gs=null,nx=0;function nt(){throw Error(r(321))}function cu(n,s){if(s===null)return!1;for(var a=0;a<s.length&&a<n.length;a++)if(!Jt(n[a],s[a]))return!1;return!0}function du(n,s,a,u,m,y){return Vn=y,xe=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,j.H=n===null||n.memoizedState===null?Ih:Au,Qi=!1,y=a(u,m),Qi=!1,js&&(y=Xf(s,a,u,m)),Yf(n),y}function Yf(n){j.H=qr;var s=Ve!==null&&Ve.next!==null;if(Vn=0,dt=Ve=xe=null,Ya=!1,Gr=0,Gs=null,s)throw Error(r(300));n===null||ft||(n=n.dependencies,n!==null&&Ha(n)&&(ft=!0))}function Xf(n,s,a,u){xe=n;var m=0;do{if(js&&(Gs=null),Gr=0,js=!1,25<=m)throw Error(r(301));if(m+=1,dt=Ve=null,n.updateQueue!=null){var y=n.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}j.H=Dh,y=s(a,u)}while(js);return y}function ix(){var n=j.H,s=n.useState()[0];return s=typeof s.then=="function"?Hr(s):s,n=n.useState()[0],(Ve!==null?Ve.memoizedState:null)!==n&&(xe.flags|=1024),s}function fu(){var n=Xa!==0;return Xa=0,n}function hu(n,s,a){s.updateQueue=n.updateQueue,s.flags&=-2053,n.lanes&=~a}function pu(n){if(Ya){for(n=n.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}Ya=!1}Vn=0,dt=Ve=xe=null,js=!1,Gr=Xa=0,Gs=null}function Pt(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return dt===null?xe.memoizedState=dt=n:dt=dt.next=n,dt}function ot(){if(Ve===null){var n=xe.alternate;n=n!==null?n.memoizedState:null}else n=Ve.next;var s=dt===null?xe.memoizedState:dt.next;if(s!==null)dt=s,Ve=n;else{if(n===null)throw xe.alternate===null?Error(r(467)):Error(r(310));Ve=n,n={memoizedState:Ve.memoizedState,baseState:Ve.baseState,baseQueue:Ve.baseQueue,queue:Ve.queue,next:null},dt===null?xe.memoizedState=dt=n:dt=dt.next=n}return dt}function Wa(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Hr(n){var s=Gr;return Gr+=1,Gs===null&&(Gs=[]),n=Hf(Gs,n,s),s=xe,(dt===null?s.memoizedState:dt.next)===null&&(s=s.alternate,j.H=s===null||s.memoizedState===null?Ih:Au),n}function Qa(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return Hr(n);if(n.$$typeof===U)return Et(n)}throw Error(r(438,String(n)))}function mu(n){var s=null,a=xe.updateQueue;if(a!==null&&(s=a.memoCache),s==null){var u=xe.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(s={data:u.data.map(function(m){return m.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),a===null&&(a=Wa(),xe.updateQueue=a),a.memoCache=s,a=s.data[s.index],a===void 0)for(a=s.data[s.index]=Array(n),u=0;u<n;u++)a[u]=me;return s.index++,a}function zn(n,s){return typeof s=="function"?s(n):s}function Za(n){var s=ot();return gu(s,Ve,n)}function gu(n,s,a){var u=n.queue;if(u===null)throw Error(r(311));u.lastRenderedReducer=a;var m=n.baseQueue,y=u.pending;if(y!==null){if(m!==null){var w=m.next;m.next=y.next,y.next=w}s.baseQueue=m=y,u.pending=null}if(y=n.baseState,m===null)n.memoizedState=y;else{s=m.next;var E=w=null,A=null,L=s,B=!1;do{var $=L.lane&-536870913;if($!==L.lane?(Ne&$)===$:(Vn&$)===$){var O=L.revertLane;if(O===0)A!==null&&(A=A.next={lane:0,revertLane:0,gesture:null,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null}),$===Ms&&(B=!0);else if((Vn&O)===O){L=L.next,O===Ms&&(B=!0);continue}else $={lane:0,revertLane:L.revertLane,gesture:null,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null},A===null?(E=A=$,w=y):A=A.next=$,xe.lanes|=O,_i|=O;$=L.action,Qi&&a(y,$),y=L.hasEagerState?L.eagerState:a(y,$)}else O={lane:$,revertLane:L.revertLane,gesture:L.gesture,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null},A===null?(E=A=O,w=y):A=A.next=O,xe.lanes|=$,_i|=$;L=L.next}while(L!==null&&L!==s);if(A===null?w=y:A.next=E,!Jt(y,n.memoizedState)&&(ft=!0,B&&(a=Us,a!==null)))throw a;n.memoizedState=y,n.baseState=w,n.baseQueue=A,u.lastRenderedState=y}return m===null&&(u.lanes=0),[n.memoizedState,u.dispatch]}function vu(n){var s=ot(),a=s.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=n;var u=a.dispatch,m=a.pending,y=s.memoizedState;if(m!==null){a.pending=null;var w=m=m.next;do y=n(y,w.action),w=w.next;while(w!==m);Jt(y,s.memoizedState)||(ft=!0),s.memoizedState=y,s.baseQueue===null&&(s.baseState=y),a.lastRenderedState=y}return[y,u]}function Wf(n,s,a){var u=xe,m=ot(),y=ke;if(y){if(a===void 0)throw Error(r(407));a=a()}else a=s();var w=!Jt((Ve||m).memoizedState,a);if(w&&(m.memoizedState=a,ft=!0),m=m.queue,bu(eh.bind(null,u,m,n),[n]),m.getSnapshot!==s||w||dt!==null&&dt.memoizedState.tag&1){if(u.flags|=2048,Hs(9,{destroy:void 0},Zf.bind(null,u,m,a,s),null),$e===null)throw Error(r(349));y||(Vn&127)!==0||Qf(u,s,a)}return a}function Qf(n,s,a){n.flags|=16384,n={getSnapshot:s,value:a},s=xe.updateQueue,s===null?(s=Wa(),xe.updateQueue=s,s.stores=[n]):(a=s.stores,a===null?s.stores=[n]:a.push(n))}function Zf(n,s,a,u){s.value=a,s.getSnapshot=u,th(s)&&nh(n)}function eh(n,s,a){return a(function(){th(s)&&nh(n)})}function th(n){var s=n.getSnapshot;n=n.value;try{var a=s();return!Jt(n,a)}catch{return!0}}function nh(n){var s=Vi(n,2);s!==null&&Ft(s,n,2)}function yu(n){var s=Pt();if(typeof n=="function"){var a=n;if(n=a(),Qi){kn(!0);try{a()}finally{kn(!1)}}}return s.memoizedState=s.baseState=n,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:zn,lastRenderedState:n},s}function ih(n,s,a,u){return n.baseState=a,gu(n,Ve,typeof u=="function"?u:zn)}function sx(n,s,a,u,m){if(no(n))throw Error(r(485));if(n=s.action,n!==null){var y={payload:m,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(w){y.listeners.push(w)}};j.T!==null?a(!0):y.isTransition=!1,u(y),a=s.pending,a===null?(y.next=s.pending=y,sh(s,y)):(y.next=a.next,s.pending=a.next=y)}}function sh(n,s){var a=s.action,u=s.payload,m=n.state;if(s.isTransition){var y=j.T,w={};j.T=w;try{var E=a(m,u),A=j.S;A!==null&&A(w,E),rh(n,s,E)}catch(L){xu(n,s,L)}finally{y!==null&&w.types!==null&&(y.types=w.types),j.T=y}}else try{y=a(m,u),rh(n,s,y)}catch(L){xu(n,s,L)}}function rh(n,s,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(u){ah(n,s,u)},function(u){return xu(n,s,u)}):ah(n,s,a)}function ah(n,s,a){s.status="fulfilled",s.value=a,oh(s),n.state=a,s=n.pending,s!==null&&(a=s.next,a===s?n.pending=null:(a=a.next,s.next=a,sh(n,a)))}function xu(n,s,a){var u=n.pending;if(n.pending=null,u!==null){u=u.next;do s.status="rejected",s.reason=a,oh(s),s=s.next;while(s!==u)}n.action=null}function oh(n){n=n.listeners;for(var s=0;s<n.length;s++)(0,n[s])()}function lh(n,s){return s}function uh(n,s){if(ke){var a=$e.formState;if(a!==null){e:{var u=xe;if(ke){if(Ye){t:{for(var m=Ye,y=hn;m.nodeType!==8;){if(!y){m=null;break t}if(m=mn(m.nextSibling),m===null){m=null;break t}}y=m.data,m=y==="F!"||y==="F"?m:null}if(m){Ye=mn(m.nextSibling),u=m.data==="F!";break e}}fi(u)}u=!1}u&&(s=a[0])}}return a=Pt(),a.memoizedState=a.baseState=s,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:lh,lastRenderedState:s},a.queue=u,a=Ch.bind(null,xe,u),u.dispatch=a,u=yu(!1),y=Tu.bind(null,xe,!1,u.queue),u=Pt(),m={state:s,dispatch:null,action:n,pending:null},u.queue=m,a=sx.bind(null,xe,m,y,a),m.dispatch=a,u.memoizedState=n,[s,a,!1]}function ch(n){var s=ot();return dh(s,Ve,n)}function dh(n,s,a){if(s=gu(n,s,lh)[0],n=Za(zn)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var u=Hr(s)}catch(w){throw w===Ps?Va:w}else u=s;s=ot();var m=s.queue,y=m.dispatch;return a!==s.memoizedState&&(xe.flags|=2048,Hs(9,{destroy:void 0},rx.bind(null,m,a),null)),[u,y,n]}function rx(n,s){n.action=s}function fh(n){var s=ot(),a=Ve;if(a!==null)return dh(s,a,n);ot(),s=s.memoizedState,a=ot();var u=a.queue.dispatch;return a.memoizedState=n,[s,u,!1]}function Hs(n,s,a,u){return n={tag:n,create:a,deps:u,inst:s,next:null},s=xe.updateQueue,s===null&&(s=Wa(),xe.updateQueue=s),a=s.lastEffect,a===null?s.lastEffect=n.next=n:(u=a.next,a.next=n,n.next=u,s.lastEffect=n),n}function hh(){return ot().memoizedState}function eo(n,s,a,u){var m=Pt();xe.flags|=n,m.memoizedState=Hs(1|s,{destroy:void 0},a,u===void 0?null:u)}function to(n,s,a,u){var m=ot();u=u===void 0?null:u;var y=m.memoizedState.inst;Ve!==null&&u!==null&&cu(u,Ve.memoizedState.deps)?m.memoizedState=Hs(s,y,a,u):(xe.flags|=n,m.memoizedState=Hs(1|s,y,a,u))}function ph(n,s){eo(8390656,8,n,s)}function bu(n,s){to(2048,8,n,s)}function ax(n){xe.flags|=4;var s=xe.updateQueue;if(s===null)s=Wa(),xe.updateQueue=s,s.events=[n];else{var a=s.events;a===null?s.events=[n]:a.push(n)}}function mh(n){var s=ot().memoizedState;return ax({ref:s,nextImpl:n}),function(){if((je&2)!==0)throw Error(r(440));return s.impl.apply(void 0,arguments)}}function gh(n,s){return to(4,2,n,s)}function vh(n,s){return to(4,4,n,s)}function yh(n,s){if(typeof s=="function"){n=n();var a=s(n);return function(){typeof a=="function"?a():s(null)}}if(s!=null)return n=n(),s.current=n,function(){s.current=null}}function xh(n,s,a){a=a!=null?a.concat([n]):null,to(4,4,yh.bind(null,s,n),a)}function _u(){}function bh(n,s){var a=ot();s=s===void 0?null:s;var u=a.memoizedState;return s!==null&&cu(s,u[1])?u[0]:(a.memoizedState=[n,s],n)}function _h(n,s){var a=ot();s=s===void 0?null:s;var u=a.memoizedState;if(s!==null&&cu(s,u[1]))return u[0];if(u=n(),Qi){kn(!0);try{n()}finally{kn(!1)}}return a.memoizedState=[u,s],u}function wu(n,s,a){return a===void 0||(Vn&1073741824)!==0&&(Ne&261930)===0?n.memoizedState=s:(n.memoizedState=a,n=wp(),xe.lanes|=n,_i|=n,a)}function wh(n,s,a,u){return Jt(a,s)?a:Os.current!==null?(n=wu(n,a,u),Jt(n,s)||(ft=!0),n):(Vn&42)===0||(Vn&1073741824)!==0&&(Ne&261930)===0?(ft=!0,n.memoizedState=a):(n=wp(),xe.lanes|=n,_i|=n,s)}function Sh(n,s,a,u,m){var y=Y.p;Y.p=y!==0&&8>y?y:8;var w=j.T,E={};j.T=E,Tu(n,!1,s,a);try{var A=m(),L=j.S;if(L!==null&&L(E,A),A!==null&&typeof A=="object"&&typeof A.then=="function"){var B=tx(A,u);Br(n,s,B,Zt(n))}else Br(n,s,u,Zt(n))}catch($){Br(n,s,{then:function(){},status:"rejected",reason:$},Zt())}finally{Y.p=y,w!==null&&E.types!==null&&(w.types=E.types),j.T=w}}function ox(){}function Su(n,s,a,u){if(n.tag!==5)throw Error(r(476));var m=Eh(n).queue;Sh(n,m,s,le,a===null?ox:function(){return Th(n),a(u)})}function Eh(n){var s=n.memoizedState;if(s!==null)return s;s={memoizedState:le,baseState:le,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:zn,lastRenderedState:le},next:null};var a={};return s.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:zn,lastRenderedState:a},next:null},n.memoizedState=s,n=n.alternate,n!==null&&(n.memoizedState=s),s}function Th(n){var s=Eh(n);s.next===null&&(s=n.alternate.memoizedState),Br(n,s.next.queue,{},Zt())}function Eu(){return Et(sa)}function Ah(){return ot().memoizedState}function Nh(){return ot().memoizedState}function lx(n){for(var s=n.return;s!==null;){switch(s.tag){case 24:case 3:var a=Zt();n=mi(a);var u=gi(s,n,a);u!==null&&(Ft(u,s,a),Lr(u,s,a)),s={cache:Zl()},n.payload=s;return}s=s.return}}function ux(n,s,a){var u=Zt();a={lane:u,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},no(n)?Rh(s,a):(a=ql(n,s,a,u),a!==null&&(Ft(a,n,u),kh(a,s,u)))}function Ch(n,s,a){var u=Zt();Br(n,s,a,u)}function Br(n,s,a,u){var m={lane:u,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(no(n))Rh(s,m);else{var y=n.alternate;if(n.lanes===0&&(y===null||y.lanes===0)&&(y=s.lastRenderedReducer,y!==null))try{var w=s.lastRenderedState,E=y(w,a);if(m.hasEagerState=!0,m.eagerState=E,Jt(E,w))return La(n,s,m,0),$e===null&&Pa(),!1}catch{}finally{}if(a=ql(n,s,m,u),a!==null)return Ft(a,n,u),kh(a,s,u),!0}return!1}function Tu(n,s,a,u){if(u={lane:2,revertLane:ic(),gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},no(n)){if(s)throw Error(r(479))}else s=ql(n,a,u,2),s!==null&&Ft(s,n,2)}function no(n){var s=n.alternate;return n===xe||s!==null&&s===xe}function Rh(n,s){js=Ya=!0;var a=n.pending;a===null?s.next=s:(s.next=a.next,a.next=s),n.pending=s}function kh(n,s,a){if((a&4194048)!==0){var u=s.lanes;u&=n.pendingLanes,a|=u,s.lanes=a,Ud(n,a)}}var qr={readContext:Et,use:Qa,useCallback:nt,useContext:nt,useEffect:nt,useImperativeHandle:nt,useLayoutEffect:nt,useInsertionEffect:nt,useMemo:nt,useReducer:nt,useRef:nt,useState:nt,useDebugValue:nt,useDeferredValue:nt,useTransition:nt,useSyncExternalStore:nt,useId:nt,useHostTransitionStatus:nt,useFormState:nt,useActionState:nt,useOptimistic:nt,useMemoCache:nt,useCacheRefresh:nt};qr.useEffectEvent=nt;var Ih={readContext:Et,use:Qa,useCallback:function(n,s){return Pt().memoizedState=[n,s===void 0?null:s],n},useContext:Et,useEffect:ph,useImperativeHandle:function(n,s,a){a=a!=null?a.concat([n]):null,eo(4194308,4,yh.bind(null,s,n),a)},useLayoutEffect:function(n,s){return eo(4194308,4,n,s)},useInsertionEffect:function(n,s){eo(4,2,n,s)},useMemo:function(n,s){var a=Pt();s=s===void 0?null:s;var u=n();if(Qi){kn(!0);try{n()}finally{kn(!1)}}return a.memoizedState=[u,s],u},useReducer:function(n,s,a){var u=Pt();if(a!==void 0){var m=a(s);if(Qi){kn(!0);try{a(s)}finally{kn(!1)}}}else m=s;return u.memoizedState=u.baseState=m,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:m},u.queue=n,n=n.dispatch=ux.bind(null,xe,n),[u.memoizedState,n]},useRef:function(n){var s=Pt();return n={current:n},s.memoizedState=n},useState:function(n){n=yu(n);var s=n.queue,a=Ch.bind(null,xe,s);return s.dispatch=a,[n.memoizedState,a]},useDebugValue:_u,useDeferredValue:function(n,s){var a=Pt();return wu(a,n,s)},useTransition:function(){var n=yu(!1);return n=Sh.bind(null,xe,n.queue,!0,!1),Pt().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,s,a){var u=xe,m=Pt();if(ke){if(a===void 0)throw Error(r(407));a=a()}else{if(a=s(),$e===null)throw Error(r(349));(Ne&127)!==0||Qf(u,s,a)}m.memoizedState=a;var y={value:a,getSnapshot:s};return m.queue=y,ph(eh.bind(null,u,y,n),[n]),u.flags|=2048,Hs(9,{destroy:void 0},Zf.bind(null,u,y,a,s),null),a},useId:function(){var n=Pt(),s=$e.identifierPrefix;if(ke){var a=Dn,u=In;a=(u&~(1<<32-Ut(u)-1)).toString(32)+a,s="_"+s+"R_"+a,a=Xa++,0<a&&(s+="H"+a.toString(32)),s+="_"}else a=nx++,s="_"+s+"r_"+a.toString(32)+"_";return n.memoizedState=s},useHostTransitionStatus:Eu,useFormState:uh,useActionState:uh,useOptimistic:function(n){var s=Pt();s.memoizedState=s.baseState=n;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=a,s=Tu.bind(null,xe,!0,a),a.dispatch=s,[n,s]},useMemoCache:mu,useCacheRefresh:function(){return Pt().memoizedState=lx.bind(null,xe)},useEffectEvent:function(n){var s=Pt(),a={impl:n};return s.memoizedState=a,function(){if((je&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}},Au={readContext:Et,use:Qa,useCallback:bh,useContext:Et,useEffect:bu,useImperativeHandle:xh,useInsertionEffect:gh,useLayoutEffect:vh,useMemo:_h,useReducer:Za,useRef:hh,useState:function(){return Za(zn)},useDebugValue:_u,useDeferredValue:function(n,s){var a=ot();return wh(a,Ve.memoizedState,n,s)},useTransition:function(){var n=Za(zn)[0],s=ot().memoizedState;return[typeof n=="boolean"?n:Hr(n),s]},useSyncExternalStore:Wf,useId:Ah,useHostTransitionStatus:Eu,useFormState:ch,useActionState:ch,useOptimistic:function(n,s){var a=ot();return ih(a,Ve,n,s)},useMemoCache:mu,useCacheRefresh:Nh};Au.useEffectEvent=mh;var Dh={readContext:Et,use:Qa,useCallback:bh,useContext:Et,useEffect:bu,useImperativeHandle:xh,useInsertionEffect:gh,useLayoutEffect:vh,useMemo:_h,useReducer:vu,useRef:hh,useState:function(){return vu(zn)},useDebugValue:_u,useDeferredValue:function(n,s){var a=ot();return Ve===null?wu(a,n,s):wh(a,Ve.memoizedState,n,s)},useTransition:function(){var n=vu(zn)[0],s=ot().memoizedState;return[typeof n=="boolean"?n:Hr(n),s]},useSyncExternalStore:Wf,useId:Ah,useHostTransitionStatus:Eu,useFormState:fh,useActionState:fh,useOptimistic:function(n,s){var a=ot();return Ve!==null?ih(a,Ve,n,s):(a.baseState=n,[n,a.queue.dispatch])},useMemoCache:mu,useCacheRefresh:Nh};Dh.useEffectEvent=mh;function Nu(n,s,a,u){s=n.memoizedState,a=a(u,s),a=a==null?s:b({},s,a),n.memoizedState=a,n.lanes===0&&(n.updateQueue.baseState=a)}var Cu={enqueueSetState:function(n,s,a){n=n._reactInternals;var u=Zt(),m=mi(u);m.payload=s,a!=null&&(m.callback=a),s=gi(n,m,u),s!==null&&(Ft(s,n,u),Lr(s,n,u))},enqueueReplaceState:function(n,s,a){n=n._reactInternals;var u=Zt(),m=mi(u);m.tag=1,m.payload=s,a!=null&&(m.callback=a),s=gi(n,m,u),s!==null&&(Ft(s,n,u),Lr(s,n,u))},enqueueForceUpdate:function(n,s){n=n._reactInternals;var a=Zt(),u=mi(a);u.tag=2,s!=null&&(u.callback=s),s=gi(n,u,a),s!==null&&(Ft(s,n,a),Lr(s,n,a))}};function Mh(n,s,a,u,m,y,w){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(u,y,w):s.prototype&&s.prototype.isPureReactComponent?!Cr(a,u)||!Cr(m,y):!0}function Uh(n,s,a,u){n=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(a,u),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(a,u),s.state!==n&&Cu.enqueueReplaceState(s,s.state,null)}function Zi(n,s){var a=s;if("ref"in s){a={};for(var u in s)u!=="ref"&&(a[u]=s[u])}if(n=n.defaultProps){a===s&&(a=b({},a));for(var m in n)a[m]===void 0&&(a[m]=n[m])}return a}function Ph(n){Ua(n)}function Lh(n){console.error(n)}function Oh(n){Ua(n)}function io(n,s){try{var a=n.onUncaughtError;a(s.value,{componentStack:s.stack})}catch(u){setTimeout(function(){throw u})}}function jh(n,s,a){try{var u=n.onCaughtError;u(a.value,{componentStack:a.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(m){setTimeout(function(){throw m})}}function Ru(n,s,a){return a=mi(a),a.tag=3,a.payload={element:null},a.callback=function(){io(n,s)},a}function Gh(n){return n=mi(n),n.tag=3,n}function Hh(n,s,a,u){var m=a.type.getDerivedStateFromError;if(typeof m=="function"){var y=u.value;n.payload=function(){return m(y)},n.callback=function(){jh(s,a,u)}}var w=a.stateNode;w!==null&&typeof w.componentDidCatch=="function"&&(n.callback=function(){jh(s,a,u),typeof m!="function"&&(wi===null?wi=new Set([this]):wi.add(this));var E=u.stack;this.componentDidCatch(u.value,{componentStack:E!==null?E:""})})}function cx(n,s,a,u,m){if(a.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(s=a.alternate,s!==null&&Ds(s,a,m,!0),a=Yt.current,a!==null){switch(a.tag){case 31:case 13:return pn===null?go():a.alternate===null&&it===0&&(it=3),a.flags&=-257,a.flags|=65536,a.lanes=m,u===za?a.flags|=16384:(s=a.updateQueue,s===null?a.updateQueue=new Set([u]):s.add(u),ec(n,u,m)),!1;case 22:return a.flags|=65536,u===za?a.flags|=16384:(s=a.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([u])},a.updateQueue=s):(a=s.retryQueue,a===null?s.retryQueue=new Set([u]):a.add(u)),ec(n,u,m)),!1}throw Error(r(435,a.tag))}return ec(n,u,m),go(),!1}if(ke)return s=Yt.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=m,u!==Kl&&(n=Error(r(422),{cause:u}),Ir(cn(n,a)))):(u!==Kl&&(s=Error(r(423),{cause:u}),Ir(cn(s,a))),n=n.current.alternate,n.flags|=65536,m&=-m,n.lanes|=m,u=cn(u,a),m=Ru(n.stateNode,u,m),ru(n,m),it!==4&&(it=2)),!1;var y=Error(r(520),{cause:u});if(y=cn(y,a),Xr===null?Xr=[y]:Xr.push(y),it!==4&&(it=2),s===null)return!0;u=cn(u,a),a=s;do{switch(a.tag){case 3:return a.flags|=65536,n=m&-m,a.lanes|=n,n=Ru(a.stateNode,u,n),ru(a,n),!1;case 1:if(s=a.type,y=a.stateNode,(a.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(wi===null||!wi.has(y))))return a.flags|=65536,m&=-m,a.lanes|=m,m=Gh(m),Hh(m,n,a,u),ru(a,m),!1}a=a.return}while(a!==null);return!1}var ku=Error(r(461)),ft=!1;function Tt(n,s,a,u){s.child=n===null?zf(s,null,a,u):Wi(s,n.child,a,u)}function Bh(n,s,a,u,m){a=a.render;var y=s.ref;if("ref"in u){var w={};for(var E in u)E!=="ref"&&(w[E]=u[E])}else w=u;return Ji(s),u=du(n,s,a,w,y,m),E=fu(),n!==null&&!ft?(hu(n,s,m),Fn(n,s,m)):(ke&&E&&$l(s),s.flags|=1,Tt(n,s,u,m),s.child)}function qh(n,s,a,u,m){if(n===null){var y=a.type;return typeof y=="function"&&!Vl(y)&&y.defaultProps===void 0&&a.compare===null?(s.tag=15,s.type=y,Vh(n,s,y,u,m)):(n=ja(a.type,null,u,s,s.mode,m),n.ref=s.ref,n.return=s,s.child=n)}if(y=n.child,!ju(n,m)){var w=y.memoizedProps;if(a=a.compare,a=a!==null?a:Cr,a(w,u)&&n.ref===s.ref)return Fn(n,s,m)}return s.flags|=1,n=Gn(y,u),n.ref=s.ref,n.return=s,s.child=n}function Vh(n,s,a,u,m){if(n!==null){var y=n.memoizedProps;if(Cr(y,u)&&n.ref===s.ref)if(ft=!1,s.pendingProps=u=y,ju(n,m))(n.flags&131072)!==0&&(ft=!0);else return s.lanes=n.lanes,Fn(n,s,m)}return Iu(n,s,a,u,m)}function zh(n,s,a,u){var m=u.children,y=n!==null?n.memoizedState:null;if(n===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.mode==="hidden"){if((s.flags&128)!==0){if(y=y!==null?y.baseLanes|a:a,n!==null){for(u=s.child=n.child,m=0;u!==null;)m=m|u.lanes|u.childLanes,u=u.sibling;u=m&~y}else u=0,s.child=null;return Fh(n,s,y,a,u)}if((a&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},n!==null&&qa(s,y!==null?y.cachePool:null),y!==null?Jf(s,y):ou(),Kf(s);else return u=s.lanes=536870912,Fh(n,s,y!==null?y.baseLanes|a:a,a,u)}else y!==null?(qa(s,y.cachePool),Jf(s,y),yi(),s.memoizedState=null):(n!==null&&qa(s,null),ou(),yi());return Tt(n,s,m,a),s.child}function Vr(n,s){return n!==null&&n.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function Fh(n,s,a,u,m){var y=tu();return y=y===null?null:{parent:ct._currentValue,pool:y},s.memoizedState={baseLanes:a,cachePool:y},n!==null&&qa(s,null),ou(),Kf(s),n!==null&&Ds(n,s,u,!0),s.childLanes=m,null}function so(n,s){return s=ao({mode:s.mode,children:s.children},n.mode),s.ref=n.ref,n.child=s,s.return=n,s}function $h(n,s,a){return Wi(s,n.child,null,a),n=so(s,s.pendingProps),n.flags|=2,Xt(s),s.memoizedState=null,n}function dx(n,s,a){var u=s.pendingProps,m=(s.flags&128)!==0;if(s.flags&=-129,n===null){if(ke){if(u.mode==="hidden")return n=so(s,u),s.lanes=536870912,Vr(null,n);if(uu(s),(n=Ye)?(n=sm(n,hn),n=n!==null&&n.data==="&"?n:null,n!==null&&(s.memoizedState={dehydrated:n,treeContext:ci!==null?{id:In,overflow:Dn}:null,retryLane:536870912,hydrationErrors:null},a=Rf(n),a.return=s,s.child=a,St=s,Ye=null)):n=null,n===null)throw fi(s);return s.lanes=536870912,null}return so(s,u)}var y=n.memoizedState;if(y!==null){var w=y.dehydrated;if(uu(s),m)if(s.flags&256)s.flags&=-257,s=$h(n,s,a);else if(s.memoizedState!==null)s.child=n.child,s.flags|=128,s=null;else throw Error(r(558));else if(ft||Ds(n,s,a,!1),m=(a&n.childLanes)!==0,ft||m){if(u=$e,u!==null&&(w=Pd(u,a),w!==0&&w!==y.retryLane))throw y.retryLane=w,Vi(n,w),Ft(u,n,w),ku;go(),s=$h(n,s,a)}else n=y.treeContext,Ye=mn(w.nextSibling),St=s,ke=!0,di=null,hn=!1,n!==null&&Df(s,n),s=so(s,u),s.flags|=4096;return s}return n=Gn(n.child,{mode:u.mode,children:u.children}),n.ref=s.ref,s.child=n,n.return=s,n}function ro(n,s){var a=s.ref;if(a===null)n!==null&&n.ref!==null&&(s.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(n===null||n.ref!==a)&&(s.flags|=4194816)}}function Iu(n,s,a,u,m){return Ji(s),a=du(n,s,a,u,void 0,m),u=fu(),n!==null&&!ft?(hu(n,s,m),Fn(n,s,m)):(ke&&u&&$l(s),s.flags|=1,Tt(n,s,a,m),s.child)}function Jh(n,s,a,u,m,y){return Ji(s),s.updateQueue=null,a=Xf(s,u,a,m),Yf(n),u=fu(),n!==null&&!ft?(hu(n,s,y),Fn(n,s,y)):(ke&&u&&$l(s),s.flags|=1,Tt(n,s,a,y),s.child)}function Kh(n,s,a,u,m){if(Ji(s),s.stateNode===null){var y=Cs,w=a.contextType;typeof w=="object"&&w!==null&&(y=Et(w)),y=new a(u,y),s.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=Cu,s.stateNode=y,y._reactInternals=s,y=s.stateNode,y.props=u,y.state=s.memoizedState,y.refs={},iu(s),w=a.contextType,y.context=typeof w=="object"&&w!==null?Et(w):Cs,y.state=s.memoizedState,w=a.getDerivedStateFromProps,typeof w=="function"&&(Nu(s,a,w,u),y.state=s.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(w=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),w!==y.state&&Cu.enqueueReplaceState(y,y.state,null),jr(s,u,y,m),Or(),y.state=s.memoizedState),typeof y.componentDidMount=="function"&&(s.flags|=4194308),u=!0}else if(n===null){y=s.stateNode;var E=s.memoizedProps,A=Zi(a,E);y.props=A;var L=y.context,B=a.contextType;w=Cs,typeof B=="object"&&B!==null&&(w=Et(B));var $=a.getDerivedStateFromProps;B=typeof $=="function"||typeof y.getSnapshotBeforeUpdate=="function",E=s.pendingProps!==E,B||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(E||L!==w)&&Uh(s,y,u,w),pi=!1;var O=s.memoizedState;y.state=O,jr(s,u,y,m),Or(),L=s.memoizedState,E||O!==L||pi?(typeof $=="function"&&(Nu(s,a,$,u),L=s.memoizedState),(A=pi||Mh(s,a,A,u,O,L,w))?(B||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(s.flags|=4194308)):(typeof y.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=u,s.memoizedState=L),y.props=u,y.state=L,y.context=w,u=A):(typeof y.componentDidMount=="function"&&(s.flags|=4194308),u=!1)}else{y=s.stateNode,su(n,s),w=s.memoizedProps,B=Zi(a,w),y.props=B,$=s.pendingProps,O=y.context,L=a.contextType,A=Cs,typeof L=="object"&&L!==null&&(A=Et(L)),E=a.getDerivedStateFromProps,(L=typeof E=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(w!==$||O!==A)&&Uh(s,y,u,A),pi=!1,O=s.memoizedState,y.state=O,jr(s,u,y,m),Or();var G=s.memoizedState;w!==$||O!==G||pi||n!==null&&n.dependencies!==null&&Ha(n.dependencies)?(typeof E=="function"&&(Nu(s,a,E,u),G=s.memoizedState),(B=pi||Mh(s,a,B,u,O,G,A)||n!==null&&n.dependencies!==null&&Ha(n.dependencies))?(L||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(u,G,A),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(u,G,A)),typeof y.componentDidUpdate=="function"&&(s.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof y.componentDidUpdate!="function"||w===n.memoizedProps&&O===n.memoizedState||(s.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||w===n.memoizedProps&&O===n.memoizedState||(s.flags|=1024),s.memoizedProps=u,s.memoizedState=G),y.props=u,y.state=G,y.context=A,u=B):(typeof y.componentDidUpdate!="function"||w===n.memoizedProps&&O===n.memoizedState||(s.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||w===n.memoizedProps&&O===n.memoizedState||(s.flags|=1024),u=!1)}return y=u,ro(n,s),u=(s.flags&128)!==0,y||u?(y=s.stateNode,a=u&&typeof a.getDerivedStateFromError!="function"?null:y.render(),s.flags|=1,n!==null&&u?(s.child=Wi(s,n.child,null,m),s.child=Wi(s,null,a,m)):Tt(n,s,a,m),s.memoizedState=y.state,n=s.child):n=Fn(n,s,m),n}function Yh(n,s,a,u){return Fi(),s.flags|=256,Tt(n,s,a,u),s.child}var Du={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Mu(n){return{baseLanes:n,cachePool:jf()}}function Uu(n,s,a){return n=n!==null?n.childLanes&~a:0,s&&(n|=Qt),n}function Xh(n,s,a){var u=s.pendingProps,m=!1,y=(s.flags&128)!==0,w;if((w=y)||(w=n!==null&&n.memoizedState===null?!1:(at.current&2)!==0),w&&(m=!0,s.flags&=-129),w=(s.flags&32)!==0,s.flags&=-33,n===null){if(ke){if(m?vi(s):yi(),(n=Ye)?(n=sm(n,hn),n=n!==null&&n.data!=="&"?n:null,n!==null&&(s.memoizedState={dehydrated:n,treeContext:ci!==null?{id:In,overflow:Dn}:null,retryLane:536870912,hydrationErrors:null},a=Rf(n),a.return=s,s.child=a,St=s,Ye=null)):n=null,n===null)throw fi(s);return gc(n)?s.lanes=32:s.lanes=536870912,null}var E=u.children;return u=u.fallback,m?(yi(),m=s.mode,E=ao({mode:"hidden",children:E},m),u=zi(u,m,a,null),E.return=s,u.return=s,E.sibling=u,s.child=E,u=s.child,u.memoizedState=Mu(a),u.childLanes=Uu(n,w,a),s.memoizedState=Du,Vr(null,u)):(vi(s),Pu(s,E))}var A=n.memoizedState;if(A!==null&&(E=A.dehydrated,E!==null)){if(y)s.flags&256?(vi(s),s.flags&=-257,s=Lu(n,s,a)):s.memoizedState!==null?(yi(),s.child=n.child,s.flags|=128,s=null):(yi(),E=u.fallback,m=s.mode,u=ao({mode:"visible",children:u.children},m),E=zi(E,m,a,null),E.flags|=2,u.return=s,E.return=s,u.sibling=E,s.child=u,Wi(s,n.child,null,a),u=s.child,u.memoizedState=Mu(a),u.childLanes=Uu(n,w,a),s.memoizedState=Du,s=Vr(null,u));else if(vi(s),gc(E)){if(w=E.nextSibling&&E.nextSibling.dataset,w)var L=w.dgst;w=L,u=Error(r(419)),u.stack="",u.digest=w,Ir({value:u,source:null,stack:null}),s=Lu(n,s,a)}else if(ft||Ds(n,s,a,!1),w=(a&n.childLanes)!==0,ft||w){if(w=$e,w!==null&&(u=Pd(w,a),u!==0&&u!==A.retryLane))throw A.retryLane=u,Vi(n,u),Ft(w,n,u),ku;mc(E)||go(),s=Lu(n,s,a)}else mc(E)?(s.flags|=192,s.child=n.child,s=null):(n=A.treeContext,Ye=mn(E.nextSibling),St=s,ke=!0,di=null,hn=!1,n!==null&&Df(s,n),s=Pu(s,u.children),s.flags|=4096);return s}return m?(yi(),E=u.fallback,m=s.mode,A=n.child,L=A.sibling,u=Gn(A,{mode:"hidden",children:u.children}),u.subtreeFlags=A.subtreeFlags&65011712,L!==null?E=Gn(L,E):(E=zi(E,m,a,null),E.flags|=2),E.return=s,u.return=s,u.sibling=E,s.child=u,Vr(null,u),u=s.child,E=n.child.memoizedState,E===null?E=Mu(a):(m=E.cachePool,m!==null?(A=ct._currentValue,m=m.parent!==A?{parent:A,pool:A}:m):m=jf(),E={baseLanes:E.baseLanes|a,cachePool:m}),u.memoizedState=E,u.childLanes=Uu(n,w,a),s.memoizedState=Du,Vr(n.child,u)):(vi(s),a=n.child,n=a.sibling,a=Gn(a,{mode:"visible",children:u.children}),a.return=s,a.sibling=null,n!==null&&(w=s.deletions,w===null?(s.deletions=[n],s.flags|=16):w.push(n)),s.child=a,s.memoizedState=null,a)}function Pu(n,s){return s=ao({mode:"visible",children:s},n.mode),s.return=n,n.child=s}function ao(n,s){return n=Kt(22,n,null,s),n.lanes=0,n}function Lu(n,s,a){return Wi(s,n.child,null,a),n=Pu(s,s.pendingProps.children),n.flags|=2,s.memoizedState=null,n}function Wh(n,s,a){n.lanes|=s;var u=n.alternate;u!==null&&(u.lanes|=s),Wl(n.return,s,a)}function Ou(n,s,a,u,m,y){var w=n.memoizedState;w===null?n.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:u,tail:a,tailMode:m,treeForkCount:y}:(w.isBackwards=s,w.rendering=null,w.renderingStartTime=0,w.last=u,w.tail=a,w.tailMode=m,w.treeForkCount=y)}function Qh(n,s,a){var u=s.pendingProps,m=u.revealOrder,y=u.tail;u=u.children;var w=at.current,E=(w&2)!==0;if(E?(w=w&1|2,s.flags|=128):w&=1,Q(at,w),Tt(n,s,u,a),u=ke?kr:0,!E&&n!==null&&(n.flags&128)!==0)e:for(n=s.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&Wh(n,a,s);else if(n.tag===19)Wh(n,a,s);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===s)break e;for(;n.sibling===null;){if(n.return===null||n.return===s)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}switch(m){case"forwards":for(a=s.child,m=null;a!==null;)n=a.alternate,n!==null&&Ka(n)===null&&(m=a),a=a.sibling;a=m,a===null?(m=s.child,s.child=null):(m=a.sibling,a.sibling=null),Ou(s,!1,m,a,y,u);break;case"backwards":case"unstable_legacy-backwards":for(a=null,m=s.child,s.child=null;m!==null;){if(n=m.alternate,n!==null&&Ka(n)===null){s.child=m;break}n=m.sibling,m.sibling=a,a=m,m=n}Ou(s,!0,a,null,y,u);break;case"together":Ou(s,!1,null,null,void 0,u);break;default:s.memoizedState=null}return s.child}function Fn(n,s,a){if(n!==null&&(s.dependencies=n.dependencies),_i|=s.lanes,(a&s.childLanes)===0)if(n!==null){if(Ds(n,s,a,!1),(a&s.childLanes)===0)return null}else return null;if(n!==null&&s.child!==n.child)throw Error(r(153));if(s.child!==null){for(n=s.child,a=Gn(n,n.pendingProps),s.child=a,a.return=s;n.sibling!==null;)n=n.sibling,a=a.sibling=Gn(n,n.pendingProps),a.return=s;a.sibling=null}return s.child}function ju(n,s){return(n.lanes&s)!==0?!0:(n=n.dependencies,!!(n!==null&&Ha(n)))}function fx(n,s,a){switch(s.tag){case 3:We(s,s.stateNode.containerInfo),hi(s,ct,n.memoizedState.cache),Fi();break;case 27:case 5:$t(s);break;case 4:We(s,s.stateNode.containerInfo);break;case 10:hi(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,uu(s),null;break;case 13:var u=s.memoizedState;if(u!==null)return u.dehydrated!==null?(vi(s),s.flags|=128,null):(a&s.child.childLanes)!==0?Xh(n,s,a):(vi(s),n=Fn(n,s,a),n!==null?n.sibling:null);vi(s);break;case 19:var m=(n.flags&128)!==0;if(u=(a&s.childLanes)!==0,u||(Ds(n,s,a,!1),u=(a&s.childLanes)!==0),m){if(u)return Qh(n,s,a);s.flags|=128}if(m=s.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),Q(at,at.current),u)break;return null;case 22:return s.lanes=0,zh(n,s,a,s.pendingProps);case 24:hi(s,ct,n.memoizedState.cache)}return Fn(n,s,a)}function Zh(n,s,a){if(n!==null)if(n.memoizedProps!==s.pendingProps)ft=!0;else{if(!ju(n,a)&&(s.flags&128)===0)return ft=!1,fx(n,s,a);ft=(n.flags&131072)!==0}else ft=!1,ke&&(s.flags&1048576)!==0&&If(s,kr,s.index);switch(s.lanes=0,s.tag){case 16:e:{var u=s.pendingProps;if(n=Yi(s.elementType),s.type=n,typeof n=="function")Vl(n)?(u=Zi(n,u),s.tag=1,s=Kh(null,s,n,u,a)):(s.tag=0,s=Iu(null,s,n,u,a));else{if(n!=null){var m=n.$$typeof;if(m===J){s.tag=11,s=Bh(null,s,n,u,a);break e}else if(m===K){s.tag=14,s=qh(null,s,n,u,a);break e}}throw s=qe(n)||n,Error(r(306,s,""))}}return s;case 0:return Iu(n,s,s.type,s.pendingProps,a);case 1:return u=s.type,m=Zi(u,s.pendingProps),Kh(n,s,u,m,a);case 3:e:{if(We(s,s.stateNode.containerInfo),n===null)throw Error(r(387));u=s.pendingProps;var y=s.memoizedState;m=y.element,su(n,s),jr(s,u,null,a);var w=s.memoizedState;if(u=w.cache,hi(s,ct,u),u!==y.cache&&Ql(s,[ct],a,!0),Or(),u=w.element,y.isDehydrated)if(y={element:u,isDehydrated:!1,cache:w.cache},s.updateQueue.baseState=y,s.memoizedState=y,s.flags&256){s=Yh(n,s,u,a);break e}else if(u!==m){m=cn(Error(r(424)),s),Ir(m),s=Yh(n,s,u,a);break e}else{switch(n=s.stateNode.containerInfo,n.nodeType){case 9:n=n.body;break;default:n=n.nodeName==="HTML"?n.ownerDocument.body:n}for(Ye=mn(n.firstChild),St=s,ke=!0,di=null,hn=!0,a=zf(s,null,u,a),s.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Fi(),u===m){s=Fn(n,s,a);break e}Tt(n,s,u,a)}s=s.child}return s;case 26:return ro(n,s),n===null?(a=cm(s.type,null,s.pendingProps,null))?s.memoizedState=a:ke||(a=s.type,n=s.pendingProps,u=So(ge.current).createElement(a),u[wt]=s,u[Gt]=n,At(u,a,n),xt(u),s.stateNode=u):s.memoizedState=cm(s.type,n.memoizedProps,s.pendingProps,n.memoizedState),null;case 27:return $t(s),n===null&&ke&&(u=s.stateNode=om(s.type,s.pendingProps,ge.current),St=s,hn=!0,m=Ye,Ai(s.type)?(vc=m,Ye=mn(u.firstChild)):Ye=m),Tt(n,s,s.pendingProps.children,a),ro(n,s),n===null&&(s.flags|=4194304),s.child;case 5:return n===null&&ke&&((m=u=Ye)&&(u=qx(u,s.type,s.pendingProps,hn),u!==null?(s.stateNode=u,St=s,Ye=mn(u.firstChild),hn=!1,m=!0):m=!1),m||fi(s)),$t(s),m=s.type,y=s.pendingProps,w=n!==null?n.memoizedProps:null,u=y.children,fc(m,y)?u=null:w!==null&&fc(m,w)&&(s.flags|=32),s.memoizedState!==null&&(m=du(n,s,ix,null,null,a),sa._currentValue=m),ro(n,s),Tt(n,s,u,a),s.child;case 6:return n===null&&ke&&((n=a=Ye)&&(a=Vx(a,s.pendingProps,hn),a!==null?(s.stateNode=a,St=s,Ye=null,n=!0):n=!1),n||fi(s)),null;case 13:return Xh(n,s,a);case 4:return We(s,s.stateNode.containerInfo),u=s.pendingProps,n===null?s.child=Wi(s,null,u,a):Tt(n,s,u,a),s.child;case 11:return Bh(n,s,s.type,s.pendingProps,a);case 7:return Tt(n,s,s.pendingProps,a),s.child;case 8:return Tt(n,s,s.pendingProps.children,a),s.child;case 12:return Tt(n,s,s.pendingProps.children,a),s.child;case 10:return u=s.pendingProps,hi(s,s.type,u.value),Tt(n,s,u.children,a),s.child;case 9:return m=s.type._context,u=s.pendingProps.children,Ji(s),m=Et(m),u=u(m),s.flags|=1,Tt(n,s,u,a),s.child;case 14:return qh(n,s,s.type,s.pendingProps,a);case 15:return Vh(n,s,s.type,s.pendingProps,a);case 19:return Qh(n,s,a);case 31:return dx(n,s,a);case 22:return zh(n,s,a,s.pendingProps);case 24:return Ji(s),u=Et(ct),n===null?(m=tu(),m===null&&(m=$e,y=Zl(),m.pooledCache=y,y.refCount++,y!==null&&(m.pooledCacheLanes|=a),m=y),s.memoizedState={parent:u,cache:m},iu(s),hi(s,ct,m)):((n.lanes&a)!==0&&(su(n,s),jr(s,null,null,a),Or()),m=n.memoizedState,y=s.memoizedState,m.parent!==u?(m={parent:u,cache:u},s.memoizedState=m,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=m),hi(s,ct,u)):(u=y.cache,hi(s,ct,u),u!==m.cache&&Ql(s,[ct],a,!0))),Tt(n,s,s.pendingProps.children,a),s.child;case 29:throw s.pendingProps}throw Error(r(156,s.tag))}function $n(n){n.flags|=4}function Gu(n,s,a,u,m){if((s=(n.mode&32)!==0)&&(s=!1),s){if(n.flags|=16777216,(m&335544128)===m)if(n.stateNode.complete)n.flags|=8192;else if(Ap())n.flags|=8192;else throw Xi=za,nu}else n.flags&=-16777217}function ep(n,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!mm(s))if(Ap())n.flags|=8192;else throw Xi=za,nu}function oo(n,s){s!==null&&(n.flags|=4),n.flags&16384&&(s=n.tag!==22?Dd():536870912,n.lanes|=s,zs|=s)}function zr(n,s){if(!ke)switch(n.tailMode){case"hidden":s=n.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?n.tail=null:a.sibling=null;break;case"collapsed":a=n.tail;for(var u=null;a!==null;)a.alternate!==null&&(u=a),a=a.sibling;u===null?s||n.tail===null?n.tail=null:n.tail.sibling=null:u.sibling=null}}function Xe(n){var s=n.alternate!==null&&n.alternate.child===n.child,a=0,u=0;if(s)for(var m=n.child;m!==null;)a|=m.lanes|m.childLanes,u|=m.subtreeFlags&65011712,u|=m.flags&65011712,m.return=n,m=m.sibling;else for(m=n.child;m!==null;)a|=m.lanes|m.childLanes,u|=m.subtreeFlags,u|=m.flags,m.return=n,m=m.sibling;return n.subtreeFlags|=u,n.childLanes=a,s}function hx(n,s,a){var u=s.pendingProps;switch(Jl(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Xe(s),null;case 1:return Xe(s),null;case 3:return a=s.stateNode,u=null,n!==null&&(u=n.memoizedState.cache),s.memoizedState.cache!==u&&(s.flags|=2048),qn(ct),Oe(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(n===null||n.child===null)&&(Is(s)?$n(s):n===null||n.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Yl())),Xe(s),null;case 26:var m=s.type,y=s.memoizedState;return n===null?($n(s),y!==null?(Xe(s),ep(s,y)):(Xe(s),Gu(s,m,null,u,a))):y?y!==n.memoizedState?($n(s),Xe(s),ep(s,y)):(Xe(s),s.flags&=-16777217):(n=n.memoizedProps,n!==u&&$n(s),Xe(s),Gu(s,m,n,u,a)),null;case 27:if(Dt(s),a=ge.current,m=s.type,n!==null&&s.stateNode!=null)n.memoizedProps!==u&&$n(s);else{if(!u){if(s.stateNode===null)throw Error(r(166));return Xe(s),null}n=ie.current,Is(s)?Mf(s):(n=om(m,u,a),s.stateNode=n,$n(s))}return Xe(s),null;case 5:if(Dt(s),m=s.type,n!==null&&s.stateNode!=null)n.memoizedProps!==u&&$n(s);else{if(!u){if(s.stateNode===null)throw Error(r(166));return Xe(s),null}if(y=ie.current,Is(s))Mf(s);else{var w=So(ge.current);switch(y){case 1:y=w.createElementNS("http://www.w3.org/2000/svg",m);break;case 2:y=w.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;default:switch(m){case"svg":y=w.createElementNS("http://www.w3.org/2000/svg",m);break;case"math":y=w.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;case"script":y=w.createElement("div"),y.innerHTML="<script><\/script>",y=y.removeChild(y.firstChild);break;case"select":y=typeof u.is=="string"?w.createElement("select",{is:u.is}):w.createElement("select"),u.multiple?y.multiple=!0:u.size&&(y.size=u.size);break;default:y=typeof u.is=="string"?w.createElement(m,{is:u.is}):w.createElement(m)}}y[wt]=s,y[Gt]=u;e:for(w=s.child;w!==null;){if(w.tag===5||w.tag===6)y.appendChild(w.stateNode);else if(w.tag!==4&&w.tag!==27&&w.child!==null){w.child.return=w,w=w.child;continue}if(w===s)break e;for(;w.sibling===null;){if(w.return===null||w.return===s)break e;w=w.return}w.sibling.return=w.return,w=w.sibling}s.stateNode=y;e:switch(At(y,m,u),m){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}u&&$n(s)}}return Xe(s),Gu(s,s.type,n===null?null:n.memoizedProps,s.pendingProps,a),null;case 6:if(n&&s.stateNode!=null)n.memoizedProps!==u&&$n(s);else{if(typeof u!="string"&&s.stateNode===null)throw Error(r(166));if(n=ge.current,Is(s)){if(n=s.stateNode,a=s.memoizedProps,u=null,m=St,m!==null)switch(m.tag){case 27:case 5:u=m.memoizedProps}n[wt]=s,n=!!(n.nodeValue===a||u!==null&&u.suppressHydrationWarning===!0||Xp(n.nodeValue,a)),n||fi(s,!0)}else n=So(n).createTextNode(u),n[wt]=s,s.stateNode=n}return Xe(s),null;case 31:if(a=s.memoizedState,n===null||n.memoizedState!==null){if(u=Is(s),a!==null){if(n===null){if(!u)throw Error(r(318));if(n=s.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(r(557));n[wt]=s}else Fi(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Xe(s),n=!1}else a=Yl(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=a),n=!0;if(!n)return s.flags&256?(Xt(s),s):(Xt(s),null);if((s.flags&128)!==0)throw Error(r(558))}return Xe(s),null;case 13:if(u=s.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(m=Is(s),u!==null&&u.dehydrated!==null){if(n===null){if(!m)throw Error(r(318));if(m=s.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(r(317));m[wt]=s}else Fi(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Xe(s),m=!1}else m=Yl(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=m),m=!0;if(!m)return s.flags&256?(Xt(s),s):(Xt(s),null)}return Xt(s),(s.flags&128)!==0?(s.lanes=a,s):(a=u!==null,n=n!==null&&n.memoizedState!==null,a&&(u=s.child,m=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(m=u.alternate.memoizedState.cachePool.pool),y=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(y=u.memoizedState.cachePool.pool),y!==m&&(u.flags|=2048)),a!==n&&a&&(s.child.flags|=8192),oo(s,s.updateQueue),Xe(s),null);case 4:return Oe(),n===null&&oc(s.stateNode.containerInfo),Xe(s),null;case 10:return qn(s.type),Xe(s),null;case 19:if(V(at),u=s.memoizedState,u===null)return Xe(s),null;if(m=(s.flags&128)!==0,y=u.rendering,y===null)if(m)zr(u,!1);else{if(it!==0||n!==null&&(n.flags&128)!==0)for(n=s.child;n!==null;){if(y=Ka(n),y!==null){for(s.flags|=128,zr(u,!1),n=y.updateQueue,s.updateQueue=n,oo(s,n),s.subtreeFlags=0,n=a,a=s.child;a!==null;)Cf(a,n),a=a.sibling;return Q(at,at.current&1|2),ke&&Hn(s,u.treeForkCount),s.child}n=n.sibling}u.tail!==null&&q()>ho&&(s.flags|=128,m=!0,zr(u,!1),s.lanes=4194304)}else{if(!m)if(n=Ka(y),n!==null){if(s.flags|=128,m=!0,n=n.updateQueue,s.updateQueue=n,oo(s,n),zr(u,!0),u.tail===null&&u.tailMode==="hidden"&&!y.alternate&&!ke)return Xe(s),null}else 2*q()-u.renderingStartTime>ho&&a!==536870912&&(s.flags|=128,m=!0,zr(u,!1),s.lanes=4194304);u.isBackwards?(y.sibling=s.child,s.child=y):(n=u.last,n!==null?n.sibling=y:s.child=y,u.last=y)}return u.tail!==null?(n=u.tail,u.rendering=n,u.tail=n.sibling,u.renderingStartTime=q(),n.sibling=null,a=at.current,Q(at,m?a&1|2:a&1),ke&&Hn(s,u.treeForkCount),n):(Xe(s),null);case 22:case 23:return Xt(s),lu(),u=s.memoizedState!==null,n!==null?n.memoizedState!==null!==u&&(s.flags|=8192):u&&(s.flags|=8192),u?(a&536870912)!==0&&(s.flags&128)===0&&(Xe(s),s.subtreeFlags&6&&(s.flags|=8192)):Xe(s),a=s.updateQueue,a!==null&&oo(s,a.retryQueue),a=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),u=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(u=s.memoizedState.cachePool.pool),u!==a&&(s.flags|=2048),n!==null&&V(Ki),null;case 24:return a=null,n!==null&&(a=n.memoizedState.cache),s.memoizedState.cache!==a&&(s.flags|=2048),qn(ct),Xe(s),null;case 25:return null;case 30:return null}throw Error(r(156,s.tag))}function px(n,s){switch(Jl(s),s.tag){case 1:return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 3:return qn(ct),Oe(),n=s.flags,(n&65536)!==0&&(n&128)===0?(s.flags=n&-65537|128,s):null;case 26:case 27:case 5:return Dt(s),null;case 31:if(s.memoizedState!==null){if(Xt(s),s.alternate===null)throw Error(r(340));Fi()}return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 13:if(Xt(s),n=s.memoizedState,n!==null&&n.dehydrated!==null){if(s.alternate===null)throw Error(r(340));Fi()}return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 19:return V(at),null;case 4:return Oe(),null;case 10:return qn(s.type),null;case 22:case 23:return Xt(s),lu(),n!==null&&V(Ki),n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 24:return qn(ct),null;case 25:return null;default:return null}}function tp(n,s){switch(Jl(s),s.tag){case 3:qn(ct),Oe();break;case 26:case 27:case 5:Dt(s);break;case 4:Oe();break;case 31:s.memoizedState!==null&&Xt(s);break;case 13:Xt(s);break;case 19:V(at);break;case 10:qn(s.type);break;case 22:case 23:Xt(s),lu(),n!==null&&V(Ki);break;case 24:qn(ct)}}function Fr(n,s){try{var a=s.updateQueue,u=a!==null?a.lastEffect:null;if(u!==null){var m=u.next;a=m;do{if((a.tag&n)===n){u=void 0;var y=a.create,w=a.inst;u=y(),w.destroy=u}a=a.next}while(a!==m)}}catch(E){Be(s,s.return,E)}}function xi(n,s,a){try{var u=s.updateQueue,m=u!==null?u.lastEffect:null;if(m!==null){var y=m.next;u=y;do{if((u.tag&n)===n){var w=u.inst,E=w.destroy;if(E!==void 0){w.destroy=void 0,m=s;var A=a,L=E;try{L()}catch(B){Be(m,A,B)}}}u=u.next}while(u!==y)}}catch(B){Be(s,s.return,B)}}function np(n){var s=n.updateQueue;if(s!==null){var a=n.stateNode;try{$f(s,a)}catch(u){Be(n,n.return,u)}}}function ip(n,s,a){a.props=Zi(n.type,n.memoizedProps),a.state=n.memoizedState;try{a.componentWillUnmount()}catch(u){Be(n,s,u)}}function $r(n,s){try{var a=n.ref;if(a!==null){switch(n.tag){case 26:case 27:case 5:var u=n.stateNode;break;case 30:u=n.stateNode;break;default:u=n.stateNode}typeof a=="function"?n.refCleanup=a(u):a.current=u}}catch(m){Be(n,s,m)}}function Mn(n,s){var a=n.ref,u=n.refCleanup;if(a!==null)if(typeof u=="function")try{u()}catch(m){Be(n,s,m)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(m){Be(n,s,m)}else a.current=null}function sp(n){var s=n.type,a=n.memoizedProps,u=n.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":a.autoFocus&&u.focus();break e;case"img":a.src?u.src=a.src:a.srcSet&&(u.srcset=a.srcSet)}}catch(m){Be(n,n.return,m)}}function Hu(n,s,a){try{var u=n.stateNode;Lx(u,n.type,a,s),u[Gt]=s}catch(m){Be(n,n.return,m)}}function rp(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&Ai(n.type)||n.tag===4}function Bu(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||rp(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&Ai(n.type)||n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function qu(n,s,a){var u=n.tag;if(u===5||u===6)n=n.stateNode,s?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(n,s):(s=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,s.appendChild(n),a=a._reactRootContainer,a!=null||s.onclick!==null||(s.onclick=On));else if(u!==4&&(u===27&&Ai(n.type)&&(a=n.stateNode,s=null),n=n.child,n!==null))for(qu(n,s,a),n=n.sibling;n!==null;)qu(n,s,a),n=n.sibling}function lo(n,s,a){var u=n.tag;if(u===5||u===6)n=n.stateNode,s?a.insertBefore(n,s):a.appendChild(n);else if(u!==4&&(u===27&&Ai(n.type)&&(a=n.stateNode),n=n.child,n!==null))for(lo(n,s,a),n=n.sibling;n!==null;)lo(n,s,a),n=n.sibling}function ap(n){var s=n.stateNode,a=n.memoizedProps;try{for(var u=n.type,m=s.attributes;m.length;)s.removeAttributeNode(m[0]);At(s,u,a),s[wt]=n,s[Gt]=a}catch(y){Be(n,n.return,y)}}var Jn=!1,ht=!1,Vu=!1,op=typeof WeakSet=="function"?WeakSet:Set,bt=null;function mx(n,s){if(n=n.containerInfo,cc=ko,n=xf(n),Ll(n)){if("selectionStart"in n)var a={start:n.selectionStart,end:n.selectionEnd};else e:{a=(a=n.ownerDocument)&&a.defaultView||window;var u=a.getSelection&&a.getSelection();if(u&&u.rangeCount!==0){a=u.anchorNode;var m=u.anchorOffset,y=u.focusNode;u=u.focusOffset;try{a.nodeType,y.nodeType}catch{a=null;break e}var w=0,E=-1,A=-1,L=0,B=0,$=n,O=null;t:for(;;){for(var G;$!==a||m!==0&&$.nodeType!==3||(E=w+m),$!==y||u!==0&&$.nodeType!==3||(A=w+u),$.nodeType===3&&(w+=$.nodeValue.length),(G=$.firstChild)!==null;)O=$,$=G;for(;;){if($===n)break t;if(O===a&&++L===m&&(E=w),O===y&&++B===u&&(A=w),(G=$.nextSibling)!==null)break;$=O,O=$.parentNode}$=G}a=E===-1||A===-1?null:{start:E,end:A}}else a=null}a=a||{start:0,end:0}}else a=null;for(dc={focusedElem:n,selectionRange:a},ko=!1,bt=s;bt!==null;)if(s=bt,n=s.child,(s.subtreeFlags&1028)!==0&&n!==null)n.return=s,bt=n;else for(;bt!==null;){switch(s=bt,y=s.alternate,n=s.flags,s.tag){case 0:if((n&4)!==0&&(n=s.updateQueue,n=n!==null?n.events:null,n!==null))for(a=0;a<n.length;a++)m=n[a],m.ref.impl=m.nextImpl;break;case 11:case 15:break;case 1:if((n&1024)!==0&&y!==null){n=void 0,a=s,m=y.memoizedProps,y=y.memoizedState,u=a.stateNode;try{var se=Zi(a.type,m);n=u.getSnapshotBeforeUpdate(se,y),u.__reactInternalSnapshotBeforeUpdate=n}catch(fe){Be(a,a.return,fe)}}break;case 3:if((n&1024)!==0){if(n=s.stateNode.containerInfo,a=n.nodeType,a===9)pc(n);else if(a===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":pc(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(r(163))}if(n=s.sibling,n!==null){n.return=s.return,bt=n;break}bt=s.return}}function lp(n,s,a){var u=a.flags;switch(a.tag){case 0:case 11:case 15:Yn(n,a),u&4&&Fr(5,a);break;case 1:if(Yn(n,a),u&4)if(n=a.stateNode,s===null)try{n.componentDidMount()}catch(w){Be(a,a.return,w)}else{var m=Zi(a.type,s.memoizedProps);s=s.memoizedState;try{n.componentDidUpdate(m,s,n.__reactInternalSnapshotBeforeUpdate)}catch(w){Be(a,a.return,w)}}u&64&&np(a),u&512&&$r(a,a.return);break;case 3:if(Yn(n,a),u&64&&(n=a.updateQueue,n!==null)){if(s=null,a.child!==null)switch(a.child.tag){case 27:case 5:s=a.child.stateNode;break;case 1:s=a.child.stateNode}try{$f(n,s)}catch(w){Be(a,a.return,w)}}break;case 27:s===null&&u&4&&ap(a);case 26:case 5:Yn(n,a),s===null&&u&4&&sp(a),u&512&&$r(a,a.return);break;case 12:Yn(n,a);break;case 31:Yn(n,a),u&4&&dp(n,a);break;case 13:Yn(n,a),u&4&&fp(n,a),u&64&&(n=a.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(a=Ex.bind(null,a),zx(n,a))));break;case 22:if(u=a.memoizedState!==null||Jn,!u){s=s!==null&&s.memoizedState!==null||ht,m=Jn;var y=ht;Jn=u,(ht=s)&&!y?Xn(n,a,(a.subtreeFlags&8772)!==0):Yn(n,a),Jn=m,ht=y}break;case 30:break;default:Yn(n,a)}}function up(n){var s=n.alternate;s!==null&&(n.alternate=null,up(s)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(s=n.stateNode,s!==null&&xl(s)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var Ze=null,Bt=!1;function Kn(n,s,a){for(a=a.child;a!==null;)cp(n,s,a),a=a.sibling}function cp(n,s,a){if(Mt&&typeof Mt.onCommitFiberUnmount=="function")try{Mt.onCommitFiberUnmount(ji,a)}catch{}switch(a.tag){case 26:ht||Mn(a,s),Kn(n,s,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:ht||Mn(a,s);var u=Ze,m=Bt;Ai(a.type)&&(Ze=a.stateNode,Bt=!1),Kn(n,s,a),ta(a.stateNode),Ze=u,Bt=m;break;case 5:ht||Mn(a,s);case 6:if(u=Ze,m=Bt,Ze=null,Kn(n,s,a),Ze=u,Bt=m,Ze!==null)if(Bt)try{(Ze.nodeType===9?Ze.body:Ze.nodeName==="HTML"?Ze.ownerDocument.body:Ze).removeChild(a.stateNode)}catch(y){Be(a,s,y)}else try{Ze.removeChild(a.stateNode)}catch(y){Be(a,s,y)}break;case 18:Ze!==null&&(Bt?(n=Ze,nm(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,a.stateNode),Qs(n)):nm(Ze,a.stateNode));break;case 4:u=Ze,m=Bt,Ze=a.stateNode.containerInfo,Bt=!0,Kn(n,s,a),Ze=u,Bt=m;break;case 0:case 11:case 14:case 15:xi(2,a,s),ht||xi(4,a,s),Kn(n,s,a);break;case 1:ht||(Mn(a,s),u=a.stateNode,typeof u.componentWillUnmount=="function"&&ip(a,s,u)),Kn(n,s,a);break;case 21:Kn(n,s,a);break;case 22:ht=(u=ht)||a.memoizedState!==null,Kn(n,s,a),ht=u;break;default:Kn(n,s,a)}}function dp(n,s){if(s.memoizedState===null&&(n=s.alternate,n!==null&&(n=n.memoizedState,n!==null))){n=n.dehydrated;try{Qs(n)}catch(a){Be(s,s.return,a)}}}function fp(n,s){if(s.memoizedState===null&&(n=s.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{Qs(n)}catch(a){Be(s,s.return,a)}}function gx(n){switch(n.tag){case 31:case 13:case 19:var s=n.stateNode;return s===null&&(s=n.stateNode=new op),s;case 22:return n=n.stateNode,s=n._retryCache,s===null&&(s=n._retryCache=new op),s;default:throw Error(r(435,n.tag))}}function uo(n,s){var a=gx(n);s.forEach(function(u){if(!a.has(u)){a.add(u);var m=Tx.bind(null,n,u);u.then(m,m)}})}function qt(n,s){var a=s.deletions;if(a!==null)for(var u=0;u<a.length;u++){var m=a[u],y=n,w=s,E=w;e:for(;E!==null;){switch(E.tag){case 27:if(Ai(E.type)){Ze=E.stateNode,Bt=!1;break e}break;case 5:Ze=E.stateNode,Bt=!1;break e;case 3:case 4:Ze=E.stateNode.containerInfo,Bt=!0;break e}E=E.return}if(Ze===null)throw Error(r(160));cp(y,w,m),Ze=null,Bt=!1,y=m.alternate,y!==null&&(y.return=null),m.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)hp(s,n),s=s.sibling}var wn=null;function hp(n,s){var a=n.alternate,u=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:qt(s,n),Vt(n),u&4&&(xi(3,n,n.return),Fr(3,n),xi(5,n,n.return));break;case 1:qt(s,n),Vt(n),u&512&&(ht||a===null||Mn(a,a.return)),u&64&&Jn&&(n=n.updateQueue,n!==null&&(u=n.callbacks,u!==null&&(a=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=a===null?u:a.concat(u))));break;case 26:var m=wn;if(qt(s,n),Vt(n),u&512&&(ht||a===null||Mn(a,a.return)),u&4){var y=a!==null?a.memoizedState:null;if(u=n.memoizedState,a===null)if(u===null)if(n.stateNode===null){e:{u=n.type,a=n.memoizedProps,m=m.ownerDocument||m;t:switch(u){case"title":y=m.getElementsByTagName("title")[0],(!y||y[xr]||y[wt]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=m.createElement(u),m.head.insertBefore(y,m.querySelector("head > title"))),At(y,u,a),y[wt]=n,xt(y),u=y;break e;case"link":var w=hm("link","href",m).get(u+(a.href||""));if(w){for(var E=0;E<w.length;E++)if(y=w[E],y.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&y.getAttribute("rel")===(a.rel==null?null:a.rel)&&y.getAttribute("title")===(a.title==null?null:a.title)&&y.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){w.splice(E,1);break t}}y=m.createElement(u),At(y,u,a),m.head.appendChild(y);break;case"meta":if(w=hm("meta","content",m).get(u+(a.content||""))){for(E=0;E<w.length;E++)if(y=w[E],y.getAttribute("content")===(a.content==null?null:""+a.content)&&y.getAttribute("name")===(a.name==null?null:a.name)&&y.getAttribute("property")===(a.property==null?null:a.property)&&y.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&y.getAttribute("charset")===(a.charSet==null?null:a.charSet)){w.splice(E,1);break t}}y=m.createElement(u),At(y,u,a),m.head.appendChild(y);break;default:throw Error(r(468,u))}y[wt]=n,xt(y),u=y}n.stateNode=u}else pm(m,n.type,n.stateNode);else n.stateNode=fm(m,u,n.memoizedProps);else y!==u?(y===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):y.count--,u===null?pm(m,n.type,n.stateNode):fm(m,u,n.memoizedProps)):u===null&&n.stateNode!==null&&Hu(n,n.memoizedProps,a.memoizedProps)}break;case 27:qt(s,n),Vt(n),u&512&&(ht||a===null||Mn(a,a.return)),a!==null&&u&4&&Hu(n,n.memoizedProps,a.memoizedProps);break;case 5:if(qt(s,n),Vt(n),u&512&&(ht||a===null||Mn(a,a.return)),n.flags&32){m=n.stateNode;try{_s(m,"")}catch(se){Be(n,n.return,se)}}u&4&&n.stateNode!=null&&(m=n.memoizedProps,Hu(n,m,a!==null?a.memoizedProps:m)),u&1024&&(Vu=!0);break;case 6:if(qt(s,n),Vt(n),u&4){if(n.stateNode===null)throw Error(r(162));u=n.memoizedProps,a=n.stateNode;try{a.nodeValue=u}catch(se){Be(n,n.return,se)}}break;case 3:if(Ao=null,m=wn,wn=Eo(s.containerInfo),qt(s,n),wn=m,Vt(n),u&4&&a!==null&&a.memoizedState.isDehydrated)try{Qs(s.containerInfo)}catch(se){Be(n,n.return,se)}Vu&&(Vu=!1,pp(n));break;case 4:u=wn,wn=Eo(n.stateNode.containerInfo),qt(s,n),Vt(n),wn=u;break;case 12:qt(s,n),Vt(n);break;case 31:qt(s,n),Vt(n),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,uo(n,u)));break;case 13:qt(s,n),Vt(n),n.child.flags&8192&&n.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(fo=q()),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,uo(n,u)));break;case 22:m=n.memoizedState!==null;var A=a!==null&&a.memoizedState!==null,L=Jn,B=ht;if(Jn=L||m,ht=B||A,qt(s,n),ht=B,Jn=L,Vt(n),u&8192)e:for(s=n.stateNode,s._visibility=m?s._visibility&-2:s._visibility|1,m&&(a===null||A||Jn||ht||es(n)),a=null,s=n;;){if(s.tag===5||s.tag===26){if(a===null){A=a=s;try{if(y=A.stateNode,m)w=y.style,typeof w.setProperty=="function"?w.setProperty("display","none","important"):w.display="none";else{E=A.stateNode;var $=A.memoizedProps.style,O=$!=null&&$.hasOwnProperty("display")?$.display:null;E.style.display=O==null||typeof O=="boolean"?"":(""+O).trim()}}catch(se){Be(A,A.return,se)}}}else if(s.tag===6){if(a===null){A=s;try{A.stateNode.nodeValue=m?"":A.memoizedProps}catch(se){Be(A,A.return,se)}}}else if(s.tag===18){if(a===null){A=s;try{var G=A.stateNode;m?im(G,!0):im(A.stateNode,!1)}catch(se){Be(A,A.return,se)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===n)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break e;for(;s.sibling===null;){if(s.return===null||s.return===n)break e;a===s&&(a=null),s=s.return}a===s&&(a=null),s.sibling.return=s.return,s=s.sibling}u&4&&(u=n.updateQueue,u!==null&&(a=u.retryQueue,a!==null&&(u.retryQueue=null,uo(n,a))));break;case 19:qt(s,n),Vt(n),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,uo(n,u)));break;case 30:break;case 21:break;default:qt(s,n),Vt(n)}}function Vt(n){var s=n.flags;if(s&2){try{for(var a,u=n.return;u!==null;){if(rp(u)){a=u;break}u=u.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var m=a.stateNode,y=Bu(n);lo(n,y,m);break;case 5:var w=a.stateNode;a.flags&32&&(_s(w,""),a.flags&=-33);var E=Bu(n);lo(n,E,w);break;case 3:case 4:var A=a.stateNode.containerInfo,L=Bu(n);qu(n,L,A);break;default:throw Error(r(161))}}catch(B){Be(n,n.return,B)}n.flags&=-3}s&4096&&(n.flags&=-4097)}function pp(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var s=n;pp(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),n=n.sibling}}function Yn(n,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)lp(n,s.alternate,s),s=s.sibling}function es(n){for(n=n.child;n!==null;){var s=n;switch(s.tag){case 0:case 11:case 14:case 15:xi(4,s,s.return),es(s);break;case 1:Mn(s,s.return);var a=s.stateNode;typeof a.componentWillUnmount=="function"&&ip(s,s.return,a),es(s);break;case 27:ta(s.stateNode);case 26:case 5:Mn(s,s.return),es(s);break;case 22:s.memoizedState===null&&es(s);break;case 30:es(s);break;default:es(s)}n=n.sibling}}function Xn(n,s,a){for(a=a&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var u=s.alternate,m=n,y=s,w=y.flags;switch(y.tag){case 0:case 11:case 15:Xn(m,y,a),Fr(4,y);break;case 1:if(Xn(m,y,a),u=y,m=u.stateNode,typeof m.componentDidMount=="function")try{m.componentDidMount()}catch(L){Be(u,u.return,L)}if(u=y,m=u.updateQueue,m!==null){var E=u.stateNode;try{var A=m.shared.hiddenCallbacks;if(A!==null)for(m.shared.hiddenCallbacks=null,m=0;m<A.length;m++)Ff(A[m],E)}catch(L){Be(u,u.return,L)}}a&&w&64&&np(y),$r(y,y.return);break;case 27:ap(y);case 26:case 5:Xn(m,y,a),a&&u===null&&w&4&&sp(y),$r(y,y.return);break;case 12:Xn(m,y,a);break;case 31:Xn(m,y,a),a&&w&4&&dp(m,y);break;case 13:Xn(m,y,a),a&&w&4&&fp(m,y);break;case 22:y.memoizedState===null&&Xn(m,y,a),$r(y,y.return);break;case 30:break;default:Xn(m,y,a)}s=s.sibling}}function zu(n,s){var a=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),n=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(n=s.memoizedState.cachePool.pool),n!==a&&(n!=null&&n.refCount++,a!=null&&Dr(a))}function Fu(n,s){n=null,s.alternate!==null&&(n=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==n&&(s.refCount++,n!=null&&Dr(n))}function Sn(n,s,a,u){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)mp(n,s,a,u),s=s.sibling}function mp(n,s,a,u){var m=s.flags;switch(s.tag){case 0:case 11:case 15:Sn(n,s,a,u),m&2048&&Fr(9,s);break;case 1:Sn(n,s,a,u);break;case 3:Sn(n,s,a,u),m&2048&&(n=null,s.alternate!==null&&(n=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==n&&(s.refCount++,n!=null&&Dr(n)));break;case 12:if(m&2048){Sn(n,s,a,u),n=s.stateNode;try{var y=s.memoizedProps,w=y.id,E=y.onPostCommit;typeof E=="function"&&E(w,s.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(A){Be(s,s.return,A)}}else Sn(n,s,a,u);break;case 31:Sn(n,s,a,u);break;case 13:Sn(n,s,a,u);break;case 23:break;case 22:y=s.stateNode,w=s.alternate,s.memoizedState!==null?y._visibility&2?Sn(n,s,a,u):Jr(n,s):y._visibility&2?Sn(n,s,a,u):(y._visibility|=2,Bs(n,s,a,u,(s.subtreeFlags&10256)!==0||!1)),m&2048&&zu(w,s);break;case 24:Sn(n,s,a,u),m&2048&&Fu(s.alternate,s);break;default:Sn(n,s,a,u)}}function Bs(n,s,a,u,m){for(m=m&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var y=n,w=s,E=a,A=u,L=w.flags;switch(w.tag){case 0:case 11:case 15:Bs(y,w,E,A,m),Fr(8,w);break;case 23:break;case 22:var B=w.stateNode;w.memoizedState!==null?B._visibility&2?Bs(y,w,E,A,m):Jr(y,w):(B._visibility|=2,Bs(y,w,E,A,m)),m&&L&2048&&zu(w.alternate,w);break;case 24:Bs(y,w,E,A,m),m&&L&2048&&Fu(w.alternate,w);break;default:Bs(y,w,E,A,m)}s=s.sibling}}function Jr(n,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var a=n,u=s,m=u.flags;switch(u.tag){case 22:Jr(a,u),m&2048&&zu(u.alternate,u);break;case 24:Jr(a,u),m&2048&&Fu(u.alternate,u);break;default:Jr(a,u)}s=s.sibling}}var Kr=8192;function qs(n,s,a){if(n.subtreeFlags&Kr)for(n=n.child;n!==null;)gp(n,s,a),n=n.sibling}function gp(n,s,a){switch(n.tag){case 26:qs(n,s,a),n.flags&Kr&&n.memoizedState!==null&&nb(a,wn,n.memoizedState,n.memoizedProps);break;case 5:qs(n,s,a);break;case 3:case 4:var u=wn;wn=Eo(n.stateNode.containerInfo),qs(n,s,a),wn=u;break;case 22:n.memoizedState===null&&(u=n.alternate,u!==null&&u.memoizedState!==null?(u=Kr,Kr=16777216,qs(n,s,a),Kr=u):qs(n,s,a));break;default:qs(n,s,a)}}function vp(n){var s=n.alternate;if(s!==null&&(n=s.child,n!==null)){s.child=null;do s=n.sibling,n.sibling=null,n=s;while(n!==null)}}function Yr(n){var s=n.deletions;if((n.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var u=s[a];bt=u,xp(u,n)}vp(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)yp(n),n=n.sibling}function yp(n){switch(n.tag){case 0:case 11:case 15:Yr(n),n.flags&2048&&xi(9,n,n.return);break;case 3:Yr(n);break;case 12:Yr(n);break;case 22:var s=n.stateNode;n.memoizedState!==null&&s._visibility&2&&(n.return===null||n.return.tag!==13)?(s._visibility&=-3,co(n)):Yr(n);break;default:Yr(n)}}function co(n){var s=n.deletions;if((n.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var u=s[a];bt=u,xp(u,n)}vp(n)}for(n=n.child;n!==null;){switch(s=n,s.tag){case 0:case 11:case 15:xi(8,s,s.return),co(s);break;case 22:a=s.stateNode,a._visibility&2&&(a._visibility&=-3,co(s));break;default:co(s)}n=n.sibling}}function xp(n,s){for(;bt!==null;){var a=bt;switch(a.tag){case 0:case 11:case 15:xi(8,a,s);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var u=a.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:Dr(a.memoizedState.cache)}if(u=a.child,u!==null)u.return=a,bt=u;else e:for(a=n;bt!==null;){u=bt;var m=u.sibling,y=u.return;if(up(u),u===a){bt=null;break e}if(m!==null){m.return=y,bt=m;break e}bt=y}}}var vx={getCacheForType:function(n){var s=Et(ct),a=s.data.get(n);return a===void 0&&(a=n(),s.data.set(n,a)),a},cacheSignal:function(){return Et(ct).controller.signal}},yx=typeof WeakMap=="function"?WeakMap:Map,je=0,$e=null,we=null,Ne=0,He=0,Wt=null,bi=!1,Vs=!1,$u=!1,Wn=0,it=0,_i=0,ts=0,Ju=0,Qt=0,zs=0,Xr=null,zt=null,Ku=!1,fo=0,bp=0,ho=1/0,po=null,wi=null,gt=0,Si=null,Fs=null,Qn=0,Yu=0,Xu=null,_p=null,Wr=0,Wu=null;function Zt(){return(je&2)!==0&&Ne!==0?Ne&-Ne:j.T!==null?ic():Ld()}function wp(){if(Qt===0)if((Ne&536870912)===0||ke){var n=W;W<<=1,(W&3932160)===0&&(W=262144),Qt=n}else Qt=536870912;return n=Yt.current,n!==null&&(n.flags|=32),Qt}function Ft(n,s,a){(n===$e&&(He===2||He===9)||n.cancelPendingCommit!==null)&&($s(n,0),Ei(n,Ne,Qt,!1)),yr(n,a),((je&2)===0||n!==$e)&&(n===$e&&((je&2)===0&&(ts|=a),it===4&&Ei(n,Ne,Qt,!1)),Un(n))}function Sp(n,s,a){if((je&6)!==0)throw Error(r(327));var u=!a&&(s&127)===0&&(s&n.expiredLanes)===0||an(n,s),m=u?_x(n,s):Zu(n,s,!0),y=u;do{if(m===0){Vs&&!u&&Ei(n,s,0,!1);break}else{if(a=n.current.alternate,y&&!xx(a)){m=Zu(n,s,!1),y=!1;continue}if(m===2){if(y=s,n.errorRecoveryDisabledLanes&y)var w=0;else w=n.pendingLanes&-536870913,w=w!==0?w:w&536870912?536870912:0;if(w!==0){s=w;e:{var E=n;m=Xr;var A=E.current.memoizedState.isDehydrated;if(A&&($s(E,w).flags|=256),w=Zu(E,w,!1),w!==2){if($u&&!A){E.errorRecoveryDisabledLanes|=y,ts|=y,m=4;break e}y=zt,zt=m,y!==null&&(zt===null?zt=y:zt.push.apply(zt,y))}m=w}if(y=!1,m!==2)continue}}if(m===1){$s(n,0),Ei(n,s,0,!0);break}e:{switch(u=n,y=m,y){case 0:case 1:throw Error(r(345));case 4:if((s&4194048)!==s)break;case 6:Ei(u,s,Qt,!bi);break e;case 2:zt=null;break;case 3:case 5:break;default:throw Error(r(329))}if((s&62914560)===s&&(m=fo+300-q(),10<m)){if(Ei(u,s,Qt,!bi),rn(u,0,!0)!==0)break e;Qn=s,u.timeoutHandle=em(Ep.bind(null,u,a,zt,po,Ku,s,Qt,ts,zs,bi,y,"Throttled",-0,0),m);break e}Ep(u,a,zt,po,Ku,s,Qt,ts,zs,bi,y,null,-0,0)}}break}while(!0);Un(n)}function Ep(n,s,a,u,m,y,w,E,A,L,B,$,O,G){if(n.timeoutHandle=-1,$=s.subtreeFlags,$&8192||($&16785408)===16785408){$={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:On},gp(s,y,$);var se=(y&62914560)===y?fo-q():(y&4194048)===y?bp-q():0;if(se=ib($,se),se!==null){Qn=y,n.cancelPendingCommit=se(Dp.bind(null,n,s,y,a,u,m,w,E,A,B,$,null,O,G)),Ei(n,y,w,!L);return}}Dp(n,s,y,a,u,m,w,E,A)}function xx(n){for(var s=n;;){var a=s.tag;if((a===0||a===11||a===15)&&s.flags&16384&&(a=s.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var u=0;u<a.length;u++){var m=a[u],y=m.getSnapshot;m=m.value;try{if(!Jt(y(),m))return!1}catch{return!1}}if(a=s.child,s.subtreeFlags&16384&&a!==null)a.return=s,s=a;else{if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Ei(n,s,a,u){s&=~Ju,s&=~ts,n.suspendedLanes|=s,n.pingedLanes&=~s,u&&(n.warmLanes|=s),u=n.expirationTimes;for(var m=s;0<m;){var y=31-Ut(m),w=1<<y;u[y]=-1,m&=~w}a!==0&&Md(n,a,s)}function mo(){return(je&6)===0?(Qr(0),!1):!0}function Qu(){if(we!==null){if(He===0)var n=we.return;else n=we,Bn=$i=null,pu(n),Ls=null,Ur=0,n=we;for(;n!==null;)tp(n.alternate,n),n=n.return;we=null}}function $s(n,s){var a=n.timeoutHandle;a!==-1&&(n.timeoutHandle=-1,Gx(a)),a=n.cancelPendingCommit,a!==null&&(n.cancelPendingCommit=null,a()),Qn=0,Qu(),$e=n,we=a=Gn(n.current,null),Ne=s,He=0,Wt=null,bi=!1,Vs=an(n,s),$u=!1,zs=Qt=Ju=ts=_i=it=0,zt=Xr=null,Ku=!1,(s&8)!==0&&(s|=s&32);var u=n.entangledLanes;if(u!==0)for(n=n.entanglements,u&=s;0<u;){var m=31-Ut(u),y=1<<m;s|=n[m],u&=~y}return Wn=s,Pa(),a}function Tp(n,s){xe=null,j.H=qr,s===Ps||s===Va?(s=Bf(),He=3):s===nu?(s=Bf(),He=4):He=s===ku?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Wt=s,we===null&&(it=1,io(n,cn(s,n.current)))}function Ap(){var n=Yt.current;return n===null?!0:(Ne&4194048)===Ne?pn===null:(Ne&62914560)===Ne||(Ne&536870912)!==0?n===pn:!1}function Np(){var n=j.H;return j.H=qr,n===null?qr:n}function Cp(){var n=j.A;return j.A=vx,n}function go(){it=4,bi||(Ne&4194048)!==Ne&&Yt.current!==null||(Vs=!0),(_i&134217727)===0&&(ts&134217727)===0||$e===null||Ei($e,Ne,Qt,!1)}function Zu(n,s,a){var u=je;je|=2;var m=Np(),y=Cp();($e!==n||Ne!==s)&&(po=null,$s(n,s)),s=!1;var w=it;e:do try{if(He!==0&&we!==null){var E=we,A=Wt;switch(He){case 8:Qu(),w=6;break e;case 3:case 2:case 9:case 6:Yt.current===null&&(s=!0);var L=He;if(He=0,Wt=null,Js(n,E,A,L),a&&Vs){w=0;break e}break;default:L=He,He=0,Wt=null,Js(n,E,A,L)}}bx(),w=it;break}catch(B){Tp(n,B)}while(!0);return s&&n.shellSuspendCounter++,Bn=$i=null,je=u,j.H=m,j.A=y,we===null&&($e=null,Ne=0,Pa()),w}function bx(){for(;we!==null;)Rp(we)}function _x(n,s){var a=je;je|=2;var u=Np(),m=Cp();$e!==n||Ne!==s?(po=null,ho=q()+500,$s(n,s)):Vs=an(n,s);e:do try{if(He!==0&&we!==null){s=we;var y=Wt;t:switch(He){case 1:He=0,Wt=null,Js(n,s,y,1);break;case 2:case 9:if(Gf(y)){He=0,Wt=null,kp(s);break}s=function(){He!==2&&He!==9||$e!==n||(He=7),Un(n)},y.then(s,s);break e;case 3:He=7;break e;case 4:He=5;break e;case 7:Gf(y)?(He=0,Wt=null,kp(s)):(He=0,Wt=null,Js(n,s,y,7));break;case 5:var w=null;switch(we.tag){case 26:w=we.memoizedState;case 5:case 27:var E=we;if(w?mm(w):E.stateNode.complete){He=0,Wt=null;var A=E.sibling;if(A!==null)we=A;else{var L=E.return;L!==null?(we=L,vo(L)):we=null}break t}}He=0,Wt=null,Js(n,s,y,5);break;case 6:He=0,Wt=null,Js(n,s,y,6);break;case 8:Qu(),it=6;break e;default:throw Error(r(462))}}wx();break}catch(B){Tp(n,B)}while(!0);return Bn=$i=null,j.H=u,j.A=m,je=a,we!==null?0:($e=null,Ne=0,Pa(),it)}function wx(){for(;we!==null&&!ai();)Rp(we)}function Rp(n){var s=Zh(n.alternate,n,Wn);n.memoizedProps=n.pendingProps,s===null?vo(n):we=s}function kp(n){var s=n,a=s.alternate;switch(s.tag){case 15:case 0:s=Jh(a,s,s.pendingProps,s.type,void 0,Ne);break;case 11:s=Jh(a,s,s.pendingProps,s.type.render,s.ref,Ne);break;case 5:pu(s);default:tp(a,s),s=we=Cf(s,Wn),s=Zh(a,s,Wn)}n.memoizedProps=n.pendingProps,s===null?vo(n):we=s}function Js(n,s,a,u){Bn=$i=null,pu(s),Ls=null,Ur=0;var m=s.return;try{if(cx(n,m,s,a,Ne)){it=1,io(n,cn(a,n.current)),we=null;return}}catch(y){if(m!==null)throw we=m,y;it=1,io(n,cn(a,n.current)),we=null;return}s.flags&32768?(ke||u===1?n=!0:Vs||(Ne&536870912)!==0?n=!1:(bi=n=!0,(u===2||u===9||u===3||u===6)&&(u=Yt.current,u!==null&&u.tag===13&&(u.flags|=16384))),Ip(s,n)):vo(s)}function vo(n){var s=n;do{if((s.flags&32768)!==0){Ip(s,bi);return}n=s.return;var a=hx(s.alternate,s,Wn);if(a!==null){we=a;return}if(s=s.sibling,s!==null){we=s;return}we=s=n}while(s!==null);it===0&&(it=5)}function Ip(n,s){do{var a=px(n.alternate,n);if(a!==null){a.flags&=32767,we=a;return}if(a=n.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!s&&(n=n.sibling,n!==null)){we=n;return}we=n=a}while(n!==null);it=6,we=null}function Dp(n,s,a,u,m,y,w,E,A){n.cancelPendingCommit=null;do yo();while(gt!==0);if((je&6)!==0)throw Error(r(327));if(s!==null){if(s===n.current)throw Error(r(177));if(y=s.lanes|s.childLanes,y|=Bl,ty(n,a,y,w,E,A),n===$e&&(we=$e=null,Ne=0),Fs=s,Si=n,Qn=a,Yu=y,Xu=m,_p=u,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,Ax(oi,function(){return Op(),null})):(n.callbackNode=null,n.callbackPriority=0),u=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||u){u=j.T,j.T=null,m=Y.p,Y.p=2,w=je,je|=4;try{mx(n,s,a)}finally{je=w,Y.p=m,j.T=u}}gt=1,Mp(),Up(),Pp()}}function Mp(){if(gt===1){gt=0;var n=Si,s=Fs,a=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||a){a=j.T,j.T=null;var u=Y.p;Y.p=2;var m=je;je|=4;try{hp(s,n);var y=dc,w=xf(n.containerInfo),E=y.focusedElem,A=y.selectionRange;if(w!==E&&E&&E.ownerDocument&&yf(E.ownerDocument.documentElement,E)){if(A!==null&&Ll(E)){var L=A.start,B=A.end;if(B===void 0&&(B=L),"selectionStart"in E)E.selectionStart=L,E.selectionEnd=Math.min(B,E.value.length);else{var $=E.ownerDocument||document,O=$&&$.defaultView||window;if(O.getSelection){var G=O.getSelection(),se=E.textContent.length,fe=Math.min(A.start,se),Fe=A.end===void 0?fe:Math.min(A.end,se);!G.extend&&fe>Fe&&(w=Fe,Fe=fe,fe=w);var I=vf(E,fe),k=vf(E,Fe);if(I&&k&&(G.rangeCount!==1||G.anchorNode!==I.node||G.anchorOffset!==I.offset||G.focusNode!==k.node||G.focusOffset!==k.offset)){var P=$.createRange();P.setStart(I.node,I.offset),G.removeAllRanges(),fe>Fe?(G.addRange(P),G.extend(k.node,k.offset)):(P.setEnd(k.node,k.offset),G.addRange(P))}}}}for($=[],G=E;G=G.parentNode;)G.nodeType===1&&$.push({element:G,left:G.scrollLeft,top:G.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<$.length;E++){var z=$[E];z.element.scrollLeft=z.left,z.element.scrollTop=z.top}}ko=!!cc,dc=cc=null}finally{je=m,Y.p=u,j.T=a}}n.current=s,gt=2}}function Up(){if(gt===2){gt=0;var n=Si,s=Fs,a=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||a){a=j.T,j.T=null;var u=Y.p;Y.p=2;var m=je;je|=4;try{lp(n,s.alternate,s)}finally{je=m,Y.p=u,j.T=a}}gt=3}}function Pp(){if(gt===4||gt===3){gt=0,fs();var n=Si,s=Fs,a=Qn,u=_p;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?gt=5:(gt=0,Fs=Si=null,Lp(n,n.pendingLanes));var m=n.pendingLanes;if(m===0&&(wi=null),vl(a),s=s.stateNode,Mt&&typeof Mt.onCommitFiberRoot=="function")try{Mt.onCommitFiberRoot(ji,s,void 0,(s.current.flags&128)===128)}catch{}if(u!==null){s=j.T,m=Y.p,Y.p=2,j.T=null;try{for(var y=n.onRecoverableError,w=0;w<u.length;w++){var E=u[w];y(E.value,{componentStack:E.stack})}}finally{j.T=s,Y.p=m}}(Qn&3)!==0&&yo(),Un(n),m=n.pendingLanes,(a&261930)!==0&&(m&42)!==0?n===Wu?Wr++:(Wr=0,Wu=n):Wr=0,Qr(0)}}function Lp(n,s){(n.pooledCacheLanes&=s)===0&&(s=n.pooledCache,s!=null&&(n.pooledCache=null,Dr(s)))}function yo(){return Mp(),Up(),Pp(),Op()}function Op(){if(gt!==5)return!1;var n=Si,s=Yu;Yu=0;var a=vl(Qn),u=j.T,m=Y.p;try{Y.p=32>a?32:a,j.T=null,a=Xu,Xu=null;var y=Si,w=Qn;if(gt=0,Fs=Si=null,Qn=0,(je&6)!==0)throw Error(r(331));var E=je;if(je|=4,yp(y.current),mp(y,y.current,w,a),je=E,Qr(0,!1),Mt&&typeof Mt.onPostCommitFiberRoot=="function")try{Mt.onPostCommitFiberRoot(ji,y)}catch{}return!0}finally{Y.p=m,j.T=u,Lp(n,s)}}function jp(n,s,a){s=cn(a,s),s=Ru(n.stateNode,s,2),n=gi(n,s,2),n!==null&&(yr(n,2),Un(n))}function Be(n,s,a){if(n.tag===3)jp(n,n,a);else for(;s!==null;){if(s.tag===3){jp(s,n,a);break}else if(s.tag===1){var u=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(wi===null||!wi.has(u))){n=cn(a,n),a=Gh(2),u=gi(s,a,2),u!==null&&(Hh(a,u,s,n),yr(u,2),Un(u));break}}s=s.return}}function ec(n,s,a){var u=n.pingCache;if(u===null){u=n.pingCache=new yx;var m=new Set;u.set(s,m)}else m=u.get(s),m===void 0&&(m=new Set,u.set(s,m));m.has(a)||($u=!0,m.add(a),n=Sx.bind(null,n,s,a),s.then(n,n))}function Sx(n,s,a){var u=n.pingCache;u!==null&&u.delete(s),n.pingedLanes|=n.suspendedLanes&a,n.warmLanes&=~a,$e===n&&(Ne&a)===a&&(it===4||it===3&&(Ne&62914560)===Ne&&300>q()-fo?(je&2)===0&&$s(n,0):Ju|=a,zs===Ne&&(zs=0)),Un(n)}function Gp(n,s){s===0&&(s=Dd()),n=Vi(n,s),n!==null&&(yr(n,s),Un(n))}function Ex(n){var s=n.memoizedState,a=0;s!==null&&(a=s.retryLane),Gp(n,a)}function Tx(n,s){var a=0;switch(n.tag){case 31:case 13:var u=n.stateNode,m=n.memoizedState;m!==null&&(a=m.retryLane);break;case 19:u=n.stateNode;break;case 22:u=n.stateNode._retryCache;break;default:throw Error(r(314))}u!==null&&u.delete(s),Gp(n,a)}function Ax(n,s){return ri(n,s)}var xo=null,Ks=null,tc=!1,bo=!1,nc=!1,Ti=0;function Un(n){n!==Ks&&n.next===null&&(Ks===null?xo=Ks=n:Ks=Ks.next=n),bo=!0,tc||(tc=!0,Cx())}function Qr(n,s){if(!nc&&bo){nc=!0;do for(var a=!1,u=xo;u!==null;){if(n!==0){var m=u.pendingLanes;if(m===0)var y=0;else{var w=u.suspendedLanes,E=u.pingedLanes;y=(1<<31-Ut(42|n)+1)-1,y&=m&~(w&~E),y=y&201326741?y&201326741|1:y?y|2:0}y!==0&&(a=!0,Vp(u,y))}else y=Ne,y=rn(u,u===$e?y:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(y&3)===0||an(u,y)||(a=!0,Vp(u,y));u=u.next}while(a);nc=!1}}function Nx(){Hp()}function Hp(){bo=tc=!1;var n=0;Ti!==0&&jx()&&(n=Ti);for(var s=q(),a=null,u=xo;u!==null;){var m=u.next,y=Bp(u,s);y===0?(u.next=null,a===null?xo=m:a.next=m,m===null&&(Ks=a)):(a=u,(n!==0||(y&3)!==0)&&(bo=!0)),u=m}gt!==0&&gt!==5||Qr(n),Ti!==0&&(Ti=0)}function Bp(n,s){for(var a=n.suspendedLanes,u=n.pingedLanes,m=n.expirationTimes,y=n.pendingLanes&-62914561;0<y;){var w=31-Ut(y),E=1<<w,A=m[w];A===-1?((E&a)===0||(E&u)!==0)&&(m[w]=pl(E,s)):A<=s&&(n.expiredLanes|=E),y&=~E}if(s=$e,a=Ne,a=rn(n,n===s?a:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),u=n.callbackNode,a===0||n===s&&(He===2||He===9)||n.cancelPendingCommit!==null)return u!==null&&u!==null&&Li(u),n.callbackNode=null,n.callbackPriority=0;if((a&3)===0||an(n,a)){if(s=a&-a,s===n.callbackPriority)return s;switch(u!==null&&Li(u),vl(a)){case 2:case 8:a=mt;break;case 32:a=oi;break;case 268435456:a=jt;break;default:a=oi}return u=qp.bind(null,n),a=ri(a,u),n.callbackPriority=s,n.callbackNode=a,s}return u!==null&&u!==null&&Li(u),n.callbackPriority=2,n.callbackNode=null,2}function qp(n,s){if(gt!==0&&gt!==5)return n.callbackNode=null,n.callbackPriority=0,null;var a=n.callbackNode;if(yo()&&n.callbackNode!==a)return null;var u=Ne;return u=rn(n,n===$e?u:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),u===0?null:(Sp(n,u,s),Bp(n,q()),n.callbackNode!=null&&n.callbackNode===a?qp.bind(null,n):null)}function Vp(n,s){if(yo())return null;Sp(n,s,!0)}function Cx(){Hx(function(){(je&6)!==0?ri(lt,Nx):Hp()})}function ic(){if(Ti===0){var n=Ms;n===0&&(n=ne,ne<<=1,(ne&261888)===0&&(ne=256)),Ti=n}return Ti}function zp(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:Na(""+n)}function Fp(n,s){var a=s.ownerDocument.createElement("input");return a.name=s.name,a.value=s.value,n.id&&a.setAttribute("form",n.id),s.parentNode.insertBefore(a,s),n=new FormData(n),a.parentNode.removeChild(a),n}function Rx(n,s,a,u,m){if(s==="submit"&&a&&a.stateNode===m){var y=zp((m[Gt]||null).action),w=u.submitter;w&&(s=(s=w[Gt]||null)?zp(s.formAction):w.getAttribute("formAction"),s!==null&&(y=s,w=null));var E=new Ia("action","action",null,u,m);n.push({event:E,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(Ti!==0){var A=w?Fp(m,w):new FormData(m);Su(a,{pending:!0,data:A,method:m.method,action:y},null,A)}}else typeof y=="function"&&(E.preventDefault(),A=w?Fp(m,w):new FormData(m),Su(a,{pending:!0,data:A,method:m.method,action:y},y,A))},currentTarget:m}]})}}for(var sc=0;sc<Hl.length;sc++){var rc=Hl[sc],kx=rc.toLowerCase(),Ix=rc[0].toUpperCase()+rc.slice(1);_n(kx,"on"+Ix)}_n(wf,"onAnimationEnd"),_n(Sf,"onAnimationIteration"),_n(Ef,"onAnimationStart"),_n("dblclick","onDoubleClick"),_n("focusin","onFocus"),_n("focusout","onBlur"),_n(Jy,"onTransitionRun"),_n(Ky,"onTransitionStart"),_n(Yy,"onTransitionCancel"),_n(Tf,"onTransitionEnd"),xs("onMouseEnter",["mouseout","mouseover"]),xs("onMouseLeave",["mouseout","mouseover"]),xs("onPointerEnter",["pointerout","pointerover"]),xs("onPointerLeave",["pointerout","pointerover"]),Gi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Gi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Gi("onBeforeInput",["compositionend","keypress","textInput","paste"]),Gi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Gi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Gi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Zr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Dx=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Zr));function $p(n,s){s=(s&4)!==0;for(var a=0;a<n.length;a++){var u=n[a],m=u.event;u=u.listeners;e:{var y=void 0;if(s)for(var w=u.length-1;0<=w;w--){var E=u[w],A=E.instance,L=E.currentTarget;if(E=E.listener,A!==y&&m.isPropagationStopped())break e;y=E,m.currentTarget=L;try{y(m)}catch(B){Ua(B)}m.currentTarget=null,y=A}else for(w=0;w<u.length;w++){if(E=u[w],A=E.instance,L=E.currentTarget,E=E.listener,A!==y&&m.isPropagationStopped())break e;y=E,m.currentTarget=L;try{y(m)}catch(B){Ua(B)}m.currentTarget=null,y=A}}}}function Se(n,s){var a=s[yl];a===void 0&&(a=s[yl]=new Set);var u=n+"__bubble";a.has(u)||(Jp(s,n,2,!1),a.add(u))}function ac(n,s,a){var u=0;s&&(u|=4),Jp(a,n,u,s)}var _o="_reactListening"+Math.random().toString(36).slice(2);function oc(n){if(!n[_o]){n[_o]=!0,Gd.forEach(function(a){a!=="selectionchange"&&(Dx.has(a)||ac(a,!1,n),ac(a,!0,n))});var s=n.nodeType===9?n:n.ownerDocument;s===null||s[_o]||(s[_o]=!0,ac("selectionchange",!1,s))}}function Jp(n,s,a,u){switch(wm(s)){case 2:var m=ab;break;case 8:m=ob;break;default:m=wc}a=m.bind(null,s,a,n),m=void 0,!Nl||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(m=!0),u?m!==void 0?n.addEventListener(s,a,{capture:!0,passive:m}):n.addEventListener(s,a,!0):m!==void 0?n.addEventListener(s,a,{passive:m}):n.addEventListener(s,a,!1)}function lc(n,s,a,u,m){var y=u;if((s&1)===0&&(s&2)===0&&u!==null)e:for(;;){if(u===null)return;var w=u.tag;if(w===3||w===4){var E=u.stateNode.containerInfo;if(E===m)break;if(w===4)for(w=u.return;w!==null;){var A=w.tag;if((A===3||A===4)&&w.stateNode.containerInfo===m)return;w=w.return}for(;E!==null;){if(w=gs(E),w===null)return;if(A=w.tag,A===5||A===6||A===26||A===27){u=y=w;continue e}E=E.parentNode}}u=u.return}Wd(function(){var L=y,B=Tl(a),$=[];e:{var O=Af.get(n);if(O!==void 0){var G=Ia,se=n;switch(n){case"keypress":if(Ra(a)===0)break e;case"keydown":case"keyup":G=Ty;break;case"focusin":se="focus",G=Il;break;case"focusout":se="blur",G=Il;break;case"beforeblur":case"afterblur":G=Il;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":G=ef;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":G=hy;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":G=Cy;break;case wf:case Sf:case Ef:G=gy;break;case Tf:G=ky;break;case"scroll":case"scrollend":G=dy;break;case"wheel":G=Dy;break;case"copy":case"cut":case"paste":G=yy;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":G=nf;break;case"toggle":case"beforetoggle":G=Uy}var fe=(s&4)!==0,Fe=!fe&&(n==="scroll"||n==="scrollend"),I=fe?O!==null?O+"Capture":null:O;fe=[];for(var k=L,P;k!==null;){var z=k;if(P=z.stateNode,z=z.tag,z!==5&&z!==26&&z!==27||P===null||I===null||(z=_r(k,I),z!=null&&fe.push(ea(k,z,P))),Fe)break;k=k.return}0<fe.length&&(O=new G(O,se,null,a,B),$.push({event:O,listeners:fe}))}}if((s&7)===0){e:{if(O=n==="mouseover"||n==="pointerover",G=n==="mouseout"||n==="pointerout",O&&a!==El&&(se=a.relatedTarget||a.fromElement)&&(gs(se)||se[ms]))break e;if((G||O)&&(O=B.window===B?B:(O=B.ownerDocument)?O.defaultView||O.parentWindow:window,G?(se=a.relatedTarget||a.toElement,G=L,se=se?gs(se):null,se!==null&&(Fe=l(se),fe=se.tag,se!==Fe||fe!==5&&fe!==27&&fe!==6)&&(se=null)):(G=null,se=L),G!==se)){if(fe=ef,z="onMouseLeave",I="onMouseEnter",k="mouse",(n==="pointerout"||n==="pointerover")&&(fe=nf,z="onPointerLeave",I="onPointerEnter",k="pointer"),Fe=G==null?O:br(G),P=se==null?O:br(se),O=new fe(z,k+"leave",G,a,B),O.target=Fe,O.relatedTarget=P,z=null,gs(B)===L&&(fe=new fe(I,k+"enter",se,a,B),fe.target=P,fe.relatedTarget=Fe,z=fe),Fe=z,G&&se)t:{for(fe=Mx,I=G,k=se,P=0,z=I;z;z=fe(z))P++;z=0;for(var ue=k;ue;ue=fe(ue))z++;for(;0<P-z;)I=fe(I),P--;for(;0<z-P;)k=fe(k),z--;for(;P--;){if(I===k||k!==null&&I===k.alternate){fe=I;break t}I=fe(I),k=fe(k)}fe=null}else fe=null;G!==null&&Kp($,O,G,fe,!1),se!==null&&Fe!==null&&Kp($,Fe,se,fe,!0)}}e:{if(O=L?br(L):window,G=O.nodeName&&O.nodeName.toLowerCase(),G==="select"||G==="input"&&O.type==="file")var Ue=df;else if(uf(O))if(ff)Ue=zy;else{Ue=qy;var re=By}else G=O.nodeName,!G||G.toLowerCase()!=="input"||O.type!=="checkbox"&&O.type!=="radio"?L&&Sl(L.elementType)&&(Ue=df):Ue=Vy;if(Ue&&(Ue=Ue(n,L))){cf($,Ue,a,B);break e}re&&re(n,O,L),n==="focusout"&&L&&O.type==="number"&&L.memoizedProps.value!=null&&wl(O,"number",O.value)}switch(re=L?br(L):window,n){case"focusin":(uf(re)||re.contentEditable==="true")&&(Ts=re,Ol=L,Rr=null);break;case"focusout":Rr=Ol=Ts=null;break;case"mousedown":jl=!0;break;case"contextmenu":case"mouseup":case"dragend":jl=!1,bf($,a,B);break;case"selectionchange":if($y)break;case"keydown":case"keyup":bf($,a,B)}var be;if(Ml)e:{switch(n){case"compositionstart":var Ce="onCompositionStart";break e;case"compositionend":Ce="onCompositionEnd";break e;case"compositionupdate":Ce="onCompositionUpdate";break e}Ce=void 0}else Es?of(n,a)&&(Ce="onCompositionEnd"):n==="keydown"&&a.keyCode===229&&(Ce="onCompositionStart");Ce&&(sf&&a.locale!=="ko"&&(Es||Ce!=="onCompositionStart"?Ce==="onCompositionEnd"&&Es&&(be=Qd()):(ui=B,Cl="value"in ui?ui.value:ui.textContent,Es=!0)),re=wo(L,Ce),0<re.length&&(Ce=new tf(Ce,n,null,a,B),$.push({event:Ce,listeners:re}),be?Ce.data=be:(be=lf(a),be!==null&&(Ce.data=be)))),(be=Ly?Oy(n,a):jy(n,a))&&(Ce=wo(L,"onBeforeInput"),0<Ce.length&&(re=new tf("onBeforeInput","beforeinput",null,a,B),$.push({event:re,listeners:Ce}),re.data=be)),Rx($,n,L,a,B)}$p($,s)})}function ea(n,s,a){return{instance:n,listener:s,currentTarget:a}}function wo(n,s){for(var a=s+"Capture",u=[];n!==null;){var m=n,y=m.stateNode;if(m=m.tag,m!==5&&m!==26&&m!==27||y===null||(m=_r(n,a),m!=null&&u.unshift(ea(n,m,y)),m=_r(n,s),m!=null&&u.push(ea(n,m,y))),n.tag===3)return u;n=n.return}return[]}function Mx(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function Kp(n,s,a,u,m){for(var y=s._reactName,w=[];a!==null&&a!==u;){var E=a,A=E.alternate,L=E.stateNode;if(E=E.tag,A!==null&&A===u)break;E!==5&&E!==26&&E!==27||L===null||(A=L,m?(L=_r(a,y),L!=null&&w.unshift(ea(a,L,A))):m||(L=_r(a,y),L!=null&&w.push(ea(a,L,A)))),a=a.return}w.length!==0&&n.push({event:s,listeners:w})}var Ux=/\r\n?/g,Px=/\u0000|\uFFFD/g;function Yp(n){return(typeof n=="string"?n:""+n).replace(Ux,`
`).replace(Px,"")}function Xp(n,s){return s=Yp(s),Yp(n)===s}function ze(n,s,a,u,m,y){switch(a){case"children":typeof u=="string"?s==="body"||s==="textarea"&&u===""||_s(n,u):(typeof u=="number"||typeof u=="bigint")&&s!=="body"&&_s(n,""+u);break;case"className":Ta(n,"class",u);break;case"tabIndex":Ta(n,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":Ta(n,a,u);break;case"style":Yd(n,u,y);break;case"data":if(s!=="object"){Ta(n,"data",u);break}case"src":case"href":if(u===""&&(s!=="a"||a!=="href")){n.removeAttribute(a);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){n.removeAttribute(a);break}u=Na(""+u),n.setAttribute(a,u);break;case"action":case"formAction":if(typeof u=="function"){n.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(a==="formAction"?(s!=="input"&&ze(n,s,"name",m.name,m,null),ze(n,s,"formEncType",m.formEncType,m,null),ze(n,s,"formMethod",m.formMethod,m,null),ze(n,s,"formTarget",m.formTarget,m,null)):(ze(n,s,"encType",m.encType,m,null),ze(n,s,"method",m.method,m,null),ze(n,s,"target",m.target,m,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){n.removeAttribute(a);break}u=Na(""+u),n.setAttribute(a,u);break;case"onClick":u!=null&&(n.onclick=On);break;case"onScroll":u!=null&&Se("scroll",n);break;case"onScrollEnd":u!=null&&Se("scrollend",n);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(r(61));if(a=u.__html,a!=null){if(m.children!=null)throw Error(r(60));n.innerHTML=a}}break;case"multiple":n.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":n.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){n.removeAttribute("xlink:href");break}a=Na(""+u),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(a,""+u):n.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(a,""):n.removeAttribute(a);break;case"capture":case"download":u===!0?n.setAttribute(a,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(a,u):n.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?n.setAttribute(a,u):n.removeAttribute(a);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?n.removeAttribute(a):n.setAttribute(a,u);break;case"popover":Se("beforetoggle",n),Se("toggle",n),Ea(n,"popover",u);break;case"xlinkActuate":Ln(n,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":Ln(n,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":Ln(n,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":Ln(n,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":Ln(n,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":Ln(n,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":Ln(n,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":Ln(n,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":Ln(n,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":Ea(n,"is",u);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=uy.get(a)||a,Ea(n,a,u))}}function uc(n,s,a,u,m,y){switch(a){case"style":Yd(n,u,y);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(r(61));if(a=u.__html,a!=null){if(m.children!=null)throw Error(r(60));n.innerHTML=a}}break;case"children":typeof u=="string"?_s(n,u):(typeof u=="number"||typeof u=="bigint")&&_s(n,""+u);break;case"onScroll":u!=null&&Se("scroll",n);break;case"onScrollEnd":u!=null&&Se("scrollend",n);break;case"onClick":u!=null&&(n.onclick=On);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Hd.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(m=a.endsWith("Capture"),s=a.slice(2,m?a.length-7:void 0),y=n[Gt]||null,y=y!=null?y[a]:null,typeof y=="function"&&n.removeEventListener(s,y,m),typeof u=="function")){typeof y!="function"&&y!==null&&(a in n?n[a]=null:n.hasAttribute(a)&&n.removeAttribute(a)),n.addEventListener(s,u,m);break e}a in n?n[a]=u:u===!0?n.setAttribute(a,""):Ea(n,a,u)}}}function At(n,s,a){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Se("error",n),Se("load",n);var u=!1,m=!1,y;for(y in a)if(a.hasOwnProperty(y)){var w=a[y];if(w!=null)switch(y){case"src":u=!0;break;case"srcSet":m=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:ze(n,s,y,w,a,null)}}m&&ze(n,s,"srcSet",a.srcSet,a,null),u&&ze(n,s,"src",a.src,a,null);return;case"input":Se("invalid",n);var E=y=w=m=null,A=null,L=null;for(u in a)if(a.hasOwnProperty(u)){var B=a[u];if(B!=null)switch(u){case"name":m=B;break;case"type":w=B;break;case"checked":A=B;break;case"defaultChecked":L=B;break;case"value":y=B;break;case"defaultValue":E=B;break;case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(r(137,s));break;default:ze(n,s,u,B,a,null)}}Fd(n,y,E,A,L,w,m,!1);return;case"select":Se("invalid",n),u=w=y=null;for(m in a)if(a.hasOwnProperty(m)&&(E=a[m],E!=null))switch(m){case"value":y=E;break;case"defaultValue":w=E;break;case"multiple":u=E;default:ze(n,s,m,E,a,null)}s=y,a=w,n.multiple=!!u,s!=null?bs(n,!!u,s,!1):a!=null&&bs(n,!!u,a,!0);return;case"textarea":Se("invalid",n),y=m=u=null;for(w in a)if(a.hasOwnProperty(w)&&(E=a[w],E!=null))switch(w){case"value":u=E;break;case"defaultValue":m=E;break;case"children":y=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(r(91));break;default:ze(n,s,w,E,a,null)}Jd(n,u,m,y);return;case"option":for(A in a)if(a.hasOwnProperty(A)&&(u=a[A],u!=null))switch(A){case"selected":n.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:ze(n,s,A,u,a,null)}return;case"dialog":Se("beforetoggle",n),Se("toggle",n),Se("cancel",n),Se("close",n);break;case"iframe":case"object":Se("load",n);break;case"video":case"audio":for(u=0;u<Zr.length;u++)Se(Zr[u],n);break;case"image":Se("error",n),Se("load",n);break;case"details":Se("toggle",n);break;case"embed":case"source":case"link":Se("error",n),Se("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(L in a)if(a.hasOwnProperty(L)&&(u=a[L],u!=null))switch(L){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:ze(n,s,L,u,a,null)}return;default:if(Sl(s)){for(B in a)a.hasOwnProperty(B)&&(u=a[B],u!==void 0&&uc(n,s,B,u,a,void 0));return}}for(E in a)a.hasOwnProperty(E)&&(u=a[E],u!=null&&ze(n,s,E,u,a,null))}function Lx(n,s,a,u){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var m=null,y=null,w=null,E=null,A=null,L=null,B=null;for(G in a){var $=a[G];if(a.hasOwnProperty(G)&&$!=null)switch(G){case"checked":break;case"value":break;case"defaultValue":A=$;default:u.hasOwnProperty(G)||ze(n,s,G,null,u,$)}}for(var O in u){var G=u[O];if($=a[O],u.hasOwnProperty(O)&&(G!=null||$!=null))switch(O){case"type":y=G;break;case"name":m=G;break;case"checked":L=G;break;case"defaultChecked":B=G;break;case"value":w=G;break;case"defaultValue":E=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(r(137,s));break;default:G!==$&&ze(n,s,O,G,u,$)}}_l(n,w,E,A,L,B,y,m);return;case"select":G=w=E=O=null;for(y in a)if(A=a[y],a.hasOwnProperty(y)&&A!=null)switch(y){case"value":break;case"multiple":G=A;default:u.hasOwnProperty(y)||ze(n,s,y,null,u,A)}for(m in u)if(y=u[m],A=a[m],u.hasOwnProperty(m)&&(y!=null||A!=null))switch(m){case"value":O=y;break;case"defaultValue":E=y;break;case"multiple":w=y;default:y!==A&&ze(n,s,m,y,u,A)}s=E,a=w,u=G,O!=null?bs(n,!!a,O,!1):!!u!=!!a&&(s!=null?bs(n,!!a,s,!0):bs(n,!!a,a?[]:"",!1));return;case"textarea":G=O=null;for(E in a)if(m=a[E],a.hasOwnProperty(E)&&m!=null&&!u.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:ze(n,s,E,null,u,m)}for(w in u)if(m=u[w],y=a[w],u.hasOwnProperty(w)&&(m!=null||y!=null))switch(w){case"value":O=m;break;case"defaultValue":G=m;break;case"children":break;case"dangerouslySetInnerHTML":if(m!=null)throw Error(r(91));break;default:m!==y&&ze(n,s,w,m,u,y)}$d(n,O,G);return;case"option":for(var se in a)if(O=a[se],a.hasOwnProperty(se)&&O!=null&&!u.hasOwnProperty(se))switch(se){case"selected":n.selected=!1;break;default:ze(n,s,se,null,u,O)}for(A in u)if(O=u[A],G=a[A],u.hasOwnProperty(A)&&O!==G&&(O!=null||G!=null))switch(A){case"selected":n.selected=O&&typeof O!="function"&&typeof O!="symbol";break;default:ze(n,s,A,O,u,G)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var fe in a)O=a[fe],a.hasOwnProperty(fe)&&O!=null&&!u.hasOwnProperty(fe)&&ze(n,s,fe,null,u,O);for(L in u)if(O=u[L],G=a[L],u.hasOwnProperty(L)&&O!==G&&(O!=null||G!=null))switch(L){case"children":case"dangerouslySetInnerHTML":if(O!=null)throw Error(r(137,s));break;default:ze(n,s,L,O,u,G)}return;default:if(Sl(s)){for(var Fe in a)O=a[Fe],a.hasOwnProperty(Fe)&&O!==void 0&&!u.hasOwnProperty(Fe)&&uc(n,s,Fe,void 0,u,O);for(B in u)O=u[B],G=a[B],!u.hasOwnProperty(B)||O===G||O===void 0&&G===void 0||uc(n,s,B,O,u,G);return}}for(var I in a)O=a[I],a.hasOwnProperty(I)&&O!=null&&!u.hasOwnProperty(I)&&ze(n,s,I,null,u,O);for($ in u)O=u[$],G=a[$],!u.hasOwnProperty($)||O===G||O==null&&G==null||ze(n,s,$,O,u,G)}function Wp(n){switch(n){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Ox(){if(typeof performance.getEntriesByType=="function"){for(var n=0,s=0,a=performance.getEntriesByType("resource"),u=0;u<a.length;u++){var m=a[u],y=m.transferSize,w=m.initiatorType,E=m.duration;if(y&&E&&Wp(w)){for(w=0,E=m.responseEnd,u+=1;u<a.length;u++){var A=a[u],L=A.startTime;if(L>E)break;var B=A.transferSize,$=A.initiatorType;B&&Wp($)&&(A=A.responseEnd,w+=B*(A<E?1:(E-L)/(A-L)))}if(--u,s+=8*(y+w)/(m.duration/1e3),n++,10<n)break}}if(0<n)return s/n/1e6}return navigator.connection&&(n=navigator.connection.downlink,typeof n=="number")?n:5}var cc=null,dc=null;function So(n){return n.nodeType===9?n:n.ownerDocument}function Qp(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Zp(n,s){if(n===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&s==="foreignObject"?0:n}function fc(n,s){return n==="textarea"||n==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var hc=null;function jx(){var n=window.event;return n&&n.type==="popstate"?n===hc?!1:(hc=n,!0):(hc=null,!1)}var em=typeof setTimeout=="function"?setTimeout:void 0,Gx=typeof clearTimeout=="function"?clearTimeout:void 0,tm=typeof Promise=="function"?Promise:void 0,Hx=typeof queueMicrotask=="function"?queueMicrotask:typeof tm<"u"?function(n){return tm.resolve(null).then(n).catch(Bx)}:em;function Bx(n){setTimeout(function(){throw n})}function Ai(n){return n==="head"}function nm(n,s){var a=s,u=0;do{var m=a.nextSibling;if(n.removeChild(a),m&&m.nodeType===8)if(a=m.data,a==="/$"||a==="/&"){if(u===0){n.removeChild(m),Qs(s);return}u--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")u++;else if(a==="html")ta(n.ownerDocument.documentElement);else if(a==="head"){a=n.ownerDocument.head,ta(a);for(var y=a.firstChild;y;){var w=y.nextSibling,E=y.nodeName;y[xr]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&y.rel.toLowerCase()==="stylesheet"||a.removeChild(y),y=w}}else a==="body"&&ta(n.ownerDocument.body);a=m}while(a);Qs(s)}function im(n,s){var a=n;n=0;do{var u=a.nextSibling;if(a.nodeType===1?s?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(s?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),u&&u.nodeType===8)if(a=u.data,a==="/$"){if(n===0)break;n--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||n++;a=u}while(a)}function pc(n){var s=n.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var a=s;switch(s=s.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":pc(a),xl(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}n.removeChild(a)}}function qx(n,s,a,u){for(;n.nodeType===1;){var m=a;if(n.nodeName.toLowerCase()!==s.toLowerCase()){if(!u&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(u){if(!n[xr])switch(s){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(y=n.getAttribute("rel"),y==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(y!==m.rel||n.getAttribute("href")!==(m.href==null||m.href===""?null:m.href)||n.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin)||n.getAttribute("title")!==(m.title==null?null:m.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(y=n.getAttribute("src"),(y!==(m.src==null?null:m.src)||n.getAttribute("type")!==(m.type==null?null:m.type)||n.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin))&&y&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(s==="input"&&n.type==="hidden"){var y=m.name==null?null:""+m.name;if(m.type==="hidden"&&n.getAttribute("name")===y)return n}else return n;if(n=mn(n.nextSibling),n===null)break}return null}function Vx(n,s,a){if(s==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!a||(n=mn(n.nextSibling),n===null))return null;return n}function sm(n,s){for(;n.nodeType!==8;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!s||(n=mn(n.nextSibling),n===null))return null;return n}function mc(n){return n.data==="$?"||n.data==="$~"}function gc(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState!=="loading"}function zx(n,s){var a=n.ownerDocument;if(n.data==="$~")n._reactRetry=s;else if(n.data!=="$?"||a.readyState!=="loading")s();else{var u=function(){s(),a.removeEventListener("DOMContentLoaded",u)};a.addEventListener("DOMContentLoaded",u),n._reactRetry=u}}function mn(n){for(;n!=null;n=n.nextSibling){var s=n.nodeType;if(s===1||s===3)break;if(s===8){if(s=n.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return n}var vc=null;function rm(n){n=n.nextSibling;for(var s=0;n;){if(n.nodeType===8){var a=n.data;if(a==="/$"||a==="/&"){if(s===0)return mn(n.nextSibling);s--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||s++}n=n.nextSibling}return null}function am(n){n=n.previousSibling;for(var s=0;n;){if(n.nodeType===8){var a=n.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(s===0)return n;s--}else a!=="/$"&&a!=="/&"||s++}n=n.previousSibling}return null}function om(n,s,a){switch(s=So(a),n){case"html":if(n=s.documentElement,!n)throw Error(r(452));return n;case"head":if(n=s.head,!n)throw Error(r(453));return n;case"body":if(n=s.body,!n)throw Error(r(454));return n;default:throw Error(r(451))}}function ta(n){for(var s=n.attributes;s.length;)n.removeAttributeNode(s[0]);xl(n)}var gn=new Map,lm=new Set;function Eo(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var Zn=Y.d;Y.d={f:Fx,r:$x,D:Jx,C:Kx,L:Yx,m:Xx,X:Qx,S:Wx,M:Zx};function Fx(){var n=Zn.f(),s=mo();return n||s}function $x(n){var s=vs(n);s!==null&&s.tag===5&&s.type==="form"?Th(s):Zn.r(n)}var Ys=typeof document>"u"?null:document;function um(n,s,a){var u=Ys;if(u&&typeof s=="string"&&s){var m=ln(s);m='link[rel="'+n+'"][href="'+m+'"]',typeof a=="string"&&(m+='[crossorigin="'+a+'"]'),lm.has(m)||(lm.add(m),n={rel:n,crossOrigin:a,href:s},u.querySelector(m)===null&&(s=u.createElement("link"),At(s,"link",n),xt(s),u.head.appendChild(s)))}}function Jx(n){Zn.D(n),um("dns-prefetch",n,null)}function Kx(n,s){Zn.C(n,s),um("preconnect",n,s)}function Yx(n,s,a){Zn.L(n,s,a);var u=Ys;if(u&&n&&s){var m='link[rel="preload"][as="'+ln(s)+'"]';s==="image"&&a&&a.imageSrcSet?(m+='[imagesrcset="'+ln(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(m+='[imagesizes="'+ln(a.imageSizes)+'"]')):m+='[href="'+ln(n)+'"]';var y=m;switch(s){case"style":y=Xs(n);break;case"script":y=Ws(n)}gn.has(y)||(n=b({rel:"preload",href:s==="image"&&a&&a.imageSrcSet?void 0:n,as:s},a),gn.set(y,n),u.querySelector(m)!==null||s==="style"&&u.querySelector(na(y))||s==="script"&&u.querySelector(ia(y))||(s=u.createElement("link"),At(s,"link",n),xt(s),u.head.appendChild(s)))}}function Xx(n,s){Zn.m(n,s);var a=Ys;if(a&&n){var u=s&&typeof s.as=="string"?s.as:"script",m='link[rel="modulepreload"][as="'+ln(u)+'"][href="'+ln(n)+'"]',y=m;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=Ws(n)}if(!gn.has(y)&&(n=b({rel:"modulepreload",href:n},s),gn.set(y,n),a.querySelector(m)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(ia(y)))return}u=a.createElement("link"),At(u,"link",n),xt(u),a.head.appendChild(u)}}}function Wx(n,s,a){Zn.S(n,s,a);var u=Ys;if(u&&n){var m=ys(u).hoistableStyles,y=Xs(n);s=s||"default";var w=m.get(y);if(!w){var E={loading:0,preload:null};if(w=u.querySelector(na(y)))E.loading=5;else{n=b({rel:"stylesheet",href:n,"data-precedence":s},a),(a=gn.get(y))&&yc(n,a);var A=w=u.createElement("link");xt(A),At(A,"link",n),A._p=new Promise(function(L,B){A.onload=L,A.onerror=B}),A.addEventListener("load",function(){E.loading|=1}),A.addEventListener("error",function(){E.loading|=2}),E.loading|=4,To(w,s,u)}w={type:"stylesheet",instance:w,count:1,state:E},m.set(y,w)}}}function Qx(n,s){Zn.X(n,s);var a=Ys;if(a&&n){var u=ys(a).hoistableScripts,m=Ws(n),y=u.get(m);y||(y=a.querySelector(ia(m)),y||(n=b({src:n,async:!0},s),(s=gn.get(m))&&xc(n,s),y=a.createElement("script"),xt(y),At(y,"link",n),a.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},u.set(m,y))}}function Zx(n,s){Zn.M(n,s);var a=Ys;if(a&&n){var u=ys(a).hoistableScripts,m=Ws(n),y=u.get(m);y||(y=a.querySelector(ia(m)),y||(n=b({src:n,async:!0,type:"module"},s),(s=gn.get(m))&&xc(n,s),y=a.createElement("script"),xt(y),At(y,"link",n),a.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},u.set(m,y))}}function cm(n,s,a,u){var m=(m=ge.current)?Eo(m):null;if(!m)throw Error(r(446));switch(n){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(s=Xs(a.href),a=ys(m).hoistableStyles,u=a.get(s),u||(u={type:"style",instance:null,count:0,state:null},a.set(s,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){n=Xs(a.href);var y=ys(m).hoistableStyles,w=y.get(n);if(w||(m=m.ownerDocument||m,w={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(n,w),(y=m.querySelector(na(n)))&&!y._p&&(w.instance=y,w.state.loading=5),gn.has(n)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},gn.set(n,a),y||eb(m,n,a,w.state))),s&&u===null)throw Error(r(528,""));return w}if(s&&u!==null)throw Error(r(529,""));return null;case"script":return s=a.async,a=a.src,typeof a=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=Ws(a),a=ys(m).hoistableScripts,u=a.get(s),u||(u={type:"script",instance:null,count:0,state:null},a.set(s,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,n))}}function Xs(n){return'href="'+ln(n)+'"'}function na(n){return'link[rel="stylesheet"]['+n+"]"}function dm(n){return b({},n,{"data-precedence":n.precedence,precedence:null})}function eb(n,s,a,u){n.querySelector('link[rel="preload"][as="style"]['+s+"]")?u.loading=1:(s=n.createElement("link"),u.preload=s,s.addEventListener("load",function(){return u.loading|=1}),s.addEventListener("error",function(){return u.loading|=2}),At(s,"link",a),xt(s),n.head.appendChild(s))}function Ws(n){return'[src="'+ln(n)+'"]'}function ia(n){return"script[async]"+n}function fm(n,s,a){if(s.count++,s.instance===null)switch(s.type){case"style":var u=n.querySelector('style[data-href~="'+ln(a.href)+'"]');if(u)return s.instance=u,xt(u),u;var m=b({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return u=(n.ownerDocument||n).createElement("style"),xt(u),At(u,"style",m),To(u,a.precedence,n),s.instance=u;case"stylesheet":m=Xs(a.href);var y=n.querySelector(na(m));if(y)return s.state.loading|=4,s.instance=y,xt(y),y;u=dm(a),(m=gn.get(m))&&yc(u,m),y=(n.ownerDocument||n).createElement("link"),xt(y);var w=y;return w._p=new Promise(function(E,A){w.onload=E,w.onerror=A}),At(y,"link",u),s.state.loading|=4,To(y,a.precedence,n),s.instance=y;case"script":return y=Ws(a.src),(m=n.querySelector(ia(y)))?(s.instance=m,xt(m),m):(u=a,(m=gn.get(y))&&(u=b({},a),xc(u,m)),n=n.ownerDocument||n,m=n.createElement("script"),xt(m),At(m,"link",u),n.head.appendChild(m),s.instance=m);case"void":return null;default:throw Error(r(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(u=s.instance,s.state.loading|=4,To(u,a.precedence,n));return s.instance}function To(n,s,a){for(var u=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),m=u.length?u[u.length-1]:null,y=m,w=0;w<u.length;w++){var E=u[w];if(E.dataset.precedence===s)y=E;else if(y!==m)break}y?y.parentNode.insertBefore(n,y.nextSibling):(s=a.nodeType===9?a.head:a,s.insertBefore(n,s.firstChild))}function yc(n,s){n.crossOrigin==null&&(n.crossOrigin=s.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=s.referrerPolicy),n.title==null&&(n.title=s.title)}function xc(n,s){n.crossOrigin==null&&(n.crossOrigin=s.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=s.referrerPolicy),n.integrity==null&&(n.integrity=s.integrity)}var Ao=null;function hm(n,s,a){if(Ao===null){var u=new Map,m=Ao=new Map;m.set(a,u)}else m=Ao,u=m.get(a),u||(u=new Map,m.set(a,u));if(u.has(n))return u;for(u.set(n,null),a=a.getElementsByTagName(n),m=0;m<a.length;m++){var y=a[m];if(!(y[xr]||y[wt]||n==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var w=y.getAttribute(s)||"";w=n+w;var E=u.get(w);E?E.push(y):u.set(w,[y])}}return u}function pm(n,s,a){n=n.ownerDocument||n,n.head.insertBefore(a,s==="title"?n.querySelector("head > title"):null)}function tb(n,s,a){if(a===1||s.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return n=s.disabled,typeof s.precedence=="string"&&n==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function mm(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}function nb(n,s,a,u){if(a.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var m=Xs(u.href),y=s.querySelector(na(m));if(y){s=y._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(n.count++,n=No.bind(n),s.then(n,n)),a.state.loading|=4,a.instance=y,xt(y);return}y=s.ownerDocument||s,u=dm(u),(m=gn.get(m))&&yc(u,m),y=y.createElement("link"),xt(y);var w=y;w._p=new Promise(function(E,A){w.onload=E,w.onerror=A}),At(y,"link",u),a.instance=y}n.stylesheets===null&&(n.stylesheets=new Map),n.stylesheets.set(a,s),(s=a.state.preload)&&(a.state.loading&3)===0&&(n.count++,a=No.bind(n),s.addEventListener("load",a),s.addEventListener("error",a))}}var bc=0;function ib(n,s){return n.stylesheets&&n.count===0&&Ro(n,n.stylesheets),0<n.count||0<n.imgCount?function(a){var u=setTimeout(function(){if(n.stylesheets&&Ro(n,n.stylesheets),n.unsuspend){var y=n.unsuspend;n.unsuspend=null,y()}},6e4+s);0<n.imgBytes&&bc===0&&(bc=62500*Ox());var m=setTimeout(function(){if(n.waitingForImages=!1,n.count===0&&(n.stylesheets&&Ro(n,n.stylesheets),n.unsuspend)){var y=n.unsuspend;n.unsuspend=null,y()}},(n.imgBytes>bc?50:800)+s);return n.unsuspend=a,function(){n.unsuspend=null,clearTimeout(u),clearTimeout(m)}}:null}function No(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Ro(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var Co=null;function Ro(n,s){n.stylesheets=null,n.unsuspend!==null&&(n.count++,Co=new Map,s.forEach(sb,n),Co=null,No.call(n))}function sb(n,s){if(!(s.state.loading&4)){var a=Co.get(n);if(a)var u=a.get(null);else{a=new Map,Co.set(n,a);for(var m=n.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<m.length;y++){var w=m[y];(w.nodeName==="LINK"||w.getAttribute("media")!=="not all")&&(a.set(w.dataset.precedence,w),u=w)}u&&a.set(null,u)}m=s.instance,w=m.getAttribute("data-precedence"),y=a.get(w)||u,y===u&&a.set(null,m),a.set(w,m),this.count++,u=No.bind(this),m.addEventListener("load",u),m.addEventListener("error",u),y?y.parentNode.insertBefore(m,y.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(m,n.firstChild)),s.state.loading|=4}}var sa={$$typeof:U,Provider:null,Consumer:null,_currentValue:le,_currentValue2:le,_threadCount:0};function rb(n,s,a,u,m,y,w,E,A){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ml(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ml(0),this.hiddenUpdates=ml(null),this.identifierPrefix=u,this.onUncaughtError=m,this.onCaughtError=y,this.onRecoverableError=w,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=A,this.incompleteTransitions=new Map}function gm(n,s,a,u,m,y,w,E,A,L,B,$){return n=new rb(n,s,a,w,A,L,B,$,E),s=1,y===!0&&(s|=24),y=Kt(3,null,null,s),n.current=y,y.stateNode=n,s=Zl(),s.refCount++,n.pooledCache=s,s.refCount++,y.memoizedState={element:u,isDehydrated:a,cache:s},iu(y),n}function vm(n){return n?(n=Cs,n):Cs}function ym(n,s,a,u,m,y){m=vm(m),u.context===null?u.context=m:u.pendingContext=m,u=mi(s),u.payload={element:a},y=y===void 0?null:y,y!==null&&(u.callback=y),a=gi(n,u,s),a!==null&&(Ft(a,n,s),Lr(a,n,s))}function xm(n,s){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var a=n.retryLane;n.retryLane=a!==0&&a<s?a:s}}function _c(n,s){xm(n,s),(n=n.alternate)&&xm(n,s)}function bm(n){if(n.tag===13||n.tag===31){var s=Vi(n,67108864);s!==null&&Ft(s,n,67108864),_c(n,67108864)}}function _m(n){if(n.tag===13||n.tag===31){var s=Zt();s=gl(s);var a=Vi(n,s);a!==null&&Ft(a,n,s),_c(n,s)}}var ko=!0;function ab(n,s,a,u){var m=j.T;j.T=null;var y=Y.p;try{Y.p=2,wc(n,s,a,u)}finally{Y.p=y,j.T=m}}function ob(n,s,a,u){var m=j.T;j.T=null;var y=Y.p;try{Y.p=8,wc(n,s,a,u)}finally{Y.p=y,j.T=m}}function wc(n,s,a,u){if(ko){var m=Sc(u);if(m===null)lc(n,s,u,Io,a),Sm(n,u);else if(ub(m,n,s,a,u))u.stopPropagation();else if(Sm(n,u),s&4&&-1<lb.indexOf(n)){for(;m!==null;){var y=vs(m);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var w=ut(y.pendingLanes);if(w!==0){var E=y;for(E.pendingLanes|=2,E.entangledLanes|=2;w;){var A=1<<31-Ut(w);E.entanglements[1]|=A,w&=~A}Un(y),(je&6)===0&&(ho=q()+500,Qr(0))}}break;case 31:case 13:E=Vi(y,2),E!==null&&Ft(E,y,2),mo(),_c(y,2)}if(y=Sc(u),y===null&&lc(n,s,u,Io,a),y===m)break;m=y}m!==null&&u.stopPropagation()}else lc(n,s,u,null,a)}}function Sc(n){return n=Tl(n),Ec(n)}var Io=null;function Ec(n){if(Io=null,n=gs(n),n!==null){var s=l(n);if(s===null)n=null;else{var a=s.tag;if(a===13){if(n=c(s),n!==null)return n;n=null}else if(a===31){if(n=p(s),n!==null)return n;n=null}else if(a===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;n=null}else s!==n&&(n=null)}}return Io=n,null}function wm(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ae()){case lt:return 2;case mt:return 8;case oi:case hs:return 32;case jt:return 268435456;default:return 32}default:return 32}}var Tc=!1,Ni=null,Ci=null,Ri=null,ra=new Map,aa=new Map,ki=[],lb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Sm(n,s){switch(n){case"focusin":case"focusout":Ni=null;break;case"dragenter":case"dragleave":Ci=null;break;case"mouseover":case"mouseout":Ri=null;break;case"pointerover":case"pointerout":ra.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":aa.delete(s.pointerId)}}function oa(n,s,a,u,m,y){return n===null||n.nativeEvent!==y?(n={blockedOn:s,domEventName:a,eventSystemFlags:u,nativeEvent:y,targetContainers:[m]},s!==null&&(s=vs(s),s!==null&&bm(s)),n):(n.eventSystemFlags|=u,s=n.targetContainers,m!==null&&s.indexOf(m)===-1&&s.push(m),n)}function ub(n,s,a,u,m){switch(s){case"focusin":return Ni=oa(Ni,n,s,a,u,m),!0;case"dragenter":return Ci=oa(Ci,n,s,a,u,m),!0;case"mouseover":return Ri=oa(Ri,n,s,a,u,m),!0;case"pointerover":var y=m.pointerId;return ra.set(y,oa(ra.get(y)||null,n,s,a,u,m)),!0;case"gotpointercapture":return y=m.pointerId,aa.set(y,oa(aa.get(y)||null,n,s,a,u,m)),!0}return!1}function Em(n){var s=gs(n.target);if(s!==null){var a=l(s);if(a!==null){if(s=a.tag,s===13){if(s=c(a),s!==null){n.blockedOn=s,Od(n.priority,function(){_m(a)});return}}else if(s===31){if(s=p(a),s!==null){n.blockedOn=s,Od(n.priority,function(){_m(a)});return}}else if(s===3&&a.stateNode.current.memoizedState.isDehydrated){n.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Do(n){if(n.blockedOn!==null)return!1;for(var s=n.targetContainers;0<s.length;){var a=Sc(n.nativeEvent);if(a===null){a=n.nativeEvent;var u=new a.constructor(a.type,a);El=u,a.target.dispatchEvent(u),El=null}else return s=vs(a),s!==null&&bm(s),n.blockedOn=a,!1;s.shift()}return!0}function Tm(n,s,a){Do(n)&&a.delete(s)}function cb(){Tc=!1,Ni!==null&&Do(Ni)&&(Ni=null),Ci!==null&&Do(Ci)&&(Ci=null),Ri!==null&&Do(Ri)&&(Ri=null),ra.forEach(Tm),aa.forEach(Tm)}function Mo(n,s){n.blockedOn===s&&(n.blockedOn=null,Tc||(Tc=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,cb)))}var Uo=null;function Am(n){Uo!==n&&(Uo=n,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Uo===n&&(Uo=null);for(var s=0;s<n.length;s+=3){var a=n[s],u=n[s+1],m=n[s+2];if(typeof u!="function"){if(Ec(u||a)===null)continue;break}var y=vs(a);y!==null&&(n.splice(s,3),s-=3,Su(y,{pending:!0,data:m,method:a.method,action:u},u,m))}}))}function Qs(n){function s(A){return Mo(A,n)}Ni!==null&&Mo(Ni,n),Ci!==null&&Mo(Ci,n),Ri!==null&&Mo(Ri,n),ra.forEach(s),aa.forEach(s);for(var a=0;a<ki.length;a++){var u=ki[a];u.blockedOn===n&&(u.blockedOn=null)}for(;0<ki.length&&(a=ki[0],a.blockedOn===null);)Em(a),a.blockedOn===null&&ki.shift();if(a=(n.ownerDocument||n).$$reactFormReplay,a!=null)for(u=0;u<a.length;u+=3){var m=a[u],y=a[u+1],w=m[Gt]||null;if(typeof y=="function")w||Am(a);else if(w){var E=null;if(y&&y.hasAttribute("formAction")){if(m=y,w=y[Gt]||null)E=w.formAction;else if(Ec(m)!==null)continue}else E=w.action;typeof E=="function"?a[u+1]=E:(a.splice(u,3),u-=3),Am(a)}}}function Nm(){function n(y){y.canIntercept&&y.info==="react-transition"&&y.intercept({handler:function(){return new Promise(function(w){return m=w})},focusReset:"manual",scroll:"manual"})}function s(){m!==null&&(m(),m=null),u||setTimeout(a,20)}function a(){if(!u&&!navigation.transition){var y=navigation.currentEntry;y&&y.url!=null&&navigation.navigate(y.url,{state:y.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var u=!1,m=null;return navigation.addEventListener("navigate",n),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(a,100),function(){u=!0,navigation.removeEventListener("navigate",n),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),m!==null&&(m(),m=null)}}}function Ac(n){this._internalRoot=n}Po.prototype.render=Ac.prototype.render=function(n){var s=this._internalRoot;if(s===null)throw Error(r(409));var a=s.current,u=Zt();ym(a,u,n,s,null,null)},Po.prototype.unmount=Ac.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var s=n.containerInfo;ym(n.current,2,null,n,null,null),mo(),s[ms]=null}};function Po(n){this._internalRoot=n}Po.prototype.unstable_scheduleHydration=function(n){if(n){var s=Ld();n={blockedOn:null,target:n,priority:s};for(var a=0;a<ki.length&&s!==0&&s<ki[a].priority;a++);ki.splice(a,0,n),a===0&&Em(n)}};var Cm=e.version;if(Cm!=="19.2.3")throw Error(r(527,Cm,"19.2.3"));Y.findDOMNode=function(n){var s=n._reactInternals;if(s===void 0)throw typeof n.render=="function"?Error(r(188)):(n=Object.keys(n).join(","),Error(r(268,n)));return n=g(s),n=n!==null?x(n):null,n=n===null?null:n.stateNode,n};var db={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:j,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Lo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Lo.isDisabled&&Lo.supportsFiber)try{ji=Lo.inject(db),Mt=Lo}catch{}}return ua.createRoot=function(n,s){if(!o(n))throw Error(r(299));var a=!1,u="",m=Ph,y=Lh,w=Oh;return s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(u=s.identifierPrefix),s.onUncaughtError!==void 0&&(m=s.onUncaughtError),s.onCaughtError!==void 0&&(y=s.onCaughtError),s.onRecoverableError!==void 0&&(w=s.onRecoverableError)),s=gm(n,1,!1,null,null,a,u,null,m,y,w,Nm),n[ms]=s.current,oc(n),new Ac(s)},ua.hydrateRoot=function(n,s,a){if(!o(n))throw Error(r(299));var u=!1,m="",y=Ph,w=Lh,E=Oh,A=null;return a!=null&&(a.unstable_strictMode===!0&&(u=!0),a.identifierPrefix!==void 0&&(m=a.identifierPrefix),a.onUncaughtError!==void 0&&(y=a.onUncaughtError),a.onCaughtError!==void 0&&(w=a.onCaughtError),a.onRecoverableError!==void 0&&(E=a.onRecoverableError),a.formState!==void 0&&(A=a.formState)),s=gm(n,1,!0,s,a??null,u,m,A,y,w,E,Nm),s.context=vm(null),a=s.current,u=Zt(),u=gl(u),m=mi(u),m.callback=null,gi(a,m,u),a=u,s.current.lanes=a,yr(s,a),Un(s),n[ms]=s.current,oc(n),new Po(s)},ua.version="19.2.3",ua}var jm;function wb(){if(jm)return Rc.exports;jm=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Rc.exports=_b(),Rc.exports}var Sb=wb();const Eb=V0(Sb),Tb=({children:t,user:e,onLogout:i})=>{const[r,o]=ee.useState(new Date);return ee.useEffect(()=>{const l=setInterval(()=>o(new Date),1e3);return()=>clearInterval(l)},[]),h.jsxs("div",{className:"min-h-screen flex flex-col bg-[#f1f5f9]",children:[h.jsx("header",{className:"no-print bg-slate-950 text-white shadow-2xl sticky top-0 z-[60] border-b border-white/5",children:h.jsxs("div",{className:"max-w-7xl mx-auto px-4 lg:px-8 h-20 lg:h-24 flex items-center justify-between gap-4",children:[h.jsxs("div",{className:"flex items-center space-x-3 lg:space-x-5 shrink-0",children:[h.jsx("div",{className:"relative group cursor-pointer",children:h.jsx("div",{className:"relative w-10 h-10 lg:w-12 lg:h-12 bg-blue-600 rounded-xl flex items-center justify-center text-slate-950 font-black text-xl lg:text-2xl shadow-lg transition-transform",children:"G"})}),h.jsxs("div",{className:"hidden sm:block",children:[h.jsx("h1",{className:"text-sm lg:text-xl font-black tracking-tighter leading-none uppercase",children:"Gondwana NotePro"}),h.jsx("p",{className:"text-[8px] lg:text-[9px] text-blue-500 uppercase tracking-[0.3em] font-black mt-1 opacity-80",children:"Institutional Node"})]})]}),h.jsxs("div",{className:"hidden md:flex items-center px-6 lg:px-10 border-x border-white/5 mx-2 lg:mx-6 gap-4 lg:gap-6 shrink-0",children:[h.jsx("div",{className:"w-2.5 h-2.5 rounded-full bg-emerald-500 animate-pulse shadow-[0_0_15px_rgba(16,185,129,0.6)] shrink-0"}),h.jsxs("div",{className:"flex items-center gap-4 lg:gap-6",children:[h.jsxs("div",{className:"flex flex-col items-end",children:[h.jsxs("div",{className:"flex items-baseline gap-1.5",children:[h.jsx("span",{className:"text-2xl lg:text-4xl font-black text-white tracking-tighter tabular-nums leading-none",children:r.toLocaleTimeString("en-IN",{hour:"2-digit",minute:"2-digit",hour12:!1})}),h.jsx("span",{className:"text-sm lg:text-lg font-bold text-blue-500 tabular-nums leading-none opacity-80",children:r.toLocaleTimeString("en-IN",{second:"2-digit"})})]}),h.jsx("span",{className:"text-[7px] lg:text-[8px] font-black text-slate-500 uppercase tracking-[0.2em] mt-1",children:"High Precision Time"})]}),h.jsx("div",{className:"h-8 w-[1px] bg-white/10 hidden lg:block"}),h.jsxs("div",{className:"hidden lg:flex flex-col justify-center",children:[h.jsx("span",{className:"text-xs lg:text-sm font-black text-amber-500 uppercase tracking-widest leading-none",children:r.toLocaleDateString("en-IN",{weekday:"long"}).toUpperCase()}),h.jsx("span",{className:"text-[9px] lg:text-[10px] font-bold text-white uppercase tracking-tighter mt-1 whitespace-nowrap",children:r.toLocaleDateString("en-IN",{day:"2-digit",month:"long",year:"numeric"})})]})]})]}),h.jsxs("div",{className:"flex items-center space-x-3 lg:space-x-8 shrink-0",children:[h.jsxs("div",{className:"flex items-center gap-3 lg:gap-4",children:[h.jsxs("div",{className:"text-right flex flex-col justify-center max-w-[100px] sm:max-w-[180px] lg:max-w-xs",children:[h.jsx("p",{className:"text-[10px] lg:text-sm font-black tracking-tight text-white leading-none mb-1 truncate uppercase",children:e.name}),h.jsx("p",{className:"text-[7px] lg:text-[9px] text-amber-500 font-black uppercase tracking-widest leading-none truncate",children:e.designation})]}),h.jsx("div",{className:"w-9 h-9 lg:w-11 lg:h-11 rounded-xl overflow-hidden border border-white/10 bg-slate-900 flex items-center justify-center shadow-lg relative group shrink-0",children:e.photo?h.jsx("img",{src:e.photo,alt:e.name,className:"w-full h-full object-cover"}):h.jsx("span",{className:"text-blue-500 font-black text-xs uppercase",children:e.name.charAt(0)})})]}),h.jsx("button",{onClick:i,className:"p-2.5 lg:p-3 bg-white/5 border border-white/10 rounded-xl text-slate-400 hover:text-white hover:bg-rose-600 transition-all active:scale-95 shadow-lg group shrink-0",children:h.jsx("svg",{className:"w-4 h-4 lg:w-5 lg:h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2.5,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})})})]})]})}),h.jsx("main",{className:"flex-1 w-full max-w-7xl mx-auto px-4 lg:px-8 py-6 lg:py-10 print:max-w-none print:p-0 print:m-0",children:t}),h.jsx("footer",{className:"no-print bg-white border-t border-slate-200 py-10 relative overflow-hidden hidden lg:block",children:h.jsxs("div",{className:"max-w-7xl mx-auto px-4 text-center",children:[h.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-[0.5em] mb-3 leading-none",children:"Administrative Sovereign Ecosystem  Deployment 2025"}),h.jsxs("p",{className:"text-[11px] font-bold text-slate-600 uppercase tracking-[0.1em] leading-relaxed",children:["Designed & Developed by ",h.jsx("span",{className:"text-shine font-black text-base ml-1",children:"Dr. Krishna Karoo"}),h.jsx("br",{}),h.jsx("span",{className:"text-[9px] text-slate-400 uppercase tracking-widest mt-1 block",children:"PG Teaching Department of Computer Science, Gondwana University"})]})]})})]})},Ab=({onEnterPortal:t,onShowManual:e,onShowPresentation:i})=>{const[r,o]=ee.useState(null),l=c=>{c.preventDefault(),o("RESTRICTED ACCESS: This statutory section requires Phase II Administrative Clearance."),setTimeout(()=>o(null),4e3)};return h.jsxs("div",{className:"min-h-screen bg-white flex flex-col selection:bg-amber-100 selection:text-amber-900 font-sans relative",children:[r&&h.jsx("div",{className:"fixed top-24 left-1/2 -translate-x-1/2 z-[200] w-full max-w-lg px-6 animate-in slide-in-from-top-4 duration-300",children:h.jsxs("div",{className:"bg-[#0c2340] border-l-4 border-amber-500 p-5 rounded-2xl shadow-2xl shadow-black/40 flex items-start gap-4 backdrop-blur-md",children:[h.jsx("div",{className:"w-10 h-10 bg-amber-500/10 rounded-xl flex items-center justify-center text-amber-500 shrink-0",children:h.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),h.jsxs("div",{children:[h.jsx("p",{className:"text-amber-500 text-[9px] font-black uppercase tracking-[0.3em] mb-1",children:"Security Alert"}),h.jsx("p",{className:"text-white text-[11px] font-bold leading-relaxed",children:r})]}),h.jsx("button",{onClick:()=>o(null),className:"ml-auto text-white/30 hover:text-white transition-colors",children:h.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M6 18L18 6M6 6l12 12"})})})]})}),h.jsx("div",{className:"bg-[#0c2340] text-amber-400 py-2.5 px-6 overflow-hidden hidden md:block border-b border-amber-500/20",children:h.jsxs("div",{className:"max-w-7xl mx-auto flex justify-between items-center",children:[h.jsxs("div",{className:"flex items-center gap-8",children:[h.jsxs("span",{className:"text-[9px] font-black uppercase tracking-[0.3em] flex items-center",children:[h.jsx("span",{className:"w-2 h-2 bg-amber-500 rounded-full mr-3 animate-pulse shadow-[0_0_10px_rgba(245,158,11,0.8)]"}),"Statutory Portal Active"]}),h.jsx("div",{className:"h-4 w-[1px] bg-amber-500/20"})]}),h.jsxs("div",{className:"flex gap-6",children:[h.jsx("a",{href:"#",onClick:l,className:"text-[9px] font-black uppercase tracking-widest hover:text-white transition-colors",children:"Official Gazette"}),h.jsx("a",{href:"#",onClick:l,className:"text-[9px] font-black uppercase tracking-widest hover:text-white transition-colors",children:"Governance Standards"})]})]})}),h.jsx("header",{className:"sticky top-0 z-[100] bg-white/95 backdrop-blur-md border-b border-slate-200",children:h.jsxs("div",{className:"max-w-7xl mx-auto px-6 h-24 flex items-center justify-between",children:[h.jsxs("div",{className:"flex items-center space-x-5",children:[h.jsxs("div",{className:"relative group",children:[h.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-amber-500 to-blue-600 rounded-2xl blur opacity-25 group-hover:opacity-50 transition duration-1000 group-hover:duration-200"}),h.jsx("div",{className:"relative w-14 h-14 bg-[#0c2340] rounded-2xl flex items-center justify-center text-white font-black text-2xl shadow-xl",children:"G"})]}),h.jsxs("div",{className:"flex flex-col",children:[h.jsx("span",{className:"font-black text-lg lg:text-xl tracking-tighter text-slate-900 uppercase leading-none",children:"Gondwana NotePro"}),h.jsxs("span",{className:"text-[9px] uppercase tracking-[0.4em] font-black text-blue-800 mt-1.5 flex items-center gap-2",children:[h.jsx("span",{className:"w-1 h-1 bg-amber-500 rounded-full"}),"Institutional Secretariat"]})]})]}),h.jsxs("div",{className:"hidden xl:flex items-center gap-10",children:[h.jsxs("nav",{className:"flex gap-8 text-[9px] font-black uppercase tracking-widest text-slate-500",children:[h.jsx("div",{className:"relative group/nav",children:h.jsxs("button",{onClick:l,className:"hover:text-blue-900 transition-colors py-2 flex items-center gap-1",children:["Academics ",h.jsx("svg",{className:"w-2 h-2",fill:"currentColor",viewBox:"0 0 20 20",children:h.jsx("path",{d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z"})})]})}),h.jsx("a",{href:"#",onClick:l,className:"hover:text-blue-900 transition-colors py-2",children:"Examinations"}),h.jsx("a",{href:"#",onClick:l,className:"hover:text-blue-900 transition-colors py-2",children:"Research"}),h.jsx("a",{href:"#",onClick:l,className:"hover:text-blue-900 transition-colors py-2",children:"IQAC"}),h.jsx("a",{href:"#",onClick:l,className:"hover:text-blue-900 transition-colors py-2",children:"Affiliated Units"}),h.jsx("a",{href:"#",onClick:l,className:"hover:text-blue-900 transition-colors py-2",children:"Archives"})]}),h.jsx("div",{className:"h-8 w-[1px] bg-slate-200 mx-2"}),h.jsx("button",{onClick:t,className:"px-8 py-3.5 bg-[#0c2340] text-amber-400 rounded-xl font-black text-[10px] uppercase tracking-[0.2em] hover:bg-blue-900 hover:text-white transition-all shadow-2xl hover:shadow-blue-900/20 active:scale-95 border border-amber-500/30",children:"Portal Login"})]})]})}),h.jsxs("main",{className:"flex-1",children:[h.jsxs("section",{className:"relative min-h-[90vh] flex items-center overflow-hidden",children:[h.jsxs("div",{className:"absolute inset-0 z-0 bg-slate-900",children:[h.jsx("img",{src:"https://images.unsplash.com/photo-1541339907198-e08756ebafe3?auto=format&fit=crop&q=80&w=2000",className:"w-full h-full object-cover",alt:"Gondwana University Campus"}),h.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-[#0c2340] via-[#0c2340]/95 to-blue-900/40"})]}),h.jsx("div",{className:"max-w-7xl mx-auto px-6 relative z-10 w-full py-20",children:h.jsxs("div",{className:"flex flex-col lg:flex-row items-center gap-20",children:[h.jsxs("div",{className:"flex-1 space-y-10",children:[h.jsxs("div",{className:"inline-flex items-center gap-3 px-5 py-2.5 bg-amber-500/10 backdrop-blur-xl border border-amber-500/20 rounded-full",children:[h.jsx("div",{className:"w-2 h-2 bg-amber-500 rounded-full animate-pulse"}),h.jsx("p",{className:"text-[10px] font-black text-amber-400 uppercase tracking-[0.4em]",children:"Integrated E-Workflow System"})]}),h.jsxs("h1",{className:"text-6xl lg:text-[7.5rem] font-black text-white tracking-tighter leading-[0.85] uppercase",children:["Gondwana ",h.jsx("br",{}),h.jsx("span",{className:"text-shine italic",children:"NotePro."})]}),h.jsxs("p",{className:"text-xl text-blue-100/70 max-w-xl leading-relaxed font-medium border-l-4 border-amber-500/30 pl-8",children:["The elite digital nerve-center for statutory decision-making at Gondwana University. Engineered by ",h.jsx("span",{className:"text-white font-bold underline underline-offset-4 decoration-amber-500",children:"Dr. Krishna Karoo"})," for total transparency and administrative precision."]}),h.jsxs("div",{className:"flex flex-col sm:flex-row gap-5 pt-8",children:[h.jsxs("button",{onClick:t,className:"px-12 py-6 bg-amber-50 text-[#0c2340] rounded-2xl font-black text-xs uppercase tracking-[0.3em] shadow-[0_20px_50px_-10px_rgba(245,158,11,0.4)] hover:bg-white hover:text-blue-900 hover:-translate-y-1 transition-all active:scale-95 flex items-center gap-3",children:["Launch Workspace",h.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M14 5l7 7m0 0l-7 7m7-7H3"})})]}),h.jsxs("button",{onClick:i,className:"group px-12 py-6 bg-amber-500 text-[#0c2340] border border-amber-600 rounded-2xl font-black text-xs uppercase tracking-[0.3em] hover:bg-white hover:text-blue-900 hover:-translate-y-1 transition-all flex items-center gap-3 shadow-2xl",children:["Statutory Report",h.jsx("div",{className:"w-8 h-8 bg-[#0c2340] rounded-lg flex items-center justify-center text-amber-500 group-hover:bg-blue-600 group-hover:text-white transition-colors",children:h.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:h.jsx("path",{d:"M10.894 2.553a1 1 0 00-1.788 0l-7 14a1 1 0 001.169 1.409l5-1.429A1 1 0 009 15.571V11a1 1 0 112 0v4.571a1 1 0 00.725.962l5 1.428a1 1 0 001.17-1.408l-7-14z"})})})]})]})]}),h.jsx("div",{className:"flex-1 w-full max-w-lg hidden lg:block",children:h.jsxs("div",{className:"relative group",children:[h.jsx("div",{className:"absolute -inset-10 bg-amber-500/10 rounded-full blur-[100px] opacity-0 group-hover:opacity-100 transition-opacity duration-1000"}),h.jsxs("div",{className:"relative transform group-hover:-translate-y-8 group-hover:rotate-2 transition-all duration-1000 ease-[cubic-bezier(0.23,1,0.32,1)]",children:[h.jsx("div",{className:"absolute top-4 left-4 right-4 bottom-[-16px] bg-white/50 backdrop-blur-sm rounded-[2rem] border border-white/20 -z-10 transform -rotate-2"}),h.jsxs("div",{className:"bg-[#e8f5e9] rounded-[2.5rem] shadow-2xl overflow-hidden border border-emerald-100/50 flex flex-col aspect-[3.5/4.5] relative",children:[h.jsx("div",{className:"absolute inset-0 opacity-40 pointer-events-none mix-blend-multiply bg-[url('https://www.transparenttextures.com/patterns/paper-fibers.png')]"}),h.jsx("div",{className:"absolute top-0 left-16 bottom-0 w-[2px] bg-rose-500/20"}),h.jsxs("div",{className:"p-10 pb-6 border-b border-emerald-900/5 bg-[#f1f8f1] text-center space-y-4",children:[h.jsx("div",{className:"w-12 h-12 bg-slate-900 rounded-2xl flex items-center justify-center text-white font-black text-xl mx-auto shadow-lg",children:"G"}),h.jsxs("div",{className:"space-y-1",children:[h.jsx("p",{className:"text-[10px] font-black text-slate-900 uppercase tracking-widest leading-none",children:"GONDWANA UNIVERSITY"}),h.jsx("p",{className:"text-[7px] font-bold text-slate-500 uppercase tracking-[0.2em]",children:"Administrative Note-Sheet"})]})]}),h.jsxs("div",{className:"p-12 space-y-6 flex-1",children:[h.jsxs("div",{className:"flex items-center gap-4",children:[h.jsx("div",{className:"h-3 w-1/4 bg-emerald-900/10 rounded-full"}),h.jsx("div",{className:"h-3 w-1/2 bg-emerald-900/5 rounded-full"})]}),h.jsxs("div",{className:"space-y-4 pt-4",children:[h.jsx("div",{className:"h-2 w-full bg-emerald-900/05 rounded-full border-b border-emerald-900/10 pb-4"}),h.jsx("div",{className:"h-2 w-full bg-emerald-900/05 rounded-full border-b border-emerald-900/10 pb-4"}),h.jsx("div",{className:"h-2 w-5/6 bg-emerald-900/05 rounded-full border-b border-emerald-900/10 pb-4"}),h.jsx("div",{className:"h-2 w-full bg-emerald-900/05 rounded-full border-b border-emerald-900/10 pb-4"})]}),h.jsx("div",{className:"absolute bottom-12 right-12 scale-110",children:h.jsx("div",{className:"official-stamp stamp-approved -rotate-12 border-[3px] py-1 px-4 text-xs font-black shadow-sm",children:"APPROVED"})})]}),h.jsxs("div",{className:"absolute top-12 right-0 bg-blue-900 text-white text-[9px] font-black px-5 py-2 rounded-l-2xl shadow-xl flex items-center gap-3",children:[h.jsx("span",{className:"w-1.5 h-1.5 bg-amber-400 rounded-full animate-ping"}),"GU/DIGITAL/DISPATCH-2025"]})]})]})]})})]})})]}),h.jsx("section",{className:"py-32 bg-white relative",children:h.jsxs("div",{className:"max-w-7xl mx-auto px-6",children:[h.jsxs("div",{className:"text-center mb-24",children:[h.jsx("p",{className:"text-amber-600 text-[11px] font-black uppercase tracking-[0.6em] mb-4",children:"Detailed System Audit"}),h.jsx("h3",{className:"text-5xl lg:text-6xl font-black text-slate-900 tracking-tighter uppercase mb-8",children:"Imperial Infrastructure"}),h.jsx("div",{className:"h-2.5 w-40 bg-amber-500 mx-auto rounded-full"})]}),h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-12",children:[{title:"Sovereign Personnel Portal",img:"https://images.unsplash.com/photo-1523240795612-9a054b0db644?auto=format&fit=crop&q=80&w=800",desc:"Highly secure authentication gateway for all academic heads, deans, and statutory officers of the university."},{title:"Encrypted Statutory Registry",img:"https://images.unsplash.com/photo-1507842217343-583bb7270b66?auto=format&fit=crop&q=80&w=800",desc:"Permanent digital repository of all approved note-sheets, governed by advanced browser-level AES encryption."},{title:"Intelligent Dispatch Engine",img:"https://images.unsplash.com/photo-1557804506-669a67965ba0?auto=format&fit=crop&q=80&w=800",desc:"A real-time routing layer that tracks the movement of statutory files across various institutional nodes with zero latency."}].map((c,p)=>h.jsxs("div",{onClick:l,className:"group relative overflow-hidden rounded-[3.5rem] bg-[#0c2340] aspect-[3/4] cursor-pointer shadow-[0_30px_60px_-15px_rgba(0,0,0,0.3)] hover:shadow-2xl transition-all duration-700",children:[h.jsx("img",{src:c.img,className:"absolute inset-0 w-full h-full object-cover opacity-50 group-hover:scale-110 group-hover:opacity-30 transition-all duration-[2000ms]",alt:c.title}),h.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-blue-950 via-blue-950/40 to-transparent"}),h.jsxs("div",{className:"absolute inset-0 p-12 flex flex-col justify-end",children:[h.jsx("div",{className:"w-12 h-1.5 bg-amber-500 rounded-full mb-6 group-hover:w-20 transition-all duration-700"}),h.jsx("h4",{className:"text-3xl font-black text-white uppercase tracking-tighter mb-4 group-hover:text-amber-400 transition-colors leading-tight",children:c.title}),h.jsx("p",{className:"text-[12px] font-bold text-blue-200/60 uppercase tracking-widest leading-relaxed opacity-0 group-hover:opacity-100 translate-y-6 group-hover:translate-y-0 transition-all duration-700 delay-100",children:c.desc})]})]},p))})]})}),h.jsx("section",{className:"py-32 bg-slate-50 border-y border-slate-200",children:h.jsx("div",{className:"max-w-5xl mx-auto px-6",children:h.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-20 items-center",children:[h.jsxs("div",{className:"space-y-10",children:[h.jsxs("h3",{className:"text-4xl font-black uppercase tracking-tighter text-slate-900 leading-none",children:["Administrative ",h.jsx("br",{}),h.jsx("span",{className:"text-amber-600",children:"Impact Report"})]}),h.jsx("div",{className:"space-y-8",children:[{label:"Efficiency Gain",val:"70%",desc:"Reduction in file transit time across university sections."},{label:"Cost Reduction",val:"90%",desc:"Decrease in recurring stationery and courier expenditures."},{label:"Data Integrity",val:"100%",desc:"Immutable audit trail for every statutory remark."}].map((c,p)=>h.jsxs("div",{className:"flex gap-6 items-start",children:[h.jsx("div",{className:"text-4xl font-black text-slate-900 tabular-nums",children:c.val}),h.jsxs("div",{className:"space-y-1 pt-1",children:[h.jsx("p",{className:"text-[11px] font-black uppercase tracking-widest text-slate-950",children:c.label}),h.jsx("p",{className:"text-[12px] text-slate-500 font-medium leading-relaxed",children:c.desc})]})]},p))})]}),h.jsxs("div",{className:"bg-white p-12 rounded-[3.5rem] shadow-2xl border border-slate-100 relative",children:[h.jsx("div",{className:"absolute top-10 right-10 w-24 h-24 bg-blue-50 text-blue-600 rounded-3xl flex items-center justify-center shadow-inner",children:h.jsx("svg",{className:"w-12 h-12",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2.5,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),h.jsxs("div",{className:"space-y-6 pt-10",children:[h.jsx("p",{className:"text-[11px] font-black text-amber-600 uppercase tracking-[0.5em]",children:"System Developer Profile"}),h.jsx("h4",{className:"text-2xl font-black text-slate-950 uppercase tracking-tight",children:"Dr. Krishna Karoo"}),h.jsxs("p",{className:"text-sm font-bold text-slate-500 uppercase tracking-widest leading-loose",children:["Assistant Professor",h.jsx("br",{}),"Post Graduate Teaching Dept. of Computer Science",h.jsx("br",{}),"Gondwana University, Gadchiroli"]}),h.jsx("div",{className:"h-[1px] w-20 bg-slate-200"}),h.jsx("p",{className:"text-[10px] text-slate-400 font-bold uppercase tracking-widest italic",children:'"NotePro represents a paradigm shift in how we approach statutory transparency and institutional memory."'})]})]})]})})})]}),h.jsx("footer",{className:"bg-slate-950 text-white pt-32 pb-16",children:h.jsxs("div",{className:"max-w-7xl mx-auto px-6",children:[h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-20 mb-32",children:[h.jsxs("div",{className:"space-y-8",children:[h.jsxs("div",{className:"flex items-center space-x-4",children:[h.jsx("div",{className:"w-12 h-12 bg-amber-500 rounded-2xl flex items-center justify-center text-[#0c2340] font-black text-2xl shadow-2xl",children:"G"}),h.jsxs("span",{className:"font-black text-lg uppercase tracking-widest",children:["Gondwana ",h.jsx("br",{}),h.jsx("span",{className:"text-amber-500",children:"NotePro"})]})]}),h.jsx("p",{className:"text-[11px] font-bold text-slate-500 uppercase leading-loose tracking-widest",children:"The Statutory University of Gadchiroli District, fostering excellence in higher education and digital governance since 2011. Designed & Developed by Dr. Krishna Karoo."})]}),h.jsxs("div",{children:[h.jsx("h5",{className:"text-[11px] font-black text-amber-500 uppercase tracking-[0.4em] mb-10",children:"Governance Node"}),h.jsxs("ul",{className:"space-y-6 text-[10px] font-black uppercase tracking-[0.2em] text-slate-400",children:[h.jsx("li",{children:h.jsx("a",{href:"#",onClick:l,className:"hover:text-white transition-all hover:translate-x-1 block",children:"Statutes & Ordinance"})}),h.jsx("li",{children:h.jsx("a",{href:"#",onClick:l,className:"hover:text-white transition-all hover:translate-x-1 block",children:"Official Gazettes"})}),h.jsx("li",{children:h.jsx("a",{href:"#",onClick:l,className:"hover:text-white transition-all hover:translate-x-1 block",children:"RTI Dashboard"})}),h.jsx("li",{children:h.jsx("a",{href:"#",onClick:l,className:"hover:text-white transition-all hover:translate-x-1 block",children:"Digital Audit"})})]})]}),h.jsxs("div",{children:[h.jsx("h5",{className:"text-[11px] font-black text-amber-500 uppercase tracking-[0.4em] mb-10",children:"Academic Units"}),h.jsxs("ul",{className:"space-y-6 text-[10px] font-black uppercase tracking-[0.2em] text-slate-400",children:[h.jsx("li",{children:h.jsx("a",{href:"#",onClick:l,className:"hover:text-white transition-all hover:translate-x-1 block",children:"Board of Studies"})}),h.jsx("li",{children:h.jsx("a",{href:"#",onClick:l,className:"hover:text-white transition-all hover:translate-x-1 block",children:"Examinations Cell"})}),h.jsx("li",{children:h.jsx("a",{href:"#",onClick:l,className:"hover:text-white transition-all hover:translate-x-1 block",children:"Ph.D. Registry"})}),h.jsx("li",{children:h.jsx("a",{href:"#",onClick:l,className:"hover:text-white transition-all hover:translate-x-1 block",children:"Research Grant"})})]})]}),h.jsxs("div",{children:[h.jsx("h5",{className:"text-[11px] font-black text-amber-500 uppercase tracking-[0.4em] mb-10",children:"Support Cell"}),h.jsxs("ul",{className:"space-y-6 text-[10px] font-black uppercase tracking-[0.2em] text-slate-400",children:[h.jsx("li",{children:h.jsx("a",{href:"#",onClick:l,className:"hover:text-white transition-all hover:translate-x-1 block",children:"Technical Helpdesk"})}),h.jsx("li",{children:h.jsx("a",{href:"#",onClick:l,className:"hover:text-white transition-all hover:translate-x-1 block",children:"Privacy Charter"})}),h.jsx("li",{children:h.jsx("button",{onClick:e,className:"hover:text-white transition-all hover:translate-x-1 block text-left",children:"User Operational Manual"})}),h.jsx("li",{children:h.jsx("a",{href:"#",onClick:l,className:"hover:text-white transition-all hover:translate-x-1 block",children:"ICT Governance Policy"})})]})]})]}),h.jsxs("div",{className:"pt-20 border-t border-white/5 flex flex-col items-center gap-10",children:[h.jsxs("div",{className:"text-center space-y-4",children:[h.jsx("p",{className:"text-[10px] font-black uppercase tracking-[0.6em] text-slate-600",children:" 2025 Gondwana University, Gadchiroli"}),h.jsxs("p",{className:"text-[12px] font-bold text-slate-500 uppercase tracking-[0.3em] max-w-4xl leading-loose",children:["Architected & Engineered by ",h.jsx("span",{className:"text-shine font-black text-base ml-2",children:"Dr. Krishna Karoo"}),h.jsx("br",{}),"Assistant Professor, Post Graduate Teaching Department of Computer Science, Gondwana University, Gadchiroli"]})]}),h.jsxs("div",{className:"flex gap-8 opacity-20",children:[h.jsx("div",{className:"px-6 py-2.5 border-2 border-white rounded-xl text-[11px] font-black tracking-widest uppercase",children:"NAAC A+ Accredited"}),h.jsx("div",{className:"px-6 py-2.5 border-2 border-white rounded-xl text-[11px] font-black tracking-widest uppercase",children:"Digital India Initiative"})]})]})]})})]})};var Ge=(t=>(t.DRAFT="DRAFT",t.PENDING="PENDING",t.RETURNED="RETURNED",t.APPROVED="APPROVED",t.REJECTED="REJECTED",t.COMPLETED="COMPLETED",t))(Ge||{}),Je=(t=>(t.FORWARD="FORWARD",t.RETURN="RETURN",t.INITIATE="INITIATE",t.APPROVE="APPROVE",t.REJECT="REJECT",t))(Je||{}),ae=(t=>(t.ADMIN="ADMIN",t.STAFF="STAFF",t))(ae||{});const Nb=({onLogin:t,staffList:e,notes:i,onPublicDownload:r,onBack:o,onShowReport:l})=>{const[c,p]=ee.useState("STAFF"),[v,g]=ee.useState(""),[x,b]=ee.useState(""),[_,S]=ee.useState(""),[T,C]=ee.useState(new Date().toISOString().split("T")[0]),[N,D]=ee.useState(""),[H,U]=ee.useState(!1),J=ee.useMemo(()=>{if(c!=="PUBLIC"||!_.trim()||_.length<2)return[];const F=_.toLowerCase();return i.filter(K=>K.referenceNo.toLowerCase().includes(F)||K.subject.toLowerCase().includes(F))},[i,_,c]),X=F=>{F.preventDefault(),D(""),U(!0),setTimeout(()=>{const K=e.find(ce=>ce.id.toLowerCase()===v.toLowerCase()&&ce.password===x);K?t(K):D("Authorization Denied: Invalid Credentials"),U(!1)},800)};return h.jsxs("div",{className:"min-h-screen bg-[#0c2340] flex flex-col items-center justify-center p-4 relative overflow-hidden",children:[h.jsx("div",{className:"absolute top-0 right-0 w-96 h-96 bg-blue-600/10 rounded-full blur-[120px] -translate-y-1/2 translate-x-1/2"}),h.jsx("div",{className:"absolute bottom-0 left-0 w-80 h-80 bg-amber-500/10 rounded-full blur-[100px] translate-y-1/2 -translate-x-1/2"}),h.jsxs("div",{className:"absolute top-4 left-0 right-0 px-6 flex justify-between items-center z-50",children:[h.jsxs("button",{onClick:o,className:"flex items-center gap-2 text-white/50 hover:text-white transition-all group py-1",children:[h.jsx("div",{className:"w-6 h-6 rounded-lg bg-white/5 border border-white/10 flex items-center justify-center group-hover:bg-white/10 transition-all",children:h.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})})}),h.jsx("span",{className:"text-[7px] font-black uppercase tracking-[0.2em]",children:"Return"})]}),h.jsxs("div",{className:"flex items-center gap-1.5 bg-white/5 px-3 py-1 rounded-full border border-white/10",children:[h.jsx("span",{className:"w-1 h-1 rounded-full bg-amber-500 animate-pulse"}),h.jsx("span",{className:"text-[7px] font-black text-amber-500 uppercase tracking-widest",children:"Secure Server"})]})]}),h.jsxs("div",{className:"w-full max-w-[440px] relative z-10",children:[h.jsxs("div",{className:"text-center mb-6",children:[h.jsx("div",{className:"inline-flex relative p-2 mb-2",children:h.jsx("div",{className:"relative w-10 h-10 bg-amber-500 rounded-xl flex items-center justify-center shadow-xl",children:h.jsx("span",{className:"text-[#0c2340] text-xl font-black",children:"G"})})}),h.jsxs("h1",{className:"text-sm font-black text-white tracking-[0.2em] uppercase",children:["Gondwana ",h.jsx("span",{className:"text-amber-500",children:"NotePro"})]})]}),h.jsxs("div",{className:"bg-white rounded-[2.5rem] shadow-2xl overflow-hidden border border-white/20 animate-in zoom-in-95 duration-500",children:[h.jsxs("div",{className:"flex p-1 bg-slate-50 border-b border-slate-100",children:[h.jsx("button",{onClick:()=>{p("STAFF"),D("")},className:`flex-1 py-3 rounded-2xl text-[8px] font-black uppercase tracking-widest transition-all ${c==="STAFF"?"bg-white text-blue-900 shadow-sm ring-1 ring-slate-200":"text-slate-400 hover:text-slate-600"}`,children:"Staff Core"}),h.jsx("button",{onClick:()=>{p("PUBLIC"),D("")},className:`flex-1 py-3 rounded-2xl text-[8px] font-black uppercase tracking-widest transition-all ${c==="PUBLIC"?"bg-white text-blue-900 shadow-sm ring-1 ring-slate-200":"text-slate-400 hover:text-slate-600"}`,children:"Verify"}),h.jsx("button",{onClick:()=>{p("GAZETTE"),D("")},className:`flex-1 py-3 rounded-2xl text-[8px] font-black uppercase tracking-widest transition-all ${c==="GAZETTE"?"bg-white text-blue-900 shadow-sm ring-1 ring-slate-200":"text-slate-400 hover:text-slate-600"}`,children:"Gazette"})]}),h.jsxs("div",{className:"p-7",children:[c==="STAFF"&&h.jsxs("form",{onSubmit:X,className:"space-y-4",children:[h.jsxs("div",{className:"space-y-1",children:[h.jsx("label",{className:"text-[8px] font-black text-slate-400 uppercase tracking-[0.2em] ml-1 block",children:"Staff Identifier"}),h.jsx("input",{type:"text",value:v,onChange:F=>g(F.target.value),className:"w-full px-4 py-3 bg-slate-50 border border-slate-200 rounded-2xl outline-none focus:border-blue-500 transition-all text-slate-900 font-bold text-[12px] placeholder:text-slate-300",placeholder:"ENTER ID",required:!0})]}),h.jsxs("div",{className:"space-y-1",children:[h.jsx("label",{className:"text-[8px] font-black text-slate-400 uppercase tracking-[0.2em] ml-1 block",children:"Security Pass"}),h.jsx("input",{type:"password",value:x,onChange:F=>b(F.target.value),className:"w-full px-4 py-3 bg-slate-50 border border-slate-200 rounded-2xl outline-none focus:border-blue-500 transition-all text-slate-900 font-bold text-[12px] placeholder:text-slate-300",placeholder:"",required:!0})]}),N&&h.jsx("div",{className:"p-3 bg-rose-50 border border-rose-100 text-rose-600 rounded-xl text-[8px] font-black uppercase tracking-widest text-center",children:N}),h.jsx("button",{type:"submit",disabled:H,className:"w-full py-4 bg-[#0c2340] text-amber-500 rounded-2xl font-black text-[10px] uppercase tracking-[0.3em] shadow-xl hover:bg-blue-900 active:scale-[0.98] transition-all",children:H?"Verifying...":"Authenticate "})]}),c==="PUBLIC"&&h.jsxs("div",{className:"space-y-6",children:[h.jsxs("div",{className:"space-y-2",children:[h.jsx("label",{className:"text-[8px] font-black text-slate-400 uppercase tracking-[0.2em] ml-1 block",children:"Statutory Registry Search"}),h.jsxs("div",{className:"relative",children:[h.jsx("input",{type:"text",value:_,onChange:F=>S(F.target.value),className:"w-full pl-10 pr-4 py-3 bg-slate-50 border border-slate-200 rounded-2xl outline-none focus:border-blue-500 transition-all text-slate-900 font-bold text-[12px] placeholder:text-slate-300",placeholder:"ENTER REFERENCE NO..."}),h.jsx("svg",{className:"absolute left-3.5 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})]})]}),h.jsxs("div",{className:"max-h-[300px] overflow-y-auto custom-scrollbar space-y-4 pr-1",children:[_.length>0&&_.length<2&&h.jsx("p",{className:"text-center text-[8px] font-black text-slate-300 uppercase tracking-widest py-4",children:"Searching..."}),_.length>=2&&J.length===0&&h.jsx("p",{className:"text-center text-[8px] font-black text-rose-400 uppercase tracking-widest py-4",children:"Zero records matching index"}),J.map(F=>h.jsxs("div",{className:"p-5 bg-slate-50 border border-slate-200 rounded-[1.5rem] group hover:border-blue-500 transition-all shadow-sm",children:[h.jsxs("div",{className:"flex justify-between items-start mb-3",children:[h.jsx("span",{className:`text-[7px] font-black px-2 py-0.5 rounded-lg uppercase ${F.status===Ge.APPROVED?"bg-emerald-100 text-emerald-700":F.status===Ge.PENDING?"bg-blue-100 text-blue-700":"bg-rose-100 text-rose-700"}`,children:F.status}),h.jsxs("span",{className:"text-[7px] font-black text-slate-300 uppercase tracking-widest",children:["EST. ",new Date(F.dateInitiated).toLocaleDateString()]})]}),h.jsxs("div",{className:"mb-4",children:[h.jsx("h4",{className:"text-slate-900 font-black text-[11px] uppercase leading-tight line-clamp-1 mb-1 tracking-tight",children:F.subject}),h.jsx("p",{className:"text-[8px] font-bold text-slate-400 uppercase tracking-widest",children:F.referenceNo})]}),h.jsxs("div",{className:"bg-white/50 p-3 rounded-xl border border-slate-100 mb-4",children:[h.jsx("p",{className:"text-[7px] font-black text-slate-400 uppercase tracking-widest mb-1",children:"Current Custodian"}),h.jsx("p",{className:"text-[9px] font-black text-indigo-900 uppercase",children:F.currentHandler.name}),h.jsx("p",{className:"text-[7px] font-bold text-slate-400 uppercase",children:F.currentHandler.designation})]}),h.jsxs("button",{onClick:()=>r(F),className:"w-full bg-[#0c2340] text-white py-3 rounded-xl font-black text-[8px] uppercase tracking-[0.2em] hover:bg-blue-600 transition-all flex items-center justify-center gap-2",children:[h.jsxs("svg",{className:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]}),"Verify Statutory Trail"]})]},F.id))]})]}),c==="GAZETTE"&&h.jsxs("div",{className:"space-y-6",children:[h.jsxs("div",{className:"p-6 bg-slate-50 border border-slate-100 rounded-3xl text-center space-y-4",children:[h.jsx("h3",{className:"text-[10px] font-black text-slate-900 uppercase tracking-widest leading-none",children:"Institutional Gazette Summary"}),h.jsx("p",{className:"text-[8px] font-bold text-slate-400 uppercase tracking-widest",children:"Select a cycle date to generate the daily dispatch metadata report."}),h.jsxs("div",{className:"pt-4 space-y-6",children:[h.jsxs("div",{className:"space-y-1 text-left",children:[h.jsx("label",{className:"text-[8px] font-black text-slate-400 uppercase tracking-[0.2em] ml-1 block",children:"Dispatch Cycle Date"}),h.jsx("input",{type:"date",value:T,onChange:F=>C(F.target.value),className:"w-full px-4 py-3 bg-white border border-slate-200 rounded-2xl outline-none focus:border-blue-500 transition-all text-slate-900 font-black text-[12px]"})]}),h.jsxs("button",{onClick:()=>l(T),className:"w-full py-4 bg-indigo-900 text-white rounded-2xl font-black text-[10px] uppercase tracking-[0.2em] shadow-xl hover:bg-indigo-800 active:scale-[0.98] transition-all flex items-center justify-center gap-3",children:[h.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2.5,d:"M9 17v-2m3 2v-4m3 4v-6m2 10H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"Generate Summary Dispatch"]})]})]}),h.jsx("p",{className:"text-center text-[7px] font-bold text-slate-300 uppercase tracking-widest",children:"Only metadata is visible in gazette view"})]})]}),h.jsxs("div",{className:"px-7 pb-6 text-center",children:[h.jsx("div",{className:"h-[1px] w-full bg-slate-100 mb-3"}),h.jsx("p",{className:"text-[7px] font-black text-slate-300 uppercase tracking-[0.3em] italic",children:"Statutory Encryption Protocols Active"})]})]})]})]})};function il(t,e){var i={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(i[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(i[r[o]]=t[r[o]]);return i}function Cb(t,e,i,r){function o(l){return l instanceof i?l:new i(function(c){c(l)})}return new(i||(i=Promise))(function(l,c){function p(x){try{g(r.next(x))}catch(b){c(b)}}function v(x){try{g(r.throw(x))}catch(b){c(b)}}function g(x){x.done?l(x.value):o(x.value).then(p,v)}g((r=r.apply(t,e||[])).next())})}const Rb=t=>t?(...e)=>t(...e):(...e)=>fetch(...e);class vd extends Error{constructor(e,i="FunctionsError",r){super(e),this.name=i,this.context=r}}class kb extends vd{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Gm extends vd{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Hm extends vd{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Fc;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Fc||(Fc={}));class Ib{constructor(e,{headers:i={},customFetch:r,region:o=Fc.Any}={}){this.url=e,this.headers=i,this.region=o,this.fetch=Rb(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return Cb(this,arguments,void 0,function*(i,r={}){var o;let l,c;try{const{headers:p,method:v,body:g,signal:x,timeout:b}=r;let _={},{region:S}=r;S||(S=this.region);const T=new URL(`${this.url}/${i}`);S&&S!=="any"&&(_["x-region"]=S,T.searchParams.set("forceFunctionRegion",S));let C;g&&(p&&!Object.prototype.hasOwnProperty.call(p,"Content-Type")||!p)?typeof Blob<"u"&&g instanceof Blob||g instanceof ArrayBuffer?(_["Content-Type"]="application/octet-stream",C=g):typeof g=="string"?(_["Content-Type"]="text/plain",C=g):typeof FormData<"u"&&g instanceof FormData?C=g:(_["Content-Type"]="application/json",C=JSON.stringify(g)):C=g;let N=x;b&&(c=new AbortController,l=setTimeout(()=>c.abort(),b),x?(N=c.signal,x.addEventListener("abort",()=>c.abort())):N=c.signal);const D=yield this.fetch(T.toString(),{method:v||"POST",headers:Object.assign(Object.assign(Object.assign({},_),this.headers),p),body:C,signal:N}).catch(X=>{throw new kb(X)}),H=D.headers.get("x-relay-error");if(H&&H==="true")throw new Gm(D);if(!D.ok)throw new Hm(D);let U=((o=D.headers.get("Content-Type"))!==null&&o!==void 0?o:"text/plain").split(";")[0].trim(),J;return U==="application/json"?J=yield D.json():U==="application/octet-stream"||U==="application/pdf"?J=yield D.blob():U==="text/event-stream"?J=D:U==="multipart/form-data"?J=yield D.formData():J=yield D.text(),{data:J,error:null,response:D}}catch(p){return{data:null,error:p,response:p instanceof Hm||p instanceof Gm?p.context:void 0}}finally{l&&clearTimeout(l)}})}}var Db=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}},Mb=class{constructor(t){var e,i;this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=new Headers(t.headers),this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=(e=t.shouldThrowOnError)!==null&&e!==void 0?e:!1,this.signal=t.signal,this.isMaybeSingle=(i=t.isMaybeSingle)!==null&&i!==void 0?i:!1,t.fetch?this.fetch=t.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,e){return this.headers=new Headers(this.headers),this.headers.set(t,e),this}then(t,e){var i=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const r=this.fetch;let o=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async l=>{let c=null,p=null,v=null,g=l.status,x=l.statusText;if(l.ok){var b,_;if(i.method!=="HEAD"){var S;const D=await l.text();D===""||(i.headers.get("Accept")==="text/csv"||i.headers.get("Accept")&&(!((S=i.headers.get("Accept"))===null||S===void 0)&&S.includes("application/vnd.pgrst.plan+text"))?p=D:p=JSON.parse(D))}const C=(b=i.headers.get("Prefer"))===null||b===void 0?void 0:b.match(/count=(exact|planned|estimated)/),N=(_=l.headers.get("content-range"))===null||_===void 0?void 0:_.split("/");C&&N&&N.length>1&&(v=parseInt(N[1])),i.isMaybeSingle&&i.method==="GET"&&Array.isArray(p)&&(p.length>1?(c={code:"PGRST116",details:`Results contain ${p.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},p=null,v=null,g=406,x="Not Acceptable"):p.length===1?p=p[0]:p=null)}else{var T;const C=await l.text();try{c=JSON.parse(C),Array.isArray(c)&&l.status===404&&(p=[],c=null,g=200,x="OK")}catch{l.status===404&&C===""?(g=204,x="No Content"):c={message:C}}if(c&&i.isMaybeSingle&&(!(c==null||(T=c.details)===null||T===void 0)&&T.includes("0 rows"))&&(c=null,g=200,x="OK"),c&&i.shouldThrowOnError)throw new Db(c)}return{error:c,data:p,count:v,status:g,statusText:x}});return this.shouldThrowOnError||(o=o.catch(l=>{var c;let p="";const v=l==null?void 0:l.cause;if(v){var g,x,b,_;const T=(g=v==null?void 0:v.message)!==null&&g!==void 0?g:"",C=(x=v==null?void 0:v.code)!==null&&x!==void 0?x:"";p=`${(b=l==null?void 0:l.name)!==null&&b!==void 0?b:"FetchError"}: ${l==null?void 0:l.message}`,p+=`

Caused by: ${(_=v==null?void 0:v.name)!==null&&_!==void 0?_:"Error"}: ${T}`,C&&(p+=` (${C})`),v!=null&&v.stack&&(p+=`
${v.stack}`)}else{var S;p=(S=l==null?void 0:l.stack)!==null&&S!==void 0?S:""}return{error:{message:`${(c=l==null?void 0:l.name)!==null&&c!==void 0?c:"FetchError"}: ${l==null?void 0:l.message}`,details:p,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),o.then(t,e)}returns(){return this}overrideTypes(){return this}},Ub=class extends Mb{select(t){let e=!1;const i=(t??"*").split("").map(r=>/\s/.test(r)&&!e?"":(r==='"'&&(e=!e),r)).join("");return this.url.searchParams.set("select",i),this.headers.append("Prefer","return=representation"),this}order(t,{ascending:e=!0,nullsFirst:i,foreignTable:r,referencedTable:o=r}={}){const l=o?`${o}.order`:"order",c=this.url.searchParams.get(l);return this.url.searchParams.set(l,`${c?`${c},`:""}${t}.${e?"asc":"desc"}${i===void 0?"":i?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:e,referencedTable:i=e}={}){const r=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(r,`${t}`),this}range(t,e,{foreignTable:i,referencedTable:r=i}={}){const o=typeof r>"u"?"offset":`${r}.offset`,l=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(o,`${t}`),this.url.searchParams.set(l,`${e-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:t=!1,verbose:e=!1,settings:i=!1,buffers:r=!1,wal:o=!1,format:l="text"}={}){var c;const p=[t?"analyze":null,e?"verbose":null,i?"settings":null,r?"buffers":null,o?"wal":null].filter(Boolean).join("|"),v=(c=this.headers.get("Accept"))!==null&&c!==void 0?c:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${l}; for="${v}"; options=${p};`),l==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(t){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${t}`),this}};const Bm=new RegExp("[,()]");var rr=class extends Ub{eq(t,e){return this.url.searchParams.append(t,`eq.${e}`),this}neq(t,e){return this.url.searchParams.append(t,`neq.${e}`),this}gt(t,e){return this.url.searchParams.append(t,`gt.${e}`),this}gte(t,e){return this.url.searchParams.append(t,`gte.${e}`),this}lt(t,e){return this.url.searchParams.append(t,`lt.${e}`),this}lte(t,e){return this.url.searchParams.append(t,`lte.${e}`),this}like(t,e){return this.url.searchParams.append(t,`like.${e}`),this}likeAllOf(t,e){return this.url.searchParams.append(t,`like(all).{${e.join(",")}}`),this}likeAnyOf(t,e){return this.url.searchParams.append(t,`like(any).{${e.join(",")}}`),this}ilike(t,e){return this.url.searchParams.append(t,`ilike.${e}`),this}ilikeAllOf(t,e){return this.url.searchParams.append(t,`ilike(all).{${e.join(",")}}`),this}ilikeAnyOf(t,e){return this.url.searchParams.append(t,`ilike(any).{${e.join(",")}}`),this}regexMatch(t,e){return this.url.searchParams.append(t,`match.${e}`),this}regexIMatch(t,e){return this.url.searchParams.append(t,`imatch.${e}`),this}is(t,e){return this.url.searchParams.append(t,`is.${e}`),this}isDistinct(t,e){return this.url.searchParams.append(t,`isdistinct.${e}`),this}in(t,e){const i=Array.from(new Set(e)).map(r=>typeof r=="string"&&Bm.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(t,`in.(${i})`),this}notIn(t,e){const i=Array.from(new Set(e)).map(r=>typeof r=="string"&&Bm.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(t,`not.in.(${i})`),this}contains(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cs.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cs.{${e.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(e)}`),this}containedBy(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cd.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cd.{${e.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(e)}`),this}rangeGt(t,e){return this.url.searchParams.append(t,`sr.${e}`),this}rangeGte(t,e){return this.url.searchParams.append(t,`nxl.${e}`),this}rangeLt(t,e){return this.url.searchParams.append(t,`sl.${e}`),this}rangeLte(t,e){return this.url.searchParams.append(t,`nxr.${e}`),this}rangeAdjacent(t,e){return this.url.searchParams.append(t,`adj.${e}`),this}overlaps(t,e){return typeof e=="string"?this.url.searchParams.append(t,`ov.${e}`):this.url.searchParams.append(t,`ov.{${e.join(",")}}`),this}textSearch(t,e,{config:i,type:r}={}){let o="";r==="plain"?o="pl":r==="phrase"?o="ph":r==="websearch"&&(o="w");const l=i===void 0?"":`(${i})`;return this.url.searchParams.append(t,`${o}fts${l}.${e}`),this}match(t){return Object.entries(t).forEach(([e,i])=>{this.url.searchParams.append(e,`eq.${i}`)}),this}not(t,e,i){return this.url.searchParams.append(t,`not.${e}.${i}`),this}or(t,{foreignTable:e,referencedTable:i=e}={}){const r=i?`${i}.or`:"or";return this.url.searchParams.append(r,`(${t})`),this}filter(t,e,i){return this.url.searchParams.append(t,`${e}.${i}`),this}},Pb=class{constructor(t,{headers:e={},schema:i,fetch:r}){this.url=t,this.headers=new Headers(e),this.schema=i,this.fetch=r}select(t,e){const{head:i=!1,count:r}=e??{},o=i?"HEAD":"GET";let l=!1;const c=(t??"*").split("").map(p=>/\s/.test(p)&&!l?"":(p==='"'&&(l=!l),p)).join("");return this.url.searchParams.set("select",c),r&&this.headers.append("Prefer",`count=${r}`),new rr({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(t,{count:e,defaultToNull:i=!0}={}){var r;const o="POST";if(e&&this.headers.append("Prefer",`count=${e}`),i||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const l=t.reduce((c,p)=>c.concat(Object.keys(p)),[]);if(l.length>0){const c=[...new Set(l)].map(p=>`"${p}"`);this.url.searchParams.set("columns",c.join(","))}}return new rr({method:o,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}upsert(t,{onConflict:e,ignoreDuplicates:i=!1,count:r,defaultToNull:o=!0}={}){var l;const c="POST";if(this.headers.append("Prefer",`resolution=${i?"ignore":"merge"}-duplicates`),e!==void 0&&this.url.searchParams.set("on_conflict",e),r&&this.headers.append("Prefer",`count=${r}`),o||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const p=t.reduce((v,g)=>v.concat(Object.keys(g)),[]);if(p.length>0){const v=[...new Set(p)].map(g=>`"${g}"`);this.url.searchParams.set("columns",v.join(","))}}return new rr({method:c,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}update(t,{count:e}={}){var i;const r="PATCH";return e&&this.headers.append("Prefer",`count=${e}`),new rr({method:r,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}delete({count:t}={}){var e;const i="DELETE";return t&&this.headers.append("Prefer",`count=${t}`),new rr({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:(e=this.fetch)!==null&&e!==void 0?e:fetch})}},Lb=class z0{constructor(e,{headers:i={},schema:r,fetch:o}={}){this.url=e,this.headers=new Headers(i),this.schemaName=r,this.fetch=o}from(e){if(!e||typeof e!="string"||e.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new Pb(new URL(`${this.url}/${e}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new z0(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,i={},{head:r=!1,get:o=!1,count:l}={}){var c;let p;const v=new URL(`${this.url}/rpc/${e}`);let g;r||o?(p=r?"HEAD":"GET",Object.entries(i).filter(([b,_])=>_!==void 0).map(([b,_])=>[b,Array.isArray(_)?`{${_.join(",")}}`:`${_}`]).forEach(([b,_])=>{v.searchParams.append(b,_)})):(p="POST",g=i);const x=new Headers(this.headers);return l&&x.set("Prefer",`count=${l}`),new rr({method:p,url:v,headers:x,schema:this.schemaName,body:g,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}};class Ob{constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const i=process.versions;if(i&&i.node){const r=i.node,o=parseInt(r.replace(/^v/,"").split(".")[0]);return o>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${o} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${o} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let i=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(i+=`

Suggested solution: ${e.workaround}`),new Error(i)}static createWebSocket(e,i){const r=this.getWebSocketConstructor();return new r(e,i)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const jb="2.89.0",Gb=`realtime-js/${jb}`,F0="1.0.0",Hb="2.0.0",qm=F0,$c=1e4,Bb=1e3,qb=100;var Di;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Di||(Di={}));var vt;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(vt||(vt={}));var An;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(An||(An={}));var Jc;(function(t){t.websocket="websocket"})(Jc||(Jc={}));var as;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(as||(as={}));class Vb{constructor(e){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=e??[]}encode(e,i){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return i(this._binaryEncodeUserBroadcastPush(e));let r=[e.join_ref,e.ref,e.topic,e.event,e.payload];return i(JSON.stringify(r))}_binaryEncodeUserBroadcastPush(e){var i;return this._isArrayBuffer((i=e.payload)===null||i===void 0?void 0:i.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var i,r;const o=(r=(i=e.payload)===null||i===void 0?void 0:i.payload)!==null&&r!==void 0?r:new ArrayBuffer(0);return this._encodeUserBroadcastPush(e,this.BINARY_ENCODING,o)}_encodeJsonUserBroadcastPush(e){var i,r;const o=(r=(i=e.payload)===null||i===void 0?void 0:i.payload)!==null&&r!==void 0?r:{},c=new TextEncoder().encode(JSON.stringify(o)).buffer;return this._encodeUserBroadcastPush(e,this.JSON_ENCODING,c)}_encodeUserBroadcastPush(e,i,r){var o,l;const c=e.topic,p=(o=e.ref)!==null&&o!==void 0?o:"",v=(l=e.join_ref)!==null&&l!==void 0?l:"",g=e.payload.event,x=this.allowedMetadataKeys?this._pick(e.payload,this.allowedMetadataKeys):{},b=Object.keys(x).length===0?"":JSON.stringify(x);if(v.length>255)throw new Error(`joinRef length ${v.length} exceeds maximum of 255`);if(p.length>255)throw new Error(`ref length ${p.length} exceeds maximum of 255`);if(c.length>255)throw new Error(`topic length ${c.length} exceeds maximum of 255`);if(g.length>255)throw new Error(`userEvent length ${g.length} exceeds maximum of 255`);if(b.length>255)throw new Error(`metadata length ${b.length} exceeds maximum of 255`);const _=this.USER_BROADCAST_PUSH_META_LENGTH+v.length+p.length+c.length+g.length+b.length,S=new ArrayBuffer(this.HEADER_LENGTH+_);let T=new DataView(S),C=0;T.setUint8(C++,this.KINDS.userBroadcastPush),T.setUint8(C++,v.length),T.setUint8(C++,p.length),T.setUint8(C++,c.length),T.setUint8(C++,g.length),T.setUint8(C++,b.length),T.setUint8(C++,i),Array.from(v,D=>T.setUint8(C++,D.charCodeAt(0))),Array.from(p,D=>T.setUint8(C++,D.charCodeAt(0))),Array.from(c,D=>T.setUint8(C++,D.charCodeAt(0))),Array.from(g,D=>T.setUint8(C++,D.charCodeAt(0))),Array.from(b,D=>T.setUint8(C++,D.charCodeAt(0)));var N=new Uint8Array(S.byteLength+r.byteLength);return N.set(new Uint8Array(S),0),N.set(new Uint8Array(r),S.byteLength),N.buffer}decode(e,i){if(this._isArrayBuffer(e)){let r=this._binaryDecode(e);return i(r)}if(typeof e=="string"){const r=JSON.parse(e),[o,l,c,p,v]=r;return i({join_ref:o,ref:l,topic:c,event:p,payload:v})}return i({})}_binaryDecode(e){const i=new DataView(e),r=i.getUint8(0),o=new TextDecoder;switch(r){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(e,i,o)}}_decodeUserBroadcast(e,i,r){const o=i.getUint8(1),l=i.getUint8(2),c=i.getUint8(3),p=i.getUint8(4);let v=this.HEADER_LENGTH+4;const g=r.decode(e.slice(v,v+o));v=v+o;const x=r.decode(e.slice(v,v+l));v=v+l;const b=r.decode(e.slice(v,v+c));v=v+c;const _=e.slice(v,e.byteLength),S=p===this.JSON_ENCODING?JSON.parse(r.decode(_)):_,T={type:this.BROADCAST_EVENT,event:x,payload:S};return c>0&&(T.meta=JSON.parse(b)),{join_ref:null,ref:null,topic:g,event:this.BROADCAST_EVENT,payload:T}}_isArrayBuffer(e){var i;return e instanceof ArrayBuffer||((i=e==null?void 0:e.constructor)===null||i===void 0?void 0:i.name)==="ArrayBuffer"}_pick(e,i){return!e||typeof e!="object"?{}:Object.fromEntries(Object.entries(e).filter(([r])=>i.includes(r)))}}class $0{constructor(e,i){this.callback=e,this.timerCalc=i,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=i}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Ke;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(Ke||(Ke={}));const Vm=(t,e,i={})=>{var r;const o=(r=i.skipTypes)!==null&&r!==void 0?r:[];return e?Object.keys(e).reduce((l,c)=>(l[c]=zb(c,t,e,o),l),{}):{}},zb=(t,e,i,r)=>{const o=e.find(p=>p.name===t),l=o==null?void 0:o.type,c=i[t];return l&&!r.includes(l)?J0(l,c):Kc(c)},J0=(t,e)=>{if(t.charAt(0)==="_"){const i=t.slice(1,t.length);return Kb(e,i)}switch(t){case Ke.bool:return Fb(e);case Ke.float4:case Ke.float8:case Ke.int2:case Ke.int4:case Ke.int8:case Ke.numeric:case Ke.oid:return $b(e);case Ke.json:case Ke.jsonb:return Jb(e);case Ke.timestamp:return Yb(e);case Ke.abstime:case Ke.date:case Ke.daterange:case Ke.int4range:case Ke.int8range:case Ke.money:case Ke.reltime:case Ke.text:case Ke.time:case Ke.timestamptz:case Ke.timetz:case Ke.tsrange:case Ke.tstzrange:return Kc(e);default:return Kc(e)}},Kc=t=>t,Fb=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},$b=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},Jb=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch{return t}return t},Kb=(t,e)=>{if(typeof t!="string")return t;const i=t.length-1,r=t[i];if(t[0]==="{"&&r==="}"){let l;const c=t.slice(1,i);try{l=JSON.parse("["+c+"]")}catch{l=c?c.split(","):[]}return l.map(p=>J0(e,p))}return t},Yb=t=>typeof t=="string"?t.replace(" ","T"):t,K0=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class Mc{constructor(e,i,r={},o=$c){this.channel=e,this.event=i,this.payload=r,this.timeout=o,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,i){var r;return this._hasReceived(e)&&i((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:i}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=i=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=i,this._matchReceive(i)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,i){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:i})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:i}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(i))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var zm;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(zm||(zm={}));class pa{constructor(e,i){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(i==null?void 0:i.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},o=>{const{onJoin:l,onLeave:c,onSync:p}=this.caller;this.joinRef=this.channel._joinRef(),this.state=pa.syncState(this.state,o,l,c),this.pendingDiffs.forEach(v=>{this.state=pa.syncDiff(this.state,v,l,c)}),this.pendingDiffs=[],p()}),this.channel._on(r.diff,{},o=>{const{onJoin:l,onLeave:c,onSync:p}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(o):(this.state=pa.syncDiff(this.state,o,l,c),p())}),this.onJoin((o,l,c)=>{this.channel._trigger("presence",{event:"join",key:o,currentPresences:l,newPresences:c})}),this.onLeave((o,l,c)=>{this.channel._trigger("presence",{event:"leave",key:o,currentPresences:l,leftPresences:c})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,i,r,o){const l=this.cloneDeep(e),c=this.transformState(i),p={},v={};return this.map(l,(g,x)=>{c[g]||(v[g]=x)}),this.map(c,(g,x)=>{const b=l[g];if(b){const _=x.map(N=>N.presence_ref),S=b.map(N=>N.presence_ref),T=x.filter(N=>S.indexOf(N.presence_ref)<0),C=b.filter(N=>_.indexOf(N.presence_ref)<0);T.length>0&&(p[g]=T),C.length>0&&(v[g]=C)}else p[g]=x}),this.syncDiff(l,{joins:p,leaves:v},r,o)}static syncDiff(e,i,r,o){const{joins:l,leaves:c}={joins:this.transformState(i.joins),leaves:this.transformState(i.leaves)};return r||(r=()=>{}),o||(o=()=>{}),this.map(l,(p,v)=>{var g;const x=(g=e[p])!==null&&g!==void 0?g:[];if(e[p]=this.cloneDeep(v),x.length>0){const b=e[p].map(S=>S.presence_ref),_=x.filter(S=>b.indexOf(S.presence_ref)<0);e[p].unshift(..._)}r(p,x,v)}),this.map(c,(p,v)=>{let g=e[p];if(!g)return;const x=v.map(b=>b.presence_ref);g=g.filter(b=>x.indexOf(b.presence_ref)<0),e[p]=g,o(p,g,v),g.length===0&&delete e[p]}),e}static map(e,i){return Object.getOwnPropertyNames(e).map(r=>i(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((i,r)=>{const o=e[r];return"metas"in o?i[r]=o.metas.map(l=>(l.presence_ref=l.phx_ref,delete l.phx_ref,delete l.phx_ref_prev,l)):i[r]=o,i},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Fm;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(Fm||(Fm={}));var ma;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(ma||(ma={}));var ei;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(ei||(ei={}));class ur{constructor(e,i={config:{}},r){var o,l;if(this.topic=e,this.params=i,this.socket=r,this.bindings={},this.state=vt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},i.config),this.timeout=this.socket.timeout,this.joinPush=new Mc(this,An.join,this.params,this.timeout),this.rejoinTimer=new $0(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=vt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(c=>c.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=vt.closed,this.socket._remove(this)}),this._onError(c=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,c),this.state=vt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=vt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",c=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,c),this.state=vt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(An.reply,{},(c,p)=>{this._trigger(this._replyEventName(p),c)}),this.presence=new pa(this),this.broadcastEndpointURL=K0(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((l=(o=this.params.config)===null||o===void 0?void 0:o.broadcast)===null||l===void 0)&&l.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,i=this.timeout){var r,o,l;if(this.socket.isConnected()||this.socket.connect(),this.state==vt.closed){const{config:{broadcast:c,presence:p,private:v}}=this.params,g=(o=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(S=>S.filter))!==null&&o!==void 0?o:[],x=!!this.bindings[ma.PRESENCE]&&this.bindings[ma.PRESENCE].length>0||((l=this.params.config.presence)===null||l===void 0?void 0:l.enabled)===!0,b={},_={broadcast:c,presence:Object.assign(Object.assign({},p),{enabled:x}),postgres_changes:g,private:v};this.socket.accessTokenValue&&(b.access_token=this.socket.accessTokenValue),this._onError(S=>e==null?void 0:e(ei.CHANNEL_ERROR,S)),this._onClose(()=>e==null?void 0:e(ei.CLOSED)),this.updateJoinPayload(Object.assign({config:_},b)),this.joinedOnce=!0,this._rejoin(i),this.joinPush.receive("ok",async({postgres_changes:S})=>{var T;if(this.socket._isManualToken()||this.socket.setAuth(),S===void 0){e==null||e(ei.SUBSCRIBED);return}else{const C=this.bindings.postgres_changes,N=(T=C==null?void 0:C.length)!==null&&T!==void 0?T:0,D=[];for(let H=0;H<N;H++){const U=C[H],{filter:{event:J,schema:X,table:F,filter:K}}=U,ce=S&&S[H];if(ce&&ce.event===J&&ur.isFilterValueEqual(ce.schema,X)&&ur.isFilterValueEqual(ce.table,F)&&ur.isFilterValueEqual(ce.filter,K))D.push(Object.assign(Object.assign({},U),{id:ce.id}));else{this.unsubscribe(),this.state=vt.errored,e==null||e(ei.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=D,e&&e(ei.SUBSCRIBED);return}}).receive("error",S=>{this.state=vt.errored,e==null||e(ei.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(S).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(ei.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,i={}){return await this.send({type:"presence",event:"track",payload:e},i.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,i,r){return this.state===vt.joined&&e===ma.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(e,i,r)}async httpSend(e,i,r={}){var o;if(i==null)return Promise.reject("Payload is required for httpSend()");const l={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(l.Authorization=`Bearer ${this.socket.accessTokenValue}`);const c={method:"POST",headers:l,body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:i,private:this.private}]})},p=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(o=r.timeout)!==null&&o!==void 0?o:this.timeout);if(p.status===202)return{success:!0};let v=p.statusText;try{const g=await p.json();v=g.error||g.message||v}catch{}return Promise.reject(new Error(v))}async send(e,i={}){var r,o;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:l,payload:c}=e,p={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(p.Authorization=`Bearer ${this.socket.accessTokenValue}`);const v={method:"POST",headers:p,body:JSON.stringify({messages:[{topic:this.subTopic,event:l,payload:c,private:this.private}]})};try{const g=await this._fetchWithTimeout(this.broadcastEndpointURL,v,(r=i.timeout)!==null&&r!==void 0?r:this.timeout);return await((o=g.body)===null||o===void 0?void 0:o.cancel()),g.ok?"ok":"error"}catch(g){return g.name==="AbortError"?"timed out":"error"}}else return new Promise(l=>{var c,p,v;const g=this._push(e.type,e,i.timeout||this.timeout);e.type==="broadcast"&&!(!((v=(p=(c=this.params)===null||c===void 0?void 0:c.config)===null||p===void 0?void 0:p.broadcast)===null||v===void 0)&&v.ack)&&l("ok"),g.receive("ok",()=>l("ok")),g.receive("error",()=>l("error")),g.receive("timeout",()=>l("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=vt.leaving;const i=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(An.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(o=>{r=new Mc(this,An.leave,{},e),r.receive("ok",()=>{i(),o("ok")}).receive("timeout",()=>{i(),o("timed out")}).receive("error",()=>{o("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=vt.closed,this.bindings={}}async _fetchWithTimeout(e,i,r){const o=new AbortController,l=setTimeout(()=>o.abort(),r),c=await this.socket.fetch(e,Object.assign(Object.assign({},i),{signal:o.signal}));return clearTimeout(l),c}_push(e,i,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let o=new Mc(this,e,i,r);return this._canPush()?o.send():this._addToPushBuffer(o),o}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>qb){const i=this.pushBuffer.shift();i&&(i.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${i.event}`,i.payload))}}_onMessage(e,i,r){return i}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,i,r){var o,l;const c=e.toLocaleLowerCase(),{close:p,error:v,leave:g,join:x}=An;if(r&&[p,v,g,x].indexOf(c)>=0&&r!==this._joinRef())return;let _=this._onMessage(c,i,r);if(i&&!_)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(c)?(o=this.bindings.postgres_changes)===null||o===void 0||o.filter(S=>{var T,C,N;return((T=S.filter)===null||T===void 0?void 0:T.event)==="*"||((N=(C=S.filter)===null||C===void 0?void 0:C.event)===null||N===void 0?void 0:N.toLocaleLowerCase())===c}).map(S=>S.callback(_,r)):(l=this.bindings[c])===null||l===void 0||l.filter(S=>{var T,C,N,D,H,U;if(["broadcast","presence","postgres_changes"].includes(c))if("id"in S){const J=S.id,X=(T=S.filter)===null||T===void 0?void 0:T.event;return J&&((C=i.ids)===null||C===void 0?void 0:C.includes(J))&&(X==="*"||(X==null?void 0:X.toLocaleLowerCase())===((N=i.data)===null||N===void 0?void 0:N.type.toLocaleLowerCase()))}else{const J=(H=(D=S==null?void 0:S.filter)===null||D===void 0?void 0:D.event)===null||H===void 0?void 0:H.toLocaleLowerCase();return J==="*"||J===((U=i==null?void 0:i.event)===null||U===void 0?void 0:U.toLocaleLowerCase())}else return S.type.toLocaleLowerCase()===c}).map(S=>{if(typeof _=="object"&&"ids"in _){const T=_.data,{schema:C,table:N,commit_timestamp:D,type:H,errors:U}=T;_=Object.assign(Object.assign({},{schema:C,table:N,commit_timestamp:D,eventType:H,new:{},old:{},errors:U}),this._getPayloadRecords(T))}S.callback(_,r)})}_isClosed(){return this.state===vt.closed}_isJoined(){return this.state===vt.joined}_isJoining(){return this.state===vt.joining}_isLeaving(){return this.state===vt.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,i,r){const o=e.toLocaleLowerCase(),l={type:o,filter:i,callback:r};return this.bindings[o]?this.bindings[o].push(l):this.bindings[o]=[l],this}_off(e,i){const r=e.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(o=>{var l;return!(((l=o.type)===null||l===void 0?void 0:l.toLocaleLowerCase())===r&&ur.isEqual(o.filter,i))})),this}static isEqual(e,i){if(Object.keys(e).length!==Object.keys(i).length)return!1;for(const r in e)if(e[r]!==i[r])return!1;return!0}static isFilterValueEqual(e,i){return(e??void 0)===(i??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(An.close,{},e)}_onError(e){this._on(An.error,{},i=>e(i))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=vt.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const i={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(i.new=Vm(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(i.old=Vm(e.columns,e.old_record)),i}}const Uc=()=>{},Oo={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Xb=[1e3,2e3,5e3,1e4],Wb=1e4,Qb=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Zb{constructor(e,i){var r;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=$c,this.transport=null,this.heartbeatIntervalMs=Oo.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Uc,this.ref=0,this.reconnectTimer=null,this.vsn=qm,this.logger=Uc,this.conn=null,this.sendBuffer=[],this.serializer=new Vb,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=o=>o?(...l)=>o(...l):(...l)=>fetch(...l),!(!((r=i==null?void 0:i.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=i.params.apikey,this.endPoint=`${e}/${Jc.websocket}`,this.httpEndpoint=K0(e),this._initializeOptions(i),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(i==null?void 0:i.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Ob.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const i=e.message;throw i.includes("Node.js")?new Error(`${i}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${i}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,i){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,i??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const i=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),i}async removeAllChannels(){const e=await Promise.all(this.channels.map(i=>i.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,i,r){this.logger(e,i,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Di.connecting:return as.Connecting;case Di.open:return as.Open;case Di.closing:return as.Closing;default:return as.Closed}}isConnected(){return this.connectionState()===as.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,i={config:{}}){const r=`realtime:${e}`,o=this.getChannels().find(l=>l.topic===r);if(o)return o;{const l=new ur(`realtime:${e}`,i,this);return this.channels.push(l),l}}push(e){const{topic:i,event:r,payload:o,ref:l}=e,c=()=>{this.encode(e,p=>{var v;(v=this.conn)===null||v===void 0||v.send(p)})};this.log("push",`${i} ${r} (${l})`,o),this.isConnected()?c():this.sendBuffer.push(c)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(i){this.log("error","error in heartbeat callback",i)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(i){this.log("error","error in heartbeat callback",i)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(Bb,"heartbeat timeout"),setTimeout(()=>{var i;this.isConnected()||(i=this.reconnectTimer)===null||i===void 0||i.scheduleTimeout()},Oo.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(i){this.log("error","error in heartbeat callback",i)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let i=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));i&&(this.log("transport",`leaving duplicate topic "${e}"`),i.unsubscribe())}_remove(e){this.channels=this.channels.filter(i=>i.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,i=>{if(i.topic==="phoenix"&&i.event==="phx_reply")try{this.heartbeatCallback(i.payload.status==="ok"?"ok":"error")}catch(g){this.log("error","error in heartbeat callback",g)}i.ref&&i.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:o,payload:l,ref:c}=i,p=c?`(${c})`:"",v=l.status||"";this.log("receive",`${v} ${r} ${o} ${p}`.trim(),l),this.channels.filter(g=>g._isMember(r)).forEach(g=>g._trigger(o,l,c)),this._triggerStateCallbacks("message",i)})}_clearTimer(e){var i;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((i=this.reconnectTimer)===null||i===void 0||i.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e),this.conn.readyState===Di.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===Di.open||this.conn.readyState===Di.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(i=>{this.log("error","error waiting for auth on connect",i),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=i=>{this.log("worker","worker error",i.message),this._terminateWorker()},this.workerRef.onmessage=i=>{i.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(e){var i;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(i=this.reconnectTimer)===null||i===void 0||i.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(An.error))}_appendParams(e,i){if(Object.keys(i).length===0)return e;const r=e.match(/\?/)?"&":"?",o=new URLSearchParams(i);return`${e}${r}${o}`}_workerObjectUrl(e){let i;if(e)i=e;else{const r=new Blob([Qb],{type:"application/javascript"});i=URL.createObjectURL(r)}return i}_setConnectionState(e,i=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=i)}async _performAuth(e=null){let i,r=!1;if(e)i=e,r=!0;else if(this.accessToken)try{i=await this.accessToken()}catch(o){this.log("error","Error fetching access token from callback",o),i=this.accessTokenValue}else i=this.accessTokenValue;r?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=i&&(this.accessTokenValue=i,this.channels.forEach(o=>{const l={access_token:i,version:Gb};i&&o.updateJoinPayload(l),o.joinedOnce&&o._isJoined()&&o._push(An.access_token,{access_token:i})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this._isManualToken()||this.setAuth().catch(i=>{this.log("error",`Error setting auth in ${e}`,i)})}_triggerStateCallbacks(e,i){try{this.stateChangeCallbacks[e].forEach(r=>{try{r(i)}catch(o){this.log("error",`error in ${e} callback`,o)}})}catch(r){this.log("error",`error triggering ${e} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new $0(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Oo.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var i,r,o,l,c,p,v,g,x,b,_,S;switch(this.transport=(i=e==null?void 0:e.transport)!==null&&i!==void 0?i:null,this.timeout=(r=e==null?void 0:e.timeout)!==null&&r!==void 0?r:$c,this.heartbeatIntervalMs=(o=e==null?void 0:e.heartbeatIntervalMs)!==null&&o!==void 0?o:Oo.HEARTBEAT_INTERVAL,this.worker=(l=e==null?void 0:e.worker)!==null&&l!==void 0?l:!1,this.accessToken=(c=e==null?void 0:e.accessToken)!==null&&c!==void 0?c:null,this.heartbeatCallback=(p=e==null?void 0:e.heartbeatCallback)!==null&&p!==void 0?p:Uc,this.vsn=(v=e==null?void 0:e.vsn)!==null&&v!==void 0?v:qm,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(g=e==null?void 0:e.reconnectAfterMs)!==null&&g!==void 0?g:(T=>Xb[T-1]||Wb),this.vsn){case F0:this.encode=(x=e==null?void 0:e.encode)!==null&&x!==void 0?x:((T,C)=>C(JSON.stringify(T))),this.decode=(b=e==null?void 0:e.decode)!==null&&b!==void 0?b:((T,C)=>C(JSON.parse(T)));break;case Hb:this.encode=(_=e==null?void 0:e.encode)!==null&&_!==void 0?_:this.serializer.encode.bind(this.serializer),this.decode=(S=e==null?void 0:e.decode)!==null&&S!==void 0?S:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}var ga=class extends Error{constructor(t,e){var i;super(t),this.name="IcebergError",this.status=e.status,this.icebergType=e.icebergType,this.icebergCode=e.icebergCode,this.details=e.details,this.isCommitStateUnknown=e.icebergType==="CommitStateUnknownException"||[500,502,504].includes(e.status)&&((i=e.icebergType)==null?void 0:i.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function e_(t,e,i){const r=new URL(e,t);if(i)for(const[o,l]of Object.entries(i))l!==void 0&&r.searchParams.set(o,l);return r.toString()}async function t_(t){return!t||t.type==="none"?{}:t.type==="bearer"?{Authorization:`Bearer ${t.token}`}:t.type==="header"?{[t.name]:t.value}:t.type==="custom"?await t.getHeaders():{}}function n_(t){const e=t.fetchImpl??globalThis.fetch;return{async request({method:i,path:r,query:o,body:l,headers:c}){const p=e_(t.baseUrl,r,o),v=await t_(t.auth),g=await e(p,{method:i,headers:{...l?{"Content-Type":"application/json"}:{},...v,...c},body:l?JSON.stringify(l):void 0}),x=await g.text(),b=(g.headers.get("content-type")||"").includes("application/json"),_=b&&x?JSON.parse(x):x;if(!g.ok){const S=b?_:void 0,T=S==null?void 0:S.error;throw new ga((T==null?void 0:T.message)??`Request failed with status ${g.status}`,{status:g.status,icebergType:T==null?void 0:T.type,icebergCode:T==null?void 0:T.code,details:S})}return{status:g.status,headers:g.headers,data:_}}}}function jo(t){return t.join("")}var i_=class{constructor(t,e=""){this.client=t,this.prefix=e}async listNamespaces(t){const e=t?{parent:jo(t.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:e})).data.namespaces.map(r=>({namespace:r}))}async createNamespace(t,e){const i={namespace:t.namespace,properties:e==null?void 0:e.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:i})).data}async dropNamespace(t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${jo(t.namespace)}`})}async loadNamespaceMetadata(t){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${jo(t.namespace)}`})).data.properties}}async namespaceExists(t){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${jo(t.namespace)}`}),!0}catch(e){if(e instanceof ga&&e.status===404)return!1;throw e}}async createNamespaceIfNotExists(t,e){try{return await this.createNamespace(t,e)}catch(i){if(i instanceof ga&&i.status===409)return;throw i}}};function Zs(t){return t.join("")}var s_=class{constructor(t,e="",i){this.client=t,this.prefix=e,this.accessDelegation=i}async listTables(t){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Zs(t.namespace)}/tables`})).data.identifiers}async createTable(t,e){const i={};return this.accessDelegation&&(i["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Zs(t.namespace)}/tables`,body:e,headers:i})).data.metadata}async updateTable(t,e){const i=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Zs(t.namespace)}/tables/${t.name}`,body:e});return{"metadata-location":i.data["metadata-location"],metadata:i.data.metadata}}async dropTable(t,e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Zs(t.namespace)}/tables/${t.name}`,query:{purgeRequested:String((e==null?void 0:e.purge)??!1)}})}async loadTable(t){const e={};return this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Zs(t.namespace)}/tables/${t.name}`,headers:e})).data.metadata}async tableExists(t){const e={};this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Zs(t.namespace)}/tables/${t.name}`,headers:e}),!0}catch(i){if(i instanceof ga&&i.status===404)return!1;throw i}}async createTableIfNotExists(t,e){try{return await this.createTable(t,e)}catch(i){if(i instanceof ga&&i.status===409)return await this.loadTable({namespace:t.namespace,name:e.name});throw i}}},r_=class{constructor(t){var r;let e="v1";t.catalogName&&(e+=`/${t.catalogName}`);const i=t.baseUrl.endsWith("/")?t.baseUrl:`${t.baseUrl}/`;this.client=n_({baseUrl:i,auth:t.auth,fetchImpl:t.fetch}),this.accessDelegation=(r=t.accessDelegation)==null?void 0:r.join(","),this.namespaceOps=new i_(this.client,e),this.tableOps=new s_(this.client,e,this.accessDelegation)}async listNamespaces(t){return this.namespaceOps.listNamespaces(t)}async createNamespace(t,e){return this.namespaceOps.createNamespace(t,e)}async dropNamespace(t){await this.namespaceOps.dropNamespace(t)}async loadNamespaceMetadata(t){return this.namespaceOps.loadNamespaceMetadata(t)}async listTables(t){return this.tableOps.listTables(t)}async createTable(t,e){return this.tableOps.createTable(t,e)}async updateTable(t,e){return this.tableOps.updateTable(t,e)}async dropTable(t,e){await this.tableOps.dropTable(t,e)}async loadTable(t){return this.tableOps.loadTable(t)}async namespaceExists(t){return this.namespaceOps.namespaceExists(t)}async tableExists(t){return this.tableOps.tableExists(t)}async createNamespaceIfNotExists(t,e){return this.namespaceOps.createNamespaceIfNotExists(t,e)}async createTableIfNotExists(t,e){return this.tableOps.createTableIfNotExists(t,e)}},sl=class extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}};function et(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}var a_=class extends sl{constructor(t,e,i){super(t),this.name="StorageApiError",this.status=e,this.statusCode=i}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Yc=class extends sl{constructor(t,e){super(t),this.name="StorageUnknownError",this.originalError=e}};const yd=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),o_=()=>Response,Xc=t=>{if(Array.isArray(t))return t.map(i=>Xc(i));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([i,r])=>{const o=i.replace(/([-_][a-z])/gi,l=>l.toUpperCase().replace(/[-_]/g,""));e[o]=Xc(r)}),e},l_=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},u_=t=>!t||typeof t!="string"||t.length===0||t.length>100||t.trim()!==t||t.includes("/")||t.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(t);function va(t){"@babel/helpers - typeof";return va=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},va(t)}function c_(t,e){if(va(t)!="object"||!t)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var r=i.call(t,e);if(va(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function d_(t){var e=c_(t,"string");return va(e)=="symbol"?e:e+""}function f_(t,e,i){return(e=d_(e))in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function $m(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),i.push.apply(i,r)}return i}function pe(t){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?arguments[e]:{};e%2?$m(Object(i),!0).forEach(function(r){f_(t,r,i[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):$m(Object(i)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(i,r))})}return t}const Pc=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},h_=async(t,e,i)=>{t instanceof await o_()&&!(i!=null&&i.noResolveJson)?t.json().then(r=>{const o=t.status||500,l=(r==null?void 0:r.statusCode)||o+"";e(new a_(Pc(r),o,l))}).catch(r=>{e(new Yc(Pc(r),r))}):e(new Yc(Pc(t),t))},p_=(t,e,i,r)=>{const o={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!r?o:(l_(r)?(o.headers=pe({"Content-Type":"application/json"},e==null?void 0:e.headers),o.body=JSON.stringify(r)):o.body=r,e!=null&&e.duplex&&(o.duplex=e.duplex),pe(pe({},o),i))};async function wa(t,e,i,r,o,l){return new Promise((c,p)=>{t(i,p_(e,r,o,l)).then(v=>{if(!v.ok)throw v;return r!=null&&r.noResolveJson?v:v.json()}).then(v=>c(v)).catch(v=>h_(v,p,r))})}async function ya(t,e,i,r){return wa(t,"GET",e,i,r)}async function Tn(t,e,i,r,o){return wa(t,"POST",e,r,o,i)}async function Wc(t,e,i,r,o){return wa(t,"PUT",e,r,o,i)}async function m_(t,e,i,r){return wa(t,"HEAD",e,pe(pe({},i),{},{noResolveJson:!0}),r)}async function xd(t,e,i,r,o){return wa(t,"DELETE",e,r,o,i)}var g_=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e}then(t,e){return this.execute().then(t,e)}async execute(){var t=this;try{return{data:(await t.downloadFn()).body,error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(et(e))return{data:null,error:e};throw e}}};let Y0;Y0=Symbol.toStringTag;var v_=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e,this[Y0]="BlobDownloadBuilder",this.promise=null}asStream(){return new g_(this.downloadFn,this.shouldThrowOnError)}then(t,e){return this.getPromise().then(t,e)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var t=this;try{return{data:await(await t.downloadFn()).blob(),error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(et(e))return{data:null,error:e};throw e}}};const y_={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Jm={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var x_=class{constructor(t,e={},i,r){this.shouldThrowOnError=!1,this.url=t,this.headers=e,this.bucketId=i,this.fetch=yd(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(t,e,i,r){var o=this;try{let l;const c=pe(pe({},Jm),r);let p=pe(pe({},o.headers),t==="POST"&&{"x-upsert":String(c.upsert)});const v=c.metadata;typeof Blob<"u"&&i instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),v&&l.append("metadata",o.encodeMetadata(v)),l.append("",i)):typeof FormData<"u"&&i instanceof FormData?(l=i,l.has("cacheControl")||l.append("cacheControl",c.cacheControl),v&&!l.has("metadata")&&l.append("metadata",o.encodeMetadata(v))):(l=i,p["cache-control"]=`max-age=${c.cacheControl}`,p["content-type"]=c.contentType,v&&(p["x-metadata"]=o.toBase64(o.encodeMetadata(v))),(typeof ReadableStream<"u"&&l instanceof ReadableStream||l&&typeof l=="object"&&"pipe"in l&&typeof l.pipe=="function")&&!c.duplex&&(c.duplex="half")),r!=null&&r.headers&&(p=pe(pe({},p),r.headers));const g=o._removeEmptyFolders(e),x=o._getFinalPath(g),b=await(t=="PUT"?Wc:Tn)(o.fetch,`${o.url}/object/${x}`,l,pe({headers:p},c!=null&&c.duplex?{duplex:c.duplex}:{}));return{data:{path:g,id:b.Id,fullPath:b.Key},error:null}}catch(l){if(o.shouldThrowOnError)throw l;if(et(l))return{data:null,error:l};throw l}}async upload(t,e,i){return this.uploadOrUpdate("POST",t,e,i)}async uploadToSignedUrl(t,e,i,r){var o=this;const l=o._removeEmptyFolders(t),c=o._getFinalPath(l),p=new URL(o.url+`/object/upload/sign/${c}`);p.searchParams.set("token",e);try{let v;const g=pe({upsert:Jm.upsert},r),x=pe(pe({},o.headers),{"x-upsert":String(g.upsert)});return typeof Blob<"u"&&i instanceof Blob?(v=new FormData,v.append("cacheControl",g.cacheControl),v.append("",i)):typeof FormData<"u"&&i instanceof FormData?(v=i,v.append("cacheControl",g.cacheControl)):(v=i,x["cache-control"]=`max-age=${g.cacheControl}`,x["content-type"]=g.contentType),{data:{path:l,fullPath:(await Wc(o.fetch,p.toString(),v,{headers:x})).Key},error:null}}catch(v){if(o.shouldThrowOnError)throw v;if(et(v))return{data:null,error:v};throw v}}async createSignedUploadUrl(t,e){var i=this;try{let r=i._getFinalPath(t);const o=pe({},i.headers);e!=null&&e.upsert&&(o["x-upsert"]="true");const l=await Tn(i.fetch,`${i.url}/object/upload/sign/${r}`,{},{headers:o}),c=new URL(i.url+l.url),p=c.searchParams.get("token");if(!p)throw new sl("No token returned by API");return{data:{signedUrl:c.toString(),path:t,token:p},error:null}}catch(r){if(i.shouldThrowOnError)throw r;if(et(r))return{data:null,error:r};throw r}}async update(t,e,i){return this.uploadOrUpdate("PUT",t,e,i)}async move(t,e,i){var r=this;try{return{data:await Tn(r.fetch,`${r.url}/object/move`,{bucketId:r.bucketId,sourceKey:t,destinationKey:e,destinationBucket:i==null?void 0:i.destinationBucket},{headers:r.headers}),error:null}}catch(o){if(r.shouldThrowOnError)throw o;if(et(o))return{data:null,error:o};throw o}}async copy(t,e,i){var r=this;try{return{data:{path:(await Tn(r.fetch,`${r.url}/object/copy`,{bucketId:r.bucketId,sourceKey:t,destinationKey:e,destinationBucket:i==null?void 0:i.destinationBucket},{headers:r.headers})).Key},error:null}}catch(o){if(r.shouldThrowOnError)throw o;if(et(o))return{data:null,error:o};throw o}}async createSignedUrl(t,e,i){var r=this;try{let o=r._getFinalPath(t),l=await Tn(r.fetch,`${r.url}/object/sign/${o}`,pe({expiresIn:e},i!=null&&i.transform?{transform:i.transform}:{}),{headers:r.headers});const c=i!=null&&i.download?`&download=${i.download===!0?"":i.download}`:"";return l={signedUrl:encodeURI(`${r.url}${l.signedURL}${c}`)},{data:l,error:null}}catch(o){if(r.shouldThrowOnError)throw o;if(et(o))return{data:null,error:o};throw o}}async createSignedUrls(t,e,i){var r=this;try{const o=await Tn(r.fetch,`${r.url}/object/sign/${r.bucketId}`,{expiresIn:e,paths:t},{headers:r.headers}),l=i!=null&&i.download?`&download=${i.download===!0?"":i.download}`:"";return{data:o.map(c=>pe(pe({},c),{},{signedUrl:c.signedURL?encodeURI(`${r.url}${c.signedURL}${l}`):null})),error:null}}catch(o){if(r.shouldThrowOnError)throw o;if(et(o))return{data:null,error:o};throw o}}download(t,e){const i=typeof(e==null?void 0:e.transform)<"u"?"render/image/authenticated":"object",r=this.transformOptsToQueryString((e==null?void 0:e.transform)||{}),o=r?`?${r}`:"",l=this._getFinalPath(t),c=()=>ya(this.fetch,`${this.url}/${i}/${l}${o}`,{headers:this.headers,noResolveJson:!0});return new v_(c,this.shouldThrowOnError)}async info(t){var e=this;const i=e._getFinalPath(t);try{return{data:Xc(await ya(e.fetch,`${e.url}/object/info/${i}`,{headers:e.headers})),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(et(r))return{data:null,error:r};throw r}}async exists(t){var e=this;const i=e._getFinalPath(t);try{return await m_(e.fetch,`${e.url}/object/${i}`,{headers:e.headers}),{data:!0,error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(et(r)&&r instanceof Yc){const o=r.originalError;if([400,404].includes(o==null?void 0:o.status))return{data:!1,error:r}}throw r}}getPublicUrl(t,e){const i=this._getFinalPath(t),r=[],o=e!=null&&e.download?`download=${e.download===!0?"":e.download}`:"";o!==""&&r.push(o);const l=typeof(e==null?void 0:e.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((e==null?void 0:e.transform)||{});c!==""&&r.push(c);let p=r.join("&");return p!==""&&(p=`?${p}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${i}${p}`)}}}async remove(t){var e=this;try{return{data:await xd(e.fetch,`${e.url}/object/${e.bucketId}`,{prefixes:t},{headers:e.headers}),error:null}}catch(i){if(e.shouldThrowOnError)throw i;if(et(i))return{data:null,error:i};throw i}}async list(t,e,i){var r=this;try{const o=pe(pe(pe({},y_),e),{},{prefix:t||""});return{data:await Tn(r.fetch,`${r.url}/object/list/${r.bucketId}`,o,{headers:r.headers},i),error:null}}catch(o){if(r.shouldThrowOnError)throw o;if(et(o))return{data:null,error:o};throw o}}async listV2(t,e){var i=this;try{const r=pe({},t);return{data:await Tn(i.fetch,`${i.url}/object/list-v2/${i.bucketId}`,r,{headers:i.headers},e),error:null}}catch(r){if(i.shouldThrowOnError)throw r;if(et(r))return{data:null,error:r};throw r}}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const e=[];return t.width&&e.push(`width=${t.width}`),t.height&&e.push(`height=${t.height}`),t.resize&&e.push(`resize=${t.resize}`),t.format&&e.push(`format=${t.format}`),t.quality&&e.push(`quality=${t.quality}`),e.join("&")}};const X0="2.89.0",W0={"X-Client-Info":`storage-js/${X0}`};var b_=class{constructor(t,e={},i,r){this.shouldThrowOnError=!1;const o=new URL(t);r!=null&&r.useNewHostname&&/supabase\.(co|in|red)$/.test(o.hostname)&&!o.hostname.includes("storage.supabase.")&&(o.hostname=o.hostname.replace("supabase.","storage.supabase.")),this.url=o.href.replace(/\/$/,""),this.headers=pe(pe({},W0),e),this.fetch=yd(i)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(t){var e=this;try{const i=e.listBucketOptionsToQueryString(t);return{data:await ya(e.fetch,`${e.url}/bucket${i}`,{headers:e.headers}),error:null}}catch(i){if(e.shouldThrowOnError)throw i;if(et(i))return{data:null,error:i};throw i}}async getBucket(t){var e=this;try{return{data:await ya(e.fetch,`${e.url}/bucket/${t}`,{headers:e.headers}),error:null}}catch(i){if(e.shouldThrowOnError)throw i;if(et(i))return{data:null,error:i};throw i}}async createBucket(t,e={public:!1}){var i=this;try{return{data:await Tn(i.fetch,`${i.url}/bucket`,{id:t,name:t,type:e.type,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:i.headers}),error:null}}catch(r){if(i.shouldThrowOnError)throw r;if(et(r))return{data:null,error:r};throw r}}async updateBucket(t,e){var i=this;try{return{data:await Wc(i.fetch,`${i.url}/bucket/${t}`,{id:t,name:t,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:i.headers}),error:null}}catch(r){if(i.shouldThrowOnError)throw r;if(et(r))return{data:null,error:r};throw r}}async emptyBucket(t){var e=this;try{return{data:await Tn(e.fetch,`${e.url}/bucket/${t}/empty`,{},{headers:e.headers}),error:null}}catch(i){if(e.shouldThrowOnError)throw i;if(et(i))return{data:null,error:i};throw i}}async deleteBucket(t){var e=this;try{return{data:await xd(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}),error:null}}catch(i){if(e.shouldThrowOnError)throw i;if(et(i))return{data:null,error:i};throw i}}listBucketOptionsToQueryString(t){const e={};return t&&("limit"in t&&(e.limit=String(t.limit)),"offset"in t&&(e.offset=String(t.offset)),t.search&&(e.search=t.search),t.sortColumn&&(e.sortColumn=t.sortColumn),t.sortOrder&&(e.sortOrder=t.sortOrder)),Object.keys(e).length>0?"?"+new URLSearchParams(e).toString():""}},__=class{constructor(t,e={},i){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=pe(pe({},W0),e),this.fetch=yd(i)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(t){var e=this;try{return{data:await Tn(e.fetch,`${e.url}/bucket`,{name:t},{headers:e.headers}),error:null}}catch(i){if(e.shouldThrowOnError)throw i;if(et(i))return{data:null,error:i};throw i}}async listBuckets(t){var e=this;try{const i=new URLSearchParams;(t==null?void 0:t.limit)!==void 0&&i.set("limit",t.limit.toString()),(t==null?void 0:t.offset)!==void 0&&i.set("offset",t.offset.toString()),t!=null&&t.sortColumn&&i.set("sortColumn",t.sortColumn),t!=null&&t.sortOrder&&i.set("sortOrder",t.sortOrder),t!=null&&t.search&&i.set("search",t.search);const r=i.toString(),o=r?`${e.url}/bucket?${r}`:`${e.url}/bucket`;return{data:await ya(e.fetch,o,{headers:e.headers}),error:null}}catch(i){if(e.shouldThrowOnError)throw i;if(et(i))return{data:null,error:i};throw i}}async deleteBucket(t){var e=this;try{return{data:await xd(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}),error:null}}catch(i){if(e.shouldThrowOnError)throw i;if(et(i))return{data:null,error:i};throw i}}from(t){var e=this;if(!u_(t))throw new sl("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const i=new r_({baseUrl:this.url,catalogName:t,auth:{type:"custom",getHeaders:async()=>e.headers},fetch:this.fetch}),r=this.shouldThrowOnError;return new Proxy(i,{get(o,l){const c=o[l];return typeof c!="function"?c:async(...p)=>{try{return{data:await c.apply(o,p),error:null}}catch(v){if(r)throw v;return{data:null,error:v}}}}})}};const bd={"X-Client-Info":`storage-js/${X0}`,"Content-Type":"application/json"};var Q0=class extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function tn(t){return typeof t=="object"&&t!==null&&"__isStorageVectorsError"in t}var Lc=class extends Q0{constructor(t,e,i){super(t),this.name="StorageVectorsApiError",this.status=e,this.statusCode=i}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},w_=class extends Q0{constructor(t,e){super(t),this.name="StorageVectorsUnknownError",this.originalError=e}};const _d=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),S_=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},Km=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),E_=async(t,e,i)=>{if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!(i!=null&&i.noResolveJson)){const r=t.status||500,o=t;if(typeof o.json=="function")o.json().then(l=>{const c=(l==null?void 0:l.statusCode)||(l==null?void 0:l.code)||r+"";e(new Lc(Km(l),r,c))}).catch(()=>{const l=r+"";e(new Lc(o.statusText||`HTTP ${r} error`,r,l))});else{const l=r+"";e(new Lc(o.statusText||`HTTP ${r} error`,r,l))}}else e(new w_(Km(t),t))},T_=(t,e,i,r)=>{const o={method:t,headers:(e==null?void 0:e.headers)||{}};return r?(S_(r)?(o.headers=pe({"Content-Type":"application/json"},e==null?void 0:e.headers),o.body=JSON.stringify(r)):o.body=r,pe(pe({},o),i)):o};async function A_(t,e,i,r,o,l){return new Promise((c,p)=>{t(i,T_(e,r,o,l)).then(v=>{if(!v.ok)throw v;if(r!=null&&r.noResolveJson)return v;const g=v.headers.get("content-type");return!g||!g.includes("application/json")?{}:v.json()}).then(v=>c(v)).catch(v=>E_(v,p,r))})}async function nn(t,e,i,r,o){return A_(t,"POST",e,r,o,i)}var N_=class{constructor(t,e={},i){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=pe(pe({},bd),e),this.fetch=_d(i)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(t){var e=this;try{return{data:await nn(e.fetch,`${e.url}/CreateIndex`,t,{headers:e.headers})||{},error:null}}catch(i){if(e.shouldThrowOnError)throw i;if(tn(i))return{data:null,error:i};throw i}}async getIndex(t,e){var i=this;try{return{data:await nn(i.fetch,`${i.url}/GetIndex`,{vectorBucketName:t,indexName:e},{headers:i.headers}),error:null}}catch(r){if(i.shouldThrowOnError)throw r;if(tn(r))return{data:null,error:r};throw r}}async listIndexes(t){var e=this;try{return{data:await nn(e.fetch,`${e.url}/ListIndexes`,t,{headers:e.headers}),error:null}}catch(i){if(e.shouldThrowOnError)throw i;if(tn(i))return{data:null,error:i};throw i}}async deleteIndex(t,e){var i=this;try{return{data:await nn(i.fetch,`${i.url}/DeleteIndex`,{vectorBucketName:t,indexName:e},{headers:i.headers})||{},error:null}}catch(r){if(i.shouldThrowOnError)throw r;if(tn(r))return{data:null,error:r};throw r}}},C_=class{constructor(t,e={},i){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=pe(pe({},bd),e),this.fetch=_d(i)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(t){var e=this;try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await nn(e.fetch,`${e.url}/PutVectors`,t,{headers:e.headers})||{},error:null}}catch(i){if(e.shouldThrowOnError)throw i;if(tn(i))return{data:null,error:i};throw i}}async getVectors(t){var e=this;try{return{data:await nn(e.fetch,`${e.url}/GetVectors`,t,{headers:e.headers}),error:null}}catch(i){if(e.shouldThrowOnError)throw i;if(tn(i))return{data:null,error:i};throw i}}async listVectors(t){var e=this;try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:await nn(e.fetch,`${e.url}/ListVectors`,t,{headers:e.headers}),error:null}}catch(i){if(e.shouldThrowOnError)throw i;if(tn(i))return{data:null,error:i};throw i}}async queryVectors(t){var e=this;try{return{data:await nn(e.fetch,`${e.url}/QueryVectors`,t,{headers:e.headers}),error:null}}catch(i){if(e.shouldThrowOnError)throw i;if(tn(i))return{data:null,error:i};throw i}}async deleteVectors(t){var e=this;try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await nn(e.fetch,`${e.url}/DeleteVectors`,t,{headers:e.headers})||{},error:null}}catch(i){if(e.shouldThrowOnError)throw i;if(tn(i))return{data:null,error:i};throw i}}},R_=class{constructor(t,e={},i){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=pe(pe({},bd),e),this.fetch=_d(i)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(t){var e=this;try{return{data:await nn(e.fetch,`${e.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{},error:null}}catch(i){if(e.shouldThrowOnError)throw i;if(tn(i))return{data:null,error:i};throw i}}async getBucket(t){var e=this;try{return{data:await nn(e.fetch,`${e.url}/GetVectorBucket`,{vectorBucketName:t},{headers:e.headers}),error:null}}catch(i){if(e.shouldThrowOnError)throw i;if(tn(i))return{data:null,error:i};throw i}}async listBuckets(t={}){var e=this;try{return{data:await nn(e.fetch,`${e.url}/ListVectorBuckets`,t,{headers:e.headers}),error:null}}catch(i){if(e.shouldThrowOnError)throw i;if(tn(i))return{data:null,error:i};throw i}}async deleteBucket(t){var e=this;try{return{data:await nn(e.fetch,`${e.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{},error:null}}catch(i){if(e.shouldThrowOnError)throw i;if(tn(i))return{data:null,error:i};throw i}}},k_=class extends R_{constructor(t,e={}){super(t,e.headers||{},e.fetch)}from(t){return new I_(this.url,this.headers,t,this.fetch)}async createBucket(t){var e=()=>super.createBucket,i=this;return e().call(i,t)}async getBucket(t){var e=()=>super.getBucket,i=this;return e().call(i,t)}async listBuckets(t={}){var e=()=>super.listBuckets,i=this;return e().call(i,t)}async deleteBucket(t){var e=()=>super.deleteBucket,i=this;return e().call(i,t)}},I_=class extends N_{constructor(t,e,i,r){super(t,e,r),this.vectorBucketName=i}async createIndex(t){var e=()=>super.createIndex,i=this;return e().call(i,pe(pe({},t),{},{vectorBucketName:i.vectorBucketName}))}async listIndexes(t={}){var e=()=>super.listIndexes,i=this;return e().call(i,pe(pe({},t),{},{vectorBucketName:i.vectorBucketName}))}async getIndex(t){var e=()=>super.getIndex,i=this;return e().call(i,i.vectorBucketName,t)}async deleteIndex(t){var e=()=>super.deleteIndex,i=this;return e().call(i,i.vectorBucketName,t)}index(t){return new D_(this.url,this.headers,this.vectorBucketName,t,this.fetch)}},D_=class extends C_{constructor(t,e,i,r,o){super(t,e,o),this.vectorBucketName=i,this.indexName=r}async putVectors(t){var e=()=>super.putVectors,i=this;return e().call(i,pe(pe({},t),{},{vectorBucketName:i.vectorBucketName,indexName:i.indexName}))}async getVectors(t){var e=()=>super.getVectors,i=this;return e().call(i,pe(pe({},t),{},{vectorBucketName:i.vectorBucketName,indexName:i.indexName}))}async listVectors(t={}){var e=()=>super.listVectors,i=this;return e().call(i,pe(pe({},t),{},{vectorBucketName:i.vectorBucketName,indexName:i.indexName}))}async queryVectors(t){var e=()=>super.queryVectors,i=this;return e().call(i,pe(pe({},t),{},{vectorBucketName:i.vectorBucketName,indexName:i.indexName}))}async deleteVectors(t){var e=()=>super.deleteVectors,i=this;return e().call(i,pe(pe({},t),{},{vectorBucketName:i.vectorBucketName,indexName:i.indexName}))}},M_=class extends b_{constructor(t,e={},i,r){super(t,e,i,r)}from(t){return new x_(this.url,this.headers,t,this.fetch)}get vectors(){return new k_(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new __(this.url+"/iceberg",this.headers,this.fetch)}};const Z0="2.89.0",ar=30*1e3,Qc=3,Oc=Qc*ar,U_="http://localhost:9999",P_="supabase.auth.token",L_={"X-Client-Info":`gotrue-js/${Z0}`},Zc="X-Supabase-Api-Version",ev={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},O_=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,j_=600*1e3;class xa extends Error{constructor(e,i,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=i,this.code=r}}function oe(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class G_ extends xa{constructor(e,i,r){super(e,i,r),this.name="AuthApiError",this.status=i,this.code=r}}function H_(t){return oe(t)&&t.name==="AuthApiError"}class os extends xa{constructor(e,i){super(e),this.name="AuthUnknownError",this.originalError=i}}class ni extends xa{constructor(e,i,r,o){super(e,r,o),this.name=i,this.status=r}}class en extends ni{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function B_(t){return oe(t)&&t.name==="AuthSessionMissingError"}class er extends ni{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Go extends ni{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Ho extends ni{constructor(e,i=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=i}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function q_(t){return oe(t)&&t.name==="AuthImplicitGrantRedirectError"}class Ym extends ni{constructor(e,i=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=i}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class V_ extends ni{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class ed extends ni{constructor(e,i){super(e,"AuthRetryableFetchError",i,void 0)}}function jc(t){return oe(t)&&t.name==="AuthRetryableFetchError"}class Xm extends ni{constructor(e,i,r){super(e,"AuthWeakPasswordError",i,"weak_password"),this.reasons=r}}class td extends ni{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Ko="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Wm=` 	
\r=`.split(""),z_=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<Wm.length;e+=1)t[Wm[e].charCodeAt(0)]=-2;for(let e=0;e<Ko.length;e+=1)t[Ko[e].charCodeAt(0)]=e;return t})();function Qm(t,e,i){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;i(Ko[r]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;i(Ko[r]),e.queuedBits-=6}}function tv(t,e,i){const r=z_[t];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)i(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function Zm(t){const e=[],i=c=>{e.push(String.fromCodePoint(c))},r={utf8seq:0,codepoint:0},o={queue:0,queuedBits:0},l=c=>{J_(c,r,i)};for(let c=0;c<t.length;c+=1)tv(t.charCodeAt(c),o,l);return e.join("")}function F_(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function $_(t,e){for(let i=0;i<t.length;i+=1){let r=t.charCodeAt(i);if(r>55295&&r<=56319){const o=(r-55296)*1024&65535;r=(t.charCodeAt(i+1)-56320&65535|o)+65536,i+=1}F_(r,e)}}function J_(t,e,i){if(e.utf8seq===0){if(t<=127){i(t);return}for(let r=1;r<6;r+=1)if((t>>7-r&1)===0){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&i(e.codepoint)}}function fr(t){const e=[],i={queue:0,queuedBits:0},r=o=>{e.push(o)};for(let o=0;o<t.length;o+=1)tv(t.charCodeAt(o),i,r);return new Uint8Array(e)}function K_(t){const e=[];return $_(t,i=>e.push(i)),new Uint8Array(e)}function ls(t){const e=[],i={queue:0,queuedBits:0},r=o=>{e.push(o)};return t.forEach(o=>Qm(o,i,r)),Qm(null,i,r),e.join("")}function Y_(t){return Math.round(Date.now()/1e3)+t}function X_(){return Symbol("auth-callback")}const Ct=()=>typeof window<"u"&&typeof document<"u",ns={tested:!1,writable:!1},nv=()=>{if(!Ct())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(ns.tested)return ns.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),ns.tested=!0,ns.writable=!0}catch{ns.tested=!0,ns.writable=!1}return ns.writable};function W_(t){const e={},i=new URL(t);if(i.hash&&i.hash[0]==="#")try{new URLSearchParams(i.hash.substring(1)).forEach((o,l)=>{e[l]=o})}catch{}return i.searchParams.forEach((r,o)=>{e[o]=r}),e}const iv=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),Q_=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",or=async(t,e,i)=>{await t.setItem(e,JSON.stringify(i))},is=async(t,e)=>{const i=await t.getItem(e);if(!i)return null;try{return JSON.parse(i)}catch{return i}},Nt=async(t,e)=>{await t.removeItem(e)};class rl{constructor(){this.promise=new rl.promiseConstructor((e,i)=>{this.resolve=e,this.reject=i})}}rl.promiseConstructor=Promise;function Gc(t){const e=t.split(".");if(e.length!==3)throw new td("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!O_.test(e[r]))throw new td("JWT not in base64url format");return{header:JSON.parse(Zm(e[0])),payload:JSON.parse(Zm(e[1])),signature:fr(e[2]),raw:{header:e[0],payload:e[1]}}}async function Z_(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function ew(t,e){return new Promise((r,o)=>{(async()=>{for(let l=0;l<1/0;l++)try{const c=await t(l);if(!e(l,null,c)){r(c);return}}catch(c){if(!e(l,c)){o(c);return}}})()})}function tw(t){return("0"+t.toString(16)).substr(-2)}function nw(){const e=new Uint32Array(56);if(typeof crypto>"u"){const i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=i.length;let o="";for(let l=0;l<56;l++)o+=i.charAt(Math.floor(Math.random()*r));return o}return crypto.getRandomValues(e),Array.from(e,tw).join("")}async function iw(t){const i=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",i),o=new Uint8Array(r);return Array.from(o).map(l=>String.fromCharCode(l)).join("")}async function sw(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const i=await iw(t);return btoa(i).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function tr(t,e,i=!1){const r=nw();let o=r;i&&(o+="/PASSWORD_RECOVERY"),await or(t,`${e}-code-verifier`,o);const l=await sw(r);return[l,r===l?"plain":"s256"]}const rw=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function aw(t){const e=t.headers.get(Zc);if(!e||!e.match(rw))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function ow(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function lw(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const uw=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function nr(t){if(!uw.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Hc(){const t={};return new Proxy(t,{get:(e,i)=>{if(i==="__isUserNotAvailableProxy")return!0;if(typeof i=="symbol"){const r=i.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${i}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,i)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${i}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,i)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${i}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function cw(t,e){return new Proxy(t,{get:(i,r,o)=>{if(r==="__isInsecureUserWarningProxy")return!0;if(typeof r=="symbol"){const l=r.toString();if(l==="Symbol(Symbol.toPrimitive)"||l==="Symbol(Symbol.toStringTag)"||l==="Symbol(util.inspect.custom)"||l==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(i,r,o)}return!e.value&&typeof r=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(i,r,o)}})}function eg(t){return JSON.parse(JSON.stringify(t))}const ss=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),dw=[502,503,504];async function tg(t){var e;if(!Q_(t))throw new ed(ss(t),0);if(dw.includes(t.status))throw new ed(ss(t),t.status);let i;try{i=await t.json()}catch(l){throw new os(ss(l),l)}let r;const o=aw(t);if(o&&o.getTime()>=ev["2024-01-01"].timestamp&&typeof i=="object"&&i&&typeof i.code=="string"?r=i.code:typeof i=="object"&&i&&typeof i.error_code=="string"&&(r=i.error_code),r){if(r==="weak_password")throw new Xm(ss(i),t.status,((e=i.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new en}else if(typeof i=="object"&&i&&typeof i.weak_password=="object"&&i.weak_password&&Array.isArray(i.weak_password.reasons)&&i.weak_password.reasons.length&&i.weak_password.reasons.reduce((l,c)=>l&&typeof c=="string",!0))throw new Xm(ss(i),t.status,i.weak_password.reasons);throw new G_(ss(i),t.status||500,r)}const fw=(t,e,i,r)=>{const o={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?o:(o.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),o.body=JSON.stringify(r),Object.assign(Object.assign({},o),i))};async function he(t,e,i,r){var o;const l=Object.assign({},r==null?void 0:r.headers);l[Zc]||(l[Zc]=ev["2024-01-01"].name),r!=null&&r.jwt&&(l.Authorization=`Bearer ${r.jwt}`);const c=(o=r==null?void 0:r.query)!==null&&o!==void 0?o:{};r!=null&&r.redirectTo&&(c.redirect_to=r.redirectTo);const p=Object.keys(c).length?"?"+new URLSearchParams(c).toString():"",v=await hw(t,e,i+p,{headers:l,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(v):{data:Object.assign({},v),error:null}}async function hw(t,e,i,r,o,l){const c=fw(e,r,o,l);let p;try{p=await t(i,Object.assign({},c))}catch(v){throw console.error(v),new ed(ss(v),0)}if(p.ok||await tg(p),r!=null&&r.noResolveJson)return p;try{return await p.json()}catch(v){await tg(v)}}function En(t){var e;let i=null;gw(t)&&(i=Object.assign({},t),t.expires_at||(i.expires_at=Y_(t.expires_in)));const r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:i,user:r},error:null}}function ng(t){const e=En(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((i,r)=>i&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Mi(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function pw(t){return{data:t,error:null}}function mw(t){const{action_link:e,email_otp:i,hashed_token:r,redirect_to:o,verification_type:l}=t,c=il(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),p={action_link:e,email_otp:i,hashed_token:r,redirect_to:o,verification_type:l},v=Object.assign({},c);return{data:{properties:p,user:v},error:null}}function ig(t){return t}function gw(t){return t.access_token&&t.refresh_token&&t.expires_in}const Bc=["global","local","others"];class vw{constructor({url:e="",headers:i={},fetch:r}){this.url=e,this.headers=i,this.fetch=iv(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,i=Bc[0]){if(Bc.indexOf(i)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Bc.join(", ")}`);try{return await he(this.fetch,"POST",`${this.url}/logout?scope=${i}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(oe(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,i={}){try{return await he(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:i.data},headers:this.headers,redirectTo:i.redirectTo,xform:Mi})}catch(r){if(oe(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:i}=e,r=il(e,["options"]),o=Object.assign(Object.assign({},r),i);return"newEmail"in r&&(o.new_email=r==null?void 0:r.newEmail,delete o.newEmail),await he(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:o,headers:this.headers,xform:mw,redirectTo:i==null?void 0:i.redirectTo})}catch(i){if(oe(i))return{data:{properties:null,user:null},error:i};throw i}}async createUser(e){try{return await he(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Mi})}catch(i){if(oe(i))return{data:{user:null},error:i};throw i}}async listUsers(e){var i,r,o,l,c,p,v;try{const g={nextPage:null,lastPage:0,total:0},x=await he(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(i=e==null?void 0:e.page)===null||i===void 0?void 0:i.toString())!==null&&r!==void 0?r:"",per_page:(l=(o=e==null?void 0:e.perPage)===null||o===void 0?void 0:o.toString())!==null&&l!==void 0?l:""},xform:ig});if(x.error)throw x.error;const b=await x.json(),_=(c=x.headers.get("x-total-count"))!==null&&c!==void 0?c:0,S=(v=(p=x.headers.get("link"))===null||p===void 0?void 0:p.split(","))!==null&&v!==void 0?v:[];return S.length>0&&(S.forEach(T=>{const C=parseInt(T.split(";")[0].split("=")[1].substring(0,1)),N=JSON.parse(T.split(";")[1].split("=")[1]);g[`${N}Page`]=C}),g.total=parseInt(_)),{data:Object.assign(Object.assign({},b),g),error:null}}catch(g){if(oe(g))return{data:{users:[]},error:g};throw g}}async getUserById(e){nr(e);try{return await he(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Mi})}catch(i){if(oe(i))return{data:{user:null},error:i};throw i}}async updateUserById(e,i){nr(e);try{return await he(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:i,headers:this.headers,xform:Mi})}catch(r){if(oe(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,i=!1){nr(e);try{return await he(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:i},xform:Mi})}catch(r){if(oe(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){nr(e.userId);try{const{data:i,error:r}=await he(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:o=>({data:{factors:o},error:null})});return{data:i,error:r}}catch(i){if(oe(i))return{data:null,error:i};throw i}}async _deleteFactor(e){nr(e.userId),nr(e.id);try{return{data:await he(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(i){if(oe(i))return{data:null,error:i};throw i}}async _listOAuthClients(e){var i,r,o,l,c,p,v;try{const g={nextPage:null,lastPage:0,total:0},x=await he(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(i=e==null?void 0:e.page)===null||i===void 0?void 0:i.toString())!==null&&r!==void 0?r:"",per_page:(l=(o=e==null?void 0:e.perPage)===null||o===void 0?void 0:o.toString())!==null&&l!==void 0?l:""},xform:ig});if(x.error)throw x.error;const b=await x.json(),_=(c=x.headers.get("x-total-count"))!==null&&c!==void 0?c:0,S=(v=(p=x.headers.get("link"))===null||p===void 0?void 0:p.split(","))!==null&&v!==void 0?v:[];return S.length>0&&(S.forEach(T=>{const C=parseInt(T.split(";")[0].split("=")[1].substring(0,1)),N=JSON.parse(T.split(";")[1].split("=")[1]);g[`${N}Page`]=C}),g.total=parseInt(_)),{data:Object.assign(Object.assign({},b),g),error:null}}catch(g){if(oe(g))return{data:{clients:[]},error:g};throw g}}async _createOAuthClient(e){try{return await he(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:i=>({data:i,error:null})})}catch(i){if(oe(i))return{data:null,error:i};throw i}}async _getOAuthClient(e){try{return await he(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:i=>({data:i,error:null})})}catch(i){if(oe(i))return{data:null,error:i};throw i}}async _updateOAuthClient(e,i){try{return await he(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:i,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(oe(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(e){try{return await he(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(i){if(oe(i))return{data:null,error:i};throw i}}async _regenerateOAuthClientSecret(e){try{return await he(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:i=>({data:i,error:null})})}catch(i){if(oe(i))return{data:null,error:i};throw i}}}function sg(t={}){return{getItem:e=>t[e]||null,setItem:(e,i)=>{t[e]=i},removeItem:e=>{delete t[e]}}}const ir={debug:!!(globalThis&&nv()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class sv extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class yw extends sv{}async function xw(t,e,i){ir.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),ir.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async o=>{if(o){ir.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,o.name);try{return await i()}finally{ir.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,o.name)}}else{if(e===0)throw ir.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new yw(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(ir.debug)try{const l=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(l,null,"  "))}catch(l){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",l)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await i()}}))}function bw(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function rv(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function _w(t){return parseInt(t,16)}function ww(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,r=>r.toString(16).padStart(2,"0")).join("")}function Sw(t){var e;const{chainId:i,domain:r,expirationTime:o,issuedAt:l=new Date,nonce:c,notBefore:p,requestId:v,resources:g,scheme:x,uri:b,version:_}=t;{if(!Number.isInteger(i))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${i}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(c&&c.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${c}`);if(!b)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(_!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${_}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const S=rv(t.address),T=x?`${x}://${r}`:r,C=t.statement?`${t.statement}
`:"",N=`${T} wants you to sign in with your Ethereum account:
${S}

${C}`;let D=`URI: ${b}
Version: ${_}
Chain ID: ${i}${c?`
Nonce: ${c}`:""}
Issued At: ${l.toISOString()}`;if(o&&(D+=`
Expiration Time: ${o.toISOString()}`),p&&(D+=`
Not Before: ${p.toISOString()}`),v&&(D+=`
Request ID: ${v}`),g){let H=`
Resources:`;for(const U of g){if(!U||typeof U!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${U}`);H+=`
- ${U}`}D+=H}return`${N}
${D}`}class pt extends Error{constructor({message:e,code:i,cause:r,name:o}){var l;super(e,{cause:r}),this.__isWebAuthnError=!0,this.name=(l=o??(r instanceof Error?r.name:void 0))!==null&&l!==void 0?l:"Unknown Error",this.code=i}}class Yo extends pt{constructor(e,i){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:i,message:e}),this.name="WebAuthnUnknownError",this.originalError=i}}function Ew({error:t,options:e}){var i,r,o;const{publicKey:l}=e;if(!l)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new pt({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((i=l.authenticatorSelection)===null||i===void 0?void 0:i.requireResidentKey)===!0)return new pt({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((r=l.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new pt({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((o=l.authenticatorSelection)===null||o===void 0?void 0:o.userVerification)==="required")return new pt({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new pt({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new pt({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return l.pubKeyCredParams.filter(p=>p.type==="public-key").length===0?new pt({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new pt({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const c=window.location.hostname;if(av(c)){if(l.rp.id!==c)return new pt({message:`The RP ID "${l.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new pt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(l.user.id.byteLength<1||l.user.id.byteLength>64)return new pt({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new pt({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new pt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function Tw({error:t,options:e}){const{publicKey:i}=e;if(!i)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new pt({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new pt({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const r=window.location.hostname;if(av(r)){if(i.rpId!==r)return new pt({message:`The RP ID "${i.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new pt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new pt({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new pt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class Aw{createNewAbortSignal(){if(this.controller){const i=new Error("Cancelling existing WebAuthn API call for new one");i.name="AbortError",this.controller.abort(i)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const Nw=new Aw;function Cw(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:i,excludeCredentials:r}=t,o=il(t,["challenge","user","excludeCredentials"]),l=fr(e).buffer,c=Object.assign(Object.assign({},i),{id:fr(i.id).buffer}),p=Object.assign(Object.assign({},o),{challenge:l,user:c});if(r&&r.length>0){p.excludeCredentials=new Array(r.length);for(let v=0;v<r.length;v++){const g=r[v];p.excludeCredentials[v]=Object.assign(Object.assign({},g),{id:fr(g.id).buffer,type:g.type||"public-key",transports:g.transports})}}return p}function Rw(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:i}=t,r=il(t,["challenge","allowCredentials"]),o=fr(e).buffer,l=Object.assign(Object.assign({},r),{challenge:o});if(i&&i.length>0){l.allowCredentials=new Array(i.length);for(let c=0;c<i.length;c++){const p=i[c];l.allowCredentials[c]=Object.assign(Object.assign({},p),{id:fr(p.id).buffer,type:p.type||"public-key",transports:p.transports})}}return l}function kw(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const i=t;return{id:t.id,rawId:t.id,response:{attestationObject:ls(new Uint8Array(t.response.attestationObject)),clientDataJSON:ls(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=i.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function Iw(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const i=t,r=t.getClientExtensionResults(),o=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:ls(new Uint8Array(o.authenticatorData)),clientDataJSON:ls(new Uint8Array(o.clientDataJSON)),signature:ls(new Uint8Array(o.signature)),userHandle:o.userHandle?ls(new Uint8Array(o.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(e=i.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function av(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function rg(){var t,e;return!!(Ct()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.get)=="function")}async function Dw(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Yo("Browser returned unexpected credential type",e)}:{data:null,error:new Yo("Empty credential response",e)}}catch(e){return{data:null,error:Ew({error:e,options:t})}}}async function Mw(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Yo("Browser returned unexpected credential type",e)}:{data:null,error:new Yo("Empty credential response",e)}}catch(e){return{data:null,error:Tw({error:e,options:t})}}}const Uw={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},Pw={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Xo(...t){const e=o=>o!==null&&typeof o=="object"&&!Array.isArray(o),i=o=>o instanceof ArrayBuffer||ArrayBuffer.isView(o),r={};for(const o of t)if(o)for(const l in o){const c=o[l];if(c!==void 0)if(Array.isArray(c))r[l]=c;else if(i(c))r[l]=c;else if(e(c)){const p=r[l];e(p)?r[l]=Xo(p,c):r[l]=Xo(c)}else r[l]=c}return r}function Lw(t,e){return Xo(Uw,t,e||{})}function Ow(t,e){return Xo(Pw,t,e||{})}class jw{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:i,friendlyName:r,signal:o},l){try{const{data:c,error:p}=await this.client.mfa.challenge({factorId:e,webauthn:i});if(!c)return{data:null,error:p};const v=o??Nw.createNewAbortSignal();if(c.webauthn.type==="create"){const{user:g}=c.webauthn.credential_options.publicKey;g.name||(g.name=`${g.id}:${r}`),g.displayName||(g.displayName=g.name)}switch(c.webauthn.type){case"create":{const g=Lw(c.webauthn.credential_options.publicKey,l==null?void 0:l.create),{data:x,error:b}=await Dw({publicKey:g,signal:v});return x?{data:{factorId:e,challengeId:c.id,webauthn:{type:c.webauthn.type,credential_response:x}},error:null}:{data:null,error:b}}case"request":{const g=Ow(c.webauthn.credential_options.publicKey,l==null?void 0:l.request),{data:x,error:b}=await Mw(Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:g,signal:v}));return x?{data:{factorId:e,challengeId:c.id,webauthn:{type:c.webauthn.type,credential_response:x}},error:null}:{data:null,error:b}}}}catch(c){return oe(c)?{data:null,error:c}:{data:null,error:new os("Unexpected error in challenge",c)}}}async _verify({challengeId:e,factorId:i,webauthn:r}){return this.client.mfa.verify({factorId:i,challengeId:e,webauthn:r})}async _authenticate({factorId:e,webauthn:{rpId:i=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:o}={}},l){if(!i)return{data:null,error:new xa("rpId is required for WebAuthn authentication")};try{if(!rg())return{data:null,error:new os("Browser does not support WebAuthn",null)};const{data:c,error:p}=await this.challenge({factorId:e,webauthn:{rpId:i,rpOrigins:r},signal:o},{request:l});if(!c)return{data:null,error:p};const{webauthn:v}=c;return this._verify({factorId:e,challengeId:c.challengeId,webauthn:{type:v.type,rpId:i,rpOrigins:r,credential_response:v.credential_response}})}catch(c){return oe(c)?{data:null,error:c}:{data:null,error:new os("Unexpected error in authenticate",c)}}}async _register({friendlyName:e,webauthn:{rpId:i=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:o}={}},l){if(!i)return{data:null,error:new xa("rpId is required for WebAuthn registration")};try{if(!rg())return{data:null,error:new os("Browser does not support WebAuthn",null)};const{data:c,error:p}=await this._enroll({friendlyName:e});if(!c)return await this.client.mfa.listFactors().then(x=>{var b;return(b=x.data)===null||b===void 0?void 0:b.all.find(_=>_.factor_type==="webauthn"&&_.friendly_name===e&&_.status!=="unverified")}).then(x=>x?this.client.mfa.unenroll({factorId:x==null?void 0:x.id}):void 0),{data:null,error:p};const{data:v,error:g}=await this._challenge({factorId:c.id,friendlyName:c.friendly_name,webauthn:{rpId:i,rpOrigins:r},signal:o},{create:l});return v?this._verify({factorId:c.id,challengeId:v.challengeId,webauthn:{rpId:i,rpOrigins:r,type:v.webauthn.type,credential_response:v.webauthn.credential_response}}):{data:null,error:g}}catch(c){return oe(c)?{data:null,error:c}:{data:null,error:new os("Unexpected error in register",c)}}}}bw();const Gw={url:U_,storageKey:P_,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:L_,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function ag(t,e,i){return await i()}const sr={};class ba{get jwks(){var e,i;return(i=(e=sr[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&i!==void 0?i:{keys:[]}}set jwks(e){sr[this.storageKey]=Object.assign(Object.assign({},sr[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,i;return(i=(e=sr[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&i!==void 0?i:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){sr[this.storageKey]=Object.assign(Object.assign({},sr[this.storageKey]),{cachedAt:e})}constructor(e){var i,r,o;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const l=Object.assign(Object.assign({},Gw),e);if(this.storageKey=l.storageKey,this.instanceID=(i=ba.nextInstanceID[this.storageKey])!==null&&i!==void 0?i:0,ba.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!l.debug,typeof l.debug=="function"&&(this.logger=l.debug),this.instanceID>0&&Ct()){const c=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(c),this.logDebugMessages&&console.trace(c)}if(this.persistSession=l.persistSession,this.autoRefreshToken=l.autoRefreshToken,this.admin=new vw({url:l.url,headers:l.headers,fetch:l.fetch}),this.url=l.url,this.headers=l.headers,this.fetch=iv(l.fetch),this.lock=l.lock||ag,this.detectSessionInUrl=l.detectSessionInUrl,this.flowType=l.flowType,this.hasCustomAuthorizationHeader=l.hasCustomAuthorizationHeader,this.throwOnError=l.throwOnError,l.lock?this.lock=l.lock:this.persistSession&&Ct()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=xw:this.lock=ag,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new jw(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(l.storage?this.storage=l.storage:nv()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=sg(this.memoryStorage)),l.userStorage&&(this.userStorage=l.userStorage)):(this.memoryStorage={},this.storage=sg(this.memoryStorage)),Ct()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(c){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",c)}(o=this.broadcastChannel)===null||o===void 0||o.addEventListener("message",async c=>{this._debug("received broadcast notification from other tab or client",c),await this._notifyAllSubscribers(c.data.event,c.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${Z0}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let i={},r="none";if(Ct()&&(i=W_(window.location.href),this._isImplicitGrantCallback(i)?r="implicit":await this._isPKCECallback(i)&&(r="pkce")),Ct()&&this.detectSessionInUrl&&r!=="none"){const{data:o,error:l}=await this._getSessionFromURL(i,r);if(l){if(this._debug("#_initialize()","error detecting session from URL",l),q_(l)){const v=(e=l.details)===null||e===void 0?void 0:e.code;if(v==="identity_already_exists"||v==="identity_not_found"||v==="single_identity_not_deletable")return{error:l}}return await this._removeSession(),{error:l}}const{session:c,redirectType:p}=o;return this._debug("#_initialize()","detected session in URL",c,"redirect type",p),await this._saveSession(c),setTimeout(async()=>{p==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",c):await this._notifyAllSubscribers("SIGNED_IN",c)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(i){return oe(i)?this._returnResult({error:i}):this._returnResult({error:new os("Unexpected error during initialization",i)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var i,r,o;try{const l=await he(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(i=e==null?void 0:e.options)===null||i===void 0?void 0:i.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(o=e==null?void 0:e.options)===null||o===void 0?void 0:o.captchaToken}},xform:En}),{data:c,error:p}=l;if(p||!c)return this._returnResult({data:{user:null,session:null},error:p});const v=c.session,g=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",v)),this._returnResult({data:{user:g,session:v},error:null})}catch(l){if(oe(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async signUp(e){var i,r,o;try{let l;if("email"in e){const{email:x,password:b,options:_}=e;let S=null,T=null;this.flowType==="pkce"&&([S,T]=await tr(this.storage,this.storageKey)),l=await he(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:_==null?void 0:_.emailRedirectTo,body:{email:x,password:b,data:(i=_==null?void 0:_.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:_==null?void 0:_.captchaToken},code_challenge:S,code_challenge_method:T},xform:En})}else if("phone"in e){const{phone:x,password:b,options:_}=e;l=await he(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:x,password:b,data:(r=_==null?void 0:_.data)!==null&&r!==void 0?r:{},channel:(o=_==null?void 0:_.channel)!==null&&o!==void 0?o:"sms",gotrue_meta_security:{captcha_token:_==null?void 0:_.captchaToken}},xform:En})}else throw new Go("You must provide either an email or phone number and a password");const{data:c,error:p}=l;if(p||!c)return await Nt(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:p});const v=c.session,g=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",v)),this._returnResult({data:{user:g,session:v},error:null})}catch(l){if(await Nt(this.storage,`${this.storageKey}-code-verifier`),oe(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async signInWithPassword(e){try{let i;if("email"in e){const{email:l,password:c,options:p}=e;i=await he(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:l,password:c,gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken}},xform:ng})}else if("phone"in e){const{phone:l,password:c,options:p}=e;i=await he(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:l,password:c,gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken}},xform:ng})}else throw new Go("You must provide either an email or phone number and a password");const{data:r,error:o}=i;if(o)return this._returnResult({data:{user:null,session:null},error:o});if(!r||!r.session||!r.user){const l=new er;return this._returnResult({data:{user:null,session:null},error:l})}return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),this._returnResult({data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:o})}catch(i){if(oe(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithOAuth(e){var i,r,o,l;return await this._handleProviderSignIn(e.provider,{redirectTo:(i=e.options)===null||i===void 0?void 0:i.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(o=e.options)===null||o===void 0?void 0:o.queryParams,skipBrowserRedirect:(l=e.options)===null||l===void 0?void 0:l.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:i}=e;switch(i){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${i}"`)}}async signInWithEthereum(e){var i,r,o,l,c,p,v,g,x,b,_;let S,T;if("message"in e)S=e.message,T=e.signature;else{const{chain:C,wallet:N,statement:D,options:H}=e;let U;if(Ct())if(typeof N=="object")U=N;else{const Z=window;if("ethereum"in Z&&typeof Z.ethereum=="object"&&"request"in Z.ethereum&&typeof Z.ethereum.request=="function")U=Z.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof N!="object"||!(H!=null&&H.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");U=N}const J=new URL((i=H==null?void 0:H.url)!==null&&i!==void 0?i:window.location.href),X=await U.request({method:"eth_requestAccounts"}).then(Z=>Z).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!X||X.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const F=rv(X[0]);let K=(r=H==null?void 0:H.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!K){const Z=await U.request({method:"eth_chainId"});K=_w(Z)}const ce={domain:J.host,address:F,statement:D,uri:J.href,version:"1",chainId:K,nonce:(o=H==null?void 0:H.signInWithEthereum)===null||o===void 0?void 0:o.nonce,issuedAt:(c=(l=H==null?void 0:H.signInWithEthereum)===null||l===void 0?void 0:l.issuedAt)!==null&&c!==void 0?c:new Date,expirationTime:(p=H==null?void 0:H.signInWithEthereum)===null||p===void 0?void 0:p.expirationTime,notBefore:(v=H==null?void 0:H.signInWithEthereum)===null||v===void 0?void 0:v.notBefore,requestId:(g=H==null?void 0:H.signInWithEthereum)===null||g===void 0?void 0:g.requestId,resources:(x=H==null?void 0:H.signInWithEthereum)===null||x===void 0?void 0:x.resources};S=Sw(ce),T=await U.request({method:"personal_sign",params:[ww(S),F]})}try{const{data:C,error:N}=await he(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:S,signature:T},!((b=e.options)===null||b===void 0)&&b.captchaToken?{gotrue_meta_security:{captcha_token:(_=e.options)===null||_===void 0?void 0:_.captchaToken}}:null),xform:En});if(N)throw N;if(!C||!C.session||!C.user){const D=new er;return this._returnResult({data:{user:null,session:null},error:D})}return C.session&&(await this._saveSession(C.session),await this._notifyAllSubscribers("SIGNED_IN",C.session)),this._returnResult({data:Object.assign({},C),error:N})}catch(C){if(oe(C))return this._returnResult({data:{user:null,session:null},error:C});throw C}}async signInWithSolana(e){var i,r,o,l,c,p,v,g,x,b,_,S;let T,C;if("message"in e)T=e.message,C=e.signature;else{const{chain:N,wallet:D,statement:H,options:U}=e;let J;if(Ct())if(typeof D=="object")J=D;else{const F=window;if("solana"in F&&typeof F.solana=="object"&&("signIn"in F.solana&&typeof F.solana.signIn=="function"||"signMessage"in F.solana&&typeof F.solana.signMessage=="function"))J=F.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof D!="object"||!(U!=null&&U.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");J=D}const X=new URL((i=U==null?void 0:U.url)!==null&&i!==void 0?i:window.location.href);if("signIn"in J&&J.signIn){const F=await J.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},U==null?void 0:U.signInWithSolana),{version:"1",domain:X.host,uri:X.href}),H?{statement:H}:null));let K;if(Array.isArray(F)&&F[0]&&typeof F[0]=="object")K=F[0];else if(F&&typeof F=="object"&&"signedMessage"in F&&"signature"in F)K=F;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in K&&"signature"in K&&(typeof K.signedMessage=="string"||K.signedMessage instanceof Uint8Array)&&K.signature instanceof Uint8Array)T=typeof K.signedMessage=="string"?K.signedMessage:new TextDecoder().decode(K.signedMessage),C=K.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in J)||typeof J.signMessage!="function"||!("publicKey"in J)||typeof J!="object"||!J.publicKey||!("toBase58"in J.publicKey)||typeof J.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");T=[`${X.host} wants you to sign in with your Solana account:`,J.publicKey.toBase58(),...H?["",H,""]:[""],"Version: 1",`URI: ${X.href}`,`Issued At: ${(o=(r=U==null?void 0:U.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&o!==void 0?o:new Date().toISOString()}`,...!((l=U==null?void 0:U.signInWithSolana)===null||l===void 0)&&l.notBefore?[`Not Before: ${U.signInWithSolana.notBefore}`]:[],...!((c=U==null?void 0:U.signInWithSolana)===null||c===void 0)&&c.expirationTime?[`Expiration Time: ${U.signInWithSolana.expirationTime}`]:[],...!((p=U==null?void 0:U.signInWithSolana)===null||p===void 0)&&p.chainId?[`Chain ID: ${U.signInWithSolana.chainId}`]:[],...!((v=U==null?void 0:U.signInWithSolana)===null||v===void 0)&&v.nonce?[`Nonce: ${U.signInWithSolana.nonce}`]:[],...!((g=U==null?void 0:U.signInWithSolana)===null||g===void 0)&&g.requestId?[`Request ID: ${U.signInWithSolana.requestId}`]:[],...!((b=(x=U==null?void 0:U.signInWithSolana)===null||x===void 0?void 0:x.resources)===null||b===void 0)&&b.length?["Resources",...U.signInWithSolana.resources.map(K=>`- ${K}`)]:[]].join(`
`);const F=await J.signMessage(new TextEncoder().encode(T),"utf8");if(!F||!(F instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");C=F}}try{const{data:N,error:D}=await he(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:T,signature:ls(C)},!((_=e.options)===null||_===void 0)&&_.captchaToken?{gotrue_meta_security:{captcha_token:(S=e.options)===null||S===void 0?void 0:S.captchaToken}}:null),xform:En});if(D)throw D;if(!N||!N.session||!N.user){const H=new er;return this._returnResult({data:{user:null,session:null},error:H})}return N.session&&(await this._saveSession(N.session),await this._notifyAllSubscribers("SIGNED_IN",N.session)),this._returnResult({data:Object.assign({},N),error:D})}catch(N){if(oe(N))return this._returnResult({data:{user:null,session:null},error:N});throw N}}async _exchangeCodeForSession(e){const i=await is(this.storage,`${this.storageKey}-code-verifier`),[r,o]=(i??"").split("/");try{if(!r&&this.flowType==="pkce")throw new V_;const{data:l,error:c}=await he(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:En});if(await Nt(this.storage,`${this.storageKey}-code-verifier`),c)throw c;if(!l||!l.session||!l.user){const p=new er;return this._returnResult({data:{user:null,session:null,redirectType:null},error:p})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:Object.assign(Object.assign({},l),{redirectType:o??null}),error:c})}catch(l){if(await Nt(this.storage,`${this.storageKey}-code-verifier`),oe(l))return this._returnResult({data:{user:null,session:null,redirectType:null},error:l});throw l}}async signInWithIdToken(e){try{const{options:i,provider:r,token:o,access_token:l,nonce:c}=e,p=await he(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:o,access_token:l,nonce:c,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},xform:En}),{data:v,error:g}=p;if(g)return this._returnResult({data:{user:null,session:null},error:g});if(!v||!v.session||!v.user){const x=new er;return this._returnResult({data:{user:null,session:null},error:x})}return v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("SIGNED_IN",v.session)),this._returnResult({data:v,error:g})}catch(i){if(oe(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithOtp(e){var i,r,o,l,c;try{if("email"in e){const{email:p,options:v}=e;let g=null,x=null;this.flowType==="pkce"&&([g,x]=await tr(this.storage,this.storageKey));const{error:b}=await he(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:p,data:(i=v==null?void 0:v.data)!==null&&i!==void 0?i:{},create_user:(r=v==null?void 0:v.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:v==null?void 0:v.captchaToken},code_challenge:g,code_challenge_method:x},redirectTo:v==null?void 0:v.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:b})}if("phone"in e){const{phone:p,options:v}=e,{data:g,error:x}=await he(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:p,data:(o=v==null?void 0:v.data)!==null&&o!==void 0?o:{},create_user:(l=v==null?void 0:v.shouldCreateUser)!==null&&l!==void 0?l:!0,gotrue_meta_security:{captcha_token:v==null?void 0:v.captchaToken},channel:(c=v==null?void 0:v.channel)!==null&&c!==void 0?c:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:g==null?void 0:g.message_id},error:x})}throw new Go("You must provide either an email or phone number.")}catch(p){if(await Nt(this.storage,`${this.storageKey}-code-verifier`),oe(p))return this._returnResult({data:{user:null,session:null},error:p});throw p}}async verifyOtp(e){var i,r;try{let o,l;"options"in e&&(o=(i=e.options)===null||i===void 0?void 0:i.redirectTo,l=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:c,error:p}=await he(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:l}}),redirectTo:o,xform:En});if(p)throw p;if(!c)throw new Error("An error occurred on token verification.");const v=c.session,g=c.user;return v!=null&&v.access_token&&(await this._saveSession(v),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",v)),this._returnResult({data:{user:g,session:v},error:null})}catch(o){if(oe(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signInWithSSO(e){var i,r,o,l,c;try{let p=null,v=null;this.flowType==="pkce"&&([p,v]=await tr(this.storage,this.storageKey));const g=await he(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(i=e.options)===null||i===void 0?void 0:i.redirectTo)!==null&&r!==void 0?r:void 0}),!((o=e==null?void 0:e.options)===null||o===void 0)&&o.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:p,code_challenge_method:v}),headers:this.headers,xform:pw});return!((l=g.data)===null||l===void 0)&&l.url&&Ct()&&!(!((c=e.options)===null||c===void 0)&&c.skipBrowserRedirect)&&window.location.assign(g.data.url),this._returnResult(g)}catch(p){if(await Nt(this.storage,`${this.storageKey}-code-verifier`),oe(p))return this._returnResult({data:null,error:p});throw p}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:i},error:r}=e;if(r)throw r;if(!i)throw new en;const{error:o}=await he(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:i.access_token});return this._returnResult({data:{user:null,session:null},error:o})})}catch(e){if(oe(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const i=`${this.url}/resend`;if("email"in e){const{email:r,type:o,options:l}=e,{error:c}=await he(this.fetch,"POST",i,{headers:this.headers,body:{email:r,type:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},redirectTo:l==null?void 0:l.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:c})}else if("phone"in e){const{phone:r,type:o,options:l}=e,{data:c,error:p}=await he(this.fetch,"POST",i,{headers:this.headers,body:{phone:r,type:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:p})}throw new Go("You must provide either an email or phone number and a type")}catch(i){if(oe(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async i=>i))}async _acquireLock(e,i){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),o=(async()=>(await r,await i()))();return this.pendingInLock.push((async()=>{try{await o}catch{}})()),o}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=i();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const o=[...this.pendingInLock];await Promise.all(o),this.pendingInLock.splice(0,o.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const i=await this.__loadSession();return await e(i)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const i=await is(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",i),i!==null&&(this._isValidSession(i)?e=i:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<Oc:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.userStorage){const c=await is(this.userStorage,this.storageKey+"-user");c!=null&&c.user?e.user=c.user:e.user=Hc()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const c={value:this.suppressGetSessionWarning};e.user=cw(e.user,c),c.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:o,error:l}=await this._callRefreshToken(e.refresh_token);return l?this._returnResult({data:{session:null},error:l}):this._returnResult({data:{session:o},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;const i=await this._acquireLock(-1,async()=>await this._getUser());return i.data.user&&(this.suppressGetSessionWarning=!0),i}async _getUser(e){try{return e?await he(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Mi}):await this._useSession(async i=>{var r,o,l;const{data:c,error:p}=i;if(p)throw p;return!(!((r=c.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new en}:await he(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(l=(o=c.session)===null||o===void 0?void 0:o.access_token)!==null&&l!==void 0?l:void 0,xform:Mi})})}catch(i){if(oe(i))return B_(i)&&(await this._removeSession(),await Nt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:i});throw i}}async updateUser(e,i={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,i))}async _updateUser(e,i={}){try{return await this._useSession(async r=>{const{data:o,error:l}=r;if(l)throw l;if(!o.session)throw new en;const c=o.session;let p=null,v=null;this.flowType==="pkce"&&e.email!=null&&([p,v]=await tr(this.storage,this.storageKey));const{data:g,error:x}=await he(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:i==null?void 0:i.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:p,code_challenge_method:v}),jwt:c.access_token,xform:Mi});if(x)throw x;return c.user=g.user,await this._saveSession(c),await this._notifyAllSubscribers("USER_UPDATED",c),this._returnResult({data:{user:c.user},error:null})})}catch(r){if(await Nt(this.storage,`${this.storageKey}-code-verifier`),oe(r))return this._returnResult({data:{user:null},error:r});throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new en;const i=Date.now()/1e3;let r=i,o=!0,l=null;const{payload:c}=Gc(e.access_token);if(c.exp&&(r=c.exp,o=r<=i),o){const{data:p,error:v}=await this._callRefreshToken(e.refresh_token);if(v)return this._returnResult({data:{user:null,session:null},error:v});if(!p)return{data:{user:null,session:null},error:null};l=p}else{const{data:p,error:v}=await this._getUser(e.access_token);if(v)throw v;l={access_token:e.access_token,refresh_token:e.refresh_token,user:p.user,token_type:"bearer",expires_in:r-i,expires_at:r},await this._saveSession(l),await this._notifyAllSubscribers("SIGNED_IN",l)}return this._returnResult({data:{user:l.user,session:l},error:null})}catch(i){if(oe(i))return this._returnResult({data:{session:null,user:null},error:i});throw i}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async i=>{var r;if(!e){const{data:c,error:p}=i;if(p)throw p;e=(r=c.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new en;const{data:o,error:l}=await this._callRefreshToken(e.refresh_token);return l?this._returnResult({data:{user:null,session:null},error:l}):o?this._returnResult({data:{user:o.user,session:o},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(i){if(oe(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async _getSessionFromURL(e,i){try{if(!Ct())throw new Ho("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Ho(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(i){case"implicit":if(this.flowType==="pkce")throw new Ym("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Ho("Not a valid implicit grant flow url.");break;default:}if(i==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Ym("No code detected.");const{data:H,error:U}=await this._exchangeCodeForSession(e.code);if(U)throw U;const J=new URL(window.location.href);return J.searchParams.delete("code"),window.history.replaceState(window.history.state,"",J.toString()),{data:{session:H.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:o,access_token:l,refresh_token:c,expires_in:p,expires_at:v,token_type:g}=e;if(!l||!p||!c||!g)throw new Ho("No session defined in URL");const x=Math.round(Date.now()/1e3),b=parseInt(p);let _=x+b;v&&(_=parseInt(v));const S=_-x;S*1e3<=ar&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${S}s, should have been closer to ${b}s`);const T=_-b;x-T>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",T,_,x):x-T<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",T,_,x);const{data:C,error:N}=await this._getUser(l);if(N)throw N;const D={provider_token:r,provider_refresh_token:o,access_token:l,expires_in:b,expires_at:_,refresh_token:c,token_type:g,user:C.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:D,redirectType:e.type},error:null})}catch(r){if(oe(r))return this._returnResult({data:{session:null,redirectType:null},error:r});throw r}}_isImplicitGrantCallback(e){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),e):!!(e.access_token||e.error_description)}async _isPKCECallback(e){const i=await is(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&i)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async i=>{var r;const{data:o,error:l}=i;if(l)return this._returnResult({error:l});const c=(r=o.session)===null||r===void 0?void 0:r.access_token;if(c){const{error:p}=await this.admin.signOut(c,e);if(p&&!(H_(p)&&(p.status===404||p.status===401||p.status===403)))return this._returnResult({error:p})}return e!=="others"&&(await this._removeSession(),await Nt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const i=X_(),r={id:i,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",i),this.stateChangeEmitters.delete(i)}};return this._debug("#onAuthStateChange()","registered callback with id",i),this.stateChangeEmitters.set(i,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(i)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async i=>{var r,o;try{const{data:{session:l},error:c}=i;if(c)throw c;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",l)),this._debug("INITIAL_SESSION","callback id",e,"session",l)}catch(l){await((o=this.stateChangeEmitters.get(e))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",l),console.error(l)}})}async resetPasswordForEmail(e,i={}){let r=null,o=null;this.flowType==="pkce"&&([r,o]=await tr(this.storage,this.storageKey,!0));try{return await he(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:o,gotrue_meta_security:{captcha_token:i.captchaToken}},headers:this.headers,redirectTo:i.redirectTo})}catch(l){if(await Nt(this.storage,`${this.storageKey}-code-verifier`),oe(l))return this._returnResult({data:null,error:l});throw l}}async getUserIdentities(){var e;try{const{data:i,error:r}=await this.getUser();if(r)throw r;return this._returnResult({data:{identities:(e=i.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(i){if(oe(i))return this._returnResult({data:null,error:i});throw i}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var i;try{const{data:r,error:o}=await this._useSession(async l=>{var c,p,v,g,x;const{data:b,error:_}=l;if(_)throw _;const S=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(c=e.options)===null||c===void 0?void 0:c.redirectTo,scopes:(p=e.options)===null||p===void 0?void 0:p.scopes,queryParams:(v=e.options)===null||v===void 0?void 0:v.queryParams,skipBrowserRedirect:!0});return await he(this.fetch,"GET",S,{headers:this.headers,jwt:(x=(g=b.session)===null||g===void 0?void 0:g.access_token)!==null&&x!==void 0?x:void 0})});if(o)throw o;return Ct()&&!(!((i=e.options)===null||i===void 0)&&i.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),this._returnResult({data:{provider:e.provider,url:r==null?void 0:r.url},error:null})}catch(r){if(oe(r))return this._returnResult({data:{provider:e.provider,url:null},error:r});throw r}}async linkIdentityIdToken(e){return await this._useSession(async i=>{var r;try{const{error:o,data:{session:l}}=i;if(o)throw o;const{options:c,provider:p,token:v,access_token:g,nonce:x}=e,b=await he(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=l==null?void 0:l.access_token)!==null&&r!==void 0?r:void 0,body:{provider:p,id_token:v,access_token:g,nonce:x,link_identity:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}},xform:En}),{data:_,error:S}=b;return S?this._returnResult({data:{user:null,session:null},error:S}):!_||!_.session||!_.user?this._returnResult({data:{user:null,session:null},error:new er}):(_.session&&(await this._saveSession(_.session),await this._notifyAllSubscribers("USER_UPDATED",_.session)),this._returnResult({data:_,error:S}))}catch(o){if(await Nt(this.storage,`${this.storageKey}-code-verifier`),oe(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}})}async unlinkIdentity(e){try{return await this._useSession(async i=>{var r,o;const{data:l,error:c}=i;if(c)throw c;return await he(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(o=(r=l.session)===null||r===void 0?void 0:r.access_token)!==null&&o!==void 0?o:void 0})})}catch(i){if(oe(i))return this._returnResult({data:null,error:i});throw i}}async _refreshAccessToken(e){const i=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(i,"begin");try{const r=Date.now();return await ew(async o=>(o>0&&await Z_(200*Math.pow(2,o-1)),this._debug(i,"refreshing attempt",o),await he(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:En})),(o,l)=>{const c=200*Math.pow(2,o);return l&&jc(l)&&Date.now()+c-r<ar})}catch(r){if(this._debug(i,"error",r),oe(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}finally{this._debug(i,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,i){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:i.redirectTo,scopes:i.scopes,queryParams:i.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",i,"url",r),Ct()&&!i.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e,i;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const o=await is(this.storage,this.storageKey);if(o&&this.userStorage){let c=await is(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!c&&(c={user:o.user},await or(this.userStorage,this.storageKey+"-user",c)),o.user=(e=c==null?void 0:c.user)!==null&&e!==void 0?e:Hc()}else if(o&&!o.user&&!o.user){const c=await is(this.storage,this.storageKey+"-user");c&&(c!=null&&c.user)?(o.user=c.user,await Nt(this.storage,this.storageKey+"-user"),await or(this.storage,this.storageKey,o)):o.user=Hc()}if(this._debug(r,"session from storage",o),!this._isValidSession(o)){this._debug(r,"session is not valid"),o!==null&&await this._removeSession();return}const l=((i=o.expires_at)!==null&&i!==void 0?i:1/0)*1e3-Date.now()<Oc;if(this._debug(r,`session has${l?"":" not"} expired with margin of ${Oc}s`),l){if(this.autoRefreshToken&&o.refresh_token){const{error:c}=await this._callRefreshToken(o.refresh_token);c&&(console.error(c),jc(c)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",c),await this._removeSession()))}}else if(o.user&&o.user.__isUserNotAvailableProxy===!0)try{const{data:c,error:p}=await this._getUser(o.access_token);!p&&(c!=null&&c.user)?(o.user=c.user,await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(c){console.error("Error getting user data:",c),this._debug(r,"error getting user data, skipping SIGNED_IN notification",c)}else await this._notifyAllSubscribers("SIGNED_IN",o)}catch(o){this._debug(r,"error",o),console.error(o);return}finally{this._debug(r,"end")}}async _callRefreshToken(e){var i,r;if(!e)throw new en;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const o=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(o,"begin");try{this.refreshingDeferred=new rl;const{data:l,error:c}=await this._refreshAccessToken(e);if(c)throw c;if(!l.session)throw new en;await this._saveSession(l.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",l.session);const p={data:l.session,error:null};return this.refreshingDeferred.resolve(p),p}catch(l){if(this._debug(o,"error",l),oe(l)){const c={data:null,error:l};return jc(l)||await this._removeSession(),(i=this.refreshingDeferred)===null||i===void 0||i.resolve(c),c}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(l),l}finally{this.refreshingDeferred=null,this._debug(o,"end")}}async _notifyAllSubscribers(e,i,r=!0){const o=`#_notifyAllSubscribers(${e})`;this._debug(o,"begin",i,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:i});const l=[],c=Array.from(this.stateChangeEmitters.values()).map(async p=>{try{await p.callback(e,i)}catch(v){l.push(v)}});if(await Promise.all(c),l.length>0){for(let p=0;p<l.length;p+=1)console.error(l[p]);throw l[0]}}finally{this._debug(o,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await Nt(this.storage,`${this.storageKey}-code-verifier`);const i=Object.assign({},e),r=i.user&&i.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&i.user&&await or(this.userStorage,this.storageKey+"-user",{user:i.user});const o=Object.assign({},i);delete o.user;const l=eg(o);await or(this.storage,this.storageKey,l)}else{const o=eg(i);await or(this.storage,this.storageKey,o)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await Nt(this.storage,this.storageKey),await Nt(this.storage,this.storageKey+"-code-verifier"),await Nt(this.storage,this.storageKey+"-user"),this.userStorage&&await Nt(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Ct()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(i){console.error("removing visibilitychange callback failed",i)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),ar);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async i=>{const{data:{session:r}}=i;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const o=Math.floor((r.expires_at*1e3-e)/ar);this._debug("#_autoRefreshTokenTick()",`access token expires in ${o} ticks, a tick lasts ${ar}ms, refresh threshold is ${Qc} ticks`),o<=Qc&&await this._callRefreshToken(r.refresh_token)})}catch(i){console.error("Auto refresh tick failed with error. This is likely a transient error.",i)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof sv)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Ct()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const i=`#_onVisibilityChanged(${e})`;this._debug(i,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(i,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,i,r){const o=[`provider=${encodeURIComponent(i)}`];if(r!=null&&r.redirectTo&&o.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&o.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[l,c]=await tr(this.storage,this.storageKey),p=new URLSearchParams({code_challenge:`${encodeURIComponent(l)}`,code_challenge_method:`${encodeURIComponent(c)}`});o.push(p.toString())}if(r!=null&&r.queryParams){const l=new URLSearchParams(r.queryParams);o.push(l.toString())}return r!=null&&r.skipBrowserRedirect&&o.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${o.join("&")}`}async _unenroll(e){try{return await this._useSession(async i=>{var r;const{data:o,error:l}=i;return l?this._returnResult({data:null,error:l}):await he(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=o==null?void 0:o.session)===null||r===void 0?void 0:r.access_token})})}catch(i){if(oe(i))return this._returnResult({data:null,error:i});throw i}}async _enroll(e){try{return await this._useSession(async i=>{var r,o;const{data:l,error:c}=i;if(c)return this._returnResult({data:null,error:c});const p=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:v,error:g}=await he(this.fetch,"POST",`${this.url}/factors`,{body:p,headers:this.headers,jwt:(r=l==null?void 0:l.session)===null||r===void 0?void 0:r.access_token});return g?this._returnResult({data:null,error:g}):(e.factorType==="totp"&&v.type==="totp"&&(!((o=v==null?void 0:v.totp)===null||o===void 0)&&o.qr_code)&&(v.totp.qr_code=`data:image/svg+xml;utf-8,${v.totp.qr_code}`),this._returnResult({data:v,error:null}))})}catch(i){if(oe(i))return this._returnResult({data:null,error:i});throw i}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async i=>{var r;const{data:o,error:l}=i;if(l)return this._returnResult({data:null,error:l});const c=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?kw(e.webauthn.credential_response):Iw(e.webauthn.credential_response)})}:{code:e.code}),{data:p,error:v}=await he(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:c,headers:this.headers,jwt:(r=o==null?void 0:o.session)===null||r===void 0?void 0:r.access_token});return v?this._returnResult({data:null,error:v}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+p.expires_in},p)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",p),this._returnResult({data:p,error:v}))})}catch(i){if(oe(i))return this._returnResult({data:null,error:i});throw i}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async i=>{var r;const{data:o,error:l}=i;if(l)return this._returnResult({data:null,error:l});const c=await he(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(r=o==null?void 0:o.session)===null||r===void 0?void 0:r.access_token});if(c.error)return c;const{data:p}=c;if(p.type!=="webauthn")return{data:p,error:null};switch(p.webauthn.type){case"create":return{data:Object.assign(Object.assign({},p),{webauthn:Object.assign(Object.assign({},p.webauthn),{credential_options:Object.assign(Object.assign({},p.webauthn.credential_options),{publicKey:Cw(p.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},p),{webauthn:Object.assign(Object.assign({},p.webauthn),{credential_options:Object.assign(Object.assign({},p.webauthn.credential_options),{publicKey:Rw(p.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(i){if(oe(i))return this._returnResult({data:null,error:i});throw i}})}async _challengeAndVerify(e){const{data:i,error:r}=await this._challenge({factorId:e.factorId});return r?this._returnResult({data:null,error:r}):await this._verify({factorId:e.factorId,challengeId:i.id,code:e.code})}async _listFactors(){var e;const{data:{user:i},error:r}=await this.getUser();if(r)return{data:null,error:r};const o={all:[],phone:[],totp:[],webauthn:[]};for(const l of(e=i==null?void 0:i.factors)!==null&&e!==void 0?e:[])o.all.push(l),l.status==="verified"&&o[l.factor_type].push(l);return{data:o,error:null}}async _getAuthenticatorAssuranceLevel(){var e,i;const{data:{session:r},error:o}=await this.getSession();if(o)return this._returnResult({data:null,error:o});if(!r)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:l}=Gc(r.access_token);let c=null;l.aal&&(c=l.aal);let p=c;((i=(e=r.user.factors)===null||e===void 0?void 0:e.filter(x=>x.status==="verified"))!==null&&i!==void 0?i:[]).length>0&&(p="aal2");const g=l.amr||[];return{data:{currentLevel:c,nextLevel:p,currentAuthenticationMethods:g},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async i=>{const{data:{session:r},error:o}=i;return o?this._returnResult({data:null,error:o}):r?await he(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:r.access_token,xform:l=>({data:l,error:null})}):this._returnResult({data:null,error:new en})})}catch(i){if(oe(i))return this._returnResult({data:null,error:i});throw i}}async _approveAuthorization(e,i){try{return await this._useSession(async r=>{const{data:{session:o},error:l}=r;if(l)return this._returnResult({data:null,error:l});if(!o)return this._returnResult({data:null,error:new en});const c=await he(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:o.access_token,body:{action:"approve"},xform:p=>({data:p,error:null})});return c.data&&c.data.redirect_url&&Ct()&&!(i!=null&&i.skipBrowserRedirect)&&window.location.assign(c.data.redirect_url),c})}catch(r){if(oe(r))return this._returnResult({data:null,error:r});throw r}}async _denyAuthorization(e,i){try{return await this._useSession(async r=>{const{data:{session:o},error:l}=r;if(l)return this._returnResult({data:null,error:l});if(!o)return this._returnResult({data:null,error:new en});const c=await he(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:o.access_token,body:{action:"deny"},xform:p=>({data:p,error:null})});return c.data&&c.data.redirect_url&&Ct()&&!(i!=null&&i.skipBrowserRedirect)&&window.location.assign(c.data.redirect_url),c})}catch(r){if(oe(r))return this._returnResult({data:null,error:r});throw r}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:i},error:r}=e;return r?this._returnResult({data:null,error:r}):i?await he(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:i.access_token,xform:o=>({data:o,error:null})}):this._returnResult({data:null,error:new en})})}catch(e){if(oe(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async i=>{const{data:{session:r},error:o}=i;return o?this._returnResult({data:null,error:o}):r?(await he(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,query:{client_id:e.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new en})})}catch(i){if(oe(i))return this._returnResult({data:null,error:i});throw i}}async fetchJwk(e,i={keys:[]}){let r=i.keys.find(p=>p.kid===e);if(r)return r;const o=Date.now();if(r=this.jwks.keys.find(p=>p.kid===e),r&&this.jwks_cached_at+j_>o)return r;const{data:l,error:c}=await he(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(c)throw c;return!l.keys||l.keys.length===0||(this.jwks=l,this.jwks_cached_at=o,r=l.keys.find(p=>p.kid===e),!r)?null:r}async getClaims(e,i={}){try{let r=e;if(!r){const{data:S,error:T}=await this.getSession();if(T||!S.session)return this._returnResult({data:null,error:T});r=S.session.access_token}const{header:o,payload:l,signature:c,raw:{header:p,payload:v}}=Gc(r);i!=null&&i.allowExpired||ow(l.exp);const g=!o.alg||o.alg.startsWith("HS")||!o.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(o.kid,i!=null&&i.keys?{keys:i.keys}:i==null?void 0:i.jwks);if(!g){const{error:S}=await this.getUser(r);if(S)throw S;return{data:{claims:l,header:o,signature:c},error:null}}const x=lw(o.alg),b=await crypto.subtle.importKey("jwk",g,x,!0,["verify"]);if(!await crypto.subtle.verify(x,b,c,K_(`${p}.${v}`)))throw new td("Invalid JWT signature");return{data:{claims:l,header:o,signature:c},error:null}}catch(r){if(oe(r))return this._returnResult({data:null,error:r});throw r}}}ba.nextInstanceID={};const Hw=ba,Bw="2.89.0";let fa="";typeof Deno<"u"?fa="deno":typeof document<"u"?fa="web":typeof navigator<"u"&&navigator.product==="ReactNative"?fa="react-native":fa="node";const qw={"X-Client-Info":`supabase-js-${fa}/${Bw}`},Vw={headers:qw},zw={schema:"public"},Fw={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},$w={};function _a(t){"@babel/helpers - typeof";return _a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_a(t)}function Jw(t,e){if(_a(t)!="object"||!t)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var r=i.call(t,e);if(_a(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Kw(t){var e=Jw(t,"string");return _a(e)=="symbol"?e:e+""}function Yw(t,e,i){return(e=Kw(e))in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function og(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),i.push.apply(i,r)}return i}function st(t){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?arguments[e]:{};e%2?og(Object(i),!0).forEach(function(r){Yw(t,r,i[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):og(Object(i)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(i,r))})}return t}const Xw=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),Ww=()=>Headers,Qw=(t,e,i)=>{const r=Xw(i),o=Ww();return async(l,c)=>{var p;const v=(p=await e())!==null&&p!==void 0?p:t;let g=new o(c==null?void 0:c.headers);return g.has("apikey")||g.set("apikey",t),g.has("Authorization")||g.set("Authorization",`Bearer ${v}`),r(l,st(st({},c),{},{headers:g}))}};function Zw(t){return t.endsWith("/")?t:t+"/"}function eS(t,e){var i,r;const{db:o,auth:l,realtime:c,global:p}=t,{db:v,auth:g,realtime:x,global:b}=e,_={db:st(st({},v),o),auth:st(st({},g),l),realtime:st(st({},x),c),storage:{},global:st(st(st({},b),p),{},{headers:st(st({},(i=b==null?void 0:b.headers)!==null&&i!==void 0?i:{}),(r=p==null?void 0:p.headers)!==null&&r!==void 0?r:{})}),accessToken:async()=>""};return t.accessToken?_.accessToken=t.accessToken:delete _.accessToken,_}function tS(t){const e=t==null?void 0:t.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(Zw(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var nS=class extends Hw{constructor(t){super(t)}},iS=class{constructor(t,e,i){var r,o;this.supabaseUrl=t,this.supabaseKey=e;const l=tS(t);if(!e)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const c=`sb-${l.hostname.split(".")[0]}-auth-token`,p={db:zw,realtime:$w,auth:st(st({},Fw),{},{storageKey:c}),global:Vw},v=eS(i??{},p);if(this.storageKey=(r=v.auth.storageKey)!==null&&r!==void 0?r:"",this.headers=(o=v.global.headers)!==null&&o!==void 0?o:{},v.accessToken)this.accessToken=v.accessToken,this.auth=new Proxy({},{get:(x,b)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(b)} is not possible`)}});else{var g;this.auth=this._initSupabaseAuthClient((g=v.auth)!==null&&g!==void 0?g:{},this.headers,v.global.fetch)}this.fetch=Qw(e,this._getAccessToken.bind(this),v.global.fetch),this.realtime=this._initRealtimeClient(st({headers:this.headers,accessToken:this._getAccessToken.bind(this)},v.realtime)),this.accessToken&&this.accessToken().then(x=>this.realtime.setAuth(x)).catch(x=>console.warn("Failed to set initial Realtime auth token:",x)),this.rest=new Lb(new URL("rest/v1",l).href,{headers:this.headers,schema:v.db.schema,fetch:this.fetch}),this.storage=new M_(this.storageUrl.href,this.headers,this.fetch,i==null?void 0:i.storage),v.accessToken||this._listenForAuthEvents()}get functions(){return new Ib(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,e={},i={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,e,i)}channel(t,e={config:{}}){return this.realtime.channel(t,e)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t=this,e,i;if(t.accessToken)return await t.accessToken();const{data:r}=await t.auth.getSession();return(e=(i=r.session)===null||i===void 0?void 0:i.access_token)!==null&&e!==void 0?e:t.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:e,detectSessionInUrl:i,storage:r,userStorage:o,storageKey:l,flowType:c,lock:p,debug:v,throwOnError:g},x,b){const _={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new nS({url:this.authUrl.href,headers:st(st({},_),x),storageKey:l,autoRefreshToken:t,persistSession:e,detectSessionInUrl:i,storage:r,userStorage:o,flowType:c,lock:p,debug:v,throwOnError:g,fetch:b,hasCustomAuthorizationHeader:Object.keys(this.headers).some(S=>S.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new Zb(this.realtimeUrl.href,st(st({},t),{},{params:st(st({},{apikey:this.supabaseKey}),t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,e)=>{this._handleTokenChanged(t,"CLIENT",e==null?void 0:e.access_token)})}_handleTokenChanged(t,e,i){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==i?(this.changedAccessToken=i,this.realtime.setAuth(i)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),e=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const sS=(t,e,i)=>new iS(t,e,i);function rS(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}rS()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const aS="https://vdrkcknjrnbtgoxgmffp.supabase.co",oS="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InZkcmtja25qcm5idGdveGdtZmZwIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjY1NDY1OTQsImV4cCI6MjA4MjEyMjU5NH0._QG63TraAicBoJB_Gmdv6KYpuBcRAmBPKzlvRcDUJcg",lS="GondwanaNoteProDB_v2",uS=3,Ie={STAFF:"staff",NOTES:"notes",DEPARTMENTS:"departments",SETTINGS:"settings"};class cS{constructor(){this.db=null,this.subscribers=[],this.supabase=sS(aS,oS)}async init(){return new Promise((e,i)=>{const r=indexedDB.open(lS,uS);r.onupgradeneeded=o=>{const l=o.target.result;Object.values(Ie).forEach(c=>{l.objectStoreNames.contains(c)||l.createObjectStore(c,{keyPath:"id"})}),l.objectStoreNames.contains("departments_list")||l.createObjectStore("departments_list",{keyPath:"id"})},r.onsuccess=o=>{this.db=o.target.result,console.log("Gondwana Cloud Registry: SYNCING..."),this.initRealtimeSync(),e()},r.onerror=o=>{console.error("Registry database error:",o),i("Database initialization failed.")}})}initRealtimeSync(){this.supabase.channel("statutory-global-sync").on("postgres_changes",{event:"*",schema:"public",table:"notes"},async()=>{const e=await this.getAllFromCloud(Ie.NOTES);this.notifySubscribers({store:Ie.NOTES,action:"SYNC",data:e})}).on("postgres_changes",{event:"*",schema:"public",table:"staff"},async()=>{const e=await this.getAllFromCloud(Ie.STAFF);this.notifySubscribers({store:Ie.STAFF,action:"SYNC",data:e})}).on("postgres_changes",{event:"*",schema:"public",table:"departments"},async()=>{const e=await this.getAllFromCloud(Ie.DEPARTMENTS);this.notifySubscribers({store:Ie.DEPARTMENTS,action:"SYNC",data:e.map(i=>i.name)})}).on("postgres_changes",{event:"*",schema:"public",table:"settings"},async()=>{const e=await this.get("settings","main");this.notifySubscribers({store:Ie.SETTINGS,action:"SYNC",data:e})}).subscribe()}onSync(e){return this.subscribers.push(e),()=>{this.subscribers=this.subscribers.filter(i=>i!==e)}}notifySubscribers(e){this.subscribers.forEach(i=>i(e))}async putLocal(e,i){return new Promise(r=>{if(!this.db)return r();const o=e===Ie.DEPARTMENTS,l=o?"departments_list":e,c=this.db.transaction(l,"readwrite"),p=c.objectStore(l),v=o?{id:i,name:i}:i.id?i:{...i,id:"temp"};p.put(v),c.oncomplete=()=>r()})}async getAllFromCloud(e){try{if(e===Ie.NOTES){const{data:i,error:r}=await this.supabase.from("notes").select("*, creator:staff!creator_id (*), currentHandler:staff!current_handler_id (*)").order("date_initiated",{ascending:!1});if(r)throw r;return(i||[]).map(o=>({...o,referenceNo:o.reference_no,dateInitiated:o.date_initiated,attachments:o.attachments||[]}))}else{const{data:i,error:r}=await this.supabase.from(e).select("*");if(r)throw r;return i||[]}}catch(i){return console.error(`Cloud fetch failed for ${e}:`,i.message||i),[]}}async getAll(e){const i=await this.getAllFromCloud(e),r=e===Ie.DEPARTMENTS?i.map(o=>o.name):i;for(const o of r)await this.putLocal(e,o);return r}async put(e,i){try{let r={...i};e===Ie.NOTES?r={id:i.id,subject:i.subject,content:i.content,reference_no:i.referenceNo,status:i.status,creator_id:i.creator.id,current_handler_id:i.currentHandler.id,history:i.history,attachments:i.attachments||[],date_initiated:i.dateInitiated}:e===Ie.DEPARTMENTS?r={name:i}:e===Ie.SETTINGS&&(r={id:"main",university_name:i.universityName,logo:i.logo});const{error:o}=await this.supabase.from(e).upsert(r);if(o)throw o;await this.putLocal(e,i)}catch(r){const o=r.message||(typeof r=="object"?JSON.stringify(r):String(r));console.error(`Cloud Write Error [${e}]:`,o),r.details&&console.error("Details:",r.details),r.hint&&console.error("Hint:",r.hint)}}async delete(e,i){try{const r=e===Ie.DEPARTMENTS?"name":"id";await this.supabase.from(e).delete().eq(r,i)}catch(r){console.error(`Cloud Delete Error [${e}]:`,r.message||r)}return new Promise(r=>{if(!this.db)return r();const o=e===Ie.DEPARTMENTS?"departments_list":e,l=this.db.transaction(o,"readwrite");l.objectStore(o).delete(i),l.oncomplete=()=>r()})}async saveAllDepartments(e){try{const i=e.map(o=>({name:o})),{error:r}=await this.supabase.from("departments").upsert(i);if(r)throw r;if(this.db){const l=this.db.transaction("departments_list","readwrite").objectStore("departments_list");l.clear();for(const c of e)l.put({id:c,name:c})}}catch(i){console.error("Failed to sync department registry:",i.message||i)}}async get(e,i){if(e===Ie.SETTINGS&&i==="main")try{const{data:r,error:o}=await this.supabase.from("settings").select("*").eq("id","main").maybeSingle();if(!o&&r){const l={id:r.id,universityName:r.university_name,logo:r.logo};return await this.putLocal(Ie.SETTINGS,l),l}}catch{}return new Promise(r=>{if(!this.db)return r(null);const l=this.db.transaction(e,"readonly").objectStore(e).get(i);l.onsuccess=()=>r(l.result||null),l.onerror=()=>r(null)})}}const yt=new cS,dS=({staffList:t,notes:e,departments:i,universityLogo:r,onUpdateLogo:o,onAddStaff:l,onUpdateStaff:c,onDeleteStaff:p,onAddDepartment:v,onDeleteDepartment:g,onClose:x,currentUserId:b,dbStatus:_})=>{const[S,T]=ee.useState("OVERVIEW"),[C,N]=ee.useState(null),[D,H]=ee.useState(null),U=ee.useRef(null),J=ee.useRef(null),[X,F]=ee.useState({isOpen:!1,message:"",onConfirm:()=>{}}),[K,ce]=ee.useState(""),[Z,me]=ee.useState(""),[Ee,Me]=ee.useState(""),[_e,qe]=ee.useState(""),[rt,j]=ee.useState(""),[Y,le]=ee.useState(void 0),[Te,De]=ee.useState(""),[R,V]=ee.useState(i[0]||""),[Q,ie]=ee.useState(ae.STAFF),[de,ge]=ee.useState(null),[Re,We]=ee.useState(""),[Oe,$t]=ee.useState("");ee.useEffect(()=>{!de&&i.length>0&&!R&&V(i[0])},[i,de,R]);const Dt=q=>{N(q),setTimeout(()=>N(null),3e3)},xn=q=>{H(q),setTimeout(()=>H(null),5e3)},tt=()=>{ce(""),me(""),Me(""),qe(""),j(""),le(void 0),De(""),V(i[0]||""),ie(ae.STAFF),ge(null)},Rt=q=>{var Ae;ce(q.name),me(q.id),Me(q.password||""),qe(q.email||""),j(q.phone||""),le(q.photo),De(q.designation),V(q.department),ie(q.role),ge(q.id),T("STAFF"),(Ae=document.getElementById("admin-content-area"))==null||Ae.scrollTo({top:0,behavior:"smooth"})},sn=q=>{var lt;const Ae=(lt=q.target.files)==null?void 0:lt[0];if(Ae){const mt=new FileReader;mt.onloadend=()=>le(mt.result),mt.readAsDataURL(Ae)}},Pn=q=>{var lt;const Ae=(lt=q.target.files)==null?void 0:lt[0];if(Ae){const mt=new FileReader;mt.onloadend=()=>{o(mt.result),Dt("Seal synchronized.")},mt.readAsDataURL(Ae)}},cs=q=>{if(q.preventDefault(),!K||!Te||!Z||!Ee){xn("Mandatory fields required.");return}const Ae={id:Z.toUpperCase().trim(),name:K.trim(),designation:Te.trim(),department:R||i[0]||"Administration",role:Q,password:Ee.trim(),email:_e.trim(),phone:rt.trim(),photo:Y};if(de)bn(`Update ${Ae.name}?`,()=>{c(Ae),Dt("Profile updated."),tt()});else{if(t.some(lt=>lt.id.toUpperCase()===Ae.id)){xn("ID already registered.");return}l(Ae),Dt("Personnel enrolled."),tt()}},ds=q=>{q.preventDefault();const Ae=Re.trim();if(Ae){if(i.includes(Ae)){xn("Unit exists.");return}v(Ae),We(""),Dt("Unit registered.")}},bn=(q,Ae)=>{F({isOpen:!0,message:q,onConfirm:()=>{Ae(),F(lt=>({...lt,isOpen:!1}))}})},ri=()=>{const q={version:"2.6.0",staff:t,notes:e,departments:i,logo:r},Ae=new Blob([JSON.stringify(q,null,2)],{type:"application/json"}),lt=URL.createObjectURL(Ae),mt=document.createElement("a");mt.href=lt,mt.download="GU_BACKUP.json",mt.click(),URL.revokeObjectURL(lt),Dt("Archive exported.")},Li=q=>{var mt;const Ae=(mt=q.target.files)==null?void 0:mt[0];if(!Ae)return;const lt=new FileReader;lt.onload=async oi=>{var hs;try{const jt=JSON.parse((hs=oi.target)==null?void 0:hs.result);jt.staff&&jt.notes&&jt.departments&&bn("Proceed with Master Sync? Existing data will be purged.",async()=>{for(const Oi of jt.staff)await yt.put(Ie.STAFF,Oi);for(const Oi of jt.notes)await yt.put(Ie.NOTES,Oi);await yt.saveAllDepartments(jt.departments),jt.logo&&o(jt.logo),Dt("Sync Complete."),setTimeout(()=>window.location.reload(),1e3)})}catch{xn("Archive Integrity Failed.")}},lt.readAsText(Ae),q.target.value=""},ai={pending:e.filter(q=>q.status===Ge.PENDING).length,approved:e.filter(q=>q.status===Ge.APPROVED).length,rejected:e.filter(q=>q.status===Ge.REJECTED).length,total:e.length},fs=ee.useMemo(()=>{if(!Oe.trim())return t;const q=Oe.toLowerCase();return t.filter(Ae=>Ae.name.toLowerCase().includes(q)||Ae.id.toLowerCase().includes(q)||Ae.designation.toLowerCase().includes(q)||Ae.department.toLowerCase().includes(q))},[t,Oe]);return h.jsxs("div",{className:"bg-white animate-in fade-in duration-700 w-screen h-screen flex flex-col relative overflow-hidden selection:bg-indigo-100 selection:text-indigo-900 font-sans",children:[X.isOpen&&h.jsx("div",{className:"fixed inset-0 z-[600] bg-slate-950/80 backdrop-blur-md flex items-center justify-center p-4",children:h.jsxs("div",{className:"bg-white rounded-3xl p-6 lg:p-8 max-w-sm w-full shadow-2xl animate-in zoom-in-95 border border-slate-100",children:[h.jsx("h4",{className:"text-slate-900 font-black text-[10px] mb-2 uppercase tracking-widest text-center",children:"Authorization"}),h.jsx("p",{className:"text-slate-500 text-[11px] mb-8 leading-relaxed text-center",children:X.message}),h.jsxs("div",{className:"flex gap-3",children:[h.jsx("button",{onClick:()=>F(q=>({...q,isOpen:!1})),className:"flex-1 py-3 bg-slate-100 text-slate-500 rounded-xl font-black text-[9px] uppercase tracking-widest transition-all",children:"Abort"}),h.jsx("button",{onClick:X.onConfirm,className:"flex-1 py-3 bg-indigo-900 text-white rounded-xl font-black text-[9px] uppercase tracking-widest shadow-xl transition-all",children:"Confirm"})]})]})}),h.jsxs("header",{className:"bg-slate-950 px-4 lg:px-8 py-3 lg:py-4 flex justify-between items-center gap-4 shrink-0 relative border-b border-white/5",children:[h.jsxs("div",{className:"flex items-center gap-3 lg:gap-4",children:[h.jsx("div",{className:"w-10 h-10 lg:w-12 lg:h-12 bg-indigo-600 rounded-xl flex items-center justify-center text-white shadow-lg",children:h.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2.5,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})})}),h.jsxs("div",{children:[h.jsx("h2",{className:"text-sm lg:text-xl font-black text-white uppercase leading-none",children:"Console"}),h.jsx("p",{className:"text-[7px] lg:text-[8px] font-black text-indigo-400 uppercase tracking-widest opacity-80 mt-1",children:"Registry Control"})]})]}),h.jsxs("div",{className:"flex items-center gap-3 lg:gap-4",children:[h.jsxs("button",{onClick:ri,className:"hidden sm:flex px-4 py-2 bg-white/5 text-white border border-white/10 rounded-lg text-[8px] font-black uppercase tracking-widest hover:bg-indigo-600 transition-all items-center gap-2",children:[h.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2.5,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})}),"Export"]}),h.jsx("button",{onClick:x,className:"w-9 h-9 lg:w-10 lg:h-10 flex items-center justify-center bg-white/5 border border-white/10 rounded-xl hover:bg-rose-600 text-white transition-all",children:h.jsx("svg",{className:"w-4 h-4 lg:w-5 lg:h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M6 18L18 6M6 6l12 12"})})})]})]}),h.jsx("nav",{className:"flex bg-slate-50 border-b border-slate-200 p-1.5 lg:p-2 gap-1.5 lg:gap-2 shrink-0 overflow-x-auto no-scrollbar",children:[{id:"OVERVIEW",label:"Dashboard",color:"blue"},{id:"STAFF",label:"Personnel",color:"indigo"},{id:"DEPARTMENTS",label:"Units",color:"slate"},{id:"BRANDING",label:"Seal",color:"amber"},{id:"DATABASE",label:"System",color:"purple"},{id:"NODE",label:"Node.js",color:"blue"}].map(q=>h.jsxs("button",{onClick:()=>T(q.id),className:`flex-1 min-w-[80px] py-2.5 lg:py-3 px-3 lg:px-4 rounded-lg lg:rounded-xl text-[8px] lg:text-[9px] font-black uppercase tracking-widest transition-all relative ${S===q.id?"bg-white text-slate-950 shadow-md ring-1 ring-slate-200":"text-slate-400 hover:text-slate-600"}`,children:[q.label,S===q.id&&h.jsx("div",{className:`absolute bottom-0 left-3 right-3 h-0.5 bg-${q.color}-600 rounded-t-full`})]},q.id))}),h.jsxs("div",{className:"relative z-[250]",children:[C&&h.jsx("div",{className:"absolute top-0 left-0 right-0 bg-emerald-600 py-2 text-center text-white text-[8px] font-black uppercase tracking-widest animate-in slide-in-from-top-4",children:C}),D&&h.jsx("div",{className:"absolute top-0 left-0 right-0 bg-rose-600 py-2 text-center text-white text-[8px] font-black uppercase tracking-widest animate-in slide-in-from-top-4",children:D})]}),h.jsxs("div",{id:"admin-content-area",className:"flex-1 overflow-y-auto p-4 lg:p-10 bg-slate-50/40 custom-scrollbar scroll-smooth",children:[S==="OVERVIEW"&&h.jsx("div",{className:"max-w-full mx-auto space-y-4 lg:space-y-6",children:h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 lg:gap-6",children:[{label:"Sanctioned",val:ai.approved,bg:"emerald"},{label:"Active Dispatches",val:ai.pending,bg:"indigo"},{label:"Registry Size",val:ai.total,bg:"slate-950",dark:!0}].map((q,Ae)=>h.jsxs("div",{className:`p-6 lg:p-10 ${q.dark?"bg-slate-950 text-white":`bg-${q.bg}-50 border-${q.bg}-100`} border rounded-3xl flex flex-col justify-between h-40 lg:h-48 shadow-sm group hover:shadow-xl transition-all`,children:[h.jsx("h4",{className:`text-[8px] lg:text-[9px] font-black ${q.dark?"text-slate-500":`text-${q.bg}-600`} uppercase tracking-widest`,children:q.label}),h.jsx("p",{className:"text-4xl lg:text-6xl font-black tracking-tighter tabular-nums leading-none",children:q.val})]},Ae))})}),S==="NODE"&&h.jsx("div",{className:"max-w-4xl mx-auto space-y-10 animate-in fade-in pb-20 pt-4",children:h.jsxs("div",{className:"bg-[#0c2340] p-10 lg:p-16 rounded-[3rem] text-white shadow-2xl border border-white/10 overflow-hidden relative",children:[h.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-blue-600/10 rounded-full blur-3xl"}),h.jsx("h3",{className:"text-3xl font-black uppercase tracking-tighter mb-6",children:"Node.js statutory Bridge"}),h.jsx("p",{className:"text-blue-200/60 font-medium leading-relaxed mb-10 text-lg",children:"Establish a dedicated Node.js backend for statutory document processing, multi-device synchronization, and automated administrative reporting."}),h.jsxs("div",{className:"space-y-6",children:[h.jsxs("div",{className:"p-6 bg-white/5 border border-white/10 rounded-2xl",children:[h.jsx("h4",{className:"text-amber-500 text-[10px] font-black uppercase tracking-widest mb-4",children:"Connection Checklist"}),h.jsxs("ul",{className:"space-y-4",children:[h.jsxs("li",{className:"flex items-center gap-4",children:[h.jsx("div",{className:"w-5 h-5 bg-blue-500 rounded flex items-center justify-center text-slate-950",children:h.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:4,d:"M5 13l4 4L19 7"})})}),h.jsx("span",{className:"text-[11px] font-bold uppercase tracking-wider",children:"Deploy 'server.js' to a Node.js Environment"})]}),h.jsxs("li",{className:"flex items-center gap-4",children:[h.jsx("div",{className:"w-5 h-5 bg-blue-500 rounded flex items-center justify-center text-slate-950",children:h.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:4,d:"M5 13l4 4L19 7"})})}),h.jsx("span",{className:"text-[11px] font-bold uppercase tracking-wider",children:"Configure NODE_SERVER_URL in Environment"})]}),h.jsxs("li",{className:"flex items-center gap-4 opacity-50",children:[h.jsx("div",{className:"w-5 h-5 border-2 border-white/20 rounded"}),h.jsx("span",{className:"text-[11px] font-bold uppercase tracking-wider",children:"Activate Statutory Proxy Mode"})]})]})]}),h.jsxs("div",{className:"bg-black/40 p-8 rounded-2xl border border-white/5 font-mono text-[10px] leading-relaxed text-blue-300",children:[h.jsx("p",{className:"text-white/40 mb-2",children:"// Setup Command"}),h.jsx("p",{children:"npm install express cors @supabase/supabase-js"}),h.jsx("p",{className:"mt-4 text-white/40 mb-2",children:"// Launch Server"}),h.jsx("p",{children:"node server.js"})]})]})]})}),S==="STAFF"&&h.jsxs("div",{className:"max-w-full mx-auto space-y-10 lg:space-y-12 animate-in fade-in pb-20",children:[h.jsxs("div",{className:"bg-white rounded-3xl border border-slate-200 shadow-xl overflow-hidden",children:[h.jsxs("div",{className:"p-6 lg:p-10 bg-slate-950 flex flex-col md:flex-row justify-between items-center gap-6",children:[h.jsxs("div",{className:"flex items-center gap-4 lg:gap-6",children:[h.jsx("div",{className:"w-10 h-10 lg:w-12 lg:h-12 bg-indigo-600 rounded-xl flex items-center justify-center text-white shadow-xl",children:h.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2.5,d:"M18 9v3m0 0v3m0-3h3m-3 0H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})})}),h.jsxs("div",{children:[h.jsx("h3",{className:"text-lg lg:text-xl font-black text-white uppercase tracking-tight leading-none",children:de?"Synchronize Node":"Enroll Personnel"}),h.jsx("p",{className:"text-[7px] lg:text-[8px] font-black text-indigo-400 uppercase tracking-widest opacity-80 mt-1",children:"Registry Interface"})]})]}),de&&h.jsx("button",{onClick:tt,className:"w-full md:w-auto px-6 py-2 bg-rose-600 text-white rounded-xl font-black text-[9px] uppercase tracking-widest active:scale-95 transition-all",children:"Discard Mod"})]}),h.jsx("form",{onSubmit:cs,className:"p-6 lg:p-14 space-y-10 lg:space-y-12",children:h.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8 lg:gap-12 items-start",children:[h.jsxs("div",{className:"flex flex-col items-center gap-6",children:[h.jsx("div",{onClick:()=>{var q;return(q=U.current)==null?void 0:q.click()},className:"w-40 h-40 lg:w-48 lg:h-48 rounded-3xl bg-slate-50 border-2 border-dashed border-slate-200 flex items-center justify-center overflow-hidden cursor-pointer group shadow-inner",children:Y?h.jsx("img",{src:Y,className:"w-full h-full object-cover"}):h.jsxs("div",{className:"text-center space-y-2 opacity-30 group-hover:opacity-100 transition-opacity",children:[h.jsxs("svg",{className:"w-10 h-10 text-slate-400 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[h.jsx("path",{d:"M15 13a3 3 0 11-6 0 3 3 0 016 0z"}),h.jsx("path",{d:"M3 9a2 2 0 012-2h.93a2 2 0 001.664-.89l.812-1.22A2 2 0 0110.07 4h3.86a2 2 0 011.664.89l.812 1.22A2 2 0 0018.07 7H19a2 2 0 012 2v9a2 2 0 01-2 2H5a2 2 0 01-2-2V9z"})]}),h.jsx("p",{className:"text-[7px] font-black text-slate-500 uppercase tracking-widest",children:"Enroll Snapshot"})]})}),h.jsx("input",{type:"file",ref:U,className:"hidden",accept:"image/*",onChange:sn})]}),h.jsxs("div",{className:"lg:col-span-3 space-y-8 lg:space-y-10",children:[h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 lg:gap-8",children:[h.jsxs("div",{className:"space-y-2 lg:space-y-3",children:[h.jsx("label",{className:"text-[8px] lg:text-[9px] font-black text-slate-400 uppercase tracking-widest block ml-1",children:"Full Statutory Name"}),h.jsx("input",{type:"text",value:K,onChange:q=>ce(q.target.value),className:"w-full px-5 lg:px-6 py-3 lg:py-4 bg-slate-50 border border-slate-100 rounded-xl lg:rounded-2xl outline-none focus:border-indigo-600 font-black text-sm lg:text-lg uppercase shadow-sm",placeholder:"e.g. DR. VIKAS S. MESHRAM"})]}),h.jsxs("div",{className:"grid grid-cols-2 gap-4 lg:gap-6",children:[h.jsxs("div",{className:"space-y-2 lg:space-y-3",children:[h.jsx("label",{className:"text-[8px] lg:text-[9px] font-black text-slate-400 uppercase tracking-widest block ml-1",children:"Staff ID"}),h.jsx("input",{type:"text",value:Z,onChange:q=>me(q.target.value),disabled:!!de,className:"w-full px-5 lg:px-6 py-3 lg:py-4 bg-slate-50 border border-slate-100 rounded-xl lg:rounded-2xl outline-none focus:border-indigo-600 font-black text-[10px] lg:text-xs disabled:opacity-50 uppercase shadow-sm",placeholder:"GU/2025/..."})]}),h.jsxs("div",{className:"space-y-2 lg:space-y-3",children:[h.jsx("label",{className:"text-[8px] lg:text-[9px] font-black text-slate-400 uppercase tracking-widest block ml-1",children:"Security Pass"}),h.jsx("input",{type:"password",value:Ee,onChange:q=>Me(q.target.value),className:"w-full px-5 lg:px-6 py-3 lg:py-4 bg-slate-50 border border-slate-100 rounded-xl lg:rounded-2xl outline-none focus:border-indigo-600 font-black text-sm lg:text-lg shadow-sm",placeholder:""})]})]})]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 lg:gap-8 pt-2",children:[h.jsxs("div",{className:"space-y-2 lg:space-y-3",children:[h.jsx("label",{className:"text-[8px] lg:text-[9px] font-black text-slate-400 uppercase tracking-widest block ml-1",children:"Institutional Email"}),h.jsx("input",{type:"email",value:_e,onChange:q=>qe(q.target.value),className:"w-full px-5 lg:px-6 py-3 lg:py-4 bg-slate-50 border border-slate-100 rounded-xl lg:rounded-2xl outline-none focus:border-indigo-600 font-bold text-xs shadow-sm",placeholder:"e.g. name@gondwana.ac.in"})]}),h.jsxs("div",{className:"space-y-2 lg:space-y-3",children:[h.jsx("label",{className:"text-[8px] lg:text-[9px] font-black text-slate-400 uppercase tracking-widest block ml-1",children:"Mobile Identifier (SMS)"}),h.jsx("input",{type:"tel",value:rt,onChange:q=>j(q.target.value),className:"w-full px-5 lg:px-6 py-3 lg:py-4 bg-slate-50 border border-slate-100 rounded-xl lg:rounded-2xl outline-none focus:border-indigo-600 font-bold text-xs shadow-sm",placeholder:"10 Digit Number"})]})]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 lg:gap-8",children:[h.jsxs("div",{className:"space-y-2 lg:space-y-3",children:[h.jsx("label",{className:"text-[8px] lg:text-[9px] font-black text-slate-400 uppercase tracking-widest block ml-1",children:"Designation"}),h.jsx("input",{type:"text",value:Te,onChange:q=>De(q.target.value),className:"w-full px-5 lg:px-6 py-3 lg:py-4 bg-slate-50 border border-slate-100 rounded-xl lg:rounded-2xl outline-none focus:border-indigo-600 text-[11px] lg:text-[12px] font-black uppercase shadow-sm",placeholder:"TITLE"})]}),h.jsxs("div",{className:"space-y-2 lg:space-y-3",children:[h.jsx("label",{className:"text-[8px] lg:text-[9px] font-black text-slate-400 uppercase tracking-widest block ml-1",children:"Administrative Unit"}),h.jsx("select",{value:R,onChange:q=>V(q.target.value),className:"w-full px-5 lg:px-6 py-3 lg:py-4 bg-slate-50 border border-slate-100 rounded-xl lg:rounded-2xl outline-none focus:border-indigo-600 text-[11px] lg:text-[12px] font-black uppercase appearance-none shadow-sm cursor-pointer",children:i.map(q=>h.jsx("option",{value:q,children:q},q))})]})]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 pt-6 border-t border-slate-100 items-end",children:[h.jsxs("div",{className:"space-y-2 lg:space-y-3",children:[h.jsx("label",{className:"text-[8px] lg:text-[9px] font-black text-slate-400 uppercase tracking-widest block ml-1",children:"Authorization Tier"}),h.jsxs("select",{value:Q,onChange:q=>ie(q.target.value),className:"w-full px-5 lg:px-6 py-3 lg:py-4 bg-white border border-slate-200 rounded-xl lg:rounded-2xl outline-none focus:border-indigo-600 font-black uppercase text-[10px] appearance-none shadow-sm cursor-pointer",children:[h.jsx("option",{value:ae.STAFF,children:"Registry Personnel (Level 01)"}),h.jsx("option",{value:ae.ADMIN,children:"Statutory Admin (Master)"})]})]}),h.jsx("button",{type:"submit",className:"px-8 lg:px-12 py-4 lg:py-5 bg-indigo-950 text-amber-500 rounded-xl lg:rounded-2xl font-black text-[10px] lg:text-xs uppercase tracking-widest shadow-xl hover:bg-indigo-900 transition-all active:scale-95 border border-amber-500/10",children:de?"Synchronize Node ":"Provision Node "})]})]})]})})]}),h.jsxs("div",{className:"space-y-6",children:[h.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center px-4 gap-6",children:[h.jsx("h3",{className:"text-2xl lg:text-3xl font-black text-slate-900 tracking-tighter uppercase leading-none shrink-0",children:"Registry Directory"}),h.jsxs("div",{className:"relative flex-1 max-w-2xl w-full group",children:[h.jsx("input",{type:"text",value:Oe,onChange:q=>$t(q.target.value),placeholder:"SEARCH REGISTRY...",className:"relative w-full pl-10 pr-4 py-3 bg-white border border-slate-100 rounded-xl text-[10px] lg:text-[11px] font-black uppercase tracking-widest focus:border-indigo-600 outline-none shadow-sm"}),h.jsx("svg",{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})]})]}),h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4 lg:gap-6",children:fs.map(q=>h.jsxs("article",{className:"bg-white border border-slate-100 rounded-3xl hover:border-indigo-500 hover:shadow-2xl transition-all group flex flex-col h-full overflow-hidden animate-in fade-in",children:[h.jsxs("div",{className:"p-5 lg:p-6 flex items-center gap-4 bg-slate-50/80 border-b border-slate-100 shrink-0",children:[h.jsx("div",{className:"w-10 h-10 lg:w-12 lg:h-12 rounded-xl overflow-hidden bg-white border border-slate-100 flex items-center justify-center shrink-0 shadow-inner",children:q.photo?h.jsx("img",{src:q.photo,className:"w-full h-full object-cover"}):h.jsx("span",{className:"text-slate-300 font-black text-xl",children:q.name.charAt(0)})}),h.jsxs("div",{className:"min-w-0",children:[h.jsx("h4",{className:"text-[13px] lg:text-sm font-black text-slate-900 uppercase tracking-tight truncate mb-1",children:q.name}),h.jsx("span",{className:`text-[7px] font-black px-2 py-0.5 rounded-lg uppercase tracking-widest inline-block ${q.role===ae.ADMIN?"bg-indigo-950 text-indigo-400 shadow-sm":"bg-white text-slate-500 border border-slate-200"}`,children:q.role})]})]}),h.jsxs("div",{className:"p-5 lg:p-6 flex-1 space-y-4",children:[h.jsxs("div",{className:"space-y-1",children:[h.jsx("p",{className:"text-[8px] font-black text-indigo-600 uppercase tracking-widest opacity-60",children:"Node Positioning"}),h.jsx("p",{className:"text-[11px] lg:text-xs font-bold text-slate-800 uppercase leading-tight",children:q.designation}),h.jsx("p",{className:"text-[9px] lg:text-[10px] font-black text-slate-400 uppercase truncate mt-0.5",children:q.department})]}),h.jsx("div",{className:"space-y-3 pt-4 border-t border-slate-50",children:h.jsx("div",{className:"flex flex-col gap-2",children:h.jsxs("div",{className:"flex items-center gap-3 text-[10px] font-black text-slate-950 bg-slate-50 p-2.5 rounded-xl border border-slate-100 uppercase tracking-widest",children:[h.jsx("svg",{className:"w-3 h-3 text-indigo-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:h.jsx("path",{d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})}),"ID: ",q.id]})})})]}),h.jsxs("div",{className:"px-5 lg:px-6 py-4 bg-slate-50 border-t border-slate-100 flex gap-3",children:[h.jsx("button",{onClick:()=>Rt(q),className:"flex-1 py-2.5 bg-white border border-indigo-200 text-indigo-600 rounded-xl font-black text-[9px] uppercase tracking-widest hover:bg-indigo-600 hover:text-white transition-all shadow-sm",children:"Modify Node"}),q.id!==b&&h.jsx("button",{onClick:()=>bn(`Permanently purge node for ${q.name}?`,()=>p(q.id)),className:"w-10 h-10 flex items-center justify-center bg-rose-50 text-rose-600 rounded-xl border border-rose-100 hover:bg-rose-600 hover:text-white transition-all active:scale-90 shadow-sm",children:h.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M6 18L18 6M6 6l12 12"})})})]})]},q.id))})]})]}),S==="DEPARTMENTS"&&h.jsxs("div",{className:"max-w-4xl mx-auto space-y-8 lg:space-y-12 animate-in fade-in pb-20",children:[h.jsx("div",{className:"bg-white p-6 lg:p-10 rounded-3xl border border-slate-200 shadow-xl relative overflow-hidden group/unit",children:h.jsxs("div",{className:"relative z-10",children:[h.jsx("h3",{className:"text-xl lg:text-2xl font-black text-slate-900 uppercase tracking-tighter mb-6 lg:mb-8",children:"Establish Unit"}),h.jsxs("form",{onSubmit:ds,className:"flex flex-col md:flex-row gap-4 lg:gap-6",children:[h.jsx("input",{type:"text",value:Re,onChange:q=>We(q.target.value),placeholder:"UNIT TITLE (e.g. EXAM SECTION)...",className:"flex-1 px-6 lg:px-8 py-4 lg:py-5 bg-slate-50 border border-slate-100 rounded-xl lg:rounded-2xl outline-none focus:border-indigo-600 font-black uppercase text-xs lg:text-sm shadow-inner"}),h.jsx("button",{type:"submit",className:"px-10 py-4 lg:py-5 bg-slate-950 text-white rounded-xl lg:rounded-2xl font-black text-[10px] lg:text-[12px] uppercase tracking-widest shadow-xl active:scale-95 transition-all",children:"Establish Node"})]})]})}),h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 lg:gap-6",children:i.map(q=>h.jsxs("div",{className:"p-5 lg:p-6 bg-white border border-slate-100 rounded-2xl flex justify-between items-center group hover:border-indigo-500 transition-all shadow-sm",children:[h.jsxs("div",{className:"min-w-0",children:[h.jsx("p",{className:"text-[8px] font-black text-indigo-600 uppercase tracking-widest opacity-60 mb-0.5 lg:mb-1",children:"Institutional Unit"}),h.jsx("h4",{className:"text-[13px] lg:text-sm font-black text-slate-900 uppercase tracking-tight truncate pr-6",children:q})]}),h.jsx("button",{onClick:()=>bn(`Terminate unit ${q}?`,()=>g(q)),className:"w-9 h-9 bg-rose-50 text-rose-600 rounded-lg opacity-0 group-hover:opacity-100 transition-all border border-rose-100 hover:bg-rose-600 hover:text-white flex items-center justify-center active:scale-90",children:h.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M6 18L18 6M6 6l12 12"})})})]},q))})]}),S==="BRANDING"&&h.jsx("div",{className:"max-w-2xl mx-auto space-y-10 lg:space-y-12 animate-in fade-in pb-20 pt-4",children:h.jsxs("div",{className:"bg-white p-8 lg:p-16 rounded-[2.5rem] lg:rounded-[4rem] border border-slate-200 shadow-2xl text-center relative overflow-hidden",children:[h.jsx("div",{className:"absolute top-0 left-0 w-full h-1.5 bg-gradient-to-r from-amber-200 via-amber-500 to-amber-200 shadow-sm"}),h.jsx("h3",{className:"text-2xl lg:text-3xl font-black text-slate-950 uppercase tracking-tighter mb-4",children:"Statutory Mark"}),h.jsx("p",{className:"text-[10px] lg:text-[11px] font-bold text-slate-400 uppercase tracking-[0.6em] mb-12 lg:mb-16",children:"Digital Identity Management"}),h.jsxs("div",{className:"flex flex-col items-center gap-10 lg:gap-12",children:[h.jsx("div",{className:"relative group/logo",children:h.jsxs("div",{className:"relative w-48 h-48 lg:w-56 lg:h-56 bg-white rounded-3xl lg:rounded-[3rem] border border-slate-100 shadow-2xl flex items-center justify-center p-8 lg:p-12 overflow-hidden group-hover/logo:scale-105 transition-transform duration-700",children:[r?h.jsx("img",{src:r,className:"w-full h-full object-contain"}):h.jsx("div",{className:"text-[80px] lg:text-[120px] font-black text-slate-950 italic select-none",children:"G"}),h.jsxs("div",{className:"absolute inset-0 bg-slate-950/90 opacity-0 group-hover/logo:opacity-100 flex flex-col items-center justify-center transition-all backdrop-blur-xl gap-4 lg:gap-6",children:[h.jsx("button",{onClick:()=>{var q;return(q=J.current)==null?void 0:q.click()},className:"px-6 lg:px-8 py-2.5 lg:py-3.5 bg-white text-slate-950 rounded-xl lg:rounded-2xl font-black text-[9px] lg:text-[10px] uppercase tracking-widest shadow-xl hover:bg-amber-500 active:scale-95 transition-all",children:"Modify Seal"}),h.jsx("p",{className:"text-[7px] lg:text-[9px] text-white/50 font-black uppercase tracking-widest",children:"Digital Auth Update"})]})]})}),h.jsx("input",{type:"file",ref:J,className:"hidden",accept:"image/*",onChange:Pn}),h.jsx("div",{className:"max-w-xs lg:max-w-md space-y-4 lg:space-y-6",children:h.jsx("p",{className:"text-[11px] lg:text-[12px] font-bold text-slate-500 uppercase tracking-[0.2em] leading-relaxed italic",children:"The statutory seal serves as the digital watermark for all correspondence within the system."})})]})]})}),S==="DATABASE"&&h.jsx("div",{className:"max-w-5xl mx-auto animate-in fade-in pb-20 pt-4",children:h.jsxs("div",{className:"bg-slate-950 p-10 lg:p-24 rounded-3xl lg:rounded-[4rem] text-center space-y-12 lg:space-y-16 shadow-2xl relative overflow-hidden",children:[h.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_50%_50%,rgba(79,70,229,0.1)_0%,transparent_100%)]"}),h.jsxs("div",{className:"relative z-10 space-y-4 lg:space-y-6",children:[h.jsx("h3",{className:"text-3xl lg:text-5xl font-black text-white uppercase tracking-tighter leading-none",children:"Node Deployment"}),h.jsx("p",{className:"text-[10px] lg:text-[12px] font-black text-indigo-400 uppercase tracking-[0.8em]",children:"Registry Sync Engine"})]}),h.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 lg:gap-10 relative z-10",children:[h.jsxs("div",{onClick:ri,className:"p-8 lg:p-12 bg-white/5 border border-white/10 rounded-[2rem] lg:rounded-[2.5rem] text-left group hover:bg-indigo-600/10 cursor-pointer transition-all border-dashed shadow-xl",children:[h.jsx("div",{className:"w-12 h-12 lg:w-14 lg:h-14 bg-indigo-500/20 text-indigo-400 rounded-xl lg:rounded-2xl flex items-center justify-center mb-6 lg:mb-8 group-hover:scale-110 transition-transform",children:h.jsx("svg",{className:"w-7 h-7",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2.5,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})})}),h.jsx("h4",{className:"text-white text-xl lg:text-2xl font-black uppercase mb-3 lg:mb-4 tracking-tighter",children:"Memory Backup"}),h.jsx("p",{className:"text-[10px] lg:text-[11px] text-slate-500 font-bold uppercase tracking-[0.2em] leading-relaxed",children:"Encapsulate institutional memory as a statutory package."})]}),h.jsxs("div",{className:"p-8 lg:p-12 bg-white/5 border border-white/10 rounded-[2rem] lg:rounded-[2.5rem] text-left group hover:bg-amber-600/10 cursor-pointer transition-all border-dashed relative shadow-xl",children:[h.jsx("input",{type:"file",className:"absolute inset-0 opacity-0 cursor-pointer",accept:"application/json",onChange:Li}),h.jsx("div",{className:"w-12 h-12 lg:w-14 lg:h-14 bg-amber-500/20 text-amber-400 rounded-xl lg:rounded-2xl flex items-center justify-center mb-6 lg:mb-8 group-hover:scale-110 transition-transform",children:h.jsx("svg",{className:"w-7 h-7",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2.5,d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})})}),h.jsx("h4",{className:"text-white text-xl lg:text-2xl font-black uppercase mb-3 lg:mb-4 tracking-tighter",children:"Recovery Sync"}),h.jsx("p",{className:"text-[10px] lg:text-[11px] text-slate-500 font-bold uppercase tracking-[0.2em] leading-relaxed",children:"Re-provision records from a master backup."})]})]}),h.jsx("div",{className:"pt-12 lg:pt-20 border-t border-white/10 relative z-10",children:h.jsxs("button",{onClick:()=>bn("TERMINAL PROTOCOL: Complete deletion of all local records. Action immutable.",()=>{indexedDB.deleteDatabase("GondwanaNoteFlowDB"),window.location.reload()}),className:"w-full sm:w-auto px-10 lg:px-16 py-6 lg:py-8 border-2 border-rose-950 text-rose-500 rounded-2xl lg:rounded-[3rem] font-black text-[9px] lg:text-[10px] uppercase tracking-[0.5em] hover:bg-rose-950 hover:text-white transition-all active:scale-95 group",children:["Registry Factory Purge ",h.jsx("span",{className:"ml-4 opacity-40 group-hover:opacity-100 transition-opacity",children:""})]})})]})})]}),h.jsxs("footer",{className:"p-4 lg:p-6 bg-white border-t border-slate-100 text-center shrink-0 shadow-sm relative z-[400]",children:[h.jsx("p",{className:"text-[9px] lg:text-[10px] font-black text-slate-400 uppercase tracking-[0.5em] mb-1.5 lg:mb-2 leading-none",children:"Institutional Infrastructure Node  Deployment 2025"}),h.jsxs("div",{className:"flex justify-center items-center gap-4 lg:gap-8 opacity-60",children:[h.jsx("p",{className:"text-[8px] font-black text-slate-500 uppercase tracking-widest",children:"Interface v3.1.8"}),h.jsx("div",{className:"w-1 h-1 bg-slate-200 rounded-full"}),h.jsx("p",{className:"text-[8px] font-black text-slate-500 uppercase tracking-widest",children:"Admin Authorization Node"})]})]})]})},fS=({history:t})=>h.jsxs("div",{className:"bg-white rounded-2xl shadow-xl border border-slate-200 p-6 lg:p-8",children:[h.jsxs("h3",{className:"text-base lg:text-lg font-black text-slate-900 mb-8 flex items-center tracking-tight",children:[h.jsx("div",{className:"w-8 h-8 bg-indigo-50 text-indigo-600 rounded-lg flex items-center justify-center mr-3",children:h.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2.5,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})}),"Decision Timeline & Remarks"]}),h.jsx("div",{className:"flow-root",children:h.jsx("ul",{className:"-mb-8",children:t.map((e,i)=>h.jsx("li",{children:h.jsxs("div",{className:"relative pb-8",children:[i!==t.length-1?h.jsx("span",{className:"absolute top-4 left-4 -ml-px h-full w-0.5 bg-slate-100","aria-hidden":"true"}):null,h.jsxs("div",{className:"relative flex items-start space-x-4",children:[h.jsx("div",{className:"relative",children:h.jsxs("span",{className:`h-8 w-8 rounded-xl flex items-center justify-center ring-6 ring-white shadow-sm transition-transform hover:scale-110 ${e.action===Je.FORWARD?"bg-emerald-500":e.action===Je.RETURN?"bg-amber-500":e.action===Je.REJECT?"bg-rose-500":e.action===Je.APPROVE?"bg-indigo-600":"bg-slate-500"}`,children:[e.action===Je.FORWARD&&h.jsx("svg",{className:"h-4 w-4 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2.5,d:"M5 13l4 4L19 7"})}),e.action===Je.RETURN&&h.jsx("svg",{className:"h-4 w-4 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2.5,d:"M10 19l-7-7m0 0l7-7"})}),e.action===Je.INITIATE&&h.jsx("svg",{className:"h-4 w-4 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2.5,d:"M12 4v16m8-8H4"})}),e.action===Je.APPROVE&&h.jsx("svg",{className:"h-4 w-4 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2.5,d:"M5 13l4 4L19 7"})}),e.action===Je.REJECT&&h.jsx("svg",{className:"h-4 w-4 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2.5,d:"M6 18L18 6"})})]})}),h.jsxs("div",{className:"flex-1 min-w-0",children:[h.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center gap-1.5 mb-1.5",children:[h.jsxs("div",{className:"text-[12px]",children:[h.jsx("span",{className:"font-black text-slate-900",children:e.from.name}),h.jsx("span",{className:"text-slate-400 font-bold mx-1.5",children:""}),h.jsx("span",{className:"font-black text-slate-900",children:e.to.name})]}),h.jsxs("div",{className:"flex items-center gap-4",children:[e.notificationsSent&&h.jsxs("div",{className:"flex items-center gap-1.5",children:[e.notificationsSent.email&&h.jsx("div",{title:"Email Sent",className:"w-4 h-4 rounded bg-blue-100 text-blue-600 flex items-center justify-center",children:h.jsx("svg",{className:"w-2.5 h-2.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})})}),e.notificationsSent.sms&&h.jsx("div",{title:"SMS Sent",className:"w-4 h-4 rounded bg-amber-100 text-amber-600 flex items-center justify-center",children:h.jsx("svg",{className:"w-2.5 h-2.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M8 10h.01M12 10h.01M16 10h.01M9 16H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-5l-5 5v-5z"})})})]}),h.jsx("span",{className:"text-[9px] font-black text-slate-300 uppercase tracking-widest tabular-nums",children:new Date(e.timestamp).toLocaleString("en-IN",{hour:"2-digit",minute:"2-digit",day:"2-digit",month:"short"})})]})]}),h.jsxs("div",{className:"flex items-center gap-1.5 mb-3",children:[h.jsx("span",{className:`text-[7px] px-1.5 py-0.5 rounded font-black uppercase tracking-widest ${e.action===Je.FORWARD?"bg-emerald-50 text-emerald-600":e.action===Je.RETURN?"bg-amber-50 text-amber-600":e.action===Je.REJECT?"bg-rose-50 text-rose-600":e.action===Je.APPROVE?"bg-indigo-50 text-indigo-600":"bg-slate-50 text-slate-600"}`,children:e.action}),h.jsx("span",{className:"text-[8px] font-bold text-slate-400 uppercase tracking-tighter",children:e.from.designation})]}),e.remark&&h.jsxs("div",{className:"text-[12px] text-slate-700 bg-slate-50/80 p-4 rounded-xl border border-slate-100 leading-relaxed font-medium italic relative",children:[h.jsx("div",{className:"absolute top-3 left-[-6px] w-1.5 h-1.5 bg-slate-50 border-l border-t border-slate-100 rotate-[-45deg]"}),'"',e.remark,'"']})]})]})]})},e.id))})})]}),hS=({onBack:t})=>h.jsxs("div",{className:"min-h-screen bg-[#020617] text-white flex flex-col font-sans",children:[h.jsxs("header",{className:"sticky top-0 z-[100] bg-[#0c2340]/80 backdrop-blur-xl border-b border-white/10 px-8 py-6 flex justify-between items-center",children:[h.jsxs("div",{className:"flex items-center gap-4",children:[h.jsx("div",{className:"w-10 h-10 bg-amber-500 rounded-xl flex items-center justify-center text-[#0c2340] font-black text-xl shadow-xl rotate-3",children:"G"}),h.jsxs("div",{children:[h.jsx("h1",{className:"text-lg font-black uppercase tracking-tight",children:"Institutional Workspace Protocol"}),h.jsx("p",{className:"text-[10px] font-black text-amber-500 uppercase tracking-[0.3em]",children:"Operational Manual v1.5  Statutory Grade"})]})]}),h.jsxs("button",{onClick:t,className:"px-6 py-2.5 bg-white/5 border border-white/10 rounded-xl text-[9px] font-black uppercase tracking-widest hover:bg-white/10 transition-all flex items-center gap-2 group",children:[h.jsx("svg",{className:"w-4 h-4 group-hover:-translate-x-1 transition-transform",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),"Exit Manual"]})]}),h.jsx("main",{className:"flex-1 max-w-5xl mx-auto w-full px-6 py-20",children:h.jsxs("div",{className:"space-y-32",children:[h.jsxs("section",{className:"relative group",children:[h.jsx("div",{className:"absolute -left-12 top-0 text-[100px] font-black text-white/5 leading-none select-none",children:"01"}),h.jsxs("div",{className:"relative pt-12",children:[h.jsx("h2",{className:"text-shine text-3xl font-black uppercase tracking-tighter mb-8",children:"Statutory Authentication"}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-12",children:[h.jsxs("div",{className:"space-y-6",children:[h.jsxs("p",{className:"text-blue-100/70 text-base leading-relaxed font-medium",children:["Access to the NotePro ecosystem is strictly governed by institutional credentials. Each statutory officer is assigned a unique ",h.jsx("span",{className:"text-white font-black",children:"Staff Identifier"})," linked to their designated office."]}),h.jsxs("ul",{className:"space-y-4",children:[h.jsxs("li",{className:"flex gap-4",children:[h.jsx("div",{className:"w-8 h-8 rounded-lg bg-blue-500/10 flex items-center justify-center text-blue-400 shrink-0",children:"1"}),h.jsx("p",{className:"text-[11px] font-bold text-slate-400 uppercase tracking-wide leading-relaxed",children:"Officials must use the 'Staff' tab to enter their secure passphrase and ID."})]}),h.jsxs("li",{className:"flex gap-4",children:[h.jsx("div",{className:"w-8 h-8 rounded-lg bg-blue-500/10 flex items-center justify-center text-blue-400 shrink-0",children:"2"}),h.jsx("p",{className:"text-[11px] font-bold text-slate-400 uppercase tracking-wide leading-relaxed",children:"The 'Public' tab allows external stakeholders to verify documents using the statutory Reference Number."})]})]})]}),h.jsx("div",{className:"bg-white/5 border border-white/10 rounded-[2.5rem] p-10 flex items-center justify-center",children:h.jsxs("div",{className:"w-full max-w-xs space-y-4",children:[h.jsx("div",{className:"h-2 w-1/3 bg-blue-500/20 rounded-full"}),h.jsx("div",{className:"h-12 w-full bg-white/5 rounded-2xl border border-white/10"}),h.jsx("div",{className:"h-12 w-full bg-white/5 rounded-2xl border border-white/10"}),h.jsx("div",{className:"h-12 w-full bg-blue-600 rounded-2xl flex items-center justify-center text-[10px] font-black uppercase tracking-widest",children:"Verify Identity"})]})})]})]})]}),h.jsxs("section",{className:"relative group",children:[h.jsx("div",{className:"absolute -left-12 top-0 text-[100px] font-black text-white/5 leading-none select-none",children:"02"}),h.jsxs("div",{className:"relative pt-12",children:[h.jsx("h2",{className:"text-shine text-3xl font-black uppercase tracking-tighter mb-8",children:"Drafting The Green Sheet"}),h.jsx("div",{className:"bg-emerald-500/5 border border-emerald-500/20 rounded-[3rem] p-12 lg:p-16",children:h.jsxs("div",{className:"flex flex-col lg:flex-row gap-16",children:[h.jsxs("div",{className:"flex-1 space-y-8",children:[h.jsxs("div",{children:[h.jsx("h4",{className:"text-emerald-400 text-xs font-black uppercase tracking-[0.3em] mb-4",children:"Statutory Drafting"}),h.jsx("p",{className:"text-emerald-100/60 leading-relaxed font-medium",children:"The 'Green Sheet' is the cornerstone of university administration. When initiating a note:"})]}),h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{className:"p-6 bg-emerald-500/10 rounded-2xl border border-emerald-500/10",children:[h.jsx("h5",{className:"text-white text-xs font-black uppercase mb-2",children:"Subject Precision"}),h.jsx("p",{className:"text-[10px] text-emerald-100/40 uppercase font-bold tracking-widest",children:"The subject should be in block capitals, clearly identifying the department and core request."})]}),h.jsxs("div",{className:"p-6 bg-indigo-500/10 rounded-2xl border border-indigo-500/10",children:[h.jsx("h5",{className:"text-indigo-400 text-xs font-black uppercase mb-2",children:"AI-Assisted Refinement"}),h.jsx("p",{className:"text-[10px] text-indigo-100/40 uppercase font-bold tracking-widest",children:'Utilize the "Refine with AI" tool to transform rough notes into statutory grade administrative prose.'})]})]})]}),h.jsx("div",{className:"flex-1 flex items-center justify-center",children:h.jsxs("div",{className:"relative w-full max-w-sm aspect-[4/5] bg-[#e8f5e9] rounded-[2rem] shadow-2xl p-10",children:[h.jsx("div",{className:"absolute top-0 left-12 bottom-0 w-[1.5px] bg-rose-500/10"}),h.jsxs("div",{className:"space-y-4 pt-10",children:[h.jsx("div",{className:"h-2 w-3/4 bg-slate-900/10 rounded-full"}),h.jsx("div",{className:"h-2 w-full bg-slate-900/5 rounded-full"}),h.jsx("div",{className:"h-2 w-full bg-slate-900/5 rounded-full"}),h.jsx("div",{className:"h-2 w-2/3 bg-slate-900/5 rounded-full"})]})]})})]})})]})]}),h.jsxs("section",{className:"relative group",children:[h.jsx("div",{className:"absolute -left-12 top-0 text-[100px] font-black text-white/5 leading-none select-none",children:"03"}),h.jsxs("div",{className:"relative pt-12",children:[h.jsx("h2",{className:"text-shine text-3xl font-black uppercase tracking-tighter mb-8",children:"Statutory Workflow Actions"}),h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[{label:"Forward",color:"blue",desc:"Routes the file to the next statutory level for perusal."},{label:"Return",color:"amber",desc:"Dispatches the file back to the initiator for corrections."},{label:"Approve",color:"emerald",desc:"Finalizes the proposal and applies the Digital Seal."},{label:"Reject",color:"rose",desc:"Terminates the proposal and archives the dispatch."}].map((e,i)=>h.jsxs("div",{className:"p-8 bg-white/5 border border-white/10 rounded-3xl hover:border-white/20 transition-all",children:[h.jsx("div",{className:`w-10 h-10 rounded-xl mb-6 flex items-center justify-center bg-${e.color}-500/20 text-${e.color}-400`,children:h.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M5 13l4 4L19 7"})})}),h.jsx("h4",{className:"text-white text-sm font-black uppercase tracking-widest mb-2",children:e.label}),h.jsx("p",{className:"text-[10px] font-bold text-slate-500 uppercase leading-relaxed tracking-widest",children:e.desc})]},i))})]})]}),h.jsxs("section",{className:"relative group",children:[h.jsx("div",{className:"absolute -left-12 top-0 text-[100px] font-black text-white/5 leading-none select-none",children:"04"}),h.jsxs("div",{className:"relative pt-12",children:[h.jsx("h2",{className:"text-shine text-3xl font-black uppercase tracking-tighter mb-8",children:"Administrative Registry"}),h.jsxs("div",{className:"p-12 bg-[#0c2340] rounded-[3rem] border border-white/10 flex flex-col lg:flex-row gap-12 items-center",children:[h.jsxs("div",{className:"flex-1 space-y-6",children:[h.jsx("h4",{className:"text-amber-500 text-xs font-black uppercase tracking-[0.3em]",children:"Institutional Control"}),h.jsx("p",{className:"text-blue-100/70 leading-relaxed font-medium",children:"Administrators have sovereign control over the university registry:"}),h.jsxs("ul",{className:"space-y-4",children:[h.jsxs("li",{className:"flex items-center gap-4 group/li",children:[h.jsx("div",{className:"w-2 h-2 rounded-full bg-amber-500"}),h.jsx("span",{className:"text-[11px] font-black text-white uppercase tracking-widest group-hover/li:translate-x-2 transition-transform",children:"Enroll Statutory Personnel with ID/Photo"})]}),h.jsxs("li",{className:"flex items-center gap-4 group/li",children:[h.jsx("div",{className:"w-2 h-2 rounded-full bg-amber-500"}),h.jsx("span",{className:"text-[11px] font-black text-white uppercase tracking-widest group-hover/li:translate-x-2 transition-transform",children:"Define Institutional Department Units"})]}),h.jsxs("li",{className:"flex items-center gap-4 group/li",children:[h.jsx("div",{className:"w-2 h-2 rounded-full bg-amber-500"}),h.jsx("span",{className:"text-[11px] font-black text-white uppercase tracking-widest group-hover/li:translate-x-2 transition-transform",children:"Update Official University Seal (Logo)"})]})]})]}),h.jsx("div",{className:"w-64 h-64 bg-white/5 rounded-[2.5rem] border border-white/10 flex items-center justify-center group-hover:rotate-12 transition-transform duration-1000",children:h.jsx("svg",{className:"w-24 h-24 text-amber-500/20",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M12 6V4m0 2a2 2 0 100 4m0-4a2 2 0 110 4m-6 8a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4m6 6v10m6-2a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4"})})})]})]})]})]})}),h.jsx("footer",{className:"py-20 border-t border-white/5 bg-black/40",children:h.jsxs("div",{className:"max-w-5xl mx-auto px-6 text-center space-y-4",children:[h.jsx("p",{className:"text-[10px] font-black text-slate-600 uppercase tracking-[0.5em]",children:"End of Manual"}),h.jsxs("div",{className:"text-[10px] font-bold text-slate-500 uppercase tracking-widest leading-relaxed",children:["Statutory Compliance Issued by ",h.jsx("span",{className:"text-shine font-black",children:"Dr. Krishna Karoo"}),h.jsx("br",{}),"Computer Science Department  Gondwana University, Gadchiroli"]}),h.jsx("button",{onClick:t,className:"mt-12 px-12 py-5 bg-white text-slate-900 rounded-2xl font-black text-[10px] uppercase tracking-[0.3em] hover:bg-amber-500 transition-all shadow-2xl active:scale-95",children:"Acknowledge & Exit"})]})})]}),pS=({onBack:t})=>{var p,v,g,x;const[e,i]=ee.useState(0),r=[{type:"HERO",title:"Statutory Evolution",subtitle:"THE DIGITAL SECRETARIAT MISSION",tagline:"Transitioning Gondwana University to a Zero-Transit, 100% Transparent Governance Model.",image:"https://images.unsplash.com/photo-1497366216548-37526070297c?auto=format&fit=crop&q=80&w=1600",points:["Sovereign Infrastructure","Institutional Memory","Zero Paper Waste"]},{type:"EXPLAINER",title:"Why NotePro?",subtitle:"SOLVING ADMINISTRATIVE LATENCY",content:"Traditional paper-based file movement suffers from physical transit delays and tracking gaps. NotePro eliminates these bottlenecks while maintaining the legal sanctity of the process.",image:"https://images.unsplash.com/photo-1497215842964-222b430dc094?auto=format&fit=crop&q=80&w=1200",stats:[{label:"Transit Time",val:"Instant",icon:""},{label:"Traceability",val:"100%",icon:""},{label:"Data Safety",val:"Secure",icon:""}]},{type:"SPLIT",title:"Advanced Tech Stack",subtitle:"ENGINEERED FOR EXCELLENCE",content:"NotePro is built using a world-class technology stack, ensuring high performance, security, and institutional scalability without the need for expensive external servers.",points:["React 19 & TypeScript: Modern UI & Type-Safe Code","Tailwind CSS: High-Performance Visual Architecture","IndexedDB: Local-First Encrypted Data Storage","Google Gemini AI: Statutory Drafting Intelligence"],image:"https://images.unsplash.com/photo-1555066931-4365d14bab8c?auto=format&fit=crop&q=80&w=1200"},{type:"EXPLAINER",title:"Built For Sovereignty",subtitle:"SECURE LOCAL ARCHITECTURE",content:"Engineered by Dr. Krishna Karoo, NotePro uses 'Local-First' encryption. Your data stays within the university's ecosystem, protected by industrial-grade security protocols.",image:"https://images.unsplash.com/photo-1550751827-4bd374c3f58b?auto=format&fit=crop&q=80&w=1200",stats:[{label:"Encryption",val:"AES-256",icon:""},{label:"Storage",val:"IndexedDB",icon:""},{label:"Access",val:"Bi-Level",icon:""}]},{type:"SPLIT",title:"Deployment Roadmap",subtitle:"PHASE-WISE INSTITUTIONAL ROLLOUT",content:"A systematic 3-phase strategy ensures a smooth transition from traditional files to the NotePro Digital Secretariat across the entire university.",points:["Phase I: Pilot (PGTD CS & Digital Cell)","Phase II: Integration (Registrar, Finance & Exams)","Phase III: Saturation (All Depts & Affiliated Units)"],image:"https://images.unsplash.com/photo-1504384308090-c89e1227a15f?auto=format&fit=crop&q=80&w=1200"},{type:"HERO",title:"Sustainability Goals",subtitle:"ECONOMIC & ENVIRONMENTAL IMPACT",tagline:"Reducing the University's carbon footprint and recurring administrative costs by over 90% per annum.",image:"https://images.unsplash.com/photo-1473341304170-971dccb5ac1e?auto=format&fit=crop&q=80&w=1600",points:["90% Paper Reduction","Zero Toner Waste","Digital Archiving"]},{type:"CREDITS",title:"Statutory Leadership",subtitle:"VISION & EXECUTION",tagline:"NotePro is the result of visionary governance meeting high-end technical engineering.",image:"https://images.unsplash.com/photo-1521737604893-d14cc237f11d?auto=format&fit=crop&q=80&w=1600",leaders:[{role:"Digital Architect",name:"Dr. Krishna Karoo",title:"Assistant Professor, PG Dept. of CS",desc:"Lead Engineer and Architect of the NotePro Digital Governance Core."}]}],o=()=>{e<r.length-1?i(b=>b+1):t()},l=()=>{e>0&&i(b=>b-1)},c=r[e];return h.jsxs("div",{className:"fixed inset-0 bg-slate-950 text-white flex flex-col font-sans overflow-hidden z-[1000] selection:bg-blue-500 selection:text-white",children:[h.jsxs("div",{className:"absolute inset-0 pointer-events-none z-0",children:[h.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_50%_50%,rgba(37,99,235,0.05)_0%,transparent_100%)]"}),h.jsx("div",{className:"absolute inset-0 opacity-10 bg-[url('https://www.transparenttextures.com/patterns/carbon-fibre.png')]"})]}),h.jsx("div",{className:"fixed top-0 left-0 w-full h-1.5 bg-white/5 z-[200]",children:h.jsx("div",{className:"h-full bg-blue-500 transition-all duration-1000 ease-out shadow-[0_0_20px_rgba(59,130,246,0.5)]",style:{width:`${(e+1)/r.length*100}%`}})}),h.jsx("button",{onClick:t,className:"fixed top-6 right-6 z-[200] w-10 h-10 bg-white/5 border border-white/10 rounded-full flex items-center justify-center hover:bg-rose-600 hover:border-rose-500 transition-all active:scale-90 group shadow-2xl",title:"Exit Presentation",children:h.jsx("svg",{className:"w-5 h-5 text-white/40 group-hover:text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M6 18L18 6M6 6l12 12"})})}),h.jsx("main",{className:"flex-1 relative z-10 w-full h-full",children:h.jsxs("div",{className:"w-full h-full animate-in fade-in zoom-in-95 duration-700 flex items-center justify-center",children:[c.type==="HERO"&&h.jsxs("div",{className:"w-full h-full relative flex items-center justify-center text-center px-12",children:[h.jsxs("div",{className:"absolute inset-0",children:[h.jsx("img",{src:c.image,className:"w-full h-full object-cover opacity-40 grayscale",alt:"Visual"}),h.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-slate-950 via-slate-950/60 to-slate-950"})]}),h.jsxs("div",{className:"relative z-10 max-w-6xl space-y-12",children:[h.jsx("div",{className:"inline-flex items-center gap-4 px-6 py-2 bg-blue-500/10 border border-blue-500/20 rounded-full w-fit mx-auto backdrop-blur-md",children:h.jsx("span",{className:"text-[10px] font-black text-blue-400 uppercase tracking-[0.5em]",children:c.subtitle})}),h.jsx("h2",{className:"text-6xl lg:text-9xl font-black uppercase tracking-tighter leading-none text-white drop-shadow-2xl",children:c.title}),h.jsx("p",{className:"text-xl lg:text-3xl text-slate-400 font-medium italic max-w-4xl mx-auto leading-relaxed",children:c.tagline}),h.jsx("div",{className:"flex justify-center gap-10 pt-10",children:(p=c.points)==null?void 0:p.map((b,_)=>h.jsxs("div",{className:"flex flex-col items-center gap-4",children:[h.jsx("div",{className:"h-0.5 w-12 bg-blue-500 rounded-full"}),h.jsx("span",{className:"text-[9px] font-black uppercase tracking-[0.2em] text-white/50",children:b})]},_))})]})]}),c.type==="EXPLAINER"&&h.jsxs("div",{className:"w-full h-full grid grid-cols-1 lg:grid-cols-2",children:[h.jsxs("div",{className:"flex flex-col justify-center px-12 lg:px-24 xl:px-40 space-y-12 z-10 bg-slate-950/40 backdrop-blur-sm",children:[h.jsxs("div",{className:"space-y-6",children:[h.jsx("span",{className:"text-[10px] font-black text-blue-400 uppercase tracking-[0.5em]",children:c.subtitle}),h.jsx("h2",{className:"text-5xl lg:text-7xl font-black uppercase tracking-tighter leading-none text-white",children:c.title})]}),h.jsx("p",{className:"text-lg lg:text-2xl text-slate-300 leading-relaxed font-medium italic border-l-4 border-blue-500/30 pl-10 py-2",children:c.content}),h.jsx("div",{className:"grid grid-cols-3 gap-6",children:(v=c.stats)==null?void 0:v.map((b,_)=>h.jsxs("div",{className:"p-6 bg-white/5 border border-white/10 rounded-2xl text-center space-y-3",children:[h.jsx("div",{className:"text-3xl",children:b.icon}),h.jsx("h4",{className:"text-xl font-black text-white leading-none",children:b.val}),h.jsx("p",{className:"text-[8px] font-black text-slate-500 uppercase tracking-widest",children:b.label})]},_))})]}),h.jsxs("div",{className:"relative h-full overflow-hidden bg-slate-900 hidden lg:block",children:[h.jsx("img",{src:c.image,className:"w-full h-full object-cover opacity-60",alt:"Visual"}),h.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-slate-950 via-transparent to-transparent"})]})]}),c.type==="SPLIT"&&h.jsxs("div",{className:"w-full h-full grid grid-cols-1 lg:grid-cols-2",children:[h.jsxs("div",{className:"relative h-full overflow-hidden bg-slate-900 hidden lg:block",children:[h.jsx("img",{src:c.image,className:"w-full h-full object-cover opacity-60",alt:"Visual"}),h.jsx("div",{className:"absolute inset-0 bg-gradient-to-l from-slate-950 via-transparent to-transparent"})]}),h.jsxs("div",{className:"flex flex-col justify-center px-12 lg:px-24 xl:px-40 space-y-12 z-10 bg-slate-950/40 backdrop-blur-sm",children:[h.jsxs("div",{className:"space-y-6",children:[h.jsx("span",{className:"text-[10px] font-black text-emerald-400 uppercase tracking-[0.5em]",children:c.subtitle}),h.jsx("h2",{className:"text-5xl lg:text-7xl font-black uppercase tracking-tighter leading-none text-white",children:c.title})]}),h.jsx("p",{className:"text-lg lg:text-2xl text-slate-300 leading-relaxed font-medium italic border-l-4 border-emerald-500/30 pl-10 py-2",children:c.content}),h.jsx("div",{className:"space-y-4",children:(g=c.points)==null?void 0:g.map((b,_)=>h.jsxs("div",{className:"flex items-center gap-5",children:[h.jsx("div",{className:"w-8 h-8 rounded-lg bg-emerald-500/20 text-emerald-400 flex items-center justify-center shrink-0",children:h.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M5 13l4 4L19 7"})})}),h.jsx("span",{className:"text-sm lg:text-lg font-bold text-slate-400 uppercase tracking-widest",children:b})]},_))})]})]}),c.type==="CREDITS"&&h.jsxs("div",{className:"w-full h-full relative flex items-center justify-center text-center px-12",children:[h.jsxs("div",{className:"absolute inset-0",children:[h.jsx("img",{src:c.image,className:"w-full h-full object-cover opacity-30 grayscale",alt:"Conclusion"}),h.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-slate-950 via-slate-950/40 to-slate-950"})]}),h.jsxs("div",{className:"relative z-10 space-y-16 max-w-6xl",children:[h.jsxs("div",{className:"space-y-4",children:[h.jsx("h2",{className:"text-4xl lg:text-7xl font-black uppercase tracking-tighter leading-none text-white",children:c.title}),h.jsx("p",{className:"text-[10px] lg:text-xs font-black text-blue-500 uppercase tracking-[0.5em]",children:c.subtitle}),h.jsx("p",{className:"text-lg lg:text-2xl text-slate-400 font-medium italic leading-relaxed max-w-2xl mx-auto",children:c.tagline})]}),h.jsx("div",{className:"flex flex-col lg:flex-row gap-8 items-stretch justify-center pt-8",children:(x=c.leaders)==null?void 0:x.map((b,_)=>h.jsxs("div",{className:"flex-1 p-10 bg-white/5 border border-white/10 rounded-[2.5rem] backdrop-blur-xl text-left space-y-4 hover:border-blue-500/40 hover:bg-white/10 transition-all duration-500 group",children:[h.jsx("p",{className:"text-[8px] font-black text-blue-500 uppercase tracking-[0.4em] mb-4",children:b.role}),h.jsx("h4",{className:"text-2xl lg:text-4xl font-black text-white uppercase tracking-tight group-hover:text-blue-400 transition-colors",children:b.name}),h.jsx("p",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-[0.1em]",children:b.title}),h.jsx("div",{className:"h-[1px] w-12 bg-white/10 group-hover:w-full transition-all duration-700"}),h.jsx("p",{className:"text-xs font-medium text-slate-500 leading-relaxed italic",children:b.desc})]},_))}),h.jsxs("div",{className:"pt-10 flex flex-col items-center gap-4",children:[h.jsx("div",{className:"w-12 h-12 bg-blue-600 rounded-2xl flex items-center justify-center text-slate-950 font-black text-2xl shadow-2xl",children:"G"}),h.jsx("p",{className:"text-[8px] font-black text-white/30 uppercase tracking-[0.8em]",children:"Gondwana University  Digital Governance Initiative"})]})]})]})]},e)}),h.jsxs("div",{className:"fixed bottom-8 right-8 z-[150] flex items-center gap-4 bg-slate-950/80 backdrop-blur-3xl border border-white/10 p-2 rounded-2xl shadow-2xl",children:[h.jsx("button",{onClick:l,disabled:e===0,className:`w-10 h-10 rounded-xl bg-white/5 border border-white/10 flex items-center justify-center hover:bg-white hover:text-slate-950 transition-all active:scale-90 ${e===0?"opacity-10 cursor-not-allowed":"opacity-100"}`,title:"Previous",children:h.jsx("svg",{className:"w-5 h-5 -rotate-180",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M9 5l7 7-7 7"})})}),h.jsx("div",{className:"px-1 text-center select-none",children:h.jsxs("span",{className:"text-[9px] font-black tabular-nums tracking-widest text-slate-500",children:[e+1," / ",r.length]})}),h.jsx("button",{onClick:o,className:"w-12 h-12 rounded-xl bg-blue-600 text-white flex items-center justify-center hover:bg-white hover:text-slate-950 transition-all active:scale-90 shadow-xl group",title:e>=r.length-1?"Finish":"Next",children:h.jsx("svg",{className:`w-6 h-6 group-hover:translate-x-0.5 transition-transform ${e>=r.length-1?"-rotate-45":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:4,d:"M9 5l7 7-7 7"})})})]})]})};var mS={};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let gS,vS;function yS(){return{geminiUrl:gS,vertexUrl:vS}}function xS(t,e,i,r){var o,l;if(!(t!=null&&t.baseUrl)){const c=yS();return e?(o=c.vertexUrl)!==null&&o!==void 0?o:i:(l=c.geminiUrl)!==null&&l!==void 0?l:r}return t.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ii{}function te(t,e){const i=/\{([^}]+)\}/g;return t.replace(i,(r,o)=>{if(Object.prototype.hasOwnProperty.call(e,o)){const l=e[o];return l!=null?String(l):""}else throw new Error(`Key '${o}' not found in valueMap.`)})}function f(t,e,i){for(let l=0;l<e.length-1;l++){const c=e[l];if(c.endsWith("[]")){const p=c.slice(0,-2);if(!(p in t))if(Array.isArray(i))t[p]=Array.from({length:i.length},()=>({}));else throw new Error(`Value must be a list given an array path ${c}`);if(Array.isArray(t[p])){const v=t[p];if(Array.isArray(i))for(let g=0;g<v.length;g++){const x=v[g];f(x,e.slice(l+1),i[g])}else for(const g of v)f(g,e.slice(l+1),i)}return}else if(c.endsWith("[0]")){const p=c.slice(0,-3);p in t||(t[p]=[{}]);const v=t[p];f(v[0],e.slice(l+1),i);return}(!t[c]||typeof t[c]!="object")&&(t[c]={}),t=t[c]}const r=e[e.length-1],o=t[r];if(o!==void 0){if(!i||typeof i=="object"&&Object.keys(i).length===0||i===o)return;if(typeof o=="object"&&typeof i=="object"&&o!==null&&i!==null)Object.assign(o,i);else throw new Error(`Cannot set value for an existing key. Key: ${r}`)}else r==="_self"&&typeof i=="object"&&i!==null&&!Array.isArray(i)?Object.assign(t,i):t[r]=i}function d(t,e,i=void 0){try{if(e.length===1&&e[0]==="_self")return t;for(let r=0;r<e.length;r++){if(typeof t!="object"||t===null)return i;const o=e[r];if(o.endsWith("[]")){const l=o.slice(0,-2);if(l in t){const c=t[l];return Array.isArray(c)?c.map(p=>d(p,e.slice(r+1),i)):i}else return i}else t=t[o]}return t}catch(r){if(r instanceof TypeError)return i;throw r}}function bS(t,e){for(const[i,r]of Object.entries(e)){const o=i.split("."),l=r.split("."),c=new Set;let p=-1;for(let v=0;v<o.length;v++)if(o[v]==="*"){p=v;break}if(p!==-1&&l.length>p)for(let v=p;v<l.length;v++){const g=l[v];g!=="*"&&!g.endsWith("[]")&&!g.endsWith("[0]")&&c.add(g)}nd(t,o,l,0,c)}}function nd(t,e,i,r,o){if(r>=e.length||typeof t!="object"||t===null)return;const l=e[r];if(l.endsWith("[]")){const c=l.slice(0,-2),p=t;if(c in p&&Array.isArray(p[c]))for(const v of p[c])nd(v,e,i,r+1,o)}else if(l==="*"){if(typeof t=="object"&&t!==null&&!Array.isArray(t)){const c=t,p=Object.keys(c).filter(g=>!g.startsWith("_")&&!o.has(g)),v={};for(const g of p)v[g]=c[g];for(const[g,x]of Object.entries(v)){const b=[];for(const _ of i.slice(r))_==="*"?b.push(g):b.push(_);f(c,b,x)}for(const g of p)delete c[g]}}else{const c=t;l in c&&nd(c[l],e,i,r+1,o)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function wd(t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function _S(t){const e={},i=d(t,["operationName"]);i!=null&&f(e,["operationName"],i);const r=d(t,["resourceName"]);return r!=null&&f(e,["_url","resourceName"],r),e}function wS(t){const e={},i=d(t,["name"]);i!=null&&f(e,["name"],i);const r=d(t,["metadata"]);r!=null&&f(e,["metadata"],r);const o=d(t,["done"]);o!=null&&f(e,["done"],o);const l=d(t,["error"]);l!=null&&f(e,["error"],l);const c=d(t,["response","generateVideoResponse"]);return c!=null&&f(e,["response"],ES(c)),e}function SS(t){const e={},i=d(t,["name"]);i!=null&&f(e,["name"],i);const r=d(t,["metadata"]);r!=null&&f(e,["metadata"],r);const o=d(t,["done"]);o!=null&&f(e,["done"],o);const l=d(t,["error"]);l!=null&&f(e,["error"],l);const c=d(t,["response"]);return c!=null&&f(e,["response"],TS(c)),e}function ES(t){const e={},i=d(t,["generatedSamples"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(c=>AS(c))),f(e,["generatedVideos"],l)}const r=d(t,["raiMediaFilteredCount"]);r!=null&&f(e,["raiMediaFilteredCount"],r);const o=d(t,["raiMediaFilteredReasons"]);return o!=null&&f(e,["raiMediaFilteredReasons"],o),e}function TS(t){const e={},i=d(t,["videos"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(c=>NS(c))),f(e,["generatedVideos"],l)}const r=d(t,["raiMediaFilteredCount"]);r!=null&&f(e,["raiMediaFilteredCount"],r);const o=d(t,["raiMediaFilteredReasons"]);return o!=null&&f(e,["raiMediaFilteredReasons"],o),e}function AS(t){const e={},i=d(t,["video"]);return i!=null&&f(e,["video"],MS(i)),e}function NS(t){const e={},i=d(t,["_self"]);return i!=null&&f(e,["video"],US(i)),e}function CS(t){const e={},i=d(t,["operationName"]);return i!=null&&f(e,["_url","operationName"],i),e}function RS(t){const e={},i=d(t,["operationName"]);return i!=null&&f(e,["_url","operationName"],i),e}function kS(t){const e={},i=d(t,["name"]);i!=null&&f(e,["name"],i);const r=d(t,["metadata"]);r!=null&&f(e,["metadata"],r);const o=d(t,["done"]);o!=null&&f(e,["done"],o);const l=d(t,["error"]);l!=null&&f(e,["error"],l);const c=d(t,["response"]);return c!=null&&f(e,["response"],IS(c)),e}function IS(t){const e={},i=d(t,["sdkHttpResponse"]);i!=null&&f(e,["sdkHttpResponse"],i);const r=d(t,["parent"]);r!=null&&f(e,["parent"],r);const o=d(t,["documentName"]);return o!=null&&f(e,["documentName"],o),e}function ov(t){const e={},i=d(t,["name"]);i!=null&&f(e,["name"],i);const r=d(t,["metadata"]);r!=null&&f(e,["metadata"],r);const o=d(t,["done"]);o!=null&&f(e,["done"],o);const l=d(t,["error"]);l!=null&&f(e,["error"],l);const c=d(t,["response"]);return c!=null&&f(e,["response"],DS(c)),e}function DS(t){const e={},i=d(t,["sdkHttpResponse"]);i!=null&&f(e,["sdkHttpResponse"],i);const r=d(t,["parent"]);r!=null&&f(e,["parent"],r);const o=d(t,["documentName"]);return o!=null&&f(e,["documentName"],o),e}function MS(t){const e={},i=d(t,["uri"]);i!=null&&f(e,["uri"],i);const r=d(t,["encodedVideo"]);r!=null&&f(e,["videoBytes"],wd(r));const o=d(t,["encoding"]);return o!=null&&f(e,["mimeType"],o),e}function US(t){const e={},i=d(t,["gcsUri"]);i!=null&&f(e,["uri"],i);const r=d(t,["bytesBase64Encoded"]);r!=null&&f(e,["videoBytes"],wd(r));const o=d(t,["mimeType"]);return o!=null&&f(e,["mimeType"],o),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var lg;(function(t){t.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",t.OUTCOME_OK="OUTCOME_OK",t.OUTCOME_FAILED="OUTCOME_FAILED",t.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(lg||(lg={}));var ug;(function(t){t.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",t.PYTHON="PYTHON"})(ug||(ug={}));var cg;(function(t){t.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",t.SILENT="SILENT",t.WHEN_IDLE="WHEN_IDLE",t.INTERRUPT="INTERRUPT"})(cg||(cg={}));var Ui;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT",t.NULL="NULL"})(Ui||(Ui={}));var dg;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(dg||(dg={}));var fg;(function(t){t.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",t.SIMPLE_SEARCH="SIMPLE_SEARCH",t.ELASTIC_SEARCH="ELASTIC_SEARCH"})(fg||(fg={}));var hg;(function(t){t.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",t.NO_AUTH="NO_AUTH",t.API_KEY_AUTH="API_KEY_AUTH",t.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",t.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",t.OAUTH="OAUTH",t.OIDC_AUTH="OIDC_AUTH"})(hg||(hg={}));var pg;(function(t){t.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",t.HTTP_IN_QUERY="HTTP_IN_QUERY",t.HTTP_IN_HEADER="HTTP_IN_HEADER",t.HTTP_IN_PATH="HTTP_IN_PATH",t.HTTP_IN_BODY="HTTP_IN_BODY",t.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(pg||(pg={}));var mg;(function(t){t.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",t.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",t.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",t.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(mg||(mg={}));var gg;(function(t){t.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH",t.MINIMAL="MINIMAL"})(gg||(gg={}));var vg;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",t.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",t.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",t.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",t.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(vg||(vg={}));var yg;(function(t){t.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",t.SEVERITY="SEVERITY",t.PROBABILITY="PROBABILITY"})(yg||(yg={}));var xg;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE",t.OFF="OFF"})(xg||(xg={}));var bg;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.IMAGE_SAFETY="IMAGE_SAFETY",t.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",t.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",t.NO_IMAGE="NO_IMAGE",t.IMAGE_RECITATION="IMAGE_RECITATION",t.IMAGE_OTHER="IMAGE_OTHER"})(bg||(bg={}));var _g;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(_g||(_g={}));var wg;(function(t){t.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",t.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",t.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",t.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",t.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(wg||(wg={}));var Sg;(function(t){t.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",t.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",t.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",t.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",t.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(Sg||(Sg={}));var Eg;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.IMAGE_SAFETY="IMAGE_SAFETY",t.MODEL_ARMOR="MODEL_ARMOR",t.JAILBREAK="JAILBREAK"})(Eg||(Eg={}));var Tg;(function(t){t.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",t.ON_DEMAND="ON_DEMAND",t.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(Tg||(Tg={}));var Wo;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO"})(Wo||(Wo={}));var Ag;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(Ag||(Ag={}));var Ng;(function(t){t.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",t.TUNING_MODE_FULL="TUNING_MODE_FULL",t.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(Ng||(Ng={}));var Cg;(function(t){t.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",t.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",t.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",t.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",t.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",t.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",t.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(Cg||(Cg={}));var id;(function(t){t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(id||(id={}));var Rg;(function(t){t.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",t.TUNING_TASK_I2V="TUNING_TASK_I2V",t.TUNING_TASK_T2V="TUNING_TASK_T2V",t.TUNING_TASK_R2V="TUNING_TASK_R2V"})(Rg||(Rg={}));var kg;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH",t.MEDIA_RESOLUTION_ULTRA_HIGH="MEDIA_RESOLUTION_ULTRA_HIGH"})(kg||(kg={}));var Ig;(function(t){t.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",t.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",t.BALANCED="BALANCED",t.PRIORITIZE_COST="PRIORITIZE_COST"})(Ig||(Ig={}));var Dg;(function(t){t.UNSPECIFIED="UNSPECIFIED",t.BLOCKING="BLOCKING",t.NON_BLOCKING="NON_BLOCKING"})(Dg||(Dg={}));var Mg;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(Mg||(Mg={}));var Ug;(function(t){t.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",t.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(Ug||(Ug={}));var Pg;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE",t.VALIDATED="VALIDATED"})(Pg||(Pg={}));var Lg;(function(t){t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(Lg||(Lg={}));var Og;(function(t){t.DONT_ALLOW="DONT_ALLOW",t.ALLOW_ADULT="ALLOW_ADULT",t.ALLOW_ALL="ALLOW_ALL"})(Og||(Og={}));var jg;(function(t){t.auto="auto",t.en="en",t.ja="ja",t.ko="ko",t.hi="hi",t.zh="zh",t.pt="pt",t.es="es"})(jg||(jg={}));var Gg;(function(t){t.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",t.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",t.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",t.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",t.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(Gg||(Gg={}));var Hg;(function(t){t.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",t.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",t.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",t.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(Hg||(Hg={}));var Bg;(function(t){t.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",t.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",t.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",t.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(Bg||(Bg={}));var qg;(function(t){t.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",t.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",t.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",t.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",t.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",t.EDIT_MODE_STYLE="EDIT_MODE_STYLE",t.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",t.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(qg||(qg={}));var Vg;(function(t){t.FOREGROUND="FOREGROUND",t.BACKGROUND="BACKGROUND",t.PROMPT="PROMPT",t.SEMANTIC="SEMANTIC",t.INTERACTIVE="INTERACTIVE"})(Vg||(Vg={}));var zg;(function(t){t.ASSET="ASSET",t.STYLE="STYLE"})(zg||(zg={}));var Fg;(function(t){t.INSERT="INSERT",t.REMOVE="REMOVE",t.REMOVE_STATIC="REMOVE_STATIC",t.OUTPAINT="OUTPAINT"})(Fg||(Fg={}));var $g;(function(t){t.OPTIMIZED="OPTIMIZED",t.LOSSLESS="LOSSLESS"})($g||($g={}));var Jg;(function(t){t.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",t.PREFERENCE_TUNING="PREFERENCE_TUNING"})(Jg||(Jg={}));var Kg;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.STATE_PENDING="STATE_PENDING",t.STATE_ACTIVE="STATE_ACTIVE",t.STATE_FAILED="STATE_FAILED"})(Kg||(Kg={}));var Yg;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.PROCESSING="PROCESSING",t.ACTIVE="ACTIVE",t.FAILED="FAILED"})(Yg||(Yg={}));var Xg;(function(t){t.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",t.UPLOADED="UPLOADED",t.GENERATED="GENERATED"})(Xg||(Xg={}));var Wg;(function(t){t.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.RESPONSE_REJECTED="RESPONSE_REJECTED",t.NEED_MORE_INPUT="NEED_MORE_INPUT"})(Wg||(Wg={}));var Qg;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.VIDEO="VIDEO",t.AUDIO="AUDIO",t.DOCUMENT="DOCUMENT"})(Qg||(Qg={}));var Zg;(function(t){t.VAD_SIGNAL_TYPE_UNSPECIFIED="VAD_SIGNAL_TYPE_UNSPECIFIED",t.VAD_SIGNAL_TYPE_SOS="VAD_SIGNAL_TYPE_SOS",t.VAD_SIGNAL_TYPE_EOS="VAD_SIGNAL_TYPE_EOS"})(Zg||(Zg={}));var e0;(function(t){t.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",t.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",t.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(e0||(e0={}));var t0;(function(t){t.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",t.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",t.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(t0||(t0={}));var n0;(function(t){t.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",t.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",t.NO_INTERRUPTION="NO_INTERRUPTION"})(n0||(n0={}));var i0;(function(t){t.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",t.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",t.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(i0||(i0={}));var s0;(function(t){t.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",t.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",t.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",t.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",t.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",t.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",t.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",t.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",t.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",t.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",t.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",t.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",t.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(s0||(s0={}));var r0;(function(t){t.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",t.QUALITY="QUALITY",t.DIVERSITY="DIVERSITY",t.VOCALIZATION="VOCALIZATION"})(r0||(r0={}));var cr;(function(t){t.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",t.PLAY="PLAY",t.PAUSE="PAUSE",t.STOP="STOP",t.RESET_CONTEXT="RESET_CONTEXT"})(cr||(cr={}));class sd{constructor(e){const i={};for(const r of e.headers.entries())i[r[0]]=r[1];this.headers=i,this.responseInternal=e}json(){return this.responseInternal.json()}}class ca{get text(){var e,i,r,o,l,c,p,v;if(((o=(r=(i=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||i===void 0?void 0:i.content)===null||r===void 0?void 0:r.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let g="",x=!1;const b=[];for(const _ of(v=(p=(c=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||c===void 0?void 0:c.content)===null||p===void 0?void 0:p.parts)!==null&&v!==void 0?v:[]){for(const[S,T]of Object.entries(_))S!=="text"&&S!=="thought"&&S!=="thoughtSignature"&&(T!==null||T!==void 0)&&b.push(S);if(typeof _.text=="string"){if(typeof _.thought=="boolean"&&_.thought)continue;x=!0,g+=_.text}}return b.length>0&&console.warn(`there are non-text parts ${b} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),x?g:void 0}get data(){var e,i,r,o,l,c,p,v;if(((o=(r=(i=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||i===void 0?void 0:i.content)===null||r===void 0?void 0:r.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let g="";const x=[];for(const b of(v=(p=(c=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||c===void 0?void 0:c.content)===null||p===void 0?void 0:p.parts)!==null&&v!==void 0?v:[]){for(const[_,S]of Object.entries(b))_!=="inlineData"&&(S!==null||S!==void 0)&&x.push(_);b.inlineData&&typeof b.inlineData.data=="string"&&(g+=atob(b.inlineData.data))}return x.length>0&&console.warn(`there are non-data parts ${x} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),g.length>0?btoa(g):void 0}get functionCalls(){var e,i,r,o,l,c,p,v;if(((o=(r=(i=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||i===void 0?void 0:i.content)===null||r===void 0?void 0:r.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const g=(v=(p=(c=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||c===void 0?void 0:c.content)===null||p===void 0?void 0:p.parts)===null||v===void 0?void 0:v.filter(x=>x.functionCall).map(x=>x.functionCall).filter(x=>x!==void 0);if((g==null?void 0:g.length)!==0)return g}get executableCode(){var e,i,r,o,l,c,p,v,g;if(((o=(r=(i=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||i===void 0?void 0:i.content)===null||r===void 0?void 0:r.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const x=(v=(p=(c=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||c===void 0?void 0:c.content)===null||p===void 0?void 0:p.parts)===null||v===void 0?void 0:v.filter(b=>b.executableCode).map(b=>b.executableCode).filter(b=>b!==void 0);if((x==null?void 0:x.length)!==0)return(g=x==null?void 0:x[0])===null||g===void 0?void 0:g.code}get codeExecutionResult(){var e,i,r,o,l,c,p,v,g;if(((o=(r=(i=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||i===void 0?void 0:i.content)===null||r===void 0?void 0:r.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const x=(v=(p=(c=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||c===void 0?void 0:c.content)===null||p===void 0?void 0:p.parts)===null||v===void 0?void 0:v.filter(b=>b.codeExecutionResult).map(b=>b.codeExecutionResult).filter(b=>b!==void 0);if((x==null?void 0:x.length)!==0)return(g=x==null?void 0:x[0])===null||g===void 0?void 0:g.output}}class a0{}class o0{}class PS{}class LS{}class OS{}class jS{}class l0{}class u0{}class c0{}class GS{}class Qo{_fromAPIResponse({apiResponse:e,_isVertexAI:i}){const r=new Qo;let o;const l=e;return i?o=SS(l):o=wS(l),Object.assign(r,o),r}}class d0{}class f0{}class h0{}class p0{}class HS{}class BS{}class qS{}class Sd{_fromAPIResponse({apiResponse:e,_isVertexAI:i}){const r=new Sd,l=kS(e);return Object.assign(r,l),r}}class VS{}class zS{}class FS{}class m0{}class $S{get text(){var e,i,r;let o="",l=!1;const c=[];for(const p of(r=(i=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||i===void 0?void 0:i.parts)!==null&&r!==void 0?r:[]){for(const[v,g]of Object.entries(p))v!=="text"&&v!=="thought"&&g!==null&&c.push(v);if(typeof p.text=="string"){if(typeof p.thought=="boolean"&&p.thought)continue;l=!0,o+=p.text}}return c.length>0&&console.warn(`there are non-text parts ${c} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),l?o:void 0}get data(){var e,i,r;let o="";const l=[];for(const c of(r=(i=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||i===void 0?void 0:i.parts)!==null&&r!==void 0?r:[]){for(const[p,v]of Object.entries(c))p!=="inlineData"&&v!==null&&l.push(p);c.inlineData&&typeof c.inlineData.data=="string"&&(o+=atob(c.inlineData.data))}return l.length>0&&console.warn(`there are non-data parts ${l} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),o.length>0?btoa(o):void 0}}class JS{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class Ed{_fromAPIResponse({apiResponse:e,_isVertexAI:i}){const r=new Ed,l=ov(e);return Object.assign(r,l),r}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Le(t,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(e.includes("..")||e.includes("?")||e.includes("&"))throw new Error("invalid model parameter");if(t.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const i=e.split("/",2);return`publishers/${i[0]}/models/${i[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function lv(t,e){const i=Le(t,e);return i?i.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${i}`:i.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${i}`:i:""}function uv(t){return Array.isArray(t)?t.map(e=>Zo(e)):[Zo(t)]}function Zo(t){if(typeof t=="object"&&t!==null)return t;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof t}`)}function cv(t){const e=Zo(t);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function dv(t){const e=Zo(t);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function g0(t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function fv(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(e=>g0(e)):[g0(t)]}function rd(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function v0(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function y0(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function It(t){if(t==null)throw new Error("ContentUnion is required");return rd(t)?t:{role:"user",parts:fv(t)}}function Td(t,e){if(!e)return[];if(t.isVertexAI()&&Array.isArray(e))return e.flatMap(i=>{const r=It(i);return r.parts&&r.parts.length>0&&r.parts[0].text!==void 0?[r.parts[0].text]:[]});if(t.isVertexAI()){const i=It(e);return i.parts&&i.parts.length>0&&i.parts[0].text!==void 0?[i.parts[0].text]:[]}return Array.isArray(e)?e.map(i=>It(i)):[It(e)]}function vn(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t)){if(v0(t)||y0(t))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[It(t)]}const e=[],i=[],r=rd(t[0]);for(const o of t){const l=rd(o);if(l!=r)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(l)e.push(o);else{if(v0(o)||y0(o))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");i.push(o)}}return r||e.push({role:"user",parts:fv(i)}),e}function KS(t,e){t.includes("null")&&(e.nullable=!0);const i=t.filter(r=>r!=="null");if(i.length===1)e.type=Object.values(Ui).includes(i[0].toUpperCase())?i[0].toUpperCase():Ui.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const r of i)e.anyOf.push({type:Object.values(Ui).includes(r.toUpperCase())?r.toUpperCase():Ui.TYPE_UNSPECIFIED})}}function hr(t){const e={},i=["items"],r=["anyOf"],o=["properties"];if(t.type&&t.anyOf)throw new Error("type and anyOf cannot be both populated.");const l=t.anyOf;l!=null&&l.length==2&&(l[0].type==="null"?(e.nullable=!0,t=l[1]):l[1].type==="null"&&(e.nullable=!0,t=l[0])),t.type instanceof Array&&KS(t.type,e);for(const[c,p]of Object.entries(t))if(p!=null)if(c=="type"){if(p==="null")throw new Error("type: null can not be the only possible type for the field.");if(p instanceof Array)continue;e.type=Object.values(Ui).includes(p.toUpperCase())?p.toUpperCase():Ui.TYPE_UNSPECIFIED}else if(i.includes(c))e[c]=hr(p);else if(r.includes(c)){const v=[];for(const g of p){if(g.type=="null"){e.nullable=!0;continue}v.push(hr(g))}e[c]=v}else if(o.includes(c)){const v={};for(const[g,x]of Object.entries(p))v[g]=hr(x);e[c]=v}else{if(c==="additionalProperties")continue;e[c]=p}return e}function Ad(t){return hr(t)}function Nd(t){if(typeof t=="object")return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function Cd(t){if("multiSpeakerVoiceConfig"in t)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return t}function mr(t){if(t.functionDeclarations)for(const e of t.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=hr(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=hr(e.response));return t}function gr(t){if(t==null)throw new Error("tools is required");if(!Array.isArray(t))throw new Error("tools is required and must be an array of Tools");const e=[];for(const i of t)e.push(i);return e}function YS(t,e,i,r=1){const o=!e.startsWith(`${i}/`)&&e.split("/").length===r;return t.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${t.getProject()}/${e}`:e.startsWith(`${i}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}`:o?`projects/${t.getProject()}/locations/${t.getLocation()}/${i}/${e}`:e:o?`${i}/${e}`:e}function si(t,e){if(typeof e!="string")throw new Error("name must be a string");return YS(t,e,"cachedContents")}function hv(t){switch(t){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return t}}function Pi(t){return wd(t)}function XS(t){return t!=null&&typeof t=="object"&&"name"in t}function WS(t){return t!=null&&typeof t=="object"&&"video"in t}function QS(t){return t!=null&&typeof t=="object"&&"uri"in t}function pv(t){var e;let i;if(XS(t)&&(i=t.name),!(QS(t)&&(i=t.uri,i===void 0))&&!(WS(t)&&(i=(e=t.video)===null||e===void 0?void 0:e.uri,i===void 0))){if(typeof t=="string"&&(i=t),i===void 0)throw new Error("Could not extract file name from the provided input.");if(i.startsWith("https://")){const o=i.split("files/")[1].match(/[a-z0-9]+/);if(o===null)throw new Error(`Could not extract file name from URI ${i}`);i=o[0]}else i.startsWith("files/")&&(i=i.split("files/")[1]);return i}}function mv(t,e){let i;return t.isVertexAI()?i=e?"publishers/google/models":"models":i=e?"models":"tunedModels",i}function gv(t){for(const e of["models","tunedModels","publisherModels"])if(ZS(t,e))return t[e];return[]}function ZS(t,e){return t!==null&&typeof t=="object"&&e in t}function eE(t,e={}){const i=t,r={name:i.name,description:i.description,parametersJsonSchema:i.inputSchema};return i.outputSchema&&(r.responseJsonSchema=i.outputSchema),e.behavior&&(r.behavior=e.behavior),{functionDeclarations:[r]}}function tE(t,e={}){const i=[],r=new Set;for(const o of t){const l=o.name;if(r.has(l))throw new Error(`Duplicate function name ${l} found in MCP tools. Please ensure function names are unique.`);r.add(l);const c=eE(o,e);c.functionDeclarations&&i.push(...c.functionDeclarations)}return{functionDeclarations:i}}function vv(t,e){let i;if(typeof e=="string")if(t.isVertexAI())if(e.startsWith("gs://"))i={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))i={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))i={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(t.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");i={inlinedRequests:e}}else i=e;const r=[i.gcsUri,i.bigqueryUri].filter(Boolean).length,o=[i.inlinedRequests,i.fileName].filter(Boolean).length;if(t.isVertexAI()){if(o>0||r!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(r>0||o!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return i}function nE(t){if(typeof t!="string")return t;const e=t;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function yv(t){if(typeof t!="object"||t===null)return{};const e=t,i=e.inlinedResponses;if(typeof i!="object"||i===null)return t;const o=i.inlinedResponses;if(!Array.isArray(o)||o.length===0)return t;let l=!1;for(const c of o){if(typeof c!="object"||c===null)continue;const v=c.response;if(typeof v!="object"||v===null)continue;if(v.embedding!==void 0){l=!0;break}}return l&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),t}function vr(t,e){const i=e;if(!t.isVertexAI()){if(/batches\/[^/]+$/.test(i))return i.split("/").pop();throw new Error(`Invalid batch job name: ${i}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(i))return i.split("/").pop();if(/^\d+$/.test(i))return i;throw new Error(`Invalid batch job name: ${i}.`)}function xv(t){const e=t;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function iE(t){const e={},i=d(t,["responsesFile"]);i!=null&&f(e,["fileName"],i);const r=d(t,["inlinedResponses","inlinedResponses"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(c=>OE(c))),f(e,["inlinedResponses"],l)}const o=d(t,["inlinedEmbedContentResponses","inlinedResponses"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(c=>c)),f(e,["inlinedEmbedContentResponses"],l)}return e}function sE(t){const e={},i=d(t,["predictionsFormat"]);i!=null&&f(e,["format"],i);const r=d(t,["gcsDestination","outputUriPrefix"]);r!=null&&f(e,["gcsUri"],r);const o=d(t,["bigqueryDestination","outputUri"]);return o!=null&&f(e,["bigqueryUri"],o),e}function rE(t){const e={},i=d(t,["format"]);i!=null&&f(e,["predictionsFormat"],i);const r=d(t,["gcsUri"]);r!=null&&f(e,["gcsDestination","outputUriPrefix"],r);const o=d(t,["bigqueryUri"]);if(o!=null&&f(e,["bigqueryDestination","outputUri"],o),d(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(d(t,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(d(t,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function $o(t){const e={},i=d(t,["name"]);i!=null&&f(e,["name"],i);const r=d(t,["metadata","displayName"]);r!=null&&f(e,["displayName"],r);const o=d(t,["metadata","state"]);o!=null&&f(e,["state"],xv(o));const l=d(t,["metadata","createTime"]);l!=null&&f(e,["createTime"],l);const c=d(t,["metadata","endTime"]);c!=null&&f(e,["endTime"],c);const p=d(t,["metadata","updateTime"]);p!=null&&f(e,["updateTime"],p);const v=d(t,["metadata","model"]);v!=null&&f(e,["model"],v);const g=d(t,["metadata","output"]);return g!=null&&f(e,["dest"],iE(yv(g))),e}function ad(t){const e={},i=d(t,["name"]);i!=null&&f(e,["name"],i);const r=d(t,["displayName"]);r!=null&&f(e,["displayName"],r);const o=d(t,["state"]);o!=null&&f(e,["state"],xv(o));const l=d(t,["error"]);l!=null&&f(e,["error"],l);const c=d(t,["createTime"]);c!=null&&f(e,["createTime"],c);const p=d(t,["startTime"]);p!=null&&f(e,["startTime"],p);const v=d(t,["endTime"]);v!=null&&f(e,["endTime"],v);const g=d(t,["updateTime"]);g!=null&&f(e,["updateTime"],g);const x=d(t,["model"]);x!=null&&f(e,["model"],x);const b=d(t,["inputConfig"]);b!=null&&f(e,["src"],aE(b));const _=d(t,["outputConfig"]);_!=null&&f(e,["dest"],sE(yv(_)));const S=d(t,["completionStats"]);return S!=null&&f(e,["completionStats"],S),e}function aE(t){const e={},i=d(t,["instancesFormat"]);i!=null&&f(e,["format"],i);const r=d(t,["gcsSource","uris"]);r!=null&&f(e,["gcsUri"],r);const o=d(t,["bigquerySource","inputUri"]);return o!=null&&f(e,["bigqueryUri"],o),e}function oE(t,e){const i={};if(d(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(d(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(d(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const r=d(e,["fileName"]);r!=null&&f(i,["fileName"],r);const o=d(e,["inlinedRequests"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(c=>LE(t,c))),f(i,["requests","requests"],l)}return i}function lE(t){const e={},i=d(t,["format"]);i!=null&&f(e,["instancesFormat"],i);const r=d(t,["gcsUri"]);r!=null&&f(e,["gcsSource","uris"],r);const o=d(t,["bigqueryUri"]);if(o!=null&&f(e,["bigquerySource","inputUri"],o),d(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(d(t,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function uE(t){const e={},i=d(t,["data"]);if(i!=null&&f(e,["data"],i),d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=d(t,["mimeType"]);return r!=null&&f(e,["mimeType"],r),e}function cE(t,e){const i={},r=d(e,["name"]);return r!=null&&f(i,["_url","name"],vr(t,r)),i}function dE(t,e){const i={},r=d(e,["name"]);return r!=null&&f(i,["_url","name"],vr(t,r)),i}function fE(t){const e={},i=d(t,["content"]);i!=null&&f(e,["content"],i);const r=d(t,["citationMetadata"]);r!=null&&f(e,["citationMetadata"],hE(r));const o=d(t,["tokenCount"]);o!=null&&f(e,["tokenCount"],o);const l=d(t,["finishReason"]);l!=null&&f(e,["finishReason"],l);const c=d(t,["avgLogprobs"]);c!=null&&f(e,["avgLogprobs"],c);const p=d(t,["groundingMetadata"]);p!=null&&f(e,["groundingMetadata"],p);const v=d(t,["index"]);v!=null&&f(e,["index"],v);const g=d(t,["logprobsResult"]);g!=null&&f(e,["logprobsResult"],g);const x=d(t,["safetyRatings"]);if(x!=null){let _=x;Array.isArray(_)&&(_=_.map(S=>S)),f(e,["safetyRatings"],_)}const b=d(t,["urlContextMetadata"]);return b!=null&&f(e,["urlContextMetadata"],b),e}function hE(t){const e={},i=d(t,["citationSources"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(o=>o)),f(e,["citations"],r)}return e}function bv(t){const e={},i=d(t,["parts"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>zE(l))),f(e,["parts"],o)}const r=d(t,["role"]);return r!=null&&f(e,["role"],r),e}function pE(t,e){const i={},r=d(t,["displayName"]);if(e!==void 0&&r!=null&&f(e,["batch","displayName"],r),d(t,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return i}function mE(t,e){const i={},r=d(t,["displayName"]);e!==void 0&&r!=null&&f(e,["displayName"],r);const o=d(t,["dest"]);return e!==void 0&&o!=null&&f(e,["outputConfig"],rE(nE(o))),i}function x0(t,e){const i={},r=d(e,["model"]);r!=null&&f(i,["_url","model"],Le(t,r));const o=d(e,["src"]);o!=null&&f(i,["batch","inputConfig"],oE(t,vv(t,o)));const l=d(e,["config"]);return l!=null&&pE(l,i),i}function gE(t,e){const i={},r=d(e,["model"]);r!=null&&f(i,["model"],Le(t,r));const o=d(e,["src"]);o!=null&&f(i,["inputConfig"],lE(vv(t,o)));const l=d(e,["config"]);return l!=null&&mE(l,i),i}function vE(t,e){const i={},r=d(t,["displayName"]);return e!==void 0&&r!=null&&f(e,["batch","displayName"],r),i}function yE(t,e){const i={},r=d(e,["model"]);r!=null&&f(i,["_url","model"],Le(t,r));const o=d(e,["src"]);o!=null&&f(i,["batch","inputConfig"],TE(t,o));const l=d(e,["config"]);return l!=null&&vE(l,i),i}function xE(t,e){const i={},r=d(e,["name"]);return r!=null&&f(i,["_url","name"],vr(t,r)),i}function bE(t,e){const i={},r=d(e,["name"]);return r!=null&&f(i,["_url","name"],vr(t,r)),i}function _E(t){const e={},i=d(t,["sdkHttpResponse"]);i!=null&&f(e,["sdkHttpResponse"],i);const r=d(t,["name"]);r!=null&&f(e,["name"],r);const o=d(t,["done"]);o!=null&&f(e,["done"],o);const l=d(t,["error"]);return l!=null&&f(e,["error"],l),e}function wE(t){const e={},i=d(t,["sdkHttpResponse"]);i!=null&&f(e,["sdkHttpResponse"],i);const r=d(t,["name"]);r!=null&&f(e,["name"],r);const o=d(t,["done"]);o!=null&&f(e,["done"],o);const l=d(t,["error"]);return l!=null&&f(e,["error"],l),e}function SE(t,e){const i={},r=d(e,["contents"]);if(r!=null){let l=Td(t,r);Array.isArray(l)&&(l=l.map(c=>c)),f(i,["requests[]","request","content"],l)}const o=d(e,["config"]);return o!=null&&(f(i,["_self"],EE(o,i)),bS(i,{"requests[].*":"requests[].request.*"})),i}function EE(t,e){const i={},r=d(t,["taskType"]);e!==void 0&&r!=null&&f(e,["requests[]","taskType"],r);const o=d(t,["title"]);e!==void 0&&o!=null&&f(e,["requests[]","title"],o);const l=d(t,["outputDimensionality"]);if(e!==void 0&&l!=null&&f(e,["requests[]","outputDimensionality"],l),d(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(d(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return i}function TE(t,e){const i={},r=d(e,["fileName"]);r!=null&&f(i,["file_name"],r);const o=d(e,["inlinedRequests"]);return o!=null&&f(i,["requests"],SE(t,o)),i}function AE(t){const e={};if(d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=d(t,["fileUri"]);i!=null&&f(e,["fileUri"],i);const r=d(t,["mimeType"]);return r!=null&&f(e,["mimeType"],r),e}function NE(t){const e={},i=d(t,["id"]);i!=null&&f(e,["id"],i);const r=d(t,["args"]);r!=null&&f(e,["args"],r);const o=d(t,["name"]);if(o!=null&&f(e,["name"],o),d(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(d(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function CE(t){const e={},i=d(t,["mode"]);i!=null&&f(e,["mode"],i);const r=d(t,["allowedFunctionNames"]);if(r!=null&&f(e,["allowedFunctionNames"],r),d(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function RE(t,e,i){const r={},o=d(e,["systemInstruction"]);i!==void 0&&o!=null&&f(i,["systemInstruction"],bv(It(o)));const l=d(e,["temperature"]);l!=null&&f(r,["temperature"],l);const c=d(e,["topP"]);c!=null&&f(r,["topP"],c);const p=d(e,["topK"]);p!=null&&f(r,["topK"],p);const v=d(e,["candidateCount"]);v!=null&&f(r,["candidateCount"],v);const g=d(e,["maxOutputTokens"]);g!=null&&f(r,["maxOutputTokens"],g);const x=d(e,["stopSequences"]);x!=null&&f(r,["stopSequences"],x);const b=d(e,["responseLogprobs"]);b!=null&&f(r,["responseLogprobs"],b);const _=d(e,["logprobs"]);_!=null&&f(r,["logprobs"],_);const S=d(e,["presencePenalty"]);S!=null&&f(r,["presencePenalty"],S);const T=d(e,["frequencyPenalty"]);T!=null&&f(r,["frequencyPenalty"],T);const C=d(e,["seed"]);C!=null&&f(r,["seed"],C);const N=d(e,["responseMimeType"]);N!=null&&f(r,["responseMimeType"],N);const D=d(e,["responseSchema"]);D!=null&&f(r,["responseSchema"],Ad(D));const H=d(e,["responseJsonSchema"]);if(H!=null&&f(r,["responseJsonSchema"],H),d(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(d(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const U=d(e,["safetySettings"]);if(i!==void 0&&U!=null){let _e=U;Array.isArray(_e)&&(_e=_e.map(qe=>FE(qe))),f(i,["safetySettings"],_e)}const J=d(e,["tools"]);if(i!==void 0&&J!=null){let _e=gr(J);Array.isArray(_e)&&(_e=_e.map(qe=>JE(mr(qe)))),f(i,["tools"],_e)}const X=d(e,["toolConfig"]);if(i!==void 0&&X!=null&&f(i,["toolConfig"],$E(X)),d(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const F=d(e,["cachedContent"]);i!==void 0&&F!=null&&f(i,["cachedContent"],si(t,F));const K=d(e,["responseModalities"]);K!=null&&f(r,["responseModalities"],K);const ce=d(e,["mediaResolution"]);ce!=null&&f(r,["mediaResolution"],ce);const Z=d(e,["speechConfig"]);if(Z!=null&&f(r,["speechConfig"],Nd(Z)),d(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const me=d(e,["thinkingConfig"]);me!=null&&f(r,["thinkingConfig"],me);const Ee=d(e,["imageConfig"]);Ee!=null&&f(r,["imageConfig"],PE(Ee));const Me=d(e,["enableEnhancedCivicAnswers"]);return Me!=null&&f(r,["enableEnhancedCivicAnswers"],Me),r}function kE(t){const e={},i=d(t,["sdkHttpResponse"]);i!=null&&f(e,["sdkHttpResponse"],i);const r=d(t,["candidates"]);if(r!=null){let v=r;Array.isArray(v)&&(v=v.map(g=>fE(g))),f(e,["candidates"],v)}const o=d(t,["modelVersion"]);o!=null&&f(e,["modelVersion"],o);const l=d(t,["promptFeedback"]);l!=null&&f(e,["promptFeedback"],l);const c=d(t,["responseId"]);c!=null&&f(e,["responseId"],c);const p=d(t,["usageMetadata"]);return p!=null&&f(e,["usageMetadata"],p),e}function IE(t,e){const i={},r=d(e,["name"]);return r!=null&&f(i,["_url","name"],vr(t,r)),i}function DE(t,e){const i={},r=d(e,["name"]);return r!=null&&f(i,["_url","name"],vr(t,r)),i}function ME(t){const e={};if(d(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const i=d(t,["enableWidget"]);return i!=null&&f(e,["enableWidget"],i),e}function UE(t){const e={};if(d(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(d(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const i=d(t,["timeRangeFilter"]);return i!=null&&f(e,["timeRangeFilter"],i),e}function PE(t){const e={},i=d(t,["aspectRatio"]);i!=null&&f(e,["aspectRatio"],i);const r=d(t,["imageSize"]);if(r!=null&&f(e,["imageSize"],r),d(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(d(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function LE(t,e){const i={},r=d(e,["model"]);r!=null&&f(i,["request","model"],Le(t,r));const o=d(e,["contents"]);if(o!=null){let p=vn(o);Array.isArray(p)&&(p=p.map(v=>bv(v))),f(i,["request","contents"],p)}const l=d(e,["metadata"]);l!=null&&f(i,["metadata"],l);const c=d(e,["config"]);return c!=null&&f(i,["request","generationConfig"],RE(t,c,d(i,["request"],{}))),i}function OE(t){const e={},i=d(t,["response"]);i!=null&&f(e,["response"],kE(i));const r=d(t,["error"]);return r!=null&&f(e,["error"],r),e}function jE(t,e){const i={},r=d(t,["pageSize"]);e!==void 0&&r!=null&&f(e,["_query","pageSize"],r);const o=d(t,["pageToken"]);if(e!==void 0&&o!=null&&f(e,["_query","pageToken"],o),d(t,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return i}function GE(t,e){const i={},r=d(t,["pageSize"]);e!==void 0&&r!=null&&f(e,["_query","pageSize"],r);const o=d(t,["pageToken"]);e!==void 0&&o!=null&&f(e,["_query","pageToken"],o);const l=d(t,["filter"]);return e!==void 0&&l!=null&&f(e,["_query","filter"],l),i}function HE(t){const e={},i=d(t,["config"]);return i!=null&&jE(i,e),e}function BE(t){const e={},i=d(t,["config"]);return i!=null&&GE(i,e),e}function qE(t){const e={},i=d(t,["sdkHttpResponse"]);i!=null&&f(e,["sdkHttpResponse"],i);const r=d(t,["nextPageToken"]);r!=null&&f(e,["nextPageToken"],r);const o=d(t,["operations"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(c=>$o(c))),f(e,["batchJobs"],l)}return e}function VE(t){const e={},i=d(t,["sdkHttpResponse"]);i!=null&&f(e,["sdkHttpResponse"],i);const r=d(t,["nextPageToken"]);r!=null&&f(e,["nextPageToken"],r);const o=d(t,["batchPredictionJobs"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(c=>ad(c))),f(e,["batchJobs"],l)}return e}function zE(t){const e={},i=d(t,["mediaResolution"]);i!=null&&f(e,["mediaResolution"],i);const r=d(t,["codeExecutionResult"]);r!=null&&f(e,["codeExecutionResult"],r);const o=d(t,["executableCode"]);o!=null&&f(e,["executableCode"],o);const l=d(t,["fileData"]);l!=null&&f(e,["fileData"],AE(l));const c=d(t,["functionCall"]);c!=null&&f(e,["functionCall"],NE(c));const p=d(t,["functionResponse"]);p!=null&&f(e,["functionResponse"],p);const v=d(t,["inlineData"]);v!=null&&f(e,["inlineData"],uE(v));const g=d(t,["text"]);g!=null&&f(e,["text"],g);const x=d(t,["thought"]);x!=null&&f(e,["thought"],x);const b=d(t,["thoughtSignature"]);b!=null&&f(e,["thoughtSignature"],b);const _=d(t,["videoMetadata"]);return _!=null&&f(e,["videoMetadata"],_),e}function FE(t){const e={},i=d(t,["category"]);if(i!=null&&f(e,["category"],i),d(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=d(t,["threshold"]);return r!=null&&f(e,["threshold"],r),e}function $E(t){const e={},i=d(t,["functionCallingConfig"]);i!=null&&f(e,["functionCallingConfig"],CE(i));const r=d(t,["retrievalConfig"]);return r!=null&&f(e,["retrievalConfig"],r),e}function JE(t){const e={},i=d(t,["functionDeclarations"]);if(i!=null){let x=i;Array.isArray(x)&&(x=x.map(b=>b)),f(e,["functionDeclarations"],x)}if(d(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=d(t,["googleSearchRetrieval"]);r!=null&&f(e,["googleSearchRetrieval"],r);const o=d(t,["computerUse"]);o!=null&&f(e,["computerUse"],o);const l=d(t,["fileSearch"]);l!=null&&f(e,["fileSearch"],l);const c=d(t,["codeExecution"]);if(c!=null&&f(e,["codeExecution"],c),d(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const p=d(t,["googleMaps"]);p!=null&&f(e,["googleMaps"],ME(p));const v=d(t,["googleSearch"]);v!=null&&f(e,["googleSearch"],UE(v));const g=d(t,["urlContext"]);return g!=null&&f(e,["urlContext"],g),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var ti;(function(t){t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents",t.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",t.PAGED_ITEM_DOCUMENTS="documents"})(ti||(ti={}));class us{constructor(e,i,r,o){this.pageInternal=[],this.paramsInternal={},this.requestInternal=i,this.init(e,r,o)}init(e,i,r){var o,l;this.nameInternal=e,this.pageInternal=i[this.nameInternal]||[],this.sdkHttpResponseInternal=i==null?void 0:i.sdkHttpResponse,this.idxInternal=0;let c={config:{}};!r||Object.keys(r).length===0?c={config:{}}:typeof r=="object"?c=Object.assign({},r):c=r,c.config&&(c.config.pageToken=i.nextPageToken),this.paramsInternal=c,this.pageInternalSize=(l=(o=c.config)===null||o===void 0?void 0:o.pageSize)!==null&&l!==void 0?l:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class KE extends ii{constructor(e){super(),this.apiClient=e,this.list=async(i={})=>new us(ti.PAGED_ITEM_BATCH_JOBS,r=>this.listInternal(r),await this.listInternal(i),i),this.create=async i=>(this.apiClient.isVertexAI()&&(i.config=this.formatDestination(i.src,i.config)),this.createInternal(i)),this.createEmbeddings=async i=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(i)}}createInlinedGenerateContentRequest(e){const i=x0(this.apiClient,e),r=i._url,o=te("{model}:batchGenerateContent",r),p=i.batch.inputConfig.requests,v=p.requests,g=[];for(const x of v){const b=Object.assign({},x);if(b.systemInstruction){const _=b.systemInstruction;delete b.systemInstruction;const S=b.request;S.systemInstruction=_,b.request=S}g.push(b)}return p.requests=g,delete i.config,delete i._url,delete i._query,{path:o,body:i}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,i){const r=i?Object.assign({},i):{},o=Date.now().toString();if(r.displayName||(r.displayName=`genaiBatchJob_${o}`),r.dest===void 0){const l=this.getGcsUri(e),c=this.getBigqueryUri(e);if(l)l.endsWith(".jsonl")?r.dest=`${l.slice(0,-6)}/dest`:r.dest=`${l}_dest_${o}`;else if(c)r.dest=`${c}_dest_${o}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return r}async createInternal(e){var i,r,o,l;let c,p="",v={};if(this.apiClient.isVertexAI()){const g=gE(this.apiClient,e);return p=te("batchPredictionJobs",g._url),v=g._query,delete g._url,delete g._query,c=this.apiClient.request({path:p,queryParams:v,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(x=>x.json()),c.then(x=>ad(x))}else{const g=x0(this.apiClient,e);return p=te("{model}:batchGenerateContent",g._url),v=g._query,delete g._url,delete g._query,c=this.apiClient.request({path:p,queryParams:v,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(x=>x.json()),c.then(x=>$o(x))}}async createEmbeddingsInternal(e){var i,r;let o,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=yE(this.apiClient,e);return l=te("{model}:asyncBatchEmbedContent",p._url),c=p._query,delete p._url,delete p._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(v=>v.json()),o.then(v=>$o(v))}}async get(e){var i,r,o,l;let c,p="",v={};if(this.apiClient.isVertexAI()){const g=DE(this.apiClient,e);return p=te("batchPredictionJobs/{name}",g._url),v=g._query,delete g._url,delete g._query,c=this.apiClient.request({path:p,queryParams:v,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(x=>x.json()),c.then(x=>ad(x))}else{const g=IE(this.apiClient,e);return p=te("batches/{name}",g._url),v=g._query,delete g._url,delete g._query,c=this.apiClient.request({path:p,queryParams:v,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(x=>x.json()),c.then(x=>$o(x))}}async cancel(e){var i,r,o,l;let c="",p={};if(this.apiClient.isVertexAI()){const v=dE(this.apiClient,e);c=te("batchPredictionJobs/{name}:cancel",v._url),p=v._query,delete v._url,delete v._query,await this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(v),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}else{const v=cE(this.apiClient,e);c=te("batches/{name}:cancel",v._url),p=v._query,delete v._url,delete v._query,await this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(v),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal})}}async listInternal(e){var i,r,o,l;let c,p="",v={};if(this.apiClient.isVertexAI()){const g=BE(e);return p=te("batchPredictionJobs",g._url),v=g._query,delete g._url,delete g._query,c=this.apiClient.request({path:p,queryParams:v,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(x=>x.json().then(b=>{const _=b;return _.sdkHttpResponse={headers:x.headers},_})),c.then(x=>{const b=VE(x),_=new m0;return Object.assign(_,b),_})}else{const g=HE(e);return p=te("batches",g._url),v=g._query,delete g._url,delete g._query,c=this.apiClient.request({path:p,queryParams:v,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(x=>x.json().then(b=>{const _=b;return _.sdkHttpResponse={headers:x.headers},_})),c.then(x=>{const b=qE(x),_=new m0;return Object.assign(_,b),_})}}async delete(e){var i,r,o,l;let c,p="",v={};if(this.apiClient.isVertexAI()){const g=bE(this.apiClient,e);return p=te("batchPredictionJobs/{name}",g._url),v=g._query,delete g._url,delete g._query,c=this.apiClient.request({path:p,queryParams:v,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(x=>x.json().then(b=>{const _=b;return _.sdkHttpResponse={headers:x.headers},_})),c.then(x=>wE(x))}else{const g=xE(this.apiClient,e);return p=te("batches/{name}",g._url),v=g._query,delete g._url,delete g._query,c=this.apiClient.request({path:p,queryParams:v,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(x=>x.json().then(b=>{const _=b;return _.sdkHttpResponse={headers:x.headers},_})),c.then(x=>_E(x))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function YE(t){const e={},i=d(t,["data"]);if(i!=null&&f(e,["data"],i),d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=d(t,["mimeType"]);return r!=null&&f(e,["mimeType"],r),e}function b0(t){const e={},i=d(t,["parts"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>yT(l))),f(e,["parts"],o)}const r=d(t,["role"]);return r!=null&&f(e,["role"],r),e}function XE(t,e){const i={},r=d(t,["ttl"]);e!==void 0&&r!=null&&f(e,["ttl"],r);const o=d(t,["expireTime"]);e!==void 0&&o!=null&&f(e,["expireTime"],o);const l=d(t,["displayName"]);e!==void 0&&l!=null&&f(e,["displayName"],l);const c=d(t,["contents"]);if(e!==void 0&&c!=null){let x=vn(c);Array.isArray(x)&&(x=x.map(b=>b0(b))),f(e,["contents"],x)}const p=d(t,["systemInstruction"]);e!==void 0&&p!=null&&f(e,["systemInstruction"],b0(It(p)));const v=d(t,["tools"]);if(e!==void 0&&v!=null){let x=v;Array.isArray(x)&&(x=x.map(b=>bT(b))),f(e,["tools"],x)}const g=d(t,["toolConfig"]);if(e!==void 0&&g!=null&&f(e,["toolConfig"],xT(g)),d(t,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return i}function WE(t,e){const i={},r=d(t,["ttl"]);e!==void 0&&r!=null&&f(e,["ttl"],r);const o=d(t,["expireTime"]);e!==void 0&&o!=null&&f(e,["expireTime"],o);const l=d(t,["displayName"]);e!==void 0&&l!=null&&f(e,["displayName"],l);const c=d(t,["contents"]);if(e!==void 0&&c!=null){let b=vn(c);Array.isArray(b)&&(b=b.map(_=>_)),f(e,["contents"],b)}const p=d(t,["systemInstruction"]);e!==void 0&&p!=null&&f(e,["systemInstruction"],It(p));const v=d(t,["tools"]);if(e!==void 0&&v!=null){let b=v;Array.isArray(b)&&(b=b.map(_=>_T(_))),f(e,["tools"],b)}const g=d(t,["toolConfig"]);e!==void 0&&g!=null&&f(e,["toolConfig"],g);const x=d(t,["kmsKeyName"]);return e!==void 0&&x!=null&&f(e,["encryption_spec","kmsKeyName"],x),i}function QE(t,e){const i={},r=d(e,["model"]);r!=null&&f(i,["model"],lv(t,r));const o=d(e,["config"]);return o!=null&&XE(o,i),i}function ZE(t,e){const i={},r=d(e,["model"]);r!=null&&f(i,["model"],lv(t,r));const o=d(e,["config"]);return o!=null&&WE(o,i),i}function eT(t,e){const i={},r=d(e,["name"]);return r!=null&&f(i,["_url","name"],si(t,r)),i}function tT(t,e){const i={},r=d(e,["name"]);return r!=null&&f(i,["_url","name"],si(t,r)),i}function nT(t){const e={},i=d(t,["sdkHttpResponse"]);return i!=null&&f(e,["sdkHttpResponse"],i),e}function iT(t){const e={},i=d(t,["sdkHttpResponse"]);return i!=null&&f(e,["sdkHttpResponse"],i),e}function sT(t){const e={};if(d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=d(t,["fileUri"]);i!=null&&f(e,["fileUri"],i);const r=d(t,["mimeType"]);return r!=null&&f(e,["mimeType"],r),e}function rT(t){const e={},i=d(t,["id"]);i!=null&&f(e,["id"],i);const r=d(t,["args"]);r!=null&&f(e,["args"],r);const o=d(t,["name"]);if(o!=null&&f(e,["name"],o),d(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(d(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function aT(t){const e={},i=d(t,["mode"]);i!=null&&f(e,["mode"],i);const r=d(t,["allowedFunctionNames"]);if(r!=null&&f(e,["allowedFunctionNames"],r),d(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function oT(t){const e={};if(d(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const i=d(t,["description"]);i!=null&&f(e,["description"],i);const r=d(t,["name"]);r!=null&&f(e,["name"],r);const o=d(t,["parameters"]);o!=null&&f(e,["parameters"],o);const l=d(t,["parametersJsonSchema"]);l!=null&&f(e,["parametersJsonSchema"],l);const c=d(t,["response"]);c!=null&&f(e,["response"],c);const p=d(t,["responseJsonSchema"]);return p!=null&&f(e,["responseJsonSchema"],p),e}function lT(t,e){const i={},r=d(e,["name"]);return r!=null&&f(i,["_url","name"],si(t,r)),i}function uT(t,e){const i={},r=d(e,["name"]);return r!=null&&f(i,["_url","name"],si(t,r)),i}function cT(t){const e={};if(d(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const i=d(t,["enableWidget"]);return i!=null&&f(e,["enableWidget"],i),e}function dT(t){const e={};if(d(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(d(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const i=d(t,["timeRangeFilter"]);return i!=null&&f(e,["timeRangeFilter"],i),e}function fT(t,e){const i={},r=d(t,["pageSize"]);e!==void 0&&r!=null&&f(e,["_query","pageSize"],r);const o=d(t,["pageToken"]);return e!==void 0&&o!=null&&f(e,["_query","pageToken"],o),i}function hT(t,e){const i={},r=d(t,["pageSize"]);e!==void 0&&r!=null&&f(e,["_query","pageSize"],r);const o=d(t,["pageToken"]);return e!==void 0&&o!=null&&f(e,["_query","pageToken"],o),i}function pT(t){const e={},i=d(t,["config"]);return i!=null&&fT(i,e),e}function mT(t){const e={},i=d(t,["config"]);return i!=null&&hT(i,e),e}function gT(t){const e={},i=d(t,["sdkHttpResponse"]);i!=null&&f(e,["sdkHttpResponse"],i);const r=d(t,["nextPageToken"]);r!=null&&f(e,["nextPageToken"],r);const o=d(t,["cachedContents"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(c=>c)),f(e,["cachedContents"],l)}return e}function vT(t){const e={},i=d(t,["sdkHttpResponse"]);i!=null&&f(e,["sdkHttpResponse"],i);const r=d(t,["nextPageToken"]);r!=null&&f(e,["nextPageToken"],r);const o=d(t,["cachedContents"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(c=>c)),f(e,["cachedContents"],l)}return e}function yT(t){const e={},i=d(t,["mediaResolution"]);i!=null&&f(e,["mediaResolution"],i);const r=d(t,["codeExecutionResult"]);r!=null&&f(e,["codeExecutionResult"],r);const o=d(t,["executableCode"]);o!=null&&f(e,["executableCode"],o);const l=d(t,["fileData"]);l!=null&&f(e,["fileData"],sT(l));const c=d(t,["functionCall"]);c!=null&&f(e,["functionCall"],rT(c));const p=d(t,["functionResponse"]);p!=null&&f(e,["functionResponse"],p);const v=d(t,["inlineData"]);v!=null&&f(e,["inlineData"],YE(v));const g=d(t,["text"]);g!=null&&f(e,["text"],g);const x=d(t,["thought"]);x!=null&&f(e,["thought"],x);const b=d(t,["thoughtSignature"]);b!=null&&f(e,["thoughtSignature"],b);const _=d(t,["videoMetadata"]);return _!=null&&f(e,["videoMetadata"],_),e}function xT(t){const e={},i=d(t,["functionCallingConfig"]);i!=null&&f(e,["functionCallingConfig"],aT(i));const r=d(t,["retrievalConfig"]);return r!=null&&f(e,["retrievalConfig"],r),e}function bT(t){const e={},i=d(t,["functionDeclarations"]);if(i!=null){let x=i;Array.isArray(x)&&(x=x.map(b=>b)),f(e,["functionDeclarations"],x)}if(d(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=d(t,["googleSearchRetrieval"]);r!=null&&f(e,["googleSearchRetrieval"],r);const o=d(t,["computerUse"]);o!=null&&f(e,["computerUse"],o);const l=d(t,["fileSearch"]);l!=null&&f(e,["fileSearch"],l);const c=d(t,["codeExecution"]);if(c!=null&&f(e,["codeExecution"],c),d(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const p=d(t,["googleMaps"]);p!=null&&f(e,["googleMaps"],cT(p));const v=d(t,["googleSearch"]);v!=null&&f(e,["googleSearch"],dT(v));const g=d(t,["urlContext"]);return g!=null&&f(e,["urlContext"],g),e}function _T(t){const e={},i=d(t,["functionDeclarations"]);if(i!=null){let b=i;Array.isArray(b)&&(b=b.map(_=>oT(_))),f(e,["functionDeclarations"],b)}const r=d(t,["retrieval"]);r!=null&&f(e,["retrieval"],r);const o=d(t,["googleSearchRetrieval"]);o!=null&&f(e,["googleSearchRetrieval"],o);const l=d(t,["computerUse"]);if(l!=null&&f(e,["computerUse"],l),d(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const c=d(t,["codeExecution"]);c!=null&&f(e,["codeExecution"],c);const p=d(t,["enterpriseWebSearch"]);p!=null&&f(e,["enterpriseWebSearch"],p);const v=d(t,["googleMaps"]);v!=null&&f(e,["googleMaps"],v);const g=d(t,["googleSearch"]);g!=null&&f(e,["googleSearch"],g);const x=d(t,["urlContext"]);return x!=null&&f(e,["urlContext"],x),e}function wT(t,e){const i={},r=d(t,["ttl"]);e!==void 0&&r!=null&&f(e,["ttl"],r);const o=d(t,["expireTime"]);return e!==void 0&&o!=null&&f(e,["expireTime"],o),i}function ST(t,e){const i={},r=d(t,["ttl"]);e!==void 0&&r!=null&&f(e,["ttl"],r);const o=d(t,["expireTime"]);return e!==void 0&&o!=null&&f(e,["expireTime"],o),i}function ET(t,e){const i={},r=d(e,["name"]);r!=null&&f(i,["_url","name"],si(t,r));const o=d(e,["config"]);return o!=null&&wT(o,i),i}function TT(t,e){const i={},r=d(e,["name"]);r!=null&&f(i,["_url","name"],si(t,r));const o=d(e,["config"]);return o!=null&&ST(o,i),i}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class AT extends ii{constructor(e){super(),this.apiClient=e,this.list=async(i={})=>new us(ti.PAGED_ITEM_CACHED_CONTENTS,r=>this.listInternal(r),await this.listInternal(i),i)}async create(e){var i,r,o,l;let c,p="",v={};if(this.apiClient.isVertexAI()){const g=ZE(this.apiClient,e);return p=te("cachedContents",g._url),v=g._query,delete g._url,delete g._query,c=this.apiClient.request({path:p,queryParams:v,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(x=>x.json()),c.then(x=>x)}else{const g=QE(this.apiClient,e);return p=te("cachedContents",g._url),v=g._query,delete g._url,delete g._query,c=this.apiClient.request({path:p,queryParams:v,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(x=>x.json()),c.then(x=>x)}}async get(e){var i,r,o,l;let c,p="",v={};if(this.apiClient.isVertexAI()){const g=uT(this.apiClient,e);return p=te("{name}",g._url),v=g._query,delete g._url,delete g._query,c=this.apiClient.request({path:p,queryParams:v,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(x=>x.json()),c.then(x=>x)}else{const g=lT(this.apiClient,e);return p=te("{name}",g._url),v=g._query,delete g._url,delete g._query,c=this.apiClient.request({path:p,queryParams:v,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(x=>x.json()),c.then(x=>x)}}async delete(e){var i,r,o,l;let c,p="",v={};if(this.apiClient.isVertexAI()){const g=tT(this.apiClient,e);return p=te("{name}",g._url),v=g._query,delete g._url,delete g._query,c=this.apiClient.request({path:p,queryParams:v,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(x=>x.json().then(b=>{const _=b;return _.sdkHttpResponse={headers:x.headers},_})),c.then(x=>{const b=iT(x),_=new h0;return Object.assign(_,b),_})}else{const g=eT(this.apiClient,e);return p=te("{name}",g._url),v=g._query,delete g._url,delete g._query,c=this.apiClient.request({path:p,queryParams:v,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(x=>x.json().then(b=>{const _=b;return _.sdkHttpResponse={headers:x.headers},_})),c.then(x=>{const b=nT(x),_=new h0;return Object.assign(_,b),_})}}async update(e){var i,r,o,l;let c,p="",v={};if(this.apiClient.isVertexAI()){const g=TT(this.apiClient,e);return p=te("{name}",g._url),v=g._query,delete g._url,delete g._query,c=this.apiClient.request({path:p,queryParams:v,body:JSON.stringify(g),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(x=>x.json()),c.then(x=>x)}else{const g=ET(this.apiClient,e);return p=te("{name}",g._url),v=g._query,delete g._url,delete g._query,c=this.apiClient.request({path:p,queryParams:v,body:JSON.stringify(g),httpMethod:"PATCH",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(x=>x.json()),c.then(x=>x)}}async listInternal(e){var i,r,o,l;let c,p="",v={};if(this.apiClient.isVertexAI()){const g=mT(e);return p=te("cachedContents",g._url),v=g._query,delete g._url,delete g._query,c=this.apiClient.request({path:p,queryParams:v,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(x=>x.json().then(b=>{const _=b;return _.sdkHttpResponse={headers:x.headers},_})),c.then(x=>{const b=vT(x),_=new p0;return Object.assign(_,b),_})}else{const g=pT(e);return p=te("cachedContents",g._url),v=g._query,delete g._url,delete g._query,c=this.apiClient.request({path:p,queryParams:v,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(x=>x.json().then(b=>{const _=b;return _.sdkHttpResponse={headers:x.headers},_})),c.then(x=>{const b=gT(x),_=new p0;return Object.assign(_,b),_})}}}function el(t,e){var i={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(i[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(i[r[o]]=t[r[o]]);return i}function _0(t){var e=typeof Symbol=="function"&&Symbol.iterator,i=e&&t[e],r=0;if(i)return i.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function ve(t){return this instanceof ve?(this.v=t,this):new ve(t)}function Nn(t,e,i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=i.apply(t,e||[]),o,l=[];return o=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),p("next"),p("throw"),p("return",c),o[Symbol.asyncIterator]=function(){return this},o;function c(S){return function(T){return Promise.resolve(T).then(S,b)}}function p(S,T){r[S]&&(o[S]=function(C){return new Promise(function(N,D){l.push([S,C,N,D])>1||v(S,C)})},T&&(o[S]=T(o[S])))}function v(S,T){try{g(r[S](T))}catch(C){_(l[0][3],C)}}function g(S){S.value instanceof ve?Promise.resolve(S.value.v).then(x,b):_(l[0][2],S)}function x(S){v("next",S)}function b(S){v("throw",S)}function _(S,T){S(T),l.shift(),l.length&&v(l[0][0],l[0][1])}}function Cn(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],i;return e?e.call(t):(t=typeof _0=="function"?_0(t):t[Symbol.iterator](),i={},r("next"),r("throw"),r("return"),i[Symbol.asyncIterator]=function(){return this},i);function r(l){i[l]=t[l]&&function(c){return new Promise(function(p,v){c=t[l](c),o(p,v,c.done,c.value)})}}function o(l,c,p,v){Promise.resolve(v).then(function(g){l({value:g,done:p})},c)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function NT(t){var e;if(t.candidates==null||t.candidates.length===0)return!1;const i=(e=t.candidates[0])===null||e===void 0?void 0:e.content;return i===void 0?!1:_v(i)}function _v(t){if(t.parts===void 0||t.parts.length===0)return!1;for(const e of t.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function CT(t){if(t.length!==0){for(const e of t)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function w0(t){if(t===void 0||t.length===0)return[];const e=[],i=t.length;let r=0;for(;r<i;)if(t[r].role==="user")e.push(t[r]),r++;else{const o=[];let l=!0;for(;r<i&&t[r].role==="model";)o.push(t[r]),l&&!_v(t[r])&&(l=!1),r++;l?e.push(...o):e.pop()}return e}class RT{constructor(e,i){this.modelsModule=e,this.apiClient=i}create(e){return new kT(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class kT{constructor(e,i,r,o={},l=[]){this.apiClient=e,this.modelsModule=i,this.model=r,this.config=o,this.history=l,this.sendPromise=Promise.resolve(),CT(l)}async sendMessage(e){var i;await this.sendPromise;const r=It(e.message),o=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(r),config:(i=e.config)!==null&&i!==void 0?i:this.config});return this.sendPromise=(async()=>{var l,c,p;const v=await o,g=(c=(l=v.candidates)===null||l===void 0?void 0:l[0])===null||c===void 0?void 0:c.content,x=v.automaticFunctionCallingHistory,b=this.getHistory(!0).length;let _=[];x!=null&&(_=(p=x.slice(b))!==null&&p!==void 0?p:[]);const S=g?[g]:[];this.recordHistory(r,S,_)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),o}async sendMessageStream(e){var i;await this.sendPromise;const r=It(e.message),o=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(r),config:(i=e.config)!==null&&i!==void 0?i:this.config});this.sendPromise=o.then(()=>{}).catch(()=>{});const l=await o;return this.processStreamResponse(l,r)}getHistory(e=!1){const i=e?w0(this.history):this.history;return structuredClone(i)}processStreamResponse(e,i){return Nn(this,arguments,function*(){var o,l,c,p,v,g;const x=[];try{for(var b=!0,_=Cn(e),S;S=yield ve(_.next()),o=S.done,!o;b=!0){p=S.value,b=!1;const T=p;if(NT(T)){const C=(g=(v=T.candidates)===null||v===void 0?void 0:v[0])===null||g===void 0?void 0:g.content;C!==void 0&&x.push(C)}yield yield ve(T)}}catch(T){l={error:T}}finally{try{!b&&!o&&(c=_.return)&&(yield ve(c.call(_)))}finally{if(l)throw l.error}}this.recordHistory(i,x)})}recordHistory(e,i,r){let o=[];i.length>0&&i.every(l=>l.role!==void 0)?o=i:o.push({role:"model",parts:[]}),r&&r.length>0?this.history.push(...w0(r)):this.history.push(e),this.history.push(...o)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class al extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,al.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function IT(t){const e={},i=d(t,["file"]);return i!=null&&f(e,["file"],i),e}function DT(t){const e={},i=d(t,["sdkHttpResponse"]);return i!=null&&f(e,["sdkHttpResponse"],i),e}function MT(t){const e={},i=d(t,["name"]);return i!=null&&f(e,["_url","file"],pv(i)),e}function UT(t){const e={},i=d(t,["sdkHttpResponse"]);return i!=null&&f(e,["sdkHttpResponse"],i),e}function PT(t){const e={},i=d(t,["name"]);return i!=null&&f(e,["_url","file"],pv(i)),e}function LT(t,e){const i={},r=d(t,["pageSize"]);e!==void 0&&r!=null&&f(e,["_query","pageSize"],r);const o=d(t,["pageToken"]);return e!==void 0&&o!=null&&f(e,["_query","pageToken"],o),i}function OT(t){const e={},i=d(t,["config"]);return i!=null&&LT(i,e),e}function jT(t){const e={},i=d(t,["sdkHttpResponse"]);i!=null&&f(e,["sdkHttpResponse"],i);const r=d(t,["nextPageToken"]);r!=null&&f(e,["nextPageToken"],r);const o=d(t,["files"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(c=>c)),f(e,["files"],l)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class GT extends ii{constructor(e){super(),this.apiClient=e,this.list=async(i={})=>new us(ti.PAGED_ITEM_FILES,r=>this.listInternal(r),await this.listInternal(i),i)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(i=>i)}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var i,r;let o,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=OT(e);return l=te("files",p._url),c=p._query,delete p._url,delete p._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(v=>v.json().then(g=>{const x=g;return x.sdkHttpResponse={headers:v.headers},x})),o.then(v=>{const g=jT(v),x=new VS;return Object.assign(x,g),x})}}async createInternal(e){var i,r;let o,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=IT(e);return l=te("upload/v1beta/files",p._url),c=p._query,delete p._url,delete p._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(v=>v.json()),o.then(v=>{const g=DT(v),x=new zS;return Object.assign(x,g),x})}}async get(e){var i,r;let o,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=PT(e);return l=te("files/{file}",p._url),c=p._query,delete p._url,delete p._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(v=>v.json()),o.then(v=>v)}}async delete(e){var i,r;let o,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=MT(e);return l=te("files/{file}",p._url),c=p._query,delete p._url,delete p._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(v=>v.json().then(g=>{const x=g;return x.sdkHttpResponse={headers:v.headers},x})),o.then(v=>{const g=UT(v),x=new FS;return Object.assign(x,g),x})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Jo(t){const e={},i=d(t,["data"]);if(i!=null&&f(e,["data"],i),d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=d(t,["mimeType"]);return r!=null&&f(e,["mimeType"],r),e}function HT(t){const e={},i=d(t,["parts"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>nA(l))),f(e,["parts"],o)}const r=d(t,["role"]);return r!=null&&f(e,["role"],r),e}function BT(t){const e={};if(d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=d(t,["fileUri"]);i!=null&&f(e,["fileUri"],i);const r=d(t,["mimeType"]);return r!=null&&f(e,["mimeType"],r),e}function qT(t){const e={},i=d(t,["id"]);i!=null&&f(e,["id"],i);const r=d(t,["args"]);r!=null&&f(e,["args"],r);const o=d(t,["name"]);if(o!=null&&f(e,["name"],o),d(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(d(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function VT(t){const e={};if(d(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const i=d(t,["description"]);i!=null&&f(e,["description"],i);const r=d(t,["name"]);r!=null&&f(e,["name"],r);const o=d(t,["parameters"]);o!=null&&f(e,["parameters"],o);const l=d(t,["parametersJsonSchema"]);l!=null&&f(e,["parametersJsonSchema"],l);const c=d(t,["response"]);c!=null&&f(e,["response"],c);const p=d(t,["responseJsonSchema"]);return p!=null&&f(e,["responseJsonSchema"],p),e}function zT(t){const e={},i=d(t,["modelSelectionConfig"]);i!=null&&f(e,["modelConfig"],i);const r=d(t,["responseJsonSchema"]);r!=null&&f(e,["responseJsonSchema"],r);const o=d(t,["audioTimestamp"]);o!=null&&f(e,["audioTimestamp"],o);const l=d(t,["candidateCount"]);l!=null&&f(e,["candidateCount"],l);const c=d(t,["enableAffectiveDialog"]);c!=null&&f(e,["enableAffectiveDialog"],c);const p=d(t,["frequencyPenalty"]);p!=null&&f(e,["frequencyPenalty"],p);const v=d(t,["logprobs"]);v!=null&&f(e,["logprobs"],v);const g=d(t,["maxOutputTokens"]);g!=null&&f(e,["maxOutputTokens"],g);const x=d(t,["mediaResolution"]);x!=null&&f(e,["mediaResolution"],x);const b=d(t,["presencePenalty"]);b!=null&&f(e,["presencePenalty"],b);const _=d(t,["responseLogprobs"]);_!=null&&f(e,["responseLogprobs"],_);const S=d(t,["responseMimeType"]);S!=null&&f(e,["responseMimeType"],S);const T=d(t,["responseModalities"]);T!=null&&f(e,["responseModalities"],T);const C=d(t,["responseSchema"]);C!=null&&f(e,["responseSchema"],C);const N=d(t,["routingConfig"]);N!=null&&f(e,["routingConfig"],N);const D=d(t,["seed"]);D!=null&&f(e,["seed"],D);const H=d(t,["speechConfig"]);H!=null&&f(e,["speechConfig"],H);const U=d(t,["stopSequences"]);U!=null&&f(e,["stopSequences"],U);const J=d(t,["temperature"]);J!=null&&f(e,["temperature"],J);const X=d(t,["thinkingConfig"]);X!=null&&f(e,["thinkingConfig"],X);const F=d(t,["topK"]);F!=null&&f(e,["topK"],F);const K=d(t,["topP"]);if(K!=null&&f(e,["topP"],K),d(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function FT(t){const e={};if(d(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const i=d(t,["enableWidget"]);return i!=null&&f(e,["enableWidget"],i),e}function $T(t){const e={};if(d(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(d(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const i=d(t,["timeRangeFilter"]);return i!=null&&f(e,["timeRangeFilter"],i),e}function JT(t,e){const i={},r=d(t,["generationConfig"]);e!==void 0&&r!=null&&f(e,["setup","generationConfig"],r);const o=d(t,["responseModalities"]);e!==void 0&&o!=null&&f(e,["setup","generationConfig","responseModalities"],o);const l=d(t,["temperature"]);e!==void 0&&l!=null&&f(e,["setup","generationConfig","temperature"],l);const c=d(t,["topP"]);e!==void 0&&c!=null&&f(e,["setup","generationConfig","topP"],c);const p=d(t,["topK"]);e!==void 0&&p!=null&&f(e,["setup","generationConfig","topK"],p);const v=d(t,["maxOutputTokens"]);e!==void 0&&v!=null&&f(e,["setup","generationConfig","maxOutputTokens"],v);const g=d(t,["mediaResolution"]);e!==void 0&&g!=null&&f(e,["setup","generationConfig","mediaResolution"],g);const x=d(t,["seed"]);e!==void 0&&x!=null&&f(e,["setup","generationConfig","seed"],x);const b=d(t,["speechConfig"]);e!==void 0&&b!=null&&f(e,["setup","generationConfig","speechConfig"],Cd(b));const _=d(t,["thinkingConfig"]);e!==void 0&&_!=null&&f(e,["setup","generationConfig","thinkingConfig"],_);const S=d(t,["enableAffectiveDialog"]);e!==void 0&&S!=null&&f(e,["setup","generationConfig","enableAffectiveDialog"],S);const T=d(t,["systemInstruction"]);e!==void 0&&T!=null&&f(e,["setup","systemInstruction"],HT(It(T)));const C=d(t,["tools"]);if(e!==void 0&&C!=null){let F=gr(C);Array.isArray(F)&&(F=F.map(K=>sA(mr(K)))),f(e,["setup","tools"],F)}const N=d(t,["sessionResumption"]);e!==void 0&&N!=null&&f(e,["setup","sessionResumption"],iA(N));const D=d(t,["inputAudioTranscription"]);e!==void 0&&D!=null&&f(e,["setup","inputAudioTranscription"],D);const H=d(t,["outputAudioTranscription"]);e!==void 0&&H!=null&&f(e,["setup","outputAudioTranscription"],H);const U=d(t,["realtimeInputConfig"]);e!==void 0&&U!=null&&f(e,["setup","realtimeInputConfig"],U);const J=d(t,["contextWindowCompression"]);e!==void 0&&J!=null&&f(e,["setup","contextWindowCompression"],J);const X=d(t,["proactivity"]);if(e!==void 0&&X!=null&&f(e,["setup","proactivity"],X),d(t,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return i}function KT(t,e){const i={},r=d(t,["generationConfig"]);e!==void 0&&r!=null&&f(e,["setup","generationConfig"],zT(r));const o=d(t,["responseModalities"]);e!==void 0&&o!=null&&f(e,["setup","generationConfig","responseModalities"],o);const l=d(t,["temperature"]);e!==void 0&&l!=null&&f(e,["setup","generationConfig","temperature"],l);const c=d(t,["topP"]);e!==void 0&&c!=null&&f(e,["setup","generationConfig","topP"],c);const p=d(t,["topK"]);e!==void 0&&p!=null&&f(e,["setup","generationConfig","topK"],p);const v=d(t,["maxOutputTokens"]);e!==void 0&&v!=null&&f(e,["setup","generationConfig","maxOutputTokens"],v);const g=d(t,["mediaResolution"]);e!==void 0&&g!=null&&f(e,["setup","generationConfig","mediaResolution"],g);const x=d(t,["seed"]);e!==void 0&&x!=null&&f(e,["setup","generationConfig","seed"],x);const b=d(t,["speechConfig"]);e!==void 0&&b!=null&&f(e,["setup","generationConfig","speechConfig"],Cd(b));const _=d(t,["thinkingConfig"]);e!==void 0&&_!=null&&f(e,["setup","generationConfig","thinkingConfig"],_);const S=d(t,["enableAffectiveDialog"]);e!==void 0&&S!=null&&f(e,["setup","generationConfig","enableAffectiveDialog"],S);const T=d(t,["systemInstruction"]);e!==void 0&&T!=null&&f(e,["setup","systemInstruction"],It(T));const C=d(t,["tools"]);if(e!==void 0&&C!=null){let K=gr(C);Array.isArray(K)&&(K=K.map(ce=>rA(mr(ce)))),f(e,["setup","tools"],K)}const N=d(t,["sessionResumption"]);e!==void 0&&N!=null&&f(e,["setup","sessionResumption"],N);const D=d(t,["inputAudioTranscription"]);e!==void 0&&D!=null&&f(e,["setup","inputAudioTranscription"],D);const H=d(t,["outputAudioTranscription"]);e!==void 0&&H!=null&&f(e,["setup","outputAudioTranscription"],H);const U=d(t,["realtimeInputConfig"]);e!==void 0&&U!=null&&f(e,["setup","realtimeInputConfig"],U);const J=d(t,["contextWindowCompression"]);e!==void 0&&J!=null&&f(e,["setup","contextWindowCompression"],J);const X=d(t,["proactivity"]);e!==void 0&&X!=null&&f(e,["setup","proactivity"],X);const F=d(t,["explicitVadSignal"]);return e!==void 0&&F!=null&&f(e,["setup","explicitVadSignal"],F),i}function YT(t,e){const i={},r=d(e,["model"]);r!=null&&f(i,["setup","model"],Le(t,r));const o=d(e,["config"]);return o!=null&&f(i,["config"],JT(o,i)),i}function XT(t,e){const i={},r=d(e,["model"]);r!=null&&f(i,["setup","model"],Le(t,r));const o=d(e,["config"]);return o!=null&&f(i,["config"],KT(o,i)),i}function WT(t){const e={},i=d(t,["musicGenerationConfig"]);return i!=null&&f(e,["musicGenerationConfig"],i),e}function QT(t){const e={},i=d(t,["weightedPrompts"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(o=>o)),f(e,["weightedPrompts"],r)}return e}function ZT(t){const e={},i=d(t,["media"]);if(i!=null){let g=uv(i);Array.isArray(g)&&(g=g.map(x=>Jo(x))),f(e,["mediaChunks"],g)}const r=d(t,["audio"]);r!=null&&f(e,["audio"],Jo(dv(r)));const o=d(t,["audioStreamEnd"]);o!=null&&f(e,["audioStreamEnd"],o);const l=d(t,["video"]);l!=null&&f(e,["video"],Jo(cv(l)));const c=d(t,["text"]);c!=null&&f(e,["text"],c);const p=d(t,["activityStart"]);p!=null&&f(e,["activityStart"],p);const v=d(t,["activityEnd"]);return v!=null&&f(e,["activityEnd"],v),e}function eA(t){const e={},i=d(t,["media"]);if(i!=null){let g=uv(i);Array.isArray(g)&&(g=g.map(x=>x)),f(e,["mediaChunks"],g)}const r=d(t,["audio"]);r!=null&&f(e,["audio"],dv(r));const o=d(t,["audioStreamEnd"]);o!=null&&f(e,["audioStreamEnd"],o);const l=d(t,["video"]);l!=null&&f(e,["video"],cv(l));const c=d(t,["text"]);c!=null&&f(e,["text"],c);const p=d(t,["activityStart"]);p!=null&&f(e,["activityStart"],p);const v=d(t,["activityEnd"]);return v!=null&&f(e,["activityEnd"],v),e}function tA(t){const e={},i=d(t,["setupComplete"]);i!=null&&f(e,["setupComplete"],i);const r=d(t,["serverContent"]);r!=null&&f(e,["serverContent"],r);const o=d(t,["toolCall"]);o!=null&&f(e,["toolCall"],o);const l=d(t,["toolCallCancellation"]);l!=null&&f(e,["toolCallCancellation"],l);const c=d(t,["usageMetadata"]);c!=null&&f(e,["usageMetadata"],aA(c));const p=d(t,["goAway"]);p!=null&&f(e,["goAway"],p);const v=d(t,["sessionResumptionUpdate"]);v!=null&&f(e,["sessionResumptionUpdate"],v);const g=d(t,["voiceActivityDetectionSignal"]);return g!=null&&f(e,["voiceActivityDetectionSignal"],g),e}function nA(t){const e={},i=d(t,["mediaResolution"]);i!=null&&f(e,["mediaResolution"],i);const r=d(t,["codeExecutionResult"]);r!=null&&f(e,["codeExecutionResult"],r);const o=d(t,["executableCode"]);o!=null&&f(e,["executableCode"],o);const l=d(t,["fileData"]);l!=null&&f(e,["fileData"],BT(l));const c=d(t,["functionCall"]);c!=null&&f(e,["functionCall"],qT(c));const p=d(t,["functionResponse"]);p!=null&&f(e,["functionResponse"],p);const v=d(t,["inlineData"]);v!=null&&f(e,["inlineData"],Jo(v));const g=d(t,["text"]);g!=null&&f(e,["text"],g);const x=d(t,["thought"]);x!=null&&f(e,["thought"],x);const b=d(t,["thoughtSignature"]);b!=null&&f(e,["thoughtSignature"],b);const _=d(t,["videoMetadata"]);return _!=null&&f(e,["videoMetadata"],_),e}function iA(t){const e={},i=d(t,["handle"]);if(i!=null&&f(e,["handle"],i),d(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function sA(t){const e={},i=d(t,["functionDeclarations"]);if(i!=null){let x=i;Array.isArray(x)&&(x=x.map(b=>b)),f(e,["functionDeclarations"],x)}if(d(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=d(t,["googleSearchRetrieval"]);r!=null&&f(e,["googleSearchRetrieval"],r);const o=d(t,["computerUse"]);o!=null&&f(e,["computerUse"],o);const l=d(t,["fileSearch"]);l!=null&&f(e,["fileSearch"],l);const c=d(t,["codeExecution"]);if(c!=null&&f(e,["codeExecution"],c),d(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const p=d(t,["googleMaps"]);p!=null&&f(e,["googleMaps"],FT(p));const v=d(t,["googleSearch"]);v!=null&&f(e,["googleSearch"],$T(v));const g=d(t,["urlContext"]);return g!=null&&f(e,["urlContext"],g),e}function rA(t){const e={},i=d(t,["functionDeclarations"]);if(i!=null){let b=i;Array.isArray(b)&&(b=b.map(_=>VT(_))),f(e,["functionDeclarations"],b)}const r=d(t,["retrieval"]);r!=null&&f(e,["retrieval"],r);const o=d(t,["googleSearchRetrieval"]);o!=null&&f(e,["googleSearchRetrieval"],o);const l=d(t,["computerUse"]);if(l!=null&&f(e,["computerUse"],l),d(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const c=d(t,["codeExecution"]);c!=null&&f(e,["codeExecution"],c);const p=d(t,["enterpriseWebSearch"]);p!=null&&f(e,["enterpriseWebSearch"],p);const v=d(t,["googleMaps"]);v!=null&&f(e,["googleMaps"],v);const g=d(t,["googleSearch"]);g!=null&&f(e,["googleSearch"],g);const x=d(t,["urlContext"]);return x!=null&&f(e,["urlContext"],x),e}function aA(t){const e={},i=d(t,["promptTokenCount"]);i!=null&&f(e,["promptTokenCount"],i);const r=d(t,["cachedContentTokenCount"]);r!=null&&f(e,["cachedContentTokenCount"],r);const o=d(t,["candidatesTokenCount"]);o!=null&&f(e,["responseTokenCount"],o);const l=d(t,["toolUsePromptTokenCount"]);l!=null&&f(e,["toolUsePromptTokenCount"],l);const c=d(t,["thoughtsTokenCount"]);c!=null&&f(e,["thoughtsTokenCount"],c);const p=d(t,["totalTokenCount"]);p!=null&&f(e,["totalTokenCount"],p);const v=d(t,["promptTokensDetails"]);if(v!=null){let S=v;Array.isArray(S)&&(S=S.map(T=>T)),f(e,["promptTokensDetails"],S)}const g=d(t,["cacheTokensDetails"]);if(g!=null){let S=g;Array.isArray(S)&&(S=S.map(T=>T)),f(e,["cacheTokensDetails"],S)}const x=d(t,["candidatesTokensDetails"]);if(x!=null){let S=x;Array.isArray(S)&&(S=S.map(T=>T)),f(e,["responseTokensDetails"],S)}const b=d(t,["toolUsePromptTokensDetails"]);if(b!=null){let S=b;Array.isArray(S)&&(S=S.map(T=>T)),f(e,["toolUsePromptTokensDetails"],S)}const _=d(t,["trafficType"]);return _!=null&&f(e,["trafficType"],_),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function oA(t){const e={},i=d(t,["data"]);if(i!=null&&f(e,["data"],i),d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=d(t,["mimeType"]);return r!=null&&f(e,["mimeType"],r),e}function lA(t){const e={},i=d(t,["content"]);i!=null&&f(e,["content"],i);const r=d(t,["citationMetadata"]);r!=null&&f(e,["citationMetadata"],uA(r));const o=d(t,["tokenCount"]);o!=null&&f(e,["tokenCount"],o);const l=d(t,["finishReason"]);l!=null&&f(e,["finishReason"],l);const c=d(t,["avgLogprobs"]);c!=null&&f(e,["avgLogprobs"],c);const p=d(t,["groundingMetadata"]);p!=null&&f(e,["groundingMetadata"],p);const v=d(t,["index"]);v!=null&&f(e,["index"],v);const g=d(t,["logprobsResult"]);g!=null&&f(e,["logprobsResult"],g);const x=d(t,["safetyRatings"]);if(x!=null){let _=x;Array.isArray(_)&&(_=_.map(S=>S)),f(e,["safetyRatings"],_)}const b=d(t,["urlContextMetadata"]);return b!=null&&f(e,["urlContextMetadata"],b),e}function uA(t){const e={},i=d(t,["citationSources"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(o=>o)),f(e,["citations"],r)}return e}function cA(t,e){const i={},r=d(e,["model"]);r!=null&&f(i,["_url","model"],Le(t,r));const o=d(e,["contents"]);if(o!=null){let l=vn(o);Array.isArray(l)&&(l=l.map(c=>c)),f(i,["contents"],l)}return i}function dA(t){const e={},i=d(t,["sdkHttpResponse"]);i!=null&&f(e,["sdkHttpResponse"],i);const r=d(t,["tokensInfo"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(l=>l)),f(e,["tokensInfo"],o)}return e}function fA(t){const e={},i=d(t,["values"]);i!=null&&f(e,["values"],i);const r=d(t,["statistics"]);return r!=null&&f(e,["statistics"],hA(r)),e}function hA(t){const e={},i=d(t,["truncated"]);i!=null&&f(e,["truncated"],i);const r=d(t,["token_count"]);return r!=null&&f(e,["tokenCount"],r),e}function ol(t){const e={},i=d(t,["parts"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>wN(l))),f(e,["parts"],o)}const r=d(t,["role"]);return r!=null&&f(e,["role"],r),e}function pA(t){const e={},i=d(t,["controlType"]);i!=null&&f(e,["controlType"],i);const r=d(t,["enableControlImageComputation"]);return r!=null&&f(e,["computeControl"],r),e}function mA(t){const e={};if(d(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(d(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(d(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function gA(t,e){const i={},r=d(t,["systemInstruction"]);e!==void 0&&r!=null&&f(e,["systemInstruction"],It(r));const o=d(t,["tools"]);if(e!==void 0&&o!=null){let c=o;Array.isArray(c)&&(c=c.map(p=>Tv(p))),f(e,["tools"],c)}const l=d(t,["generationConfig"]);return e!==void 0&&l!=null&&f(e,["generationConfig"],oN(l)),i}function vA(t,e){const i={},r=d(e,["model"]);r!=null&&f(i,["_url","model"],Le(t,r));const o=d(e,["contents"]);if(o!=null){let c=vn(o);Array.isArray(c)&&(c=c.map(p=>ol(p))),f(i,["contents"],c)}const l=d(e,["config"]);return l!=null&&mA(l),i}function yA(t,e){const i={},r=d(e,["model"]);r!=null&&f(i,["_url","model"],Le(t,r));const o=d(e,["contents"]);if(o!=null){let c=vn(o);Array.isArray(c)&&(c=c.map(p=>p)),f(i,["contents"],c)}const l=d(e,["config"]);return l!=null&&gA(l,i),i}function xA(t){const e={},i=d(t,["sdkHttpResponse"]);i!=null&&f(e,["sdkHttpResponse"],i);const r=d(t,["totalTokens"]);r!=null&&f(e,["totalTokens"],r);const o=d(t,["cachedContentTokenCount"]);return o!=null&&f(e,["cachedContentTokenCount"],o),e}function bA(t){const e={},i=d(t,["sdkHttpResponse"]);i!=null&&f(e,["sdkHttpResponse"],i);const r=d(t,["totalTokens"]);return r!=null&&f(e,["totalTokens"],r),e}function _A(t,e){const i={},r=d(e,["model"]);return r!=null&&f(i,["_url","name"],Le(t,r)),i}function wA(t,e){const i={},r=d(e,["model"]);return r!=null&&f(i,["_url","name"],Le(t,r)),i}function SA(t){const e={},i=d(t,["sdkHttpResponse"]);return i!=null&&f(e,["sdkHttpResponse"],i),e}function EA(t){const e={},i=d(t,["sdkHttpResponse"]);return i!=null&&f(e,["sdkHttpResponse"],i),e}function TA(t,e){const i={},r=d(t,["outputGcsUri"]);e!==void 0&&r!=null&&f(e,["parameters","storageUri"],r);const o=d(t,["negativePrompt"]);e!==void 0&&o!=null&&f(e,["parameters","negativePrompt"],o);const l=d(t,["numberOfImages"]);e!==void 0&&l!=null&&f(e,["parameters","sampleCount"],l);const c=d(t,["aspectRatio"]);e!==void 0&&c!=null&&f(e,["parameters","aspectRatio"],c);const p=d(t,["guidanceScale"]);e!==void 0&&p!=null&&f(e,["parameters","guidanceScale"],p);const v=d(t,["seed"]);e!==void 0&&v!=null&&f(e,["parameters","seed"],v);const g=d(t,["safetyFilterLevel"]);e!==void 0&&g!=null&&f(e,["parameters","safetySetting"],g);const x=d(t,["personGeneration"]);e!==void 0&&x!=null&&f(e,["parameters","personGeneration"],x);const b=d(t,["includeSafetyAttributes"]);e!==void 0&&b!=null&&f(e,["parameters","includeSafetyAttributes"],b);const _=d(t,["includeRaiReason"]);e!==void 0&&_!=null&&f(e,["parameters","includeRaiReason"],_);const S=d(t,["language"]);e!==void 0&&S!=null&&f(e,["parameters","language"],S);const T=d(t,["outputMimeType"]);e!==void 0&&T!=null&&f(e,["parameters","outputOptions","mimeType"],T);const C=d(t,["outputCompressionQuality"]);e!==void 0&&C!=null&&f(e,["parameters","outputOptions","compressionQuality"],C);const N=d(t,["addWatermark"]);e!==void 0&&N!=null&&f(e,["parameters","addWatermark"],N);const D=d(t,["labels"]);e!==void 0&&D!=null&&f(e,["labels"],D);const H=d(t,["editMode"]);e!==void 0&&H!=null&&f(e,["parameters","editMode"],H);const U=d(t,["baseSteps"]);return e!==void 0&&U!=null&&f(e,["parameters","editConfig","baseSteps"],U),i}function AA(t,e){const i={},r=d(e,["model"]);r!=null&&f(i,["_url","model"],Le(t,r));const o=d(e,["prompt"]);o!=null&&f(i,["instances[0]","prompt"],o);const l=d(e,["referenceImages"]);if(l!=null){let p=l;Array.isArray(p)&&(p=p.map(v=>CN(v))),f(i,["instances[0]","referenceImages"],p)}const c=d(e,["config"]);return c!=null&&TA(c,i),i}function NA(t){const e={},i=d(t,["sdkHttpResponse"]);i!=null&&f(e,["sdkHttpResponse"],i);const r=d(t,["predictions"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(l=>ll(l))),f(e,["generatedImages"],o)}return e}function CA(t,e){const i={},r=d(t,["taskType"]);e!==void 0&&r!=null&&f(e,["requests[]","taskType"],r);const o=d(t,["title"]);e!==void 0&&o!=null&&f(e,["requests[]","title"],o);const l=d(t,["outputDimensionality"]);if(e!==void 0&&l!=null&&f(e,["requests[]","outputDimensionality"],l),d(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(d(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return i}function RA(t,e){const i={},r=d(t,["taskType"]);e!==void 0&&r!=null&&f(e,["instances[]","task_type"],r);const o=d(t,["title"]);e!==void 0&&o!=null&&f(e,["instances[]","title"],o);const l=d(t,["outputDimensionality"]);e!==void 0&&l!=null&&f(e,["parameters","outputDimensionality"],l);const c=d(t,["mimeType"]);e!==void 0&&c!=null&&f(e,["instances[]","mimeType"],c);const p=d(t,["autoTruncate"]);return e!==void 0&&p!=null&&f(e,["parameters","autoTruncate"],p),i}function kA(t,e){const i={},r=d(e,["model"]);r!=null&&f(i,["_url","model"],Le(t,r));const o=d(e,["contents"]);if(o!=null){let p=Td(t,o);Array.isArray(p)&&(p=p.map(v=>v)),f(i,["requests[]","content"],p)}const l=d(e,["config"]);l!=null&&CA(l,i);const c=d(e,["model"]);return c!==void 0&&f(i,["requests[]","model"],Le(t,c)),i}function IA(t,e){const i={},r=d(e,["model"]);r!=null&&f(i,["_url","model"],Le(t,r));const o=d(e,["contents"]);if(o!=null){let c=Td(t,o);Array.isArray(c)&&(c=c.map(p=>p)),f(i,["instances[]","content"],c)}const l=d(e,["config"]);return l!=null&&RA(l,i),i}function DA(t){const e={},i=d(t,["sdkHttpResponse"]);i!=null&&f(e,["sdkHttpResponse"],i);const r=d(t,["embeddings"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(c=>c)),f(e,["embeddings"],l)}const o=d(t,["metadata"]);return o!=null&&f(e,["metadata"],o),e}function MA(t){const e={},i=d(t,["sdkHttpResponse"]);i!=null&&f(e,["sdkHttpResponse"],i);const r=d(t,["predictions[]","embeddings"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(c=>fA(c))),f(e,["embeddings"],l)}const o=d(t,["metadata"]);return o!=null&&f(e,["metadata"],o),e}function UA(t){const e={},i=d(t,["endpoint"]);i!=null&&f(e,["name"],i);const r=d(t,["deployedModelId"]);return r!=null&&f(e,["deployedModelId"],r),e}function PA(t){const e={};if(d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=d(t,["fileUri"]);i!=null&&f(e,["fileUri"],i);const r=d(t,["mimeType"]);return r!=null&&f(e,["mimeType"],r),e}function LA(t){const e={},i=d(t,["id"]);i!=null&&f(e,["id"],i);const r=d(t,["args"]);r!=null&&f(e,["args"],r);const o=d(t,["name"]);if(o!=null&&f(e,["name"],o),d(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(d(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function OA(t){const e={},i=d(t,["mode"]);i!=null&&f(e,["mode"],i);const r=d(t,["allowedFunctionNames"]);if(r!=null&&f(e,["allowedFunctionNames"],r),d(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function jA(t){const e={};if(d(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const i=d(t,["description"]);i!=null&&f(e,["description"],i);const r=d(t,["name"]);r!=null&&f(e,["name"],r);const o=d(t,["parameters"]);o!=null&&f(e,["parameters"],o);const l=d(t,["parametersJsonSchema"]);l!=null&&f(e,["parametersJsonSchema"],l);const c=d(t,["response"]);c!=null&&f(e,["response"],c);const p=d(t,["responseJsonSchema"]);return p!=null&&f(e,["responseJsonSchema"],p),e}function GA(t,e,i){const r={},o=d(e,["systemInstruction"]);i!==void 0&&o!=null&&f(i,["systemInstruction"],ol(It(o)));const l=d(e,["temperature"]);l!=null&&f(r,["temperature"],l);const c=d(e,["topP"]);c!=null&&f(r,["topP"],c);const p=d(e,["topK"]);p!=null&&f(r,["topK"],p);const v=d(e,["candidateCount"]);v!=null&&f(r,["candidateCount"],v);const g=d(e,["maxOutputTokens"]);g!=null&&f(r,["maxOutputTokens"],g);const x=d(e,["stopSequences"]);x!=null&&f(r,["stopSequences"],x);const b=d(e,["responseLogprobs"]);b!=null&&f(r,["responseLogprobs"],b);const _=d(e,["logprobs"]);_!=null&&f(r,["logprobs"],_);const S=d(e,["presencePenalty"]);S!=null&&f(r,["presencePenalty"],S);const T=d(e,["frequencyPenalty"]);T!=null&&f(r,["frequencyPenalty"],T);const C=d(e,["seed"]);C!=null&&f(r,["seed"],C);const N=d(e,["responseMimeType"]);N!=null&&f(r,["responseMimeType"],N);const D=d(e,["responseSchema"]);D!=null&&f(r,["responseSchema"],Ad(D));const H=d(e,["responseJsonSchema"]);if(H!=null&&f(r,["responseJsonSchema"],H),d(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(d(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const U=d(e,["safetySettings"]);if(i!==void 0&&U!=null){let _e=U;Array.isArray(_e)&&(_e=_e.map(qe=>RN(qe))),f(i,["safetySettings"],_e)}const J=d(e,["tools"]);if(i!==void 0&&J!=null){let _e=gr(J);Array.isArray(_e)&&(_e=_e.map(qe=>LN(mr(qe)))),f(i,["tools"],_e)}const X=d(e,["toolConfig"]);if(i!==void 0&&X!=null&&f(i,["toolConfig"],PN(X)),d(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const F=d(e,["cachedContent"]);i!==void 0&&F!=null&&f(i,["cachedContent"],si(t,F));const K=d(e,["responseModalities"]);K!=null&&f(r,["responseModalities"],K);const ce=d(e,["mediaResolution"]);ce!=null&&f(r,["mediaResolution"],ce);const Z=d(e,["speechConfig"]);if(Z!=null&&f(r,["speechConfig"],Nd(Z)),d(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const me=d(e,["thinkingConfig"]);me!=null&&f(r,["thinkingConfig"],me);const Ee=d(e,["imageConfig"]);Ee!=null&&f(r,["imageConfig"],fN(Ee));const Me=d(e,["enableEnhancedCivicAnswers"]);return Me!=null&&f(r,["enableEnhancedCivicAnswers"],Me),r}function HA(t,e,i){const r={},o=d(e,["systemInstruction"]);i!==void 0&&o!=null&&f(i,["systemInstruction"],It(o));const l=d(e,["temperature"]);l!=null&&f(r,["temperature"],l);const c=d(e,["topP"]);c!=null&&f(r,["topP"],c);const p=d(e,["topK"]);p!=null&&f(r,["topK"],p);const v=d(e,["candidateCount"]);v!=null&&f(r,["candidateCount"],v);const g=d(e,["maxOutputTokens"]);g!=null&&f(r,["maxOutputTokens"],g);const x=d(e,["stopSequences"]);x!=null&&f(r,["stopSequences"],x);const b=d(e,["responseLogprobs"]);b!=null&&f(r,["responseLogprobs"],b);const _=d(e,["logprobs"]);_!=null&&f(r,["logprobs"],_);const S=d(e,["presencePenalty"]);S!=null&&f(r,["presencePenalty"],S);const T=d(e,["frequencyPenalty"]);T!=null&&f(r,["frequencyPenalty"],T);const C=d(e,["seed"]);C!=null&&f(r,["seed"],C);const N=d(e,["responseMimeType"]);N!=null&&f(r,["responseMimeType"],N);const D=d(e,["responseSchema"]);D!=null&&f(r,["responseSchema"],Ad(D));const H=d(e,["responseJsonSchema"]);H!=null&&f(r,["responseJsonSchema"],H);const U=d(e,["routingConfig"]);U!=null&&f(r,["routingConfig"],U);const J=d(e,["modelSelectionConfig"]);J!=null&&f(r,["modelConfig"],J);const X=d(e,["safetySettings"]);if(i!==void 0&&X!=null){let j=X;Array.isArray(j)&&(j=j.map(Y=>Y)),f(i,["safetySettings"],j)}const F=d(e,["tools"]);if(i!==void 0&&F!=null){let j=gr(F);Array.isArray(j)&&(j=j.map(Y=>Tv(mr(Y)))),f(i,["tools"],j)}const K=d(e,["toolConfig"]);i!==void 0&&K!=null&&f(i,["toolConfig"],K);const ce=d(e,["labels"]);i!==void 0&&ce!=null&&f(i,["labels"],ce);const Z=d(e,["cachedContent"]);i!==void 0&&Z!=null&&f(i,["cachedContent"],si(t,Z));const me=d(e,["responseModalities"]);me!=null&&f(r,["responseModalities"],me);const Ee=d(e,["mediaResolution"]);Ee!=null&&f(r,["mediaResolution"],Ee);const Me=d(e,["speechConfig"]);Me!=null&&f(r,["speechConfig"],Nd(Me));const _e=d(e,["audioTimestamp"]);_e!=null&&f(r,["audioTimestamp"],_e);const qe=d(e,["thinkingConfig"]);qe!=null&&f(r,["thinkingConfig"],qe);const rt=d(e,["imageConfig"]);if(rt!=null&&f(r,["imageConfig"],hN(rt)),d(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return r}function S0(t,e){const i={},r=d(e,["model"]);r!=null&&f(i,["_url","model"],Le(t,r));const o=d(e,["contents"]);if(o!=null){let c=vn(o);Array.isArray(c)&&(c=c.map(p=>ol(p))),f(i,["contents"],c)}const l=d(e,["config"]);return l!=null&&f(i,["generationConfig"],GA(t,l,i)),i}function E0(t,e){const i={},r=d(e,["model"]);r!=null&&f(i,["_url","model"],Le(t,r));const o=d(e,["contents"]);if(o!=null){let c=vn(o);Array.isArray(c)&&(c=c.map(p=>p)),f(i,["contents"],c)}const l=d(e,["config"]);return l!=null&&f(i,["generationConfig"],HA(t,l,i)),i}function T0(t){const e={},i=d(t,["sdkHttpResponse"]);i!=null&&f(e,["sdkHttpResponse"],i);const r=d(t,["candidates"]);if(r!=null){let v=r;Array.isArray(v)&&(v=v.map(g=>lA(g))),f(e,["candidates"],v)}const o=d(t,["modelVersion"]);o!=null&&f(e,["modelVersion"],o);const l=d(t,["promptFeedback"]);l!=null&&f(e,["promptFeedback"],l);const c=d(t,["responseId"]);c!=null&&f(e,["responseId"],c);const p=d(t,["usageMetadata"]);return p!=null&&f(e,["usageMetadata"],p),e}function A0(t){const e={},i=d(t,["sdkHttpResponse"]);i!=null&&f(e,["sdkHttpResponse"],i);const r=d(t,["candidates"]);if(r!=null){let g=r;Array.isArray(g)&&(g=g.map(x=>x)),f(e,["candidates"],g)}const o=d(t,["createTime"]);o!=null&&f(e,["createTime"],o);const l=d(t,["modelVersion"]);l!=null&&f(e,["modelVersion"],l);const c=d(t,["promptFeedback"]);c!=null&&f(e,["promptFeedback"],c);const p=d(t,["responseId"]);p!=null&&f(e,["responseId"],p);const v=d(t,["usageMetadata"]);return v!=null&&f(e,["usageMetadata"],v),e}function BA(t,e){const i={};if(d(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(d(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const r=d(t,["numberOfImages"]);e!==void 0&&r!=null&&f(e,["parameters","sampleCount"],r);const o=d(t,["aspectRatio"]);e!==void 0&&o!=null&&f(e,["parameters","aspectRatio"],o);const l=d(t,["guidanceScale"]);if(e!==void 0&&l!=null&&f(e,["parameters","guidanceScale"],l),d(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const c=d(t,["safetyFilterLevel"]);e!==void 0&&c!=null&&f(e,["parameters","safetySetting"],c);const p=d(t,["personGeneration"]);e!==void 0&&p!=null&&f(e,["parameters","personGeneration"],p);const v=d(t,["includeSafetyAttributes"]);e!==void 0&&v!=null&&f(e,["parameters","includeSafetyAttributes"],v);const g=d(t,["includeRaiReason"]);e!==void 0&&g!=null&&f(e,["parameters","includeRaiReason"],g);const x=d(t,["language"]);e!==void 0&&x!=null&&f(e,["parameters","language"],x);const b=d(t,["outputMimeType"]);e!==void 0&&b!=null&&f(e,["parameters","outputOptions","mimeType"],b);const _=d(t,["outputCompressionQuality"]);if(e!==void 0&&_!=null&&f(e,["parameters","outputOptions","compressionQuality"],_),d(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(d(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const S=d(t,["imageSize"]);if(e!==void 0&&S!=null&&f(e,["parameters","sampleImageSize"],S),d(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return i}function qA(t,e){const i={},r=d(t,["outputGcsUri"]);e!==void 0&&r!=null&&f(e,["parameters","storageUri"],r);const o=d(t,["negativePrompt"]);e!==void 0&&o!=null&&f(e,["parameters","negativePrompt"],o);const l=d(t,["numberOfImages"]);e!==void 0&&l!=null&&f(e,["parameters","sampleCount"],l);const c=d(t,["aspectRatio"]);e!==void 0&&c!=null&&f(e,["parameters","aspectRatio"],c);const p=d(t,["guidanceScale"]);e!==void 0&&p!=null&&f(e,["parameters","guidanceScale"],p);const v=d(t,["seed"]);e!==void 0&&v!=null&&f(e,["parameters","seed"],v);const g=d(t,["safetyFilterLevel"]);e!==void 0&&g!=null&&f(e,["parameters","safetySetting"],g);const x=d(t,["personGeneration"]);e!==void 0&&x!=null&&f(e,["parameters","personGeneration"],x);const b=d(t,["includeSafetyAttributes"]);e!==void 0&&b!=null&&f(e,["parameters","includeSafetyAttributes"],b);const _=d(t,["includeRaiReason"]);e!==void 0&&_!=null&&f(e,["parameters","includeRaiReason"],_);const S=d(t,["language"]);e!==void 0&&S!=null&&f(e,["parameters","language"],S);const T=d(t,["outputMimeType"]);e!==void 0&&T!=null&&f(e,["parameters","outputOptions","mimeType"],T);const C=d(t,["outputCompressionQuality"]);e!==void 0&&C!=null&&f(e,["parameters","outputOptions","compressionQuality"],C);const N=d(t,["addWatermark"]);e!==void 0&&N!=null&&f(e,["parameters","addWatermark"],N);const D=d(t,["labels"]);e!==void 0&&D!=null&&f(e,["labels"],D);const H=d(t,["imageSize"]);e!==void 0&&H!=null&&f(e,["parameters","sampleImageSize"],H);const U=d(t,["enhancePrompt"]);return e!==void 0&&U!=null&&f(e,["parameters","enhancePrompt"],U),i}function VA(t,e){const i={},r=d(e,["model"]);r!=null&&f(i,["_url","model"],Le(t,r));const o=d(e,["prompt"]);o!=null&&f(i,["instances[0]","prompt"],o);const l=d(e,["config"]);return l!=null&&BA(l,i),i}function zA(t,e){const i={},r=d(e,["model"]);r!=null&&f(i,["_url","model"],Le(t,r));const o=d(e,["prompt"]);o!=null&&f(i,["instances[0]","prompt"],o);const l=d(e,["config"]);return l!=null&&qA(l,i),i}function FA(t){const e={},i=d(t,["sdkHttpResponse"]);i!=null&&f(e,["sdkHttpResponse"],i);const r=d(t,["predictions"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(c=>iN(c))),f(e,["generatedImages"],l)}const o=d(t,["positivePromptSafetyAttributes"]);return o!=null&&f(e,["positivePromptSafetyAttributes"],Sv(o)),e}function $A(t){const e={},i=d(t,["sdkHttpResponse"]);i!=null&&f(e,["sdkHttpResponse"],i);const r=d(t,["predictions"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(c=>ll(c))),f(e,["generatedImages"],l)}const o=d(t,["positivePromptSafetyAttributes"]);return o!=null&&f(e,["positivePromptSafetyAttributes"],Ev(o)),e}function JA(t,e){const i={},r=d(t,["numberOfVideos"]);if(e!==void 0&&r!=null&&f(e,["parameters","sampleCount"],r),d(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(d(t,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const o=d(t,["durationSeconds"]);if(e!==void 0&&o!=null&&f(e,["parameters","durationSeconds"],o),d(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const l=d(t,["aspectRatio"]);e!==void 0&&l!=null&&f(e,["parameters","aspectRatio"],l);const c=d(t,["resolution"]);e!==void 0&&c!=null&&f(e,["parameters","resolution"],c);const p=d(t,["personGeneration"]);if(e!==void 0&&p!=null&&f(e,["parameters","personGeneration"],p),d(t,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const v=d(t,["negativePrompt"]);e!==void 0&&v!=null&&f(e,["parameters","negativePrompt"],v);const g=d(t,["enhancePrompt"]);if(e!==void 0&&g!=null&&f(e,["parameters","enhancePrompt"],g),d(t,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const x=d(t,["lastFrame"]);e!==void 0&&x!=null&&f(e,["instances[0]","lastFrame"],ul(x));const b=d(t,["referenceImages"]);if(e!==void 0&&b!=null){let _=b;Array.isArray(_)&&(_=_.map(S=>YN(S))),f(e,["instances[0]","referenceImages"],_)}if(d(t,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(d(t,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return i}function KA(t,e){const i={},r=d(t,["numberOfVideos"]);e!==void 0&&r!=null&&f(e,["parameters","sampleCount"],r);const o=d(t,["outputGcsUri"]);e!==void 0&&o!=null&&f(e,["parameters","storageUri"],o);const l=d(t,["fps"]);e!==void 0&&l!=null&&f(e,["parameters","fps"],l);const c=d(t,["durationSeconds"]);e!==void 0&&c!=null&&f(e,["parameters","durationSeconds"],c);const p=d(t,["seed"]);e!==void 0&&p!=null&&f(e,["parameters","seed"],p);const v=d(t,["aspectRatio"]);e!==void 0&&v!=null&&f(e,["parameters","aspectRatio"],v);const g=d(t,["resolution"]);e!==void 0&&g!=null&&f(e,["parameters","resolution"],g);const x=d(t,["personGeneration"]);e!==void 0&&x!=null&&f(e,["parameters","personGeneration"],x);const b=d(t,["pubsubTopic"]);e!==void 0&&b!=null&&f(e,["parameters","pubsubTopic"],b);const _=d(t,["negativePrompt"]);e!==void 0&&_!=null&&f(e,["parameters","negativePrompt"],_);const S=d(t,["enhancePrompt"]);e!==void 0&&S!=null&&f(e,["parameters","enhancePrompt"],S);const T=d(t,["generateAudio"]);e!==void 0&&T!=null&&f(e,["parameters","generateAudio"],T);const C=d(t,["lastFrame"]);e!==void 0&&C!=null&&f(e,["instances[0]","lastFrame"],Rn(C));const N=d(t,["referenceImages"]);if(e!==void 0&&N!=null){let U=N;Array.isArray(U)&&(U=U.map(J=>XN(J))),f(e,["instances[0]","referenceImages"],U)}const D=d(t,["mask"]);e!==void 0&&D!=null&&f(e,["instances[0]","mask"],KN(D));const H=d(t,["compressionQuality"]);return e!==void 0&&H!=null&&f(e,["parameters","compressionQuality"],H),i}function YA(t){const e={},i=d(t,["name"]);i!=null&&f(e,["name"],i);const r=d(t,["metadata"]);r!=null&&f(e,["metadata"],r);const o=d(t,["done"]);o!=null&&f(e,["done"],o);const l=d(t,["error"]);l!=null&&f(e,["error"],l);const c=d(t,["response","generateVideoResponse"]);return c!=null&&f(e,["response"],ZA(c)),e}function XA(t){const e={},i=d(t,["name"]);i!=null&&f(e,["name"],i);const r=d(t,["metadata"]);r!=null&&f(e,["metadata"],r);const o=d(t,["done"]);o!=null&&f(e,["done"],o);const l=d(t,["error"]);l!=null&&f(e,["error"],l);const c=d(t,["response"]);return c!=null&&f(e,["response"],eN(c)),e}function WA(t,e){const i={},r=d(e,["model"]);r!=null&&f(i,["_url","model"],Le(t,r));const o=d(e,["prompt"]);o!=null&&f(i,["instances[0]","prompt"],o);const l=d(e,["image"]);l!=null&&f(i,["instances[0]","image"],ul(l));const c=d(e,["video"]);c!=null&&f(i,["instances[0]","video"],Av(c));const p=d(e,["source"]);p!=null&&tN(p,i);const v=d(e,["config"]);return v!=null&&JA(v,i),i}function QA(t,e){const i={},r=d(e,["model"]);r!=null&&f(i,["_url","model"],Le(t,r));const o=d(e,["prompt"]);o!=null&&f(i,["instances[0]","prompt"],o);const l=d(e,["image"]);l!=null&&f(i,["instances[0]","image"],Rn(l));const c=d(e,["video"]);c!=null&&f(i,["instances[0]","video"],Nv(c));const p=d(e,["source"]);p!=null&&nN(p,i);const v=d(e,["config"]);return v!=null&&KA(v,i),i}function ZA(t){const e={},i=d(t,["generatedSamples"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(c=>rN(c))),f(e,["generatedVideos"],l)}const r=d(t,["raiMediaFilteredCount"]);r!=null&&f(e,["raiMediaFilteredCount"],r);const o=d(t,["raiMediaFilteredReasons"]);return o!=null&&f(e,["raiMediaFilteredReasons"],o),e}function eN(t){const e={},i=d(t,["videos"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(c=>aN(c))),f(e,["generatedVideos"],l)}const r=d(t,["raiMediaFilteredCount"]);r!=null&&f(e,["raiMediaFilteredCount"],r);const o=d(t,["raiMediaFilteredReasons"]);return o!=null&&f(e,["raiMediaFilteredReasons"],o),e}function tN(t,e){const i={},r=d(t,["prompt"]);e!==void 0&&r!=null&&f(e,["instances[0]","prompt"],r);const o=d(t,["image"]);e!==void 0&&o!=null&&f(e,["instances[0]","image"],ul(o));const l=d(t,["video"]);return e!==void 0&&l!=null&&f(e,["instances[0]","video"],Av(l)),i}function nN(t,e){const i={},r=d(t,["prompt"]);e!==void 0&&r!=null&&f(e,["instances[0]","prompt"],r);const o=d(t,["image"]);e!==void 0&&o!=null&&f(e,["instances[0]","image"],Rn(o));const l=d(t,["video"]);return e!==void 0&&l!=null&&f(e,["instances[0]","video"],Nv(l)),i}function iN(t){const e={},i=d(t,["_self"]);i!=null&&f(e,["image"],pN(i));const r=d(t,["raiFilteredReason"]);r!=null&&f(e,["raiFilteredReason"],r);const o=d(t,["_self"]);return o!=null&&f(e,["safetyAttributes"],Sv(o)),e}function ll(t){const e={},i=d(t,["_self"]);i!=null&&f(e,["image"],wv(i));const r=d(t,["raiFilteredReason"]);r!=null&&f(e,["raiFilteredReason"],r);const o=d(t,["_self"]);o!=null&&f(e,["safetyAttributes"],Ev(o));const l=d(t,["prompt"]);return l!=null&&f(e,["enhancedPrompt"],l),e}function sN(t){const e={},i=d(t,["_self"]);i!=null&&f(e,["mask"],wv(i));const r=d(t,["labels"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(l=>l)),f(e,["labels"],o)}return e}function rN(t){const e={},i=d(t,["video"]);return i!=null&&f(e,["video"],$N(i)),e}function aN(t){const e={},i=d(t,["_self"]);return i!=null&&f(e,["video"],JN(i)),e}function oN(t){const e={},i=d(t,["modelSelectionConfig"]);i!=null&&f(e,["modelConfig"],i);const r=d(t,["responseJsonSchema"]);r!=null&&f(e,["responseJsonSchema"],r);const o=d(t,["audioTimestamp"]);o!=null&&f(e,["audioTimestamp"],o);const l=d(t,["candidateCount"]);l!=null&&f(e,["candidateCount"],l);const c=d(t,["enableAffectiveDialog"]);c!=null&&f(e,["enableAffectiveDialog"],c);const p=d(t,["frequencyPenalty"]);p!=null&&f(e,["frequencyPenalty"],p);const v=d(t,["logprobs"]);v!=null&&f(e,["logprobs"],v);const g=d(t,["maxOutputTokens"]);g!=null&&f(e,["maxOutputTokens"],g);const x=d(t,["mediaResolution"]);x!=null&&f(e,["mediaResolution"],x);const b=d(t,["presencePenalty"]);b!=null&&f(e,["presencePenalty"],b);const _=d(t,["responseLogprobs"]);_!=null&&f(e,["responseLogprobs"],_);const S=d(t,["responseMimeType"]);S!=null&&f(e,["responseMimeType"],S);const T=d(t,["responseModalities"]);T!=null&&f(e,["responseModalities"],T);const C=d(t,["responseSchema"]);C!=null&&f(e,["responseSchema"],C);const N=d(t,["routingConfig"]);N!=null&&f(e,["routingConfig"],N);const D=d(t,["seed"]);D!=null&&f(e,["seed"],D);const H=d(t,["speechConfig"]);H!=null&&f(e,["speechConfig"],H);const U=d(t,["stopSequences"]);U!=null&&f(e,["stopSequences"],U);const J=d(t,["temperature"]);J!=null&&f(e,["temperature"],J);const X=d(t,["thinkingConfig"]);X!=null&&f(e,["thinkingConfig"],X);const F=d(t,["topK"]);F!=null&&f(e,["topK"],F);const K=d(t,["topP"]);if(K!=null&&f(e,["topP"],K),d(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function lN(t,e){const i={},r=d(e,["model"]);return r!=null&&f(i,["_url","name"],Le(t,r)),i}function uN(t,e){const i={},r=d(e,["model"]);return r!=null&&f(i,["_url","name"],Le(t,r)),i}function cN(t){const e={};if(d(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const i=d(t,["enableWidget"]);return i!=null&&f(e,["enableWidget"],i),e}function dN(t){const e={};if(d(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(d(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const i=d(t,["timeRangeFilter"]);return i!=null&&f(e,["timeRangeFilter"],i),e}function fN(t){const e={},i=d(t,["aspectRatio"]);i!=null&&f(e,["aspectRatio"],i);const r=d(t,["imageSize"]);if(r!=null&&f(e,["imageSize"],r),d(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(d(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function hN(t){const e={},i=d(t,["aspectRatio"]);i!=null&&f(e,["aspectRatio"],i);const r=d(t,["imageSize"]);r!=null&&f(e,["imageSize"],r);const o=d(t,["outputMimeType"]);o!=null&&f(e,["imageOutputOptions","mimeType"],o);const l=d(t,["outputCompressionQuality"]);return l!=null&&f(e,["imageOutputOptions","compressionQuality"],l),e}function pN(t){const e={},i=d(t,["bytesBase64Encoded"]);i!=null&&f(e,["imageBytes"],Pi(i));const r=d(t,["mimeType"]);return r!=null&&f(e,["mimeType"],r),e}function wv(t){const e={},i=d(t,["gcsUri"]);i!=null&&f(e,["gcsUri"],i);const r=d(t,["bytesBase64Encoded"]);r!=null&&f(e,["imageBytes"],Pi(r));const o=d(t,["mimeType"]);return o!=null&&f(e,["mimeType"],o),e}function ul(t){const e={};if(d(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const i=d(t,["imageBytes"]);i!=null&&f(e,["bytesBase64Encoded"],Pi(i));const r=d(t,["mimeType"]);return r!=null&&f(e,["mimeType"],r),e}function Rn(t){const e={},i=d(t,["gcsUri"]);i!=null&&f(e,["gcsUri"],i);const r=d(t,["imageBytes"]);r!=null&&f(e,["bytesBase64Encoded"],Pi(r));const o=d(t,["mimeType"]);return o!=null&&f(e,["mimeType"],o),e}function mN(t,e,i){const r={},o=d(e,["pageSize"]);i!==void 0&&o!=null&&f(i,["_query","pageSize"],o);const l=d(e,["pageToken"]);i!==void 0&&l!=null&&f(i,["_query","pageToken"],l);const c=d(e,["filter"]);i!==void 0&&c!=null&&f(i,["_query","filter"],c);const p=d(e,["queryBase"]);return i!==void 0&&p!=null&&f(i,["_url","models_url"],mv(t,p)),r}function gN(t,e,i){const r={},o=d(e,["pageSize"]);i!==void 0&&o!=null&&f(i,["_query","pageSize"],o);const l=d(e,["pageToken"]);i!==void 0&&l!=null&&f(i,["_query","pageToken"],l);const c=d(e,["filter"]);i!==void 0&&c!=null&&f(i,["_query","filter"],c);const p=d(e,["queryBase"]);return i!==void 0&&p!=null&&f(i,["_url","models_url"],mv(t,p)),r}function vN(t,e){const i={},r=d(e,["config"]);return r!=null&&mN(t,r,i),i}function yN(t,e){const i={},r=d(e,["config"]);return r!=null&&gN(t,r,i),i}function xN(t){const e={},i=d(t,["sdkHttpResponse"]);i!=null&&f(e,["sdkHttpResponse"],i);const r=d(t,["nextPageToken"]);r!=null&&f(e,["nextPageToken"],r);const o=d(t,["_self"]);if(o!=null){let l=gv(o);Array.isArray(l)&&(l=l.map(c=>od(c))),f(e,["models"],l)}return e}function bN(t){const e={},i=d(t,["sdkHttpResponse"]);i!=null&&f(e,["sdkHttpResponse"],i);const r=d(t,["nextPageToken"]);r!=null&&f(e,["nextPageToken"],r);const o=d(t,["_self"]);if(o!=null){let l=gv(o);Array.isArray(l)&&(l=l.map(c=>ld(c))),f(e,["models"],l)}return e}function _N(t){const e={},i=d(t,["maskMode"]);i!=null&&f(e,["maskMode"],i);const r=d(t,["segmentationClasses"]);r!=null&&f(e,["maskClasses"],r);const o=d(t,["maskDilation"]);return o!=null&&f(e,["dilation"],o),e}function od(t){const e={},i=d(t,["name"]);i!=null&&f(e,["name"],i);const r=d(t,["displayName"]);r!=null&&f(e,["displayName"],r);const o=d(t,["description"]);o!=null&&f(e,["description"],o);const l=d(t,["version"]);l!=null&&f(e,["version"],l);const c=d(t,["_self"]);c!=null&&f(e,["tunedModelInfo"],ON(c));const p=d(t,["inputTokenLimit"]);p!=null&&f(e,["inputTokenLimit"],p);const v=d(t,["outputTokenLimit"]);v!=null&&f(e,["outputTokenLimit"],v);const g=d(t,["supportedGenerationMethods"]);g!=null&&f(e,["supportedActions"],g);const x=d(t,["temperature"]);x!=null&&f(e,["temperature"],x);const b=d(t,["maxTemperature"]);b!=null&&f(e,["maxTemperature"],b);const _=d(t,["topP"]);_!=null&&f(e,["topP"],_);const S=d(t,["topK"]);S!=null&&f(e,["topK"],S);const T=d(t,["thinking"]);return T!=null&&f(e,["thinking"],T),e}function ld(t){const e={},i=d(t,["name"]);i!=null&&f(e,["name"],i);const r=d(t,["displayName"]);r!=null&&f(e,["displayName"],r);const o=d(t,["description"]);o!=null&&f(e,["description"],o);const l=d(t,["versionId"]);l!=null&&f(e,["version"],l);const c=d(t,["deployedModels"]);if(c!=null){let b=c;Array.isArray(b)&&(b=b.map(_=>UA(_))),f(e,["endpoints"],b)}const p=d(t,["labels"]);p!=null&&f(e,["labels"],p);const v=d(t,["_self"]);v!=null&&f(e,["tunedModelInfo"],jN(v));const g=d(t,["defaultCheckpointId"]);g!=null&&f(e,["defaultCheckpointId"],g);const x=d(t,["checkpoints"]);if(x!=null){let b=x;Array.isArray(b)&&(b=b.map(_=>_)),f(e,["checkpoints"],b)}return e}function wN(t){const e={},i=d(t,["mediaResolution"]);i!=null&&f(e,["mediaResolution"],i);const r=d(t,["codeExecutionResult"]);r!=null&&f(e,["codeExecutionResult"],r);const o=d(t,["executableCode"]);o!=null&&f(e,["executableCode"],o);const l=d(t,["fileData"]);l!=null&&f(e,["fileData"],PA(l));const c=d(t,["functionCall"]);c!=null&&f(e,["functionCall"],LA(c));const p=d(t,["functionResponse"]);p!=null&&f(e,["functionResponse"],p);const v=d(t,["inlineData"]);v!=null&&f(e,["inlineData"],oA(v));const g=d(t,["text"]);g!=null&&f(e,["text"],g);const x=d(t,["thought"]);x!=null&&f(e,["thought"],x);const b=d(t,["thoughtSignature"]);b!=null&&f(e,["thoughtSignature"],b);const _=d(t,["videoMetadata"]);return _!=null&&f(e,["videoMetadata"],_),e}function SN(t){const e={},i=d(t,["productImage"]);return i!=null&&f(e,["image"],Rn(i)),e}function EN(t,e){const i={},r=d(t,["numberOfImages"]);e!==void 0&&r!=null&&f(e,["parameters","sampleCount"],r);const o=d(t,["baseSteps"]);e!==void 0&&o!=null&&f(e,["parameters","baseSteps"],o);const l=d(t,["outputGcsUri"]);e!==void 0&&l!=null&&f(e,["parameters","storageUri"],l);const c=d(t,["seed"]);e!==void 0&&c!=null&&f(e,["parameters","seed"],c);const p=d(t,["safetyFilterLevel"]);e!==void 0&&p!=null&&f(e,["parameters","safetySetting"],p);const v=d(t,["personGeneration"]);e!==void 0&&v!=null&&f(e,["parameters","personGeneration"],v);const g=d(t,["addWatermark"]);e!==void 0&&g!=null&&f(e,["parameters","addWatermark"],g);const x=d(t,["outputMimeType"]);e!==void 0&&x!=null&&f(e,["parameters","outputOptions","mimeType"],x);const b=d(t,["outputCompressionQuality"]);e!==void 0&&b!=null&&f(e,["parameters","outputOptions","compressionQuality"],b);const _=d(t,["enhancePrompt"]);e!==void 0&&_!=null&&f(e,["parameters","enhancePrompt"],_);const S=d(t,["labels"]);return e!==void 0&&S!=null&&f(e,["labels"],S),i}function TN(t,e){const i={},r=d(e,["model"]);r!=null&&f(i,["_url","model"],Le(t,r));const o=d(e,["source"]);o!=null&&NN(o,i);const l=d(e,["config"]);return l!=null&&EN(l,i),i}function AN(t){const e={},i=d(t,["predictions"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(o=>ll(o))),f(e,["generatedImages"],r)}return e}function NN(t,e){const i={},r=d(t,["prompt"]);e!==void 0&&r!=null&&f(e,["instances[0]","prompt"],r);const o=d(t,["personImage"]);e!==void 0&&o!=null&&f(e,["instances[0]","personImage","image"],Rn(o));const l=d(t,["productImages"]);if(e!==void 0&&l!=null){let c=l;Array.isArray(c)&&(c=c.map(p=>SN(p))),f(e,["instances[0]","productImages"],c)}return i}function CN(t){const e={},i=d(t,["referenceImage"]);i!=null&&f(e,["referenceImage"],Rn(i));const r=d(t,["referenceId"]);r!=null&&f(e,["referenceId"],r);const o=d(t,["referenceType"]);o!=null&&f(e,["referenceType"],o);const l=d(t,["maskImageConfig"]);l!=null&&f(e,["maskImageConfig"],_N(l));const c=d(t,["controlImageConfig"]);c!=null&&f(e,["controlImageConfig"],pA(c));const p=d(t,["styleImageConfig"]);p!=null&&f(e,["styleImageConfig"],p);const v=d(t,["subjectImageConfig"]);return v!=null&&f(e,["subjectImageConfig"],v),e}function Sv(t){const e={},i=d(t,["safetyAttributes","categories"]);i!=null&&f(e,["categories"],i);const r=d(t,["safetyAttributes","scores"]);r!=null&&f(e,["scores"],r);const o=d(t,["contentType"]);return o!=null&&f(e,["contentType"],o),e}function Ev(t){const e={},i=d(t,["safetyAttributes","categories"]);i!=null&&f(e,["categories"],i);const r=d(t,["safetyAttributes","scores"]);r!=null&&f(e,["scores"],r);const o=d(t,["contentType"]);return o!=null&&f(e,["contentType"],o),e}function RN(t){const e={},i=d(t,["category"]);if(i!=null&&f(e,["category"],i),d(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=d(t,["threshold"]);return r!=null&&f(e,["threshold"],r),e}function kN(t){const e={},i=d(t,["image"]);return i!=null&&f(e,["image"],Rn(i)),e}function IN(t,e){const i={},r=d(t,["mode"]);e!==void 0&&r!=null&&f(e,["parameters","mode"],r);const o=d(t,["maxPredictions"]);e!==void 0&&o!=null&&f(e,["parameters","maxPredictions"],o);const l=d(t,["confidenceThreshold"]);e!==void 0&&l!=null&&f(e,["parameters","confidenceThreshold"],l);const c=d(t,["maskDilation"]);e!==void 0&&c!=null&&f(e,["parameters","maskDilation"],c);const p=d(t,["binaryColorThreshold"]);e!==void 0&&p!=null&&f(e,["parameters","binaryColorThreshold"],p);const v=d(t,["labels"]);return e!==void 0&&v!=null&&f(e,["labels"],v),i}function DN(t,e){const i={},r=d(e,["model"]);r!=null&&f(i,["_url","model"],Le(t,r));const o=d(e,["source"]);o!=null&&UN(o,i);const l=d(e,["config"]);return l!=null&&IN(l,i),i}function MN(t){const e={},i=d(t,["predictions"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(o=>sN(o))),f(e,["generatedMasks"],r)}return e}function UN(t,e){const i={},r=d(t,["prompt"]);e!==void 0&&r!=null&&f(e,["instances[0]","prompt"],r);const o=d(t,["image"]);e!==void 0&&o!=null&&f(e,["instances[0]","image"],Rn(o));const l=d(t,["scribbleImage"]);return e!==void 0&&l!=null&&f(e,["instances[0]","scribble"],kN(l)),i}function PN(t){const e={},i=d(t,["functionCallingConfig"]);i!=null&&f(e,["functionCallingConfig"],OA(i));const r=d(t,["retrievalConfig"]);return r!=null&&f(e,["retrievalConfig"],r),e}function LN(t){const e={},i=d(t,["functionDeclarations"]);if(i!=null){let x=i;Array.isArray(x)&&(x=x.map(b=>b)),f(e,["functionDeclarations"],x)}if(d(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=d(t,["googleSearchRetrieval"]);r!=null&&f(e,["googleSearchRetrieval"],r);const o=d(t,["computerUse"]);o!=null&&f(e,["computerUse"],o);const l=d(t,["fileSearch"]);l!=null&&f(e,["fileSearch"],l);const c=d(t,["codeExecution"]);if(c!=null&&f(e,["codeExecution"],c),d(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const p=d(t,["googleMaps"]);p!=null&&f(e,["googleMaps"],cN(p));const v=d(t,["googleSearch"]);v!=null&&f(e,["googleSearch"],dN(v));const g=d(t,["urlContext"]);return g!=null&&f(e,["urlContext"],g),e}function Tv(t){const e={},i=d(t,["functionDeclarations"]);if(i!=null){let b=i;Array.isArray(b)&&(b=b.map(_=>jA(_))),f(e,["functionDeclarations"],b)}const r=d(t,["retrieval"]);r!=null&&f(e,["retrieval"],r);const o=d(t,["googleSearchRetrieval"]);o!=null&&f(e,["googleSearchRetrieval"],o);const l=d(t,["computerUse"]);if(l!=null&&f(e,["computerUse"],l),d(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const c=d(t,["codeExecution"]);c!=null&&f(e,["codeExecution"],c);const p=d(t,["enterpriseWebSearch"]);p!=null&&f(e,["enterpriseWebSearch"],p);const v=d(t,["googleMaps"]);v!=null&&f(e,["googleMaps"],v);const g=d(t,["googleSearch"]);g!=null&&f(e,["googleSearch"],g);const x=d(t,["urlContext"]);return x!=null&&f(e,["urlContext"],x),e}function ON(t){const e={},i=d(t,["baseModel"]);i!=null&&f(e,["baseModel"],i);const r=d(t,["createTime"]);r!=null&&f(e,["createTime"],r);const o=d(t,["updateTime"]);return o!=null&&f(e,["updateTime"],o),e}function jN(t){const e={},i=d(t,["labels","google-vertex-llm-tuning-base-model-id"]);i!=null&&f(e,["baseModel"],i);const r=d(t,["createTime"]);r!=null&&f(e,["createTime"],r);const o=d(t,["updateTime"]);return o!=null&&f(e,["updateTime"],o),e}function GN(t,e){const i={},r=d(t,["displayName"]);e!==void 0&&r!=null&&f(e,["displayName"],r);const o=d(t,["description"]);e!==void 0&&o!=null&&f(e,["description"],o);const l=d(t,["defaultCheckpointId"]);return e!==void 0&&l!=null&&f(e,["defaultCheckpointId"],l),i}function HN(t,e){const i={},r=d(t,["displayName"]);e!==void 0&&r!=null&&f(e,["displayName"],r);const o=d(t,["description"]);e!==void 0&&o!=null&&f(e,["description"],o);const l=d(t,["defaultCheckpointId"]);return e!==void 0&&l!=null&&f(e,["defaultCheckpointId"],l),i}function BN(t,e){const i={},r=d(e,["model"]);r!=null&&f(i,["_url","name"],Le(t,r));const o=d(e,["config"]);return o!=null&&GN(o,i),i}function qN(t,e){const i={},r=d(e,["model"]);r!=null&&f(i,["_url","model"],Le(t,r));const o=d(e,["config"]);return o!=null&&HN(o,i),i}function VN(t,e){const i={},r=d(t,["outputGcsUri"]);e!==void 0&&r!=null&&f(e,["parameters","storageUri"],r);const o=d(t,["safetyFilterLevel"]);e!==void 0&&o!=null&&f(e,["parameters","safetySetting"],o);const l=d(t,["personGeneration"]);e!==void 0&&l!=null&&f(e,["parameters","personGeneration"],l);const c=d(t,["includeRaiReason"]);e!==void 0&&c!=null&&f(e,["parameters","includeRaiReason"],c);const p=d(t,["outputMimeType"]);e!==void 0&&p!=null&&f(e,["parameters","outputOptions","mimeType"],p);const v=d(t,["outputCompressionQuality"]);e!==void 0&&v!=null&&f(e,["parameters","outputOptions","compressionQuality"],v);const g=d(t,["enhanceInputImage"]);e!==void 0&&g!=null&&f(e,["parameters","upscaleConfig","enhanceInputImage"],g);const x=d(t,["imagePreservationFactor"]);e!==void 0&&x!=null&&f(e,["parameters","upscaleConfig","imagePreservationFactor"],x);const b=d(t,["labels"]);e!==void 0&&b!=null&&f(e,["labels"],b);const _=d(t,["numberOfImages"]);e!==void 0&&_!=null&&f(e,["parameters","sampleCount"],_);const S=d(t,["mode"]);return e!==void 0&&S!=null&&f(e,["parameters","mode"],S),i}function zN(t,e){const i={},r=d(e,["model"]);r!=null&&f(i,["_url","model"],Le(t,r));const o=d(e,["image"]);o!=null&&f(i,["instances[0]","image"],Rn(o));const l=d(e,["upscaleFactor"]);l!=null&&f(i,["parameters","upscaleConfig","upscaleFactor"],l);const c=d(e,["config"]);return c!=null&&VN(c,i),i}function FN(t){const e={},i=d(t,["sdkHttpResponse"]);i!=null&&f(e,["sdkHttpResponse"],i);const r=d(t,["predictions"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(l=>ll(l))),f(e,["generatedImages"],o)}return e}function $N(t){const e={},i=d(t,["uri"]);i!=null&&f(e,["uri"],i);const r=d(t,["encodedVideo"]);r!=null&&f(e,["videoBytes"],Pi(r));const o=d(t,["encoding"]);return o!=null&&f(e,["mimeType"],o),e}function JN(t){const e={},i=d(t,["gcsUri"]);i!=null&&f(e,["uri"],i);const r=d(t,["bytesBase64Encoded"]);r!=null&&f(e,["videoBytes"],Pi(r));const o=d(t,["mimeType"]);return o!=null&&f(e,["mimeType"],o),e}function KN(t){const e={},i=d(t,["image"]);i!=null&&f(e,["_self"],Rn(i));const r=d(t,["maskMode"]);return r!=null&&f(e,["maskMode"],r),e}function YN(t){const e={},i=d(t,["image"]);i!=null&&f(e,["image"],ul(i));const r=d(t,["referenceType"]);return r!=null&&f(e,["referenceType"],r),e}function XN(t){const e={},i=d(t,["image"]);i!=null&&f(e,["image"],Rn(i));const r=d(t,["referenceType"]);return r!=null&&f(e,["referenceType"],r),e}function Av(t){const e={},i=d(t,["uri"]);i!=null&&f(e,["uri"],i);const r=d(t,["videoBytes"]);r!=null&&f(e,["encodedVideo"],Pi(r));const o=d(t,["mimeType"]);return o!=null&&f(e,["encoding"],o),e}function Nv(t){const e={},i=d(t,["uri"]);i!=null&&f(e,["gcsUri"],i);const r=d(t,["videoBytes"]);r!=null&&f(e,["bytesBase64Encoded"],Pi(r));const o=d(t,["mimeType"]);return o!=null&&f(e,["mimeType"],o),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function WN(t,e){const i={},r=d(t,["displayName"]);return e!==void 0&&r!=null&&f(e,["displayName"],r),i}function QN(t){const e={},i=d(t,["config"]);return i!=null&&WN(i,e),e}function ZN(t,e){const i={},r=d(t,["force"]);return e!==void 0&&r!=null&&f(e,["_query","force"],r),i}function eC(t){const e={},i=d(t,["name"]);i!=null&&f(e,["_url","name"],i);const r=d(t,["config"]);return r!=null&&ZN(r,e),e}function tC(t){const e={},i=d(t,["name"]);return i!=null&&f(e,["_url","name"],i),e}function nC(t,e){const i={},r=d(t,["customMetadata"]);if(e!==void 0&&r!=null){let l=r;Array.isArray(l)&&(l=l.map(c=>c)),f(e,["customMetadata"],l)}const o=d(t,["chunkingConfig"]);return e!==void 0&&o!=null&&f(e,["chunkingConfig"],o),i}function iC(t){const e={},i=d(t,["name"]);i!=null&&f(e,["name"],i);const r=d(t,["metadata"]);r!=null&&f(e,["metadata"],r);const o=d(t,["done"]);o!=null&&f(e,["done"],o);const l=d(t,["error"]);l!=null&&f(e,["error"],l);const c=d(t,["response"]);return c!=null&&f(e,["response"],rC(c)),e}function sC(t){const e={},i=d(t,["fileSearchStoreName"]);i!=null&&f(e,["_url","file_search_store_name"],i);const r=d(t,["fileName"]);r!=null&&f(e,["fileName"],r);const o=d(t,["config"]);return o!=null&&nC(o,e),e}function rC(t){const e={},i=d(t,["sdkHttpResponse"]);i!=null&&f(e,["sdkHttpResponse"],i);const r=d(t,["parent"]);r!=null&&f(e,["parent"],r);const o=d(t,["documentName"]);return o!=null&&f(e,["documentName"],o),e}function aC(t,e){const i={},r=d(t,["pageSize"]);e!==void 0&&r!=null&&f(e,["_query","pageSize"],r);const o=d(t,["pageToken"]);return e!==void 0&&o!=null&&f(e,["_query","pageToken"],o),i}function oC(t){const e={},i=d(t,["config"]);return i!=null&&aC(i,e),e}function lC(t){const e={},i=d(t,["sdkHttpResponse"]);i!=null&&f(e,["sdkHttpResponse"],i);const r=d(t,["nextPageToken"]);r!=null&&f(e,["nextPageToken"],r);const o=d(t,["fileSearchStores"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(c=>c)),f(e,["fileSearchStores"],l)}return e}function Cv(t,e){const i={},r=d(t,["mimeType"]);e!==void 0&&r!=null&&f(e,["mimeType"],r);const o=d(t,["displayName"]);e!==void 0&&o!=null&&f(e,["displayName"],o);const l=d(t,["customMetadata"]);if(e!==void 0&&l!=null){let p=l;Array.isArray(p)&&(p=p.map(v=>v)),f(e,["customMetadata"],p)}const c=d(t,["chunkingConfig"]);return e!==void 0&&c!=null&&f(e,["chunkingConfig"],c),i}function uC(t){const e={},i=d(t,["fileSearchStoreName"]);i!=null&&f(e,["_url","file_search_store_name"],i);const r=d(t,["config"]);return r!=null&&Cv(r,e),e}function cC(t){const e={},i=d(t,["sdkHttpResponse"]);return i!=null&&f(e,["sdkHttpResponse"],i),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const dC="Content-Type",fC="X-Server-Timeout",hC="User-Agent",ud="x-goog-api-client",pC="1.34.0",mC=`google-genai-sdk/${pC}`,gC="v1beta1",vC="v1beta";class yC{constructor(e){var i,r;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const o={};this.clientOptions.vertexai?(o.apiVersion=(i=this.clientOptions.apiVersion)!==null&&i!==void 0?i:gC,o.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(o.apiVersion=(r=this.clientOptions.apiVersion)!==null&&r!==void 0?r:vC,o.baseUrl="https://generativelanguage.googleapis.com/"),o.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=o,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(o,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}async getAuthHeaders(){const e=new Headers;return await this.clientOptions.auth.addAuthHeaders(e),e}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const r=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&r.push(e.apiVersion),r.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),i=new URL(e);return i.protocol=i.protocol=="http:"?"ws":"wss",i.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,i,r){const o=[this.getRequestUrlInternal(i)];return r&&o.push(this.getBaseResourcePath()),e!==""&&o.push(e),new URL(`${o.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let i=this.clientOptions.httpOptions;e.httpOptions&&(i=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e),o=this.constructUrl(e.path,i,r);if(e.queryParams)for(const[c,p]of Object.entries(e.queryParams))o.searchParams.append(c,String(p));let l={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else l.body=e.body;return l=await this.includeExtraHttpOptionsToRequestInit(l,i,o.toString(),e.abortSignal),this.unaryApiCall(o,l,e.httpMethod)}patchHttpOptions(e,i){const r=JSON.parse(JSON.stringify(e));for(const[o,l]of Object.entries(i))typeof l=="object"?r[o]=Object.assign(Object.assign({},r[o]),l):l!==void 0&&(r[o]=l);return r}async requestStream(e){let i=this.clientOptions.httpOptions;e.httpOptions&&(i=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e),o=this.constructUrl(e.path,i,r);(!o.searchParams.has("alt")||o.searchParams.get("alt")!=="sse")&&o.searchParams.set("alt","sse");let l={};return l.body=e.body,l=await this.includeExtraHttpOptionsToRequestInit(l,i,o.toString(),e.abortSignal),this.streamApiCall(o,l,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,i,r,o){if(i&&i.timeout||o){const l=new AbortController,c=l.signal;if(i.timeout&&(i==null?void 0:i.timeout)>0){const p=setTimeout(()=>l.abort(),i.timeout);p&&typeof p.unref=="function"&&p.unref()}o&&o.addEventListener("abort",()=>{l.abort()}),e.signal=c}return i&&i.extraBody!==null&&xC(e,i.extraBody),e.headers=await this.getHeadersInternal(i,r),e}async unaryApiCall(e,i,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},i),{method:r})).then(async o=>(await N0(o),new sd(o))).catch(o=>{throw o instanceof Error?o:new Error(JSON.stringify(o))})}async streamApiCall(e,i,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},i),{method:r})).then(async o=>(await N0(o),this.processStreamResponse(o))).catch(o=>{throw o instanceof Error?o:new Error(JSON.stringify(o))})}processStreamResponse(e){return Nn(this,arguments,function*(){var r;const o=(r=e==null?void 0:e.body)===null||r===void 0?void 0:r.getReader(),l=new TextDecoder("utf-8");if(!o)throw new Error("Response body is empty");try{let c="";const p="data:",v=[`

`,"\r\r",`\r
\r
`];for(;;){const{done:g,value:x}=yield ve(o.read());if(g){if(c.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const b=l.decode(x,{stream:!0});try{const T=JSON.parse(b);if("error"in T){const C=JSON.parse(JSON.stringify(T.error)),N=C.status,D=C.code,H=`got status: ${N}. ${JSON.stringify(T)}`;if(D>=400&&D<600)throw new al({message:H,status:D})}}catch(T){if(T.name==="ApiError")throw T}c+=b;let _=-1,S=0;for(;;){_=-1,S=0;for(const N of v){const D=c.indexOf(N);D!==-1&&(_===-1||D<_)&&(_=D,S=N.length)}if(_===-1)break;const T=c.substring(0,_);c=c.substring(_+S);const C=T.trim();if(C.startsWith(p)){const N=C.substring(p.length).trim();try{const D=new Response(N,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield ve(new sd(D))}catch(D){throw new Error(`exception parsing stream chunk ${N}. ${D}`)}}}}}finally{o.releaseLock()}})}async apiCall(e,i){return fetch(e,i).catch(r=>{throw new Error(`exception ${r} sending request`)})}getDefaultHeaders(){const e={},i=mC+" "+this.clientOptions.userAgentExtra;return e[hC]=i,e[ud]=i,e[dC]="application/json",e}async getHeadersInternal(e,i){const r=new Headers;if(e&&e.headers){for(const[o,l]of Object.entries(e.headers))r.append(o,l);e.timeout&&e.timeout>0&&r.append(fC,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(r,i),r}getFileName(e){var i;let r="";return typeof e=="string"&&(r=e.replace(/[/\\]+$/,""),r=(i=r.split(/[/\\]/).pop())!==null&&i!==void 0?i:""),r}async uploadFile(e,i){var r;const o={};i!=null&&(o.mimeType=i.mimeType,o.name=i.name,o.displayName=i.displayName),o.name&&!o.name.startsWith("files/")&&(o.name=`files/${o.name}`);const l=this.clientOptions.uploader,c=await l.stat(e);o.sizeBytes=String(c.size);const p=(r=i==null?void 0:i.mimeType)!==null&&r!==void 0?r:c.type;if(p===void 0||p==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");o.mimeType=p;const v={file:o},g=this.getFileName(e),x=te("upload/v1beta/files",v._url),b=await this.fetchUploadUrl(x,o.sizeBytes,o.mimeType,g,v,i==null?void 0:i.httpOptions);return l.upload(e,b,this)}async uploadFileToFileSearchStore(e,i,r){var o;const l=this.clientOptions.uploader,c=await l.stat(i),p=String(c.size),v=(o=r==null?void 0:r.mimeType)!==null&&o!==void 0?o:c.type;if(v===void 0||v==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const g=`upload/v1beta/${e}:uploadToFileSearchStore`,x=this.getFileName(i),b={};r!=null&&Cv(r,b);const _=await this.fetchUploadUrl(g,p,v,x,b,r==null?void 0:r.httpOptions);return l.uploadToFileSearchStore(i,_,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,i,r,o,l,c){var p;let v={};c?v=c:v={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${i}`,"X-Goog-Upload-Header-Content-Type":`${r}`},o?{"X-Goog-Upload-File-Name":o}:{})};const g=await this.request({path:e,body:JSON.stringify(l),httpMethod:"POST",httpOptions:v});if(!g||!(g!=null&&g.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const x=(p=g==null?void 0:g.headers)===null||p===void 0?void 0:p["x-goog-upload-url"];if(x===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return x}}async function N0(t){var e;if(t===void 0)throw new Error("response is undefined");if(!t.ok){const i=t.status;let r;!((e=t.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?r=await t.json():r={error:{message:await t.text(),code:t.status,status:t.statusText}};const o=JSON.stringify(r);throw i>=400&&i<600?new al({message:o,status:i}):new Error(o)}}function xC(t,e){if(!e||Object.keys(e).length===0)return;if(t.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let i={};if(typeof t.body=="string"&&t.body.length>0)try{const l=JSON.parse(t.body);if(typeof l=="object"&&l!==null&&!Array.isArray(l))i=l;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function r(l,c){const p=Object.assign({},l);for(const v in c)if(Object.prototype.hasOwnProperty.call(c,v)){const g=c[v],x=p[v];g&&typeof g=="object"&&!Array.isArray(g)&&x&&typeof x=="object"&&!Array.isArray(x)?p[v]=r(x,g):(x&&g&&typeof x!=typeof g&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${v}". Original type: ${typeof x}, New type: ${typeof g}. Overwriting.`),p[v]=g)}return p}const o=r(i,e);t.body=JSON.stringify(o)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const bC="mcp_used/unknown";let _C=!1;function Rv(t){for(const e of t)if(wC(e)||typeof e=="object"&&"inputSchema"in e)return!0;return _C}function kv(t){var e;const i=(e=t[ud])!==null&&e!==void 0?e:"";t[ud]=(i+` ${bC}`).trimStart()}function wC(t){return t!==null&&typeof t=="object"&&t instanceof Rd}function SC(t){return Nn(this,arguments,function*(i,r=100){let o,l=0;for(;l<r;){const c=yield ve(i.listTools({cursor:o}));for(const p of c.tools)yield yield ve(p),l++;if(!c.nextCursor)break;o=c.nextCursor}})}class Rd{constructor(e=[],i){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=i}static create(e,i){return new Rd(e,i)}async initialize(){var e,i,r,o;if(this.mcpTools.length>0)return;const l={},c=[];for(const x of this.mcpClients)try{for(var p=!0,v=(i=void 0,Cn(SC(x))),g;g=await v.next(),e=g.done,!e;p=!0){o=g.value,p=!1;const b=o;c.push(b);const _=b.name;if(l[_])throw new Error(`Duplicate function name ${_} found in MCP tools. Please ensure function names are unique.`);l[_]=x}}catch(b){i={error:b}}finally{try{!p&&!e&&(r=v.return)&&await r.call(v)}finally{if(i)throw i.error}}this.mcpTools=c,this.functionNameToMcpClient=l}async tool(){return await this.initialize(),tE(this.mcpTools,this.config)}async callTool(e){await this.initialize();const i=[];for(const r of e)if(r.name in this.functionNameToMcpClient){const o=this.functionNameToMcpClient[r.name];let l;this.config.timeout&&(l={timeout:this.config.timeout});const c=await o.callTool({name:r.name,arguments:r.args},void 0,l);i.push({functionResponse:{name:r.name,response:c.isError?{error:c}:c}})}return i}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function EC(t,e,i){const r=new JS;let o;i.data instanceof Blob?o=JSON.parse(await i.data.text()):o=JSON.parse(i.data),Object.assign(r,o),e(r)}class TC{constructor(e,i,r){this.apiClient=e,this.auth=i,this.webSocketFactory=r}async connect(e){var i,r;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const o=this.apiClient.getWebsocketBaseUrl(),l=this.apiClient.getApiVersion(),c=CC(this.apiClient.getDefaultHeaders()),p=this.apiClient.getApiKey(),v=`${o}/ws/google.ai.generativelanguage.${l}.GenerativeService.BidiGenerateMusic?key=${p}`;let g=()=>{};const x=new Promise(U=>{g=U}),b=e.callbacks,_=function(){g({})},S=this.apiClient,T={onopen:_,onmessage:U=>{EC(S,b.onmessage,U)},onerror:(i=b==null?void 0:b.onerror)!==null&&i!==void 0?i:function(U){},onclose:(r=b==null?void 0:b.onclose)!==null&&r!==void 0?r:function(U){}},C=this.webSocketFactory.create(v,NC(c),T);C.connect(),await x;const H={setup:{model:Le(this.apiClient,e.model)}};return C.send(JSON.stringify(H)),new AC(C,this.apiClient)}}class AC{constructor(e,i){this.conn=e,this.apiClient=i}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const i=QT(e);this.conn.send(JSON.stringify({clientContent:i}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const i=WT(e);this.conn.send(JSON.stringify(i))}sendPlaybackControl(e){const i={playbackControl:e};this.conn.send(JSON.stringify(i))}play(){this.sendPlaybackControl(cr.PLAY)}pause(){this.sendPlaybackControl(cr.PAUSE)}stop(){this.sendPlaybackControl(cr.STOP)}resetContext(){this.sendPlaybackControl(cr.RESET_CONTEXT)}close(){this.conn.close()}}function NC(t){const e={};return t.forEach((i,r)=>{e[r]=i}),e}function CC(t){const e=new Headers;for(const[i,r]of Object.entries(t))e.append(i,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const RC="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function kC(t,e,i){const r=new $S;let o;i.data instanceof Blob?o=await i.data.text():i.data instanceof ArrayBuffer?o=new TextDecoder().decode(i.data):o=i.data;const l=JSON.parse(o);if(t.isVertexAI()){const c=tA(l);Object.assign(r,c)}else Object.assign(r,l);e(r)}class IC{constructor(e,i,r){this.apiClient=e,this.auth=i,this.webSocketFactory=r,this.music=new TC(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var i,r,o,l,c,p;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const v=this.apiClient.getWebsocketBaseUrl(),g=this.apiClient.getApiVersion();let x;const b=this.apiClient.getHeaders();e.config&&e.config.tools&&Rv(e.config.tools)&&kv(b);const _=PC(b);if(this.apiClient.isVertexAI())x=`${v}/ws/google.cloud.aiplatform.${g}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(_,x);else{const Z=this.apiClient.getApiKey();let me="BidiGenerateContent",Ee="key";Z!=null&&Z.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),g!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),me="BidiGenerateContentConstrained",Ee="access_token"),x=`${v}/ws/google.ai.generativelanguage.${g}.GenerativeService.${me}?${Ee}=${Z}`}let S=()=>{};const T=new Promise(Z=>{S=Z}),C=e.callbacks,N=function(){var Z;(Z=C==null?void 0:C.onopen)===null||Z===void 0||Z.call(C),S({})},D=this.apiClient,H={onopen:N,onmessage:Z=>{kC(D,C.onmessage,Z)},onerror:(i=C==null?void 0:C.onerror)!==null&&i!==void 0?i:function(Z){},onclose:(r=C==null?void 0:C.onclose)!==null&&r!==void 0?r:function(Z){}},U=this.webSocketFactory.create(x,UC(_),H);U.connect(),await T;let J=Le(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&J.startsWith("publishers/")){const Z=this.apiClient.getProject(),me=this.apiClient.getLocation();J=`projects/${Z}/locations/${me}/`+J}let X={};this.apiClient.isVertexAI()&&((o=e.config)===null||o===void 0?void 0:o.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[Wo.AUDIO]}:e.config.responseModalities=[Wo.AUDIO]),!((l=e.config)===null||l===void 0)&&l.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const F=(p=(c=e.config)===null||c===void 0?void 0:c.tools)!==null&&p!==void 0?p:[],K=[];for(const Z of F)if(this.isCallableTool(Z)){const me=Z;K.push(await me.tool())}else K.push(Z);K.length>0&&(e.config.tools=K);const ce={model:J,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?X=XT(this.apiClient,ce):X=YT(this.apiClient,ce),delete X.config,U.send(JSON.stringify(X)),new MC(U,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const DC={turnComplete:!0};class MC{constructor(e,i){this.conn=e,this.apiClient=i}tLiveClientContent(e,i){if(i.turns!==null&&i.turns!==void 0){let r=[];try{r=vn(i.turns),e.isVertexAI()||(r=r.map(o=>ol(o)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof i.turns}'`)}return{clientContent:{turns:r,turnComplete:i.turnComplete}}}return{clientContent:{turnComplete:i.turnComplete}}}tLiveClienttToolResponse(e,i){let r=[];if(i.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(i.functionResponses)?r=i.functionResponses:r=[i.functionResponses],r.length===0)throw new Error("functionResponses is required.");for(const l of r){if(typeof l!="object"||l===null||!("name"in l)||!("response"in l))throw new Error(`Could not parse function response, type '${typeof l}'.`);if(!e.isVertexAI()&&!("id"in l))throw new Error(RC)}return{toolResponse:{functionResponses:r}}}sendClientContent(e){e=Object.assign(Object.assign({},DC),e);const i=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(i))}sendRealtimeInput(e){let i={};this.apiClient.isVertexAI()?i={realtimeInput:eA(e)}:i={realtimeInput:ZT(e)},this.conn.send(JSON.stringify(i))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const i=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(i))}close(){this.conn.close()}}function UC(t){const e={};return t.forEach((i,r)=>{e[r]=i}),e}function PC(t){const e=new Headers;for(const[i,r]of Object.entries(t))e.append(i,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const C0=10;function R0(t){var e,i,r;if(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let o=!1;for(const c of(i=t==null?void 0:t.tools)!==null&&i!==void 0?i:[])if(pr(c)){o=!0;break}if(!o)return!0;const l=(r=t==null?void 0:t.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls;return l&&(l<0||!Number.isInteger(l))||l==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",l),!0):!1}function pr(t){return"callTool"in t&&typeof t.callTool=="function"}function LC(t){var e,i,r;return(r=(i=(e=t.config)===null||e===void 0?void 0:e.tools)===null||i===void 0?void 0:i.some(o=>pr(o)))!==null&&r!==void 0?r:!1}function k0(t){var e;const i=[];return!((e=t==null?void 0:t.config)===null||e===void 0)&&e.tools&&t.config.tools.forEach((r,o)=>{if(pr(r))return;const l=r;l.functionDeclarations&&l.functionDeclarations.length>0&&i.push(o)}),i}function I0(t){var e;return!(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class OC extends ii{constructor(e){super(),this.apiClient=e,this.generateContent=async i=>{var r,o,l,c,p;const v=await this.processParamsMaybeAddMcpUsage(i);if(this.maybeMoveToResponseJsonSchem(i),!LC(i)||R0(i.config))return await this.generateContentInternal(v);const g=k0(i);if(g.length>0){const C=g.map(N=>`tools[${N}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${C}.`)}let x,b;const _=vn(v.contents),S=(l=(o=(r=v.config)===null||r===void 0?void 0:r.automaticFunctionCalling)===null||o===void 0?void 0:o.maximumRemoteCalls)!==null&&l!==void 0?l:C0;let T=0;for(;T<S&&(x=await this.generateContentInternal(v),!(!x.functionCalls||x.functionCalls.length===0));){const C=x.candidates[0].content,N=[];for(const D of(p=(c=i.config)===null||c===void 0?void 0:c.tools)!==null&&p!==void 0?p:[])if(pr(D)){const U=await D.callTool(x.functionCalls);N.push(...U)}T++,b={role:"user",parts:N},v.contents=vn(v.contents),v.contents.push(C),v.contents.push(b),I0(v.config)&&(_.push(C),_.push(b))}return I0(v.config)&&(x.automaticFunctionCallingHistory=_),x},this.generateContentStream=async i=>{var r,o,l,c,p;if(this.maybeMoveToResponseJsonSchem(i),R0(i.config)){const b=await this.processParamsMaybeAddMcpUsage(i);return await this.generateContentStreamInternal(b)}const v=k0(i);if(v.length>0){const b=v.map(_=>`tools[${_}]`).join(", ");throw new Error(`Incompatible tools found at ${b}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const g=(l=(o=(r=i==null?void 0:i.config)===null||r===void 0?void 0:r.toolConfig)===null||o===void 0?void 0:o.functionCallingConfig)===null||l===void 0?void 0:l.streamFunctionCallArguments,x=(p=(c=i==null?void 0:i.config)===null||c===void 0?void 0:c.automaticFunctionCalling)===null||p===void 0?void 0:p.disable;if(g&&!x)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(i)},this.generateImages=async i=>await this.generateImagesInternal(i).then(r=>{var o;let l;const c=[];if(r!=null&&r.generatedImages)for(const v of r.generatedImages)v&&(v!=null&&v.safetyAttributes)&&((o=v==null?void 0:v.safetyAttributes)===null||o===void 0?void 0:o.contentType)==="Positive Prompt"?l=v==null?void 0:v.safetyAttributes:c.push(v);let p;return l?p={generatedImages:c,positivePromptSafetyAttributes:l,sdkHttpResponse:r.sdkHttpResponse}:p={generatedImages:c,sdkHttpResponse:r.sdkHttpResponse},p}),this.list=async i=>{var r;const c={config:Object.assign(Object.assign({},{queryBase:!0}),i==null?void 0:i.config)};if(this.apiClient.isVertexAI()&&!c.config.queryBase){if(!((r=c.config)===null||r===void 0)&&r.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");c.config.filter="labels.tune-type:*"}return new us(ti.PAGED_ITEM_MODELS,p=>this.listInternal(p),await this.listInternal(c),c)},this.editImage=async i=>{const r={model:i.model,prompt:i.prompt,referenceImages:[],config:i.config};return i.referenceImages&&i.referenceImages&&(r.referenceImages=i.referenceImages.map(o=>o.toReferenceImageAPI())),await this.editImageInternal(r)},this.upscaleImage=async i=>{let r={numberOfImages:1,mode:"upscale"};i.config&&(r=Object.assign(Object.assign({},r),i.config));const o={model:i.model,image:i.image,upscaleFactor:i.upscaleFactor,config:r};return await this.upscaleImageInternal(o)},this.generateVideos=async i=>{var r,o,l,c,p,v;if((i.prompt||i.image||i.video)&&i.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((r=i.video)===null||r===void 0)&&r.uri&&(!((o=i.video)===null||o===void 0)&&o.videoBytes)?i.video={uri:i.video.uri,mimeType:i.video.mimeType}:!((c=(l=i.source)===null||l===void 0?void 0:l.video)===null||c===void 0)&&c.uri&&(!((v=(p=i.source)===null||p===void 0?void 0:p.video)===null||v===void 0)&&v.videoBytes)&&(i.source.video={uri:i.source.video.uri,mimeType:i.source.video.mimeType})),await this.generateVideosInternal(i)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var i,r,o;const l=(i=e.config)===null||i===void 0?void 0:i.tools;if(!l)return e;const c=await Promise.all(l.map(async v=>pr(v)?await v.tool():v)),p={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:c})};if(p.config.tools=c,e.config&&e.config.tools&&Rv(e.config.tools)){const v=(o=(r=e.config.httpOptions)===null||r===void 0?void 0:r.headers)!==null&&o!==void 0?o:{};let g=Object.assign({},v);Object.keys(g).length===0&&(g=this.apiClient.getDefaultHeaders()),kv(g),p.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:g})}return p}async initAfcToolsMap(e){var i,r,o;const l=new Map;for(const c of(r=(i=e.config)===null||i===void 0?void 0:i.tools)!==null&&r!==void 0?r:[])if(pr(c)){const p=c,v=await p.tool();for(const g of(o=v.functionDeclarations)!==null&&o!==void 0?o:[]){if(!g.name)throw new Error("Function declaration name is required.");if(l.has(g.name))throw new Error(`Duplicate tool declaration name: ${g.name}`);l.set(g.name,p)}}return l}async processAfcStream(e){var i,r,o;const l=(o=(r=(i=e.config)===null||i===void 0?void 0:i.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&o!==void 0?o:C0;let c=!1,p=0;const v=await this.initAfcToolsMap(e);return(function(g,x,b){return Nn(this,arguments,function*(){for(var _,S,T,C,N,D;p<l;){c&&(p++,c=!1);const X=yield ve(g.processParamsMaybeAddMcpUsage(b)),F=yield ve(g.generateContentStreamInternal(X)),K=[],ce=[];try{for(var H=!0,U=(S=void 0,Cn(F)),J;J=yield ve(U.next()),_=J.done,!_;H=!0){C=J.value,H=!1;const Z=C;if(yield yield ve(Z),Z.candidates&&(!((N=Z.candidates[0])===null||N===void 0)&&N.content)){ce.push(Z.candidates[0].content);for(const me of(D=Z.candidates[0].content.parts)!==null&&D!==void 0?D:[])if(p<l&&me.functionCall){if(!me.functionCall.name)throw new Error("Function call name was not returned by the model.");if(x.has(me.functionCall.name)){const Ee=yield ve(x.get(me.functionCall.name).callTool([me.functionCall]));K.push(...Ee)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${x.keys()}, mising tool: ${me.functionCall.name}`)}}}}catch(Z){S={error:Z}}finally{try{!H&&!_&&(T=U.return)&&(yield ve(T.call(U)))}finally{if(S)throw S.error}}if(K.length>0){c=!0;const Z=new ca;Z.candidates=[{content:{role:"user",parts:K}}],yield yield ve(Z);const me=[];me.push(...ce),me.push({role:"user",parts:K});const Ee=vn(b.contents).concat(me);b.contents=Ee}else break}})})(this,v,e)}async generateContentInternal(e){var i,r,o,l;let c,p="",v={};if(this.apiClient.isVertexAI()){const g=E0(this.apiClient,e);return p=te("{model}:generateContent",g._url),v=g._query,delete g._url,delete g._query,c=this.apiClient.request({path:p,queryParams:v,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(x=>x.json().then(b=>{const _=b;return _.sdkHttpResponse={headers:x.headers},_})),c.then(x=>{const b=A0(x),_=new ca;return Object.assign(_,b),_})}else{const g=S0(this.apiClient,e);return p=te("{model}:generateContent",g._url),v=g._query,delete g._url,delete g._query,c=this.apiClient.request({path:p,queryParams:v,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(x=>x.json().then(b=>{const _=b;return _.sdkHttpResponse={headers:x.headers},_})),c.then(x=>{const b=T0(x),_=new ca;return Object.assign(_,b),_})}}async generateContentStreamInternal(e){var i,r,o,l;let c,p="",v={};if(this.apiClient.isVertexAI()){const g=E0(this.apiClient,e);return p=te("{model}:streamGenerateContent?alt=sse",g._url),v=g._query,delete g._url,delete g._query,c=this.apiClient.requestStream({path:p,queryParams:v,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}),c.then(function(b){return Nn(this,arguments,function*(){var _,S,T,C;try{for(var N=!0,D=Cn(b),H;H=yield ve(D.next()),_=H.done,!_;N=!0){C=H.value,N=!1;const U=C,J=A0(yield ve(U.json()));J.sdkHttpResponse={headers:U.headers};const X=new ca;Object.assign(X,J),yield yield ve(X)}}catch(U){S={error:U}}finally{try{!N&&!_&&(T=D.return)&&(yield ve(T.call(D)))}finally{if(S)throw S.error}}})})}else{const g=S0(this.apiClient,e);return p=te("{model}:streamGenerateContent?alt=sse",g._url),v=g._query,delete g._url,delete g._query,c=this.apiClient.requestStream({path:p,queryParams:v,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}),c.then(function(b){return Nn(this,arguments,function*(){var _,S,T,C;try{for(var N=!0,D=Cn(b),H;H=yield ve(D.next()),_=H.done,!_;N=!0){C=H.value,N=!1;const U=C,J=T0(yield ve(U.json()));J.sdkHttpResponse={headers:U.headers};const X=new ca;Object.assign(X,J),yield yield ve(X)}}catch(U){S={error:U}}finally{try{!N&&!_&&(T=D.return)&&(yield ve(T.call(D)))}finally{if(S)throw S.error}}})})}}async embedContent(e){var i,r,o,l;let c,p="",v={};if(this.apiClient.isVertexAI()){const g=IA(this.apiClient,e);return p=te("{model}:predict",g._url),v=g._query,delete g._url,delete g._query,c=this.apiClient.request({path:p,queryParams:v,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(x=>x.json().then(b=>{const _=b;return _.sdkHttpResponse={headers:x.headers},_})),c.then(x=>{const b=MA(x),_=new a0;return Object.assign(_,b),_})}else{const g=kA(this.apiClient,e);return p=te("{model}:batchEmbedContents",g._url),v=g._query,delete g._url,delete g._query,c=this.apiClient.request({path:p,queryParams:v,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(x=>x.json().then(b=>{const _=b;return _.sdkHttpResponse={headers:x.headers},_})),c.then(x=>{const b=DA(x),_=new a0;return Object.assign(_,b),_})}}async generateImagesInternal(e){var i,r,o,l;let c,p="",v={};if(this.apiClient.isVertexAI()){const g=zA(this.apiClient,e);return p=te("{model}:predict",g._url),v=g._query,delete g._url,delete g._query,c=this.apiClient.request({path:p,queryParams:v,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(x=>x.json().then(b=>{const _=b;return _.sdkHttpResponse={headers:x.headers},_})),c.then(x=>{const b=$A(x),_=new o0;return Object.assign(_,b),_})}else{const g=VA(this.apiClient,e);return p=te("{model}:predict",g._url),v=g._query,delete g._url,delete g._query,c=this.apiClient.request({path:p,queryParams:v,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(x=>x.json().then(b=>{const _=b;return _.sdkHttpResponse={headers:x.headers},_})),c.then(x=>{const b=FA(x),_=new o0;return Object.assign(_,b),_})}}async editImageInternal(e){var i,r;let o,l="",c={};if(this.apiClient.isVertexAI()){const p=AA(this.apiClient,e);return l=te("{model}:predict",p._url),c=p._query,delete p._url,delete p._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(v=>v.json().then(g=>{const x=g;return x.sdkHttpResponse={headers:v.headers},x})),o.then(v=>{const g=NA(v),x=new PS;return Object.assign(x,g),x})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var i,r;let o,l="",c={};if(this.apiClient.isVertexAI()){const p=zN(this.apiClient,e);return l=te("{model}:predict",p._url),c=p._query,delete p._url,delete p._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(v=>v.json().then(g=>{const x=g;return x.sdkHttpResponse={headers:v.headers},x})),o.then(v=>{const g=FN(v),x=new LS;return Object.assign(x,g),x})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var i,r;let o,l="",c={};if(this.apiClient.isVertexAI()){const p=TN(this.apiClient,e);return l=te("{model}:predict",p._url),c=p._query,delete p._url,delete p._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(v=>v.json()),o.then(v=>{const g=AN(v),x=new OS;return Object.assign(x,g),x})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var i,r;let o,l="",c={};if(this.apiClient.isVertexAI()){const p=DN(this.apiClient,e);return l=te("{model}:predict",p._url),c=p._query,delete p._url,delete p._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(v=>v.json()),o.then(v=>{const g=MN(v),x=new jS;return Object.assign(x,g),x})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var i,r,o,l;let c,p="",v={};if(this.apiClient.isVertexAI()){const g=uN(this.apiClient,e);return p=te("{name}",g._url),v=g._query,delete g._url,delete g._query,c=this.apiClient.request({path:p,queryParams:v,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(x=>x.json()),c.then(x=>ld(x))}else{const g=lN(this.apiClient,e);return p=te("{name}",g._url),v=g._query,delete g._url,delete g._query,c=this.apiClient.request({path:p,queryParams:v,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(x=>x.json()),c.then(x=>od(x))}}async listInternal(e){var i,r,o,l;let c,p="",v={};if(this.apiClient.isVertexAI()){const g=yN(this.apiClient,e);return p=te("{models_url}",g._url),v=g._query,delete g._url,delete g._query,c=this.apiClient.request({path:p,queryParams:v,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(x=>x.json().then(b=>{const _=b;return _.sdkHttpResponse={headers:x.headers},_})),c.then(x=>{const b=bN(x),_=new l0;return Object.assign(_,b),_})}else{const g=vN(this.apiClient,e);return p=te("{models_url}",g._url),v=g._query,delete g._url,delete g._query,c=this.apiClient.request({path:p,queryParams:v,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(x=>x.json().then(b=>{const _=b;return _.sdkHttpResponse={headers:x.headers},_})),c.then(x=>{const b=xN(x),_=new l0;return Object.assign(_,b),_})}}async update(e){var i,r,o,l;let c,p="",v={};if(this.apiClient.isVertexAI()){const g=qN(this.apiClient,e);return p=te("{model}",g._url),v=g._query,delete g._url,delete g._query,c=this.apiClient.request({path:p,queryParams:v,body:JSON.stringify(g),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(x=>x.json()),c.then(x=>ld(x))}else{const g=BN(this.apiClient,e);return p=te("{name}",g._url),v=g._query,delete g._url,delete g._query,c=this.apiClient.request({path:p,queryParams:v,body:JSON.stringify(g),httpMethod:"PATCH",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(x=>x.json()),c.then(x=>od(x))}}async delete(e){var i,r,o,l;let c,p="",v={};if(this.apiClient.isVertexAI()){const g=wA(this.apiClient,e);return p=te("{name}",g._url),v=g._query,delete g._url,delete g._query,c=this.apiClient.request({path:p,queryParams:v,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(x=>x.json().then(b=>{const _=b;return _.sdkHttpResponse={headers:x.headers},_})),c.then(x=>{const b=EA(x),_=new u0;return Object.assign(_,b),_})}else{const g=_A(this.apiClient,e);return p=te("{name}",g._url),v=g._query,delete g._url,delete g._query,c=this.apiClient.request({path:p,queryParams:v,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(x=>x.json().then(b=>{const _=b;return _.sdkHttpResponse={headers:x.headers},_})),c.then(x=>{const b=SA(x),_=new u0;return Object.assign(_,b),_})}}async countTokens(e){var i,r,o,l;let c,p="",v={};if(this.apiClient.isVertexAI()){const g=yA(this.apiClient,e);return p=te("{model}:countTokens",g._url),v=g._query,delete g._url,delete g._query,c=this.apiClient.request({path:p,queryParams:v,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(x=>x.json().then(b=>{const _=b;return _.sdkHttpResponse={headers:x.headers},_})),c.then(x=>{const b=bA(x),_=new c0;return Object.assign(_,b),_})}else{const g=vA(this.apiClient,e);return p=te("{model}:countTokens",g._url),v=g._query,delete g._url,delete g._query,c=this.apiClient.request({path:p,queryParams:v,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(x=>x.json().then(b=>{const _=b;return _.sdkHttpResponse={headers:x.headers},_})),c.then(x=>{const b=xA(x),_=new c0;return Object.assign(_,b),_})}}async computeTokens(e){var i,r;let o,l="",c={};if(this.apiClient.isVertexAI()){const p=cA(this.apiClient,e);return l=te("{model}:computeTokens",p._url),c=p._query,delete p._url,delete p._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(v=>v.json().then(g=>{const x=g;return x.sdkHttpResponse={headers:v.headers},x})),o.then(v=>{const g=dA(v),x=new GS;return Object.assign(x,g),x})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var i,r,o,l;let c,p="",v={};if(this.apiClient.isVertexAI()){const g=QA(this.apiClient,e);return p=te("{model}:predictLongRunning",g._url),v=g._query,delete g._url,delete g._query,c=this.apiClient.request({path:p,queryParams:v,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(x=>x.json()),c.then(x=>{const b=XA(x),_=new Qo;return Object.assign(_,b),_})}else{const g=WA(this.apiClient,e);return p=te("{model}:predictLongRunning",g._url),v=g._query,delete g._url,delete g._query,c=this.apiClient.request({path:p,queryParams:v,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(x=>x.json()),c.then(x=>{const b=YA(x),_=new Qo;return Object.assign(_,b),_})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class jC extends ii{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const i=e.operation,r=e.config;if(i.name===void 0||i.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const o=i.name.split("/operations/")[0];let l;r&&"httpOptions"in r&&(l=r.httpOptions);const c=await this.fetchPredictVideosOperationInternal({operationName:i.name,resourceName:o,config:{httpOptions:l}});return i._fromAPIResponse({apiResponse:c,_isVertexAI:!0})}else{const o=await this.getVideosOperationInternal({operationName:i.name,config:r});return i._fromAPIResponse({apiResponse:o,_isVertexAI:!1})}}async get(e){const i=e.operation,r=e.config;if(i.name===void 0||i.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const o=i.name.split("/operations/")[0];let l;r&&"httpOptions"in r&&(l=r.httpOptions);const c=await this.fetchPredictVideosOperationInternal({operationName:i.name,resourceName:o,config:{httpOptions:l}});return i._fromAPIResponse({apiResponse:c,_isVertexAI:!0})}else{const o=await this.getVideosOperationInternal({operationName:i.name,config:r});return i._fromAPIResponse({apiResponse:o,_isVertexAI:!1})}}async getVideosOperationInternal(e){var i,r,o,l;let c,p="",v={};if(this.apiClient.isVertexAI()){const g=RS(e);return p=te("{operationName}",g._url),v=g._query,delete g._url,delete g._query,c=this.apiClient.request({path:p,queryParams:v,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(x=>x.json()),c}else{const g=CS(e);return p=te("{operationName}",g._url),v=g._query,delete g._url,delete g._query,c=this.apiClient.request({path:p,queryParams:v,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(x=>x.json()),c}}async fetchPredictVideosOperationInternal(e){var i,r;let o,l="",c={};if(this.apiClient.isVertexAI()){const p=_S(e);return l=te("{resourceName}:fetchPredictOperation",p._url),c=p._query,delete p._url,delete p._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(v=>v.json()),o}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function GC(t){const e={},i=d(t,["data"]);if(i!=null&&f(e,["data"],i),d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=d(t,["mimeType"]);return r!=null&&f(e,["mimeType"],r),e}function HC(t){const e={},i=d(t,["parts"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>YC(l))),f(e,["parts"],o)}const r=d(t,["role"]);return r!=null&&f(e,["role"],r),e}function BC(t,e,i){const r={},o=d(e,["expireTime"]);i!==void 0&&o!=null&&f(i,["expireTime"],o);const l=d(e,["newSessionExpireTime"]);i!==void 0&&l!=null&&f(i,["newSessionExpireTime"],l);const c=d(e,["uses"]);i!==void 0&&c!=null&&f(i,["uses"],c);const p=d(e,["liveConnectConstraints"]);i!==void 0&&p!=null&&f(i,["bidiGenerateContentSetup"],KC(t,p));const v=d(e,["lockAdditionalFields"]);return i!==void 0&&v!=null&&f(i,["fieldMask"],v),r}function qC(t,e){const i={},r=d(e,["config"]);return r!=null&&f(i,["config"],BC(t,r,i)),i}function VC(t){const e={};if(d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=d(t,["fileUri"]);i!=null&&f(e,["fileUri"],i);const r=d(t,["mimeType"]);return r!=null&&f(e,["mimeType"],r),e}function zC(t){const e={},i=d(t,["id"]);i!=null&&f(e,["id"],i);const r=d(t,["args"]);r!=null&&f(e,["args"],r);const o=d(t,["name"]);if(o!=null&&f(e,["name"],o),d(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(d(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function FC(t){const e={};if(d(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const i=d(t,["enableWidget"]);return i!=null&&f(e,["enableWidget"],i),e}function $C(t){const e={};if(d(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(d(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const i=d(t,["timeRangeFilter"]);return i!=null&&f(e,["timeRangeFilter"],i),e}function JC(t,e){const i={},r=d(t,["generationConfig"]);e!==void 0&&r!=null&&f(e,["setup","generationConfig"],r);const o=d(t,["responseModalities"]);e!==void 0&&o!=null&&f(e,["setup","generationConfig","responseModalities"],o);const l=d(t,["temperature"]);e!==void 0&&l!=null&&f(e,["setup","generationConfig","temperature"],l);const c=d(t,["topP"]);e!==void 0&&c!=null&&f(e,["setup","generationConfig","topP"],c);const p=d(t,["topK"]);e!==void 0&&p!=null&&f(e,["setup","generationConfig","topK"],p);const v=d(t,["maxOutputTokens"]);e!==void 0&&v!=null&&f(e,["setup","generationConfig","maxOutputTokens"],v);const g=d(t,["mediaResolution"]);e!==void 0&&g!=null&&f(e,["setup","generationConfig","mediaResolution"],g);const x=d(t,["seed"]);e!==void 0&&x!=null&&f(e,["setup","generationConfig","seed"],x);const b=d(t,["speechConfig"]);e!==void 0&&b!=null&&f(e,["setup","generationConfig","speechConfig"],Cd(b));const _=d(t,["thinkingConfig"]);e!==void 0&&_!=null&&f(e,["setup","generationConfig","thinkingConfig"],_);const S=d(t,["enableAffectiveDialog"]);e!==void 0&&S!=null&&f(e,["setup","generationConfig","enableAffectiveDialog"],S);const T=d(t,["systemInstruction"]);e!==void 0&&T!=null&&f(e,["setup","systemInstruction"],HC(It(T)));const C=d(t,["tools"]);if(e!==void 0&&C!=null){let F=gr(C);Array.isArray(F)&&(F=F.map(K=>WC(mr(K)))),f(e,["setup","tools"],F)}const N=d(t,["sessionResumption"]);e!==void 0&&N!=null&&f(e,["setup","sessionResumption"],XC(N));const D=d(t,["inputAudioTranscription"]);e!==void 0&&D!=null&&f(e,["setup","inputAudioTranscription"],D);const H=d(t,["outputAudioTranscription"]);e!==void 0&&H!=null&&f(e,["setup","outputAudioTranscription"],H);const U=d(t,["realtimeInputConfig"]);e!==void 0&&U!=null&&f(e,["setup","realtimeInputConfig"],U);const J=d(t,["contextWindowCompression"]);e!==void 0&&J!=null&&f(e,["setup","contextWindowCompression"],J);const X=d(t,["proactivity"]);if(e!==void 0&&X!=null&&f(e,["setup","proactivity"],X),d(t,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return i}function KC(t,e){const i={},r=d(e,["model"]);r!=null&&f(i,["setup","model"],Le(t,r));const o=d(e,["config"]);return o!=null&&f(i,["config"],JC(o,i)),i}function YC(t){const e={},i=d(t,["mediaResolution"]);i!=null&&f(e,["mediaResolution"],i);const r=d(t,["codeExecutionResult"]);r!=null&&f(e,["codeExecutionResult"],r);const o=d(t,["executableCode"]);o!=null&&f(e,["executableCode"],o);const l=d(t,["fileData"]);l!=null&&f(e,["fileData"],VC(l));const c=d(t,["functionCall"]);c!=null&&f(e,["functionCall"],zC(c));const p=d(t,["functionResponse"]);p!=null&&f(e,["functionResponse"],p);const v=d(t,["inlineData"]);v!=null&&f(e,["inlineData"],GC(v));const g=d(t,["text"]);g!=null&&f(e,["text"],g);const x=d(t,["thought"]);x!=null&&f(e,["thought"],x);const b=d(t,["thoughtSignature"]);b!=null&&f(e,["thoughtSignature"],b);const _=d(t,["videoMetadata"]);return _!=null&&f(e,["videoMetadata"],_),e}function XC(t){const e={},i=d(t,["handle"]);if(i!=null&&f(e,["handle"],i),d(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function WC(t){const e={},i=d(t,["functionDeclarations"]);if(i!=null){let x=i;Array.isArray(x)&&(x=x.map(b=>b)),f(e,["functionDeclarations"],x)}if(d(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=d(t,["googleSearchRetrieval"]);r!=null&&f(e,["googleSearchRetrieval"],r);const o=d(t,["computerUse"]);o!=null&&f(e,["computerUse"],o);const l=d(t,["fileSearch"]);l!=null&&f(e,["fileSearch"],l);const c=d(t,["codeExecution"]);if(c!=null&&f(e,["codeExecution"],c),d(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const p=d(t,["googleMaps"]);p!=null&&f(e,["googleMaps"],FC(p));const v=d(t,["googleSearch"]);v!=null&&f(e,["googleSearch"],$C(v));const g=d(t,["urlContext"]);return g!=null&&f(e,["urlContext"],g),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function QC(t){const e=[];for(const i in t)if(Object.prototype.hasOwnProperty.call(t,i)){const r=t[i];if(typeof r=="object"&&r!=null&&Object.keys(r).length>0){const o=Object.keys(r).map(l=>`${i}.${l}`);e.push(...o)}else e.push(i)}return e.join(",")}function ZC(t,e){let i=null;const r=t.bidiGenerateContentSetup;if(typeof r=="object"&&r!==null&&"setup"in r){const l=r.setup;typeof l=="object"&&l!==null?(t.bidiGenerateContentSetup=l,i=l):delete t.bidiGenerateContentSetup}else r!==void 0&&delete t.bidiGenerateContentSetup;const o=t.fieldMask;if(i){const l=QC(i);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)l?t.fieldMask=l:delete t.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&o!==null&&Array.isArray(o)&&o.length>0){const c=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let p=[];o.length>0&&(p=o.map(g=>c.includes(g)?`generationConfig.${g}`:g));const v=[];l&&v.push(l),p.length>0&&v.push(...p),v.length>0?t.fieldMask=v.join(","):delete t.fieldMask}else delete t.fieldMask}else o!==null&&Array.isArray(o)&&o.length>0?t.fieldMask=o.join(","):delete t.fieldMask;return t}class e1 extends ii{constructor(e){super(),this.apiClient=e}async create(e){var i,r;let o,l="",c={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const p=qC(this.apiClient,e);l=te("auth_tokens",p._url),c=p._query,delete p.config,delete p._url,delete p._query;const v=ZC(p,e.config);return o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(v),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json()),o.then(g=>g)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function t1(t,e){const i={},r=d(t,["force"]);return e!==void 0&&r!=null&&f(e,["_query","force"],r),i}function n1(t){const e={},i=d(t,["name"]);i!=null&&f(e,["_url","name"],i);const r=d(t,["config"]);return r!=null&&t1(r,e),e}function i1(t){const e={},i=d(t,["name"]);return i!=null&&f(e,["_url","name"],i),e}function s1(t,e){const i={},r=d(t,["pageSize"]);e!==void 0&&r!=null&&f(e,["_query","pageSize"],r);const o=d(t,["pageToken"]);return e!==void 0&&o!=null&&f(e,["_query","pageToken"],o),i}function r1(t){const e={},i=d(t,["parent"]);i!=null&&f(e,["_url","parent"],i);const r=d(t,["config"]);return r!=null&&s1(r,e),e}function a1(t){const e={},i=d(t,["sdkHttpResponse"]);i!=null&&f(e,["sdkHttpResponse"],i);const r=d(t,["nextPageToken"]);r!=null&&f(e,["nextPageToken"],r);const o=d(t,["documents"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(c=>c)),f(e,["documents"],l)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class o1 extends ii{constructor(e){super(),this.apiClient=e,this.list=async i=>new us(ti.PAGED_ITEM_DOCUMENTS,r=>this.listInternal({parent:i.parent,config:r.config}),await this.listInternal(i),i)}async get(e){var i,r;let o,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=i1(e);return l=te("{name}",p._url),c=p._query,delete p._url,delete p._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(v=>v.json()),o.then(v=>v)}}async delete(e){var i,r;let o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=n1(e);o=te("{name}",c._url),l=c._query,delete c._url,delete c._query,await this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(e){var i,r;let o,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=r1(e);return l=te("{parent}/documents",p._url),c=p._query,delete p._url,delete p._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(v=>v.json()),o.then(v=>{const g=a1(v),x=new HS;return Object.assign(x,g),x})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class l1 extends ii{constructor(e,i=new o1(e)){super(),this.apiClient=e,this.documents=i,this.list=async(r={})=>new us(ti.PAGED_ITEM_FILE_SEARCH_STORES,o=>this.listInternal(o),await this.listInternal(r),r)}async uploadToFileSearchStore(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(e.fileSearchStoreName,e.file,e.config)}async create(e){var i,r;let o,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=QN(e);return l=te("fileSearchStores",p._url),c=p._query,delete p._url,delete p._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(v=>v.json()),o.then(v=>v)}}async get(e){var i,r;let o,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=tC(e);return l=te("{name}",p._url),c=p._query,delete p._url,delete p._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(v=>v.json()),o.then(v=>v)}}async delete(e){var i,r;let o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=eC(e);o=te("{name}",c._url),l=c._query,delete c._url,delete c._query,await this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(e){var i,r;let o,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=oC(e);return l=te("fileSearchStores",p._url),c=p._query,delete p._url,delete p._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(v=>v.json()),o.then(v=>{const g=lC(v),x=new BS;return Object.assign(x,g),x})}}async uploadToFileSearchStoreInternal(e){var i,r;let o,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=uC(e);return l=te("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",p._url),c=p._query,delete p._url,delete p._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(v=>v.json()),o.then(v=>{const g=cC(v),x=new qS;return Object.assign(x,g),x})}}async importFile(e){var i,r;let o,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=sC(e);return l=te("{file_search_store_name}:importFile",p._url),c=p._query,delete p._url,delete p._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(v=>v.json()),o.then(v=>{const g=iC(v),x=new Sd;return Object.assign(x,g),x})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let Iv=function(){const{crypto:t}=globalThis;if(t!=null&&t.randomUUID)return Iv=t.randomUUID.bind(t),t.randomUUID();const e=new Uint8Array(1),i=t?()=>t.getRandomValues(e)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,r=>(+r^i()&15>>+r/4).toString(16))};const u1=()=>Iv();/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function cd(t){return typeof t=="object"&&t!==null&&("name"in t&&t.name==="AbortError"||"message"in t&&String(t.message).includes("FetchRequestCanceledException"))}const dd=t=>{if(t instanceof Error)return t;if(typeof t=="object"&&t!==null){try{if(Object.prototype.toString.call(t)==="[object Error]"){const e=new Error(t.message,t.cause?{cause:t.cause}:{});return t.stack&&(e.stack=t.stack),t.cause&&!e.cause&&(e.cause=t.cause),t.name&&(e.name=t.name),e}}catch{}try{return new Error(JSON.stringify(t))}catch{}}return new Error(t)};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class yn extends Error{}class Ot extends yn{constructor(e,i,r,o){super(`${Ot.makeMessage(e,i,r)}`),this.status=e,this.headers=o,this.error=i}static makeMessage(e,i,r){const o=i!=null&&i.message?typeof i.message=="string"?i.message:JSON.stringify(i.message):i?JSON.stringify(i):r;return e&&o?`${e} ${o}`:e?`${e} status code (no body)`:o||"(no status code or body)"}static generate(e,i,r,o){if(!e||!o)return new cl({message:r,cause:dd(i)});const l=i;return e===400?new Mv(e,l,r,o):e===401?new Uv(e,l,r,o):e===403?new Pv(e,l,r,o):e===404?new Lv(e,l,r,o):e===409?new Ov(e,l,r,o):e===422?new jv(e,l,r,o):e===429?new Gv(e,l,r,o):e>=500?new Hv(e,l,r,o):new Ot(e,l,r,o)}}class fd extends Ot{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0)}}class cl extends Ot{constructor({message:e,cause:i}){super(void 0,void 0,e||"Connection error.",void 0),i&&(this.cause=i)}}class Dv extends cl{constructor({message:e}={}){super({message:e??"Request timed out."})}}class Mv extends Ot{}class Uv extends Ot{}class Pv extends Ot{}class Lv extends Ot{}class Ov extends Ot{}class jv extends Ot{}class Gv extends Ot{}class Hv extends Ot{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const c1=/^[a-z][a-z0-9+.-]*:/i,d1=t=>c1.test(t);let hd=t=>(hd=Array.isArray,hd(t));const f1=hd;let h1=f1;const D0=h1;function p1(t){if(!t)return!0;for(const e in t)return!1;return!0}function m1(t,e){return Object.prototype.hasOwnProperty.call(t,e)}const g1=(t,e)=>{if(typeof e!="number"||!Number.isInteger(e))throw new yn(`${t} must be an integer`);if(e<0)throw new yn(`${t} must be a positive integer`);return e},v1=t=>{try{return JSON.parse(t)}catch{return}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const y1=t=>new Promise(e=>setTimeout(e,t));/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const lr="0.0.1";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function x1(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const b1=()=>{var t,e,i,r,o;const l=x1();if(l==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":lr,"X-Stainless-OS":U0(Deno.build.os),"X-Stainless-Arch":M0(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:(e=(t=Deno.version)===null||t===void 0?void 0:t.deno)!==null&&e!==void 0?e:"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":lr,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(l==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":lr,"X-Stainless-OS":U0((i=globalThis.process.platform)!==null&&i!==void 0?i:"unknown"),"X-Stainless-Arch":M0((r=globalThis.process.arch)!==null&&r!==void 0?r:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":(o=globalThis.process.version)!==null&&o!==void 0?o:"unknown"};const c=_1();return c?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":lr,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${c.browser}`,"X-Stainless-Runtime-Version":c.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":lr,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function _1(){if(typeof navigator>"u"||!navigator)return null;const t=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:e,pattern:i}of t){const r=i.exec(navigator.userAgent);if(r){const o=r[1]||0,l=r[2]||0,c=r[3]||0;return{browser:e,version:`${o}.${l}.${c}`}}}return null}const M0=t=>t==="x32"?"x32":t==="x86_64"||t==="x64"?"x64":t==="arm"?"arm":t==="aarch64"||t==="arm64"?"arm64":t?`other:${t}`:"unknown",U0=t=>(t=t.toLowerCase(),t.includes("ios")?"iOS":t==="android"?"Android":t==="darwin"?"MacOS":t==="win32"?"Windows":t==="freebsd"?"FreeBSD":t==="openbsd"?"OpenBSD":t==="linux"?"Linux":t?`Other:${t}`:"Unknown");let Bo;const w1=()=>Bo??(Bo=b1());/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function S1(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function Bv(...t){const e=globalThis.ReadableStream;if(typeof e>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new e(...t)}function E1(t){let e=Symbol.asyncIterator in t?t[Symbol.asyncIterator]():t[Symbol.iterator]();return Bv({start(){},async pull(i){const{done:r,value:o}=await e.next();r?i.close():i.enqueue(o)},async cancel(){var i;await((i=e.return)===null||i===void 0?void 0:i.call(e))}})}function qv(t){if(t[Symbol.asyncIterator])return t;const e=t.getReader();return{async next(){try{const i=await e.read();return i!=null&&i.done&&e.releaseLock(),i}catch(i){throw e.releaseLock(),i}},async return(){const i=e.cancel();return e.releaseLock(),await i,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function T1(t){var e,i;if(t===null||typeof t!="object")return;if(t[Symbol.asyncIterator]){await((i=(e=t[Symbol.asyncIterator]()).return)===null||i===void 0?void 0:i.call(e));return}const r=t.getReader(),o=r.cancel();r.releaseLock(),await o}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const A1=({headers:t,body:e})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(e)});/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Vv=()=>{var t;if(typeof File>"u"){const{process:e}=globalThis,i=typeof((t=e==null?void 0:e.versions)===null||t===void 0?void 0:t.node)=="string"&&parseInt(e.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(i?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function qc(t,e,i){return Vv(),new File(t,e??"unknown_file",i)}function N1(t){return(typeof t=="object"&&t!==null&&("name"in t&&t.name&&String(t.name)||"url"in t&&t.url&&String(t.url)||"filename"in t&&t.filename&&String(t.filename)||"path"in t&&t.path&&String(t.path))||"").split(/[\\/]/).pop()||void 0}const C1=t=>t!=null&&typeof t=="object"&&typeof t[Symbol.asyncIterator]=="function";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const zv=t=>t!=null&&typeof t=="object"&&typeof t.size=="number"&&typeof t.type=="string"&&typeof t.text=="function"&&typeof t.slice=="function"&&typeof t.arrayBuffer=="function",R1=t=>t!=null&&typeof t=="object"&&typeof t.name=="string"&&typeof t.lastModified=="number"&&zv(t),k1=t=>t!=null&&typeof t=="object"&&typeof t.url=="string"&&typeof t.blob=="function";async function I1(t,e,i){if(Vv(),t=await t,R1(t))return t instanceof File?t:qc([await t.arrayBuffer()],t.name);if(k1(t)){const o=await t.blob();return e||(e=new URL(t.url).pathname.split(/[\\/]/).pop()),qc(await pd(o),e,i)}const r=await pd(t);if(e||(e=N1(t)),!(i!=null&&i.type)){const o=r.find(l=>typeof l=="object"&&"type"in l&&l.type);typeof o=="string"&&(i=Object.assign(Object.assign({},i),{type:o}))}return qc(r,e,i)}async function pd(t){var e,i,r,o,l;let c=[];if(typeof t=="string"||ArrayBuffer.isView(t)||t instanceof ArrayBuffer)c.push(t);else if(zv(t))c.push(t instanceof Blob?t:await t.arrayBuffer());else if(C1(t))try{for(var p=!0,v=Cn(t),g;g=await v.next(),e=g.done,!e;p=!0){o=g.value,p=!1;const x=o;c.push(...await pd(x))}}catch(x){i={error:x}}finally{try{!p&&!e&&(r=v.return)&&await r.call(v)}finally{if(i)throw i.error}}else{const x=(l=t==null?void 0:t.constructor)===null||l===void 0?void 0:l.name;throw new Error(`Unexpected data type: ${typeof t}${x?`; constructor: ${x}`:""}${D1(t)}`)}return c}function D1(t){return typeof t!="object"||t===null?"":`; props: [${Object.getOwnPropertyNames(t).map(i=>`"${i}"`).join(", ")}]`}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Fv{constructor(e){this._client=e}}Fv._key=[];/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function $v(t){return t.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const P0=Object.freeze(Object.create(null)),M1=(t=$v)=>(function(i,...r){if(i.length===1)return i[0];let o=!1;const l=[],c=i.reduce((x,b,_)=>{var S,T,C;/[?#]/.test(b)&&(o=!0);const N=r[_];let D=(o?encodeURIComponent:t)(""+N);return _!==r.length&&(N==null||typeof N=="object"&&N.toString===((C=Object.getPrototypeOf((T=Object.getPrototypeOf((S=N.hasOwnProperty)!==null&&S!==void 0?S:P0))!==null&&T!==void 0?T:P0))===null||C===void 0?void 0:C.toString))&&(D=N+"",l.push({start:x.length+b.length,length:D.length,error:`Value of type ${Object.prototype.toString.call(N).slice(8,-1)} is not a valid path parameter`})),x+b+(_===r.length?"":D)},""),p=c.split(/[?#]/,1)[0],v=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let g;for(;(g=v.exec(p))!==null;)l.push({start:g.index,length:g[0].length,error:`Value "${g[0]}" can't be safely passed as a path parameter`});if(l.sort((x,b)=>x.start-b.start),l.length>0){let x=0;const b=l.reduce((_,S)=>{const T=" ".repeat(S.start-x),C="^".repeat(S.length);return x=S.start+S.length,_+T+C},"");throw new yn(`Path parameters result in path with invalid segments:
${l.map(_=>_.error).join(`
`)}
${c}
${b}`)}return c}),qo=M1($v);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Jv extends Fv{create(e,i){var r;const{api_version:o=this._client.apiVersion}=e,l=el(e,["api_version"]);if("model"in l&&"agent_config"in l)throw new yn("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in l&&"generation_config"in l)throw new yn("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post(qo`/${o}/interactions`,Object.assign(Object.assign({body:l},i),{stream:(r=e.stream)!==null&&r!==void 0?r:!1}))}delete(e,i={},r){const{api_version:o=this._client.apiVersion}=i??{};return this._client.delete(qo`/${o}/interactions/${e}`,r)}cancel(e,i={},r){const{api_version:o=this._client.apiVersion}=i??{};return this._client.post(qo`/${o}/interactions/${e}/cancel`,r)}get(e,i={},r){var o;const l=i??{},{api_version:c=this._client.apiVersion}=l,p=el(l,["api_version"]);return this._client.get(qo`/${c}/interactions/${e}`,Object.assign(Object.assign({query:p},r),{stream:(o=i==null?void 0:i.stream)!==null&&o!==void 0?o:!1}))}}Jv._key=Object.freeze(["interactions"]);class Kv extends Jv{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function U1(t){let e=0;for(const o of t)e+=o.length;const i=new Uint8Array(e);let r=0;for(const o of t)i.set(o,r),r+=o.length;return i}let Vo;function kd(t){let e;return(Vo??(e=new globalThis.TextEncoder,Vo=e.encode.bind(e)))(t)}let zo;function L0(t){let e;return(zo??(e=new globalThis.TextDecoder,zo=e.decode.bind(e)))(t)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class dl{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(e){if(e==null)return[];const i=e instanceof ArrayBuffer?new Uint8Array(e):typeof e=="string"?kd(e):e;this.buffer=U1([this.buffer,i]);const r=[];let o;for(;(o=P1(this.buffer,this.carriageReturnIndex))!=null;){if(o.carriage&&this.carriageReturnIndex==null){this.carriageReturnIndex=o.index;continue}if(this.carriageReturnIndex!=null&&(o.index!==this.carriageReturnIndex+1||o.carriage)){r.push(L0(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}const l=this.carriageReturnIndex!==null?o.preceding-1:o.preceding,c=L0(this.buffer.subarray(0,l));r.push(c),this.buffer=this.buffer.subarray(o.index),this.carriageReturnIndex=null}return r}flush(){return this.buffer.length?this.decode(`
`):[]}}dl.NEWLINE_CHARS=new Set([`
`,"\r"]);dl.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function P1(t,e){for(let o=e??0;o<t.length;o++){if(t[o]===10)return{preceding:o,index:o+1,carriage:!1};if(t[o]===13)return{preceding:o,index:o+1,carriage:!0}}return null}function L1(t){for(let r=0;r<t.length-1;r++){if(t[r]===10&&t[r+1]===10||t[r]===13&&t[r+1]===13)return r+2;if(t[r]===13&&t[r+1]===10&&r+3<t.length&&t[r+2]===13&&t[r+3]===10)return r+4}return-1}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const tl={off:0,error:200,warn:300,info:400,debug:500},O0=(t,e,i)=>{if(t){if(m1(tl,t))return t;Lt(i).warn(`${e} was set to ${JSON.stringify(t)}, expected one of ${JSON.stringify(Object.keys(tl))}`)}};function ha(){}function Fo(t,e,i){return!e||tl[t]>tl[i]?ha:e[t].bind(e)}const O1={error:ha,warn:ha,info:ha,debug:ha};let j0=new WeakMap;function Lt(t){var e;const i=t.logger,r=(e=t.logLevel)!==null&&e!==void 0?e:"off";if(!i)return O1;const o=j0.get(i);if(o&&o[0]===r)return o[1];const l={error:Fo("error",i,r),warn:Fo("warn",i,r),info:Fo("info",i,r),debug:Fo("debug",i,r)};return j0.set(i,[r,l]),l}const rs=t=>(t.options&&(t.options=Object.assign({},t.options),delete t.options.headers),t.headers&&(t.headers=Object.fromEntries((t.headers instanceof Headers?[...t.headers]:Object.entries(t.headers)).map(([e,i])=>[e,e.toLowerCase()==="x-goog-api-key"||e.toLowerCase()==="authorization"||e.toLowerCase()==="cookie"||e.toLowerCase()==="set-cookie"?"***":i]))),"retryOfRequestLogID"in t&&(t.retryOfRequestLogID&&(t.retryOf=t.retryOfRequestLogID),delete t.retryOfRequestLogID),t);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class dr{constructor(e,i,r){this.iterator=e,this.controller=i,this.client=r}static fromSSEResponse(e,i,r){let o=!1;const l=r?Lt(r):console;function c(){return Nn(this,arguments,function*(){var v,g,x,b;if(o)throw new yn("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");o=!0;let _=!1;try{try{for(var S=!0,T=Cn(j1(e,i)),C;C=yield ve(T.next()),v=C.done,!v;S=!0){b=C.value,S=!1;const N=b;if(!_)if(N.data.startsWith("[DONE]")){_=!0;continue}else try{yield yield ve(JSON.parse(N.data))}catch(D){throw l.error("Could not parse message into JSON:",N.data),l.error("From chunk:",N.raw),D}}}catch(N){g={error:N}}finally{try{!S&&!v&&(x=T.return)&&(yield ve(x.call(T)))}finally{if(g)throw g.error}}_=!0}catch(N){if(cd(N))return yield ve(void 0);throw N}finally{_||i.abort()}})}return new dr(c,i,r)}static fromReadableStream(e,i,r){let o=!1;function l(){return Nn(this,arguments,function*(){var v,g,x,b;const _=new dl,S=qv(e);try{for(var T=!0,C=Cn(S),N;N=yield ve(C.next()),v=N.done,!v;T=!0){b=N.value,T=!1;const D=b;for(const H of _.decode(D))yield yield ve(H)}}catch(D){g={error:D}}finally{try{!T&&!v&&(x=C.return)&&(yield ve(x.call(C)))}finally{if(g)throw g.error}}for(const D of _.flush())yield yield ve(D)})}function c(){return Nn(this,arguments,function*(){var v,g,x,b;if(o)throw new yn("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");o=!0;let _=!1;try{try{for(var S=!0,T=Cn(l()),C;C=yield ve(T.next()),v=C.done,!v;S=!0){b=C.value,S=!1;const N=b;_||N&&(yield yield ve(JSON.parse(N)))}}catch(N){g={error:N}}finally{try{!S&&!v&&(x=T.return)&&(yield ve(x.call(T)))}finally{if(g)throw g.error}}_=!0}catch(N){if(cd(N))return yield ve(void 0);throw N}finally{_||i.abort()}})}return new dr(c,i,r)}[Symbol.asyncIterator](){return this.iterator()}tee(){const e=[],i=[],r=this.iterator(),o=l=>({next:()=>{if(l.length===0){const c=r.next();e.push(c),i.push(c)}return l.shift()}});return[new dr(()=>o(e),this.controller,this.client),new dr(()=>o(i),this.controller,this.client)]}toReadableStream(){const e=this;let i;return Bv({async start(){i=e[Symbol.asyncIterator]()},async pull(r){try{const{value:o,done:l}=await i.next();if(l)return r.close();const c=kd(JSON.stringify(o)+`
`);r.enqueue(c)}catch(o){r.error(o)}},async cancel(){var r;await((r=i.return)===null||r===void 0?void 0:r.call(i))}})}}function j1(t,e){return Nn(this,arguments,function*(){var r,o,l,c;if(!t.body)throw e.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new yn("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new yn("Attempted to iterate over a response with no body");const p=new H1,v=new dl,g=qv(t.body);try{for(var x=!0,b=Cn(G1(g)),_;_=yield ve(b.next()),r=_.done,!r;x=!0){c=_.value,x=!1;const S=c;for(const T of v.decode(S)){const C=p.decode(T);C&&(yield yield ve(C))}}}catch(S){o={error:S}}finally{try{!x&&!r&&(l=b.return)&&(yield ve(l.call(b)))}finally{if(o)throw o.error}}for(const S of v.flush()){const T=p.decode(S);T&&(yield yield ve(T))}})}function G1(t){return Nn(this,arguments,function*(){var i,r,o,l;let c=new Uint8Array;try{for(var p=!0,v=Cn(t),g;g=yield ve(v.next()),i=g.done,!i;p=!0){l=g.value,p=!1;const x=l;if(x==null)continue;const b=x instanceof ArrayBuffer?new Uint8Array(x):typeof x=="string"?kd(x):x;let _=new Uint8Array(c.length+b.length);_.set(c),_.set(b,c.length),c=_;let S;for(;(S=L1(c))!==-1;)yield yield ve(c.slice(0,S)),c=c.slice(S)}}catch(x){r={error:x}}finally{try{!p&&!i&&(o=v.return)&&(yield ve(o.call(v)))}finally{if(r)throw r.error}}c.length>0&&(yield yield ve(c))})}class H1{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;const l={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],l}if(this.chunks.push(e),e.startsWith(":"))return null;let[i,r,o]=B1(e,":");return o.startsWith(" ")&&(o=o.substring(1)),i==="event"?this.event=o:i==="data"&&this.data.push(o),null}}function B1(t,e){const i=t.indexOf(e);return i!==-1?[t.substring(0,i),e,t.substring(i+e.length)]:[t,"",""]}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function q1(t,e){const{response:i,requestLogID:r,retryOfRequestLogID:o,startTime:l}=e,c=await(async()=>{var p;if(e.options.stream)return Lt(t).debug("response",i.status,i.url,i.headers,i.body),e.options.__streamClass?e.options.__streamClass.fromSSEResponse(i,e.controller,t):dr.fromSSEResponse(i,e.controller,t);if(i.status===204)return null;if(e.options.__binaryResponse)return i;const v=i.headers.get("content-type"),g=(p=v==null?void 0:v.split(";")[0])===null||p===void 0?void 0:p.trim();return(g==null?void 0:g.includes("application/json"))||(g==null?void 0:g.endsWith("+json"))?await i.json():await i.text()})();return Lt(t).debug(`[${r}] response parsed`,rs({retryOfRequestLogID:o,url:i.url,status:i.status,body:c,durationMs:Date.now()-l})),c}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Id extends Promise{constructor(e,i,r=q1){super(o=>{o(null)}),this.responsePromise=i,this.parseResponse=r,this.client=e}_thenUnwrap(e){return new Id(this.client,this.responsePromise,async(i,r)=>e(await this.parseResponse(i,r),r))}asResponse(){return this.responsePromise.then(e=>e.response)}async withResponse(){const[e,i]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:i}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(e=>this.parseResponse(this.client,e))),this.parsedPromise}then(e,i){return this.parse().then(e,i)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Yv=Symbol("brand.privateNullableHeaders");function*V1(t){if(!t)return;if(Yv in t){const{values:r,nulls:o}=t;yield*r.entries();for(const l of o)yield[l,null];return}let e=!1,i;t instanceof Headers?i=t.entries():D0(t)?i=t:(e=!0,i=Object.entries(t??{}));for(let r of i){const o=r[0];if(typeof o!="string")throw new TypeError("expected header name to be a string");const l=D0(r[1])?r[1]:[r[1]];let c=!1;for(const p of l)p!==void 0&&(e&&!c&&(c=!0,yield[o,null]),yield[o,p])}}const da=t=>{const e=new Headers,i=new Set;for(const r of t){const o=new Set;for(const[l,c]of V1(r)){const p=l.toLowerCase();o.has(p)||(e.delete(l),o.add(p)),c===null?(e.delete(l),i.add(p)):(e.append(l,c),i.delete(p))}}return{[Yv]:!0,values:e,nulls:i}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Vc=t=>{var e,i,r,o,l,c;if(typeof globalThis.process<"u")return(r=(i=(e=mS)===null||e===void 0?void 0:e[t])===null||i===void 0?void 0:i.trim())!==null&&r!==void 0?r:void 0;if(typeof globalThis.Deno<"u")return(c=(l=(o=globalThis.Deno.env)===null||o===void 0?void 0:o.get)===null||l===void 0?void 0:l.call(o,t))===null||c===void 0?void 0:c.trim()};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Xv;class fl{constructor(e){var i,r,o,l,c,p,v,{baseURL:g=Vc("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:x=(i=Vc("GEMINI_API_KEY"))!==null&&i!==void 0?i:null,apiVersion:b="v1beta"}=e,_=el(e,["baseURL","apiKey","apiVersion"]);const S=Object.assign(Object.assign({apiKey:x,apiVersion:b},_),{baseURL:g||"https://generativelanguage.googleapis.com"});this.baseURL=S.baseURL,this.timeout=(r=S.timeout)!==null&&r!==void 0?r:fl.DEFAULT_TIMEOUT,this.logger=(o=S.logger)!==null&&o!==void 0?o:console;const T="warn";this.logLevel=T,this.logLevel=(c=(l=O0(S.logLevel,"ClientOptions.logLevel",this))!==null&&l!==void 0?l:O0(Vc("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))!==null&&c!==void 0?c:T,this.fetchOptions=S.fetchOptions,this.maxRetries=(p=S.maxRetries)!==null&&p!==void 0?p:2,this.fetch=(v=S.fetch)!==null&&v!==void 0?v:S1(),this.encoder=A1,this._options=S,this.apiKey=x,this.apiVersion=b,this.clientAdapter=S.clientAdapter}withOptions(e){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),e))}baseURLOverridden(){return this.baseURL!=="https://generativelanguage.googleapis.com"}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:e,nulls:i}){if(!(e.has("authorization")||e.has("x-goog-api-key"))&&!(this.apiKey&&e.get("x-goog-api-key"))&&!i.has("x-goog-api-key"))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(e){const i=da([e.headers]);if(!(i.values.has("authorization")||i.values.has("x-goog-api-key"))){if(this.apiKey)return da([{"x-goog-api-key":this.apiKey}]);if(this.clientAdapter.isVertexAI())return da([await this.clientAdapter.getAuthHeaders()])}}stringifyQuery(e){return Object.entries(e).filter(([i,r])=>typeof r<"u").map(([i,r])=>{if(typeof r=="string"||typeof r=="number"||typeof r=="boolean")return`${encodeURIComponent(i)}=${encodeURIComponent(r)}`;if(r===null)return`${encodeURIComponent(i)}=`;throw new yn(`Cannot stringify type ${typeof r}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${lr}`}defaultIdempotencyKey(){return`stainless-node-retry-${u1()}`}makeStatusError(e,i,r,o){return Ot.generate(e,i,r,o)}buildURL(e,i,r){const o=!this.baseURLOverridden()&&r||this.baseURL,l=d1(e)?new URL(e):new URL(o+(o.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),c=this.defaultQuery();return p1(c)||(i=Object.assign(Object.assign({},c),i)),typeof i=="object"&&i&&!Array.isArray(i)&&(l.search=this.stringifyQuery(i)),l.toString()}async prepareOptions(e){if(this.clientAdapter&&this.clientAdapter.isVertexAI()&&!e.path.startsWith(`/${this.apiVersion}/projects/`)){const i=e.path.slice(this.apiVersion.length+1);e.path=`/${this.apiVersion}/projects/${this.clientAdapter.getProject()}/locations/${this.clientAdapter.getLocation()}${i}`}}async prepareRequest(e,{url:i,options:r}){}get(e,i){return this.methodRequest("get",e,i)}post(e,i){return this.methodRequest("post",e,i)}patch(e,i){return this.methodRequest("patch",e,i)}put(e,i){return this.methodRequest("put",e,i)}delete(e,i){return this.methodRequest("delete",e,i)}methodRequest(e,i,r){return this.request(Promise.resolve(r).then(o=>Object.assign({method:e,path:i},o)))}request(e,i=null){return new Id(this,this.makeRequest(e,i,void 0))}async makeRequest(e,i,r){var o,l,c;const p=await e,v=(o=p.maxRetries)!==null&&o!==void 0?o:this.maxRetries;i==null&&(i=v),await this.prepareOptions(p);const{req:g,url:x,timeout:b}=await this.buildRequest(p,{retryCount:v-i});await this.prepareRequest(g,{url:x,options:p});const _="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),S=r===void 0?"":`, retryOf: ${r}`,T=Date.now();if(Lt(this).debug(`[${_}] sending request`,rs({retryOfRequestLogID:r,method:p.method,url:x,options:p,headers:g.headers})),!((l=p.signal)===null||l===void 0)&&l.aborted)throw new fd;const C=new AbortController,N=await this.fetchWithTimeout(x,g,b,C).catch(dd),D=Date.now();if(N instanceof globalThis.Error){const U=`retrying, ${i} attempts remaining`;if(!((c=p.signal)===null||c===void 0)&&c.aborted)throw new fd;const J=cd(N)||/timed? ?out/i.test(String(N)+("cause"in N?String(N.cause):""));if(i)return Lt(this).info(`[${_}] connection ${J?"timed out":"failed"} - ${U}`),Lt(this).debug(`[${_}] connection ${J?"timed out":"failed"} (${U})`,rs({retryOfRequestLogID:r,url:x,durationMs:D-T,message:N.message})),this.retryRequest(p,i,r??_);throw Lt(this).info(`[${_}] connection ${J?"timed out":"failed"} - error; no more retries left`),Lt(this).debug(`[${_}] connection ${J?"timed out":"failed"} (error; no more retries left)`,rs({retryOfRequestLogID:r,url:x,durationMs:D-T,message:N.message})),J?new Dv:new cl({cause:N})}const H=`[${_}${S}] ${g.method} ${x} ${N.ok?"succeeded":"failed"} with status ${N.status} in ${D-T}ms`;if(!N.ok){const U=await this.shouldRetry(N);if(i&&U){const Z=`retrying, ${i} attempts remaining`;return await T1(N.body),Lt(this).info(`${H} - ${Z}`),Lt(this).debug(`[${_}] response error (${Z})`,rs({retryOfRequestLogID:r,url:N.url,status:N.status,headers:N.headers,durationMs:D-T})),this.retryRequest(p,i,r??_,N.headers)}const J=U?"error; no more retries left":"error; not retryable";Lt(this).info(`${H} - ${J}`);const X=await N.text().catch(Z=>dd(Z).message),F=v1(X),K=F?void 0:X;throw Lt(this).debug(`[${_}] response error (${J})`,rs({retryOfRequestLogID:r,url:N.url,status:N.status,headers:N.headers,message:K,durationMs:Date.now()-T})),this.makeStatusError(N.status,F,K,N.headers)}return Lt(this).info(H),Lt(this).debug(`[${_}] response start`,rs({retryOfRequestLogID:r,url:N.url,status:N.status,headers:N.headers,durationMs:D-T})),{response:N,options:p,controller:C,requestLogID:_,retryOfRequestLogID:r,startTime:T}}async fetchWithTimeout(e,i,r,o){const l=i||{},{signal:c,method:p}=l,v=el(l,["signal","method"]);c&&c.addEventListener("abort",()=>o.abort());const g=setTimeout(()=>o.abort(),r),x=globalThis.ReadableStream&&v.body instanceof globalThis.ReadableStream||typeof v.body=="object"&&v.body!==null&&Symbol.asyncIterator in v.body,b=Object.assign(Object.assign(Object.assign({signal:o.signal},x?{duplex:"half"}:{}),{method:"GET"}),v);p&&(b.method=p.toUpperCase());try{return await this.fetch.call(void 0,e,b)}finally{clearTimeout(g)}}async shouldRetry(e){const i=e.headers.get("x-should-retry");return i==="true"?!0:i==="false"?!1:e.status===408||e.status===409||e.status===429||e.status>=500}async retryRequest(e,i,r,o){var l;let c;const p=o==null?void 0:o.get("retry-after-ms");if(p){const g=parseFloat(p);Number.isNaN(g)||(c=g)}const v=o==null?void 0:o.get("retry-after");if(v&&!c){const g=parseFloat(v);Number.isNaN(g)?c=Date.parse(v)-Date.now():c=g*1e3}if(!(c&&0<=c&&c<60*1e3)){const g=(l=e.maxRetries)!==null&&l!==void 0?l:this.maxRetries;c=this.calculateDefaultRetryTimeoutMillis(i,g)}return await y1(c),this.makeRequest(e,i-1,r)}calculateDefaultRetryTimeoutMillis(e,i){const l=i-e,c=Math.min(.5*Math.pow(2,l),8),p=1-Math.random()*.25;return c*p*1e3}async buildRequest(e,{retryCount:i=0}={}){var r,o,l;const c=Object.assign({},e),{method:p,path:v,query:g,defaultBaseURL:x}=c,b=this.buildURL(v,g,x);"timeout"in c&&g1("timeout",c.timeout),c.timeout=(r=c.timeout)!==null&&r!==void 0?r:this.timeout;const{bodyHeaders:_,body:S}=this.buildBody({options:c}),T=await this.buildHeaders({options:e,method:p,bodyHeaders:_,retryCount:i});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:p,headers:T},c.signal&&{signal:c.signal}),globalThis.ReadableStream&&S instanceof globalThis.ReadableStream&&{duplex:"half"}),S&&{body:S}),(o=this.fetchOptions)!==null&&o!==void 0?o:{}),(l=c.fetchOptions)!==null&&l!==void 0?l:{}),url:b,timeout:c.timeout}}async buildHeaders({options:e,method:i,bodyHeaders:r,retryCount:o}){let l={};this.idempotencyHeader&&i!=="get"&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),l[this.idempotencyHeader]=e.idempotencyKey);const c=await this.authHeaders(e);let p=da([l,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(o)},e.timeout?{"X-Stainless-Timeout":String(Math.trunc(e.timeout/1e3))}:{}),w1()),this._options.defaultHeaders,r,e.headers,c]);return this.validateHeaders(p),p.values}buildBody({options:{body:e,headers:i}}){if(!e)return{bodyHeaders:void 0,body:void 0};const r=da([i]);return ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof DataView||typeof e=="string"&&r.values.has("content-type")||globalThis.Blob&&e instanceof globalThis.Blob||e instanceof FormData||e instanceof URLSearchParams||globalThis.ReadableStream&&e instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:e}:typeof e=="object"&&(Symbol.asyncIterator in e||Symbol.iterator in e&&"next"in e&&typeof e.next=="function")?{bodyHeaders:void 0,body:E1(e)}:this.encoder({body:e,headers:r})}}fl.DEFAULT_TIMEOUT=6e4;class _t extends fl{constructor(){super(...arguments),this.interactions=new Kv(this)}}Xv=_t;_t.GeminiNextGenAPIClient=Xv;_t.GeminiNextGenAPIClientError=yn;_t.APIError=Ot;_t.APIConnectionError=cl;_t.APIConnectionTimeoutError=Dv;_t.APIUserAbortError=fd;_t.NotFoundError=Lv;_t.ConflictError=Ov;_t.RateLimitError=Gv;_t.BadRequestError=Mv;_t.AuthenticationError=Uv;_t.InternalServerError=Hv;_t.PermissionDeniedError=Pv;_t.UnprocessableEntityError=jv;_t.toFile=I1;_t.Interactions=Kv;/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function z1(t,e){const i={},r=d(t,["name"]);return r!=null&&f(i,["_url","name"],r),i}function F1(t,e){const i={},r=d(t,["name"]);return r!=null&&f(i,["_url","name"],r),i}function $1(t,e){const i={},r=d(t,["sdkHttpResponse"]);return r!=null&&f(i,["sdkHttpResponse"],r),i}function J1(t,e){const i={},r=d(t,["sdkHttpResponse"]);return r!=null&&f(i,["sdkHttpResponse"],r),i}function K1(t,e,i){const r={};if(d(t,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const o=d(t,["tunedModelDisplayName"]);if(e!==void 0&&o!=null&&f(e,["displayName"],o),d(t,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const l=d(t,["epochCount"]);e!==void 0&&l!=null&&f(e,["tuningTask","hyperparameters","epochCount"],l);const c=d(t,["learningRateMultiplier"]);if(c!=null&&f(r,["tuningTask","hyperparameters","learningRateMultiplier"],c),d(t,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(d(t,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(d(t,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const p=d(t,["batchSize"]);e!==void 0&&p!=null&&f(e,["tuningTask","hyperparameters","batchSize"],p);const v=d(t,["learningRate"]);if(e!==void 0&&v!=null&&f(e,["tuningTask","hyperparameters","learningRate"],v),d(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(d(t,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return r}function Y1(t,e,i){const r={};let o=d(i,["config","method"]);if(o===void 0&&(o="SUPERVISED_FINE_TUNING"),o==="SUPERVISED_FINE_TUNING"){const S=d(t,["validationDataset"]);e!==void 0&&S!=null&&f(e,["supervisedTuningSpec"],G0(S))}else if(o==="PREFERENCE_TUNING"){const S=d(t,["validationDataset"]);e!==void 0&&S!=null&&f(e,["preferenceOptimizationSpec"],G0(S))}const l=d(t,["tunedModelDisplayName"]);e!==void 0&&l!=null&&f(e,["tunedModelDisplayName"],l);const c=d(t,["description"]);e!==void 0&&c!=null&&f(e,["description"],c);let p=d(i,["config","method"]);if(p===void 0&&(p="SUPERVISED_FINE_TUNING"),p==="SUPERVISED_FINE_TUNING"){const S=d(t,["epochCount"]);e!==void 0&&S!=null&&f(e,["supervisedTuningSpec","hyperParameters","epochCount"],S)}else if(p==="PREFERENCE_TUNING"){const S=d(t,["epochCount"]);e!==void 0&&S!=null&&f(e,["preferenceOptimizationSpec","hyperParameters","epochCount"],S)}let v=d(i,["config","method"]);if(v===void 0&&(v="SUPERVISED_FINE_TUNING"),v==="SUPERVISED_FINE_TUNING"){const S=d(t,["learningRateMultiplier"]);e!==void 0&&S!=null&&f(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],S)}else if(v==="PREFERENCE_TUNING"){const S=d(t,["learningRateMultiplier"]);e!==void 0&&S!=null&&f(e,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],S)}let g=d(i,["config","method"]);if(g===void 0&&(g="SUPERVISED_FINE_TUNING"),g==="SUPERVISED_FINE_TUNING"){const S=d(t,["exportLastCheckpointOnly"]);e!==void 0&&S!=null&&f(e,["supervisedTuningSpec","exportLastCheckpointOnly"],S)}else if(g==="PREFERENCE_TUNING"){const S=d(t,["exportLastCheckpointOnly"]);e!==void 0&&S!=null&&f(e,["preferenceOptimizationSpec","exportLastCheckpointOnly"],S)}let x=d(i,["config","method"]);if(x===void 0&&(x="SUPERVISED_FINE_TUNING"),x==="SUPERVISED_FINE_TUNING"){const S=d(t,["adapterSize"]);e!==void 0&&S!=null&&f(e,["supervisedTuningSpec","hyperParameters","adapterSize"],S)}else if(x==="PREFERENCE_TUNING"){const S=d(t,["adapterSize"]);e!==void 0&&S!=null&&f(e,["preferenceOptimizationSpec","hyperParameters","adapterSize"],S)}if(d(t,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(d(t,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const b=d(t,["labels"]);e!==void 0&&b!=null&&f(e,["labels"],b);const _=d(t,["beta"]);return e!==void 0&&_!=null&&f(e,["preferenceOptimizationSpec","hyperParameters","beta"],_),r}function X1(t,e){const i={},r=d(t,["baseModel"]);r!=null&&f(i,["baseModel"],r);const o=d(t,["preTunedModel"]);o!=null&&f(i,["preTunedModel"],o);const l=d(t,["trainingDataset"]);l!=null&&oR(l);const c=d(t,["config"]);return c!=null&&K1(c,i),i}function W1(t,e){const i={},r=d(t,["baseModel"]);r!=null&&f(i,["baseModel"],r);const o=d(t,["preTunedModel"]);o!=null&&f(i,["preTunedModel"],o);const l=d(t,["trainingDataset"]);l!=null&&lR(l,i,e);const c=d(t,["config"]);return c!=null&&Y1(c,i,e),i}function Q1(t,e){const i={},r=d(t,["name"]);return r!=null&&f(i,["_url","name"],r),i}function Z1(t,e){const i={},r=d(t,["name"]);return r!=null&&f(i,["_url","name"],r),i}function eR(t,e,i){const r={},o=d(t,["pageSize"]);e!==void 0&&o!=null&&f(e,["_query","pageSize"],o);const l=d(t,["pageToken"]);e!==void 0&&l!=null&&f(e,["_query","pageToken"],l);const c=d(t,["filter"]);return e!==void 0&&c!=null&&f(e,["_query","filter"],c),r}function tR(t,e,i){const r={},o=d(t,["pageSize"]);e!==void 0&&o!=null&&f(e,["_query","pageSize"],o);const l=d(t,["pageToken"]);e!==void 0&&l!=null&&f(e,["_query","pageToken"],l);const c=d(t,["filter"]);return e!==void 0&&c!=null&&f(e,["_query","filter"],c),r}function nR(t,e){const i={},r=d(t,["config"]);return r!=null&&eR(r,i),i}function iR(t,e){const i={},r=d(t,["config"]);return r!=null&&tR(r,i),i}function sR(t,e){const i={},r=d(t,["sdkHttpResponse"]);r!=null&&f(i,["sdkHttpResponse"],r);const o=d(t,["nextPageToken"]);o!=null&&f(i,["nextPageToken"],o);const l=d(t,["tunedModels"]);if(l!=null){let c=l;Array.isArray(c)&&(c=c.map(p=>Wv(p))),f(i,["tuningJobs"],c)}return i}function rR(t,e){const i={},r=d(t,["sdkHttpResponse"]);r!=null&&f(i,["sdkHttpResponse"],r);const o=d(t,["nextPageToken"]);o!=null&&f(i,["nextPageToken"],o);const l=d(t,["tuningJobs"]);if(l!=null){let c=l;Array.isArray(c)&&(c=c.map(p=>md(p))),f(i,["tuningJobs"],c)}return i}function aR(t,e){const i={},r=d(t,["name"]);r!=null&&f(i,["model"],r);const o=d(t,["name"]);return o!=null&&f(i,["endpoint"],o),i}function oR(t,e){const i={};if(d(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(d(t,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const r=d(t,["examples"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(l=>l)),f(i,["examples","examples"],o)}return i}function lR(t,e,i){const r={};let o=d(i,["config","method"]);if(o===void 0&&(o="SUPERVISED_FINE_TUNING"),o==="SUPERVISED_FINE_TUNING"){const c=d(t,["gcsUri"]);e!==void 0&&c!=null&&f(e,["supervisedTuningSpec","trainingDatasetUri"],c)}else if(o==="PREFERENCE_TUNING"){const c=d(t,["gcsUri"]);e!==void 0&&c!=null&&f(e,["preferenceOptimizationSpec","trainingDatasetUri"],c)}let l=d(i,["config","method"]);if(l===void 0&&(l="SUPERVISED_FINE_TUNING"),l==="SUPERVISED_FINE_TUNING"){const c=d(t,["vertexDatasetResource"]);e!==void 0&&c!=null&&f(e,["supervisedTuningSpec","trainingDatasetUri"],c)}else if(l==="PREFERENCE_TUNING"){const c=d(t,["vertexDatasetResource"]);e!==void 0&&c!=null&&f(e,["preferenceOptimizationSpec","trainingDatasetUri"],c)}if(d(t,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return r}function Wv(t,e){const i={},r=d(t,["sdkHttpResponse"]);r!=null&&f(i,["sdkHttpResponse"],r);const o=d(t,["name"]);o!=null&&f(i,["name"],o);const l=d(t,["state"]);l!=null&&f(i,["state"],hv(l));const c=d(t,["createTime"]);c!=null&&f(i,["createTime"],c);const p=d(t,["tuningTask","startTime"]);p!=null&&f(i,["startTime"],p);const v=d(t,["tuningTask","completeTime"]);v!=null&&f(i,["endTime"],v);const g=d(t,["updateTime"]);g!=null&&f(i,["updateTime"],g);const x=d(t,["description"]);x!=null&&f(i,["description"],x);const b=d(t,["baseModel"]);b!=null&&f(i,["baseModel"],b);const _=d(t,["_self"]);return _!=null&&f(i,["tunedModel"],aR(_)),i}function md(t,e){const i={},r=d(t,["sdkHttpResponse"]);r!=null&&f(i,["sdkHttpResponse"],r);const o=d(t,["name"]);o!=null&&f(i,["name"],o);const l=d(t,["state"]);l!=null&&f(i,["state"],hv(l));const c=d(t,["createTime"]);c!=null&&f(i,["createTime"],c);const p=d(t,["startTime"]);p!=null&&f(i,["startTime"],p);const v=d(t,["endTime"]);v!=null&&f(i,["endTime"],v);const g=d(t,["updateTime"]);g!=null&&f(i,["updateTime"],g);const x=d(t,["error"]);x!=null&&f(i,["error"],x);const b=d(t,["description"]);b!=null&&f(i,["description"],b);const _=d(t,["baseModel"]);_!=null&&f(i,["baseModel"],_);const S=d(t,["tunedModel"]);S!=null&&f(i,["tunedModel"],S);const T=d(t,["preTunedModel"]);T!=null&&f(i,["preTunedModel"],T);const C=d(t,["supervisedTuningSpec"]);C!=null&&f(i,["supervisedTuningSpec"],C);const N=d(t,["preferenceOptimizationSpec"]);N!=null&&f(i,["preferenceOptimizationSpec"],N);const D=d(t,["tuningDataStats"]);D!=null&&f(i,["tuningDataStats"],D);const H=d(t,["encryptionSpec"]);H!=null&&f(i,["encryptionSpec"],H);const U=d(t,["partnerModelTuningSpec"]);U!=null&&f(i,["partnerModelTuningSpec"],U);const J=d(t,["customBaseModel"]);J!=null&&f(i,["customBaseModel"],J);const X=d(t,["experiment"]);X!=null&&f(i,["experiment"],X);const F=d(t,["labels"]);F!=null&&f(i,["labels"],F);const K=d(t,["outputUri"]);K!=null&&f(i,["outputUri"],K);const ce=d(t,["pipelineJob"]);ce!=null&&f(i,["pipelineJob"],ce);const Z=d(t,["serviceAccount"]);Z!=null&&f(i,["serviceAccount"],Z);const me=d(t,["tunedModelDisplayName"]);me!=null&&f(i,["tunedModelDisplayName"],me);const Ee=d(t,["veoTuningSpec"]);return Ee!=null&&f(i,["veoTuningSpec"],Ee),i}function uR(t,e){const i={},r=d(t,["sdkHttpResponse"]);r!=null&&f(i,["sdkHttpResponse"],r);const o=d(t,["name"]);o!=null&&f(i,["name"],o);const l=d(t,["metadata"]);l!=null&&f(i,["metadata"],l);const c=d(t,["done"]);c!=null&&f(i,["done"],c);const p=d(t,["error"]);return p!=null&&f(i,["error"],p),i}function G0(t,e){const i={},r=d(t,["gcsUri"]);r!=null&&f(i,["validationDatasetUri"],r);const o=d(t,["vertexDatasetResource"]);return o!=null&&f(i,["validationDatasetUri"],o),i}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class cR extends ii{constructor(e){super(),this.apiClient=e,this.list=async(i={})=>new us(ti.PAGED_ITEM_TUNING_JOBS,r=>this.listInternal(r),await this.listInternal(i),i),this.get=async i=>await this.getInternal(i),this.tune=async i=>{var r;if(this.apiClient.isVertexAI())if(i.baseModel.startsWith("projects/")){const o={tunedModelName:i.baseModel};!((r=i.config)===null||r===void 0)&&r.preTunedModelCheckpointId&&(o.checkpointId=i.config.preTunedModelCheckpointId);const l=Object.assign(Object.assign({},i),{preTunedModel:o});return l.baseModel=void 0,await this.tuneInternal(l)}else{const o=Object.assign({},i);return await this.tuneInternal(o)}else{const o=Object.assign({},i),l=await this.tuneMldevInternal(o);let c="";return l.metadata!==void 0&&l.metadata.tunedModel!==void 0?c=l.metadata.tunedModel:l.name!==void 0&&l.name.includes("/operations/")&&(c=l.name.split("/operations/")[0]),{name:c,state:id.JOB_STATE_QUEUED}}}}async getInternal(e){var i,r,o,l;let c,p="",v={};if(this.apiClient.isVertexAI()){const g=Z1(e);return p=te("{name}",g._url),v=g._query,delete g._url,delete g._query,c=this.apiClient.request({path:p,queryParams:v,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(x=>x.json().then(b=>{const _=b;return _.sdkHttpResponse={headers:x.headers},_})),c.then(x=>md(x))}else{const g=Q1(e);return p=te("{name}",g._url),v=g._query,delete g._url,delete g._query,c=this.apiClient.request({path:p,queryParams:v,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(x=>x.json().then(b=>{const _=b;return _.sdkHttpResponse={headers:x.headers},_})),c.then(x=>Wv(x))}}async listInternal(e){var i,r,o,l;let c,p="",v={};if(this.apiClient.isVertexAI()){const g=iR(e);return p=te("tuningJobs",g._url),v=g._query,delete g._url,delete g._query,c=this.apiClient.request({path:p,queryParams:v,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(x=>x.json().then(b=>{const _=b;return _.sdkHttpResponse={headers:x.headers},_})),c.then(x=>{const b=rR(x),_=new d0;return Object.assign(_,b),_})}else{const g=nR(e);return p=te("tunedModels",g._url),v=g._query,delete g._url,delete g._query,c=this.apiClient.request({path:p,queryParams:v,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(x=>x.json().then(b=>{const _=b;return _.sdkHttpResponse={headers:x.headers},_})),c.then(x=>{const b=sR(x),_=new d0;return Object.assign(_,b),_})}}async cancel(e){var i,r,o,l;let c,p="",v={};if(this.apiClient.isVertexAI()){const g=F1(e);return p=te("{name}:cancel",g._url),v=g._query,delete g._url,delete g._query,c=this.apiClient.request({path:p,queryParams:v,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(x=>x.json().then(b=>{const _=b;return _.sdkHttpResponse={headers:x.headers},_})),c.then(x=>{const b=J1(x),_=new f0;return Object.assign(_,b),_})}else{const g=z1(e);return p=te("{name}:cancel",g._url),v=g._query,delete g._url,delete g._query,c=this.apiClient.request({path:p,queryParams:v,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(x=>x.json().then(b=>{const _=b;return _.sdkHttpResponse={headers:x.headers},_})),c.then(x=>{const b=$1(x),_=new f0;return Object.assign(_,b),_})}}async tuneInternal(e){var i,r;let o,l="",c={};if(this.apiClient.isVertexAI()){const p=W1(e,e);return l=te("tuningJobs",p._url),c=p._query,delete p._url,delete p._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(v=>v.json().then(g=>{const x=g;return x.sdkHttpResponse={headers:v.headers},x})),o.then(v=>md(v))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var i,r;let o,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=X1(e);return l=te("tunedModels",p._url),c=p._query,delete p._url,delete p._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(v=>v.json().then(g=>{const x=g;return x.sdkHttpResponse={headers:v.headers},x})),o.then(v=>uR(v))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class dR{async download(e,i){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const fR=1024*1024*8,hR=3,pR=1e3,mR=2,nl="x-goog-upload-status";async function gR(t,e,i){var r;const o=await Qv(t,e,i),l=await(o==null?void 0:o.json());if(((r=o==null?void 0:o.headers)===null||r===void 0?void 0:r[nl])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return l.file}async function vR(t,e,i){var r;const o=await Qv(t,e,i),l=await(o==null?void 0:o.json());if(((r=o==null?void 0:o.headers)===null||r===void 0?void 0:r[nl])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const c=ov(l),p=new Ed;return Object.assign(p,c),p}async function Qv(t,e,i){var r,o;let l=0,c=0,p=new sd(new Response),v="upload";for(l=t.size;c<l;){const g=Math.min(fR,l-c),x=t.slice(c,c+g);c+g>=l&&(v+=", finalize");let b=0,_=pR;for(;b<hR&&(p=await i.request({path:"",body:x,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":v,"X-Goog-Upload-Offset":String(c),"Content-Length":String(g)}}}),!(!((r=p==null?void 0:p.headers)===null||r===void 0)&&r[nl]));)b++,await xR(_),_=_*mR;if(c+=g,((o=p==null?void 0:p.headers)===null||o===void 0?void 0:o[nl])!=="active")break;if(l<=c)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return p}async function yR(t){return{size:t.size,type:t.type}}function xR(t){return new Promise(e=>setTimeout(e,t))}class bR{async upload(e,i,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await gR(e,i,r)}async uploadToFileSearchStore(e,i,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await vR(e,i,r)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await yR(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class _R{create(e,i,r){return new wR(e,i,r)}}class wR{constructor(e,i,r){this.url=e,this.headers=i,this.callbacks=r}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const H0="x-goog-api-key";class SR{constructor(e){this.apiKey=e}async addAuthHeaders(e,i){if(e.get(H0)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(H0,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const ER="gl-node/";class TR{get interactions(){if(this._interactions!==void 0)return this._interactions;console.warn("GoogleGenAI.interactions: Interactions usage is experimental and may change in future versions.");const e=this.httpOptions;e!=null&&e.extraBody&&console.warn("GoogleGenAI.interactions: Client level httpOptions.extraBody is not supported by the interactions client and will be ignored.");const i=new _t({baseURL:this.apiClient.getBaseUrl(),apiKey:this.apiKey,apiVersion:this.apiClient.getApiVersion(),clientAdapter:this.apiClient,defaultHeaders:this.apiClient.getDefaultHeaders(),timeout:e==null?void 0:e.timeout});return this._interactions=i.interactions,this._interactions}constructor(e){var i;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(i=e.vertexai)!==null&&i!==void 0?i:!1,this.apiKey=e.apiKey;const r=xS(e.httpOptions,e.vertexai,void 0,void 0);r&&(e.httpOptions?e.httpOptions.baseUrl=r:e.httpOptions={baseUrl:r}),this.apiVersion=e.apiVersion,this.httpOptions=e.httpOptions;const o=new SR(this.apiKey);this.apiClient=new yC({auth:o,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:ER+"web",uploader:new bR,downloader:new dR}),this.models=new OC(this.apiClient),this.live=new IC(this.apiClient,o,new _R),this.batches=new KE(this.apiClient),this.chats=new RT(this.models,this.apiClient),this.caches=new AT(this.apiClient),this.files=new GT(this.apiClient),this.operations=new jC(this.apiClient),this.authTokens=new e1(this.apiClient),this.tunings=new cR(this.apiClient),this.fileSearchStores=new l1(this.apiClient)}}const Zv=()=>new TR({apiKey:"PLACEHOLDER_API_KEY"}),AR=async(t,e)=>(await Zv().models.generateContent({model:"gemini-3-flash-preview",contents:`As an administrative assistant at Gondwana University, refine the following note sheet content to be more formal, professional, and grammatically correct. Maintain the official university tone.
    Subject: ${e}
    Original Content: ${t}`})).text||t,NR=async(t,e,i)=>{const r=Zv(),c=[{text:`${`You are the Gondwana NotePro Digital Assistant, an elite AI support system developed by Dr. Krishna Karoo (Assistant Professor, CS) for Gondwana University, Gadchiroli. 
    
    PERSONA:
    You speak with the authority and helpfulness of the Computer Science Department. You represent the expertise of Dr. Krishna Karoo.
    
    GOAL:
    Your goal is to help university staff with the NotePro system, explain the "Green Sheet" administrative workflows, and assist in drafting official dispatches.
    If the user provides an image, analyze it for statutory relevance or provide feedback on administrative forms/drafts visible in the image.
    
    Current Chat History:
    ${e.map(v=>`${v.role==="user"?"Staff":"Assistant"}: ${v.text}`).join(`
`)}
    
    Rules:
    1. Be extremely professional, formal, and scholarly.
    2. If asked about the system developer, clearly state you were engineered by Dr. Krishna Karoo, Assistant Professor at the PG Teaching Dept. of Computer Science.
    3. Provide clear instructions on how to use the Admin Panel, create notes, and handle dispatches.
    4. Maintain the dignity of Gondwana University.`}

Staff Query: ${t}`}];if(i){const v=i.split(";")[0].split(":")[1],g=i.split(",")[1];c.push({inlineData:{data:g,mimeType:v}})}return(await r.models.generateContent({model:"gemini-3-flash-preview",contents:{parts:c}})).text||"I apologize, I am unable to process that request at the moment. Please ensure your connectivity is stable."},CR=()=>{const[t,e]=ee.useState(!1),[i,r]=ee.useState(""),[o,l]=ee.useState(null),[c,p]=ee.useState([{role:"ai",text:"Greetings. I am your Digital Concierge for the NotePro system, developed by Dr. Krishna Karoo. I can help you draft statutory notes, explain university protocols, or guide you through the 'Green Sheet' workflow. How may I assist your duties today?"}]),[v,g]=ee.useState(!1),x=ee.useRef(null),b=ee.useRef(null);ee.useEffect(()=>{x.current&&(x.current.scrollTop=x.current.scrollHeight)},[c,v]);const _=T=>{var N;const C=(N=T.target.files)==null?void 0:N[0];if(C){const D=new FileReader;D.onloadend=()=>{l(D.result)},D.readAsDataURL(C)}},S=async()=>{if(!i.trim()&&!o||v)return;const T=i.trim(),C=o;p(N=>[...N,{role:"user",text:T||"[Sent an image]",image:C||void 0}]),r(""),l(null),g(!0);try{const N=await NR(T,c,C||void 0);p(D=>[...D,{role:"ai",text:N}])}catch{p(D=>[...D,{role:"ai",text:"Service Disrupted: Unable to reach the statutory AI node. Please ensure your session is secure and try again."}])}finally{g(!1)}};return h.jsxs("div",{className:"no-print fixed bottom-8 right-8 z-[200] flex flex-col items-end",children:[t&&h.jsxs("div",{className:"mb-4 w-[350px] sm:w-[450px] h-[600px] bg-slate-900/98 backdrop-blur-3xl rounded-[3rem] shadow-[0_50px_100px_-20px_rgba(0,0,0,0.6)] border border-white/10 overflow-hidden flex flex-col animate-in slide-in-from-bottom-10 duration-500 ring-1 ring-amber-500/20",children:[h.jsxs("div",{className:"p-8 bg-gradient-to-br from-slate-950 to-slate-900 border-b border-white/5 flex items-center justify-between relative overflow-hidden",children:[h.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-amber-500/5 rounded-full blur-3xl -translate-y-1/2 translate-x-1/2"}),h.jsxs("div",{className:"flex items-center gap-5 relative z-10",children:[h.jsxs("div",{className:"relative",children:[h.jsx("div",{className:"w-14 h-14 bg-amber-500 rounded-2xl flex items-center justify-center text-slate-950 font-black shadow-2xl rotate-3 overflow-hidden border-2 border-amber-400/30",children:h.jsx("img",{src:"https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?auto=format&fit=crop&q=80&w=150",className:"w-full h-full object-cover grayscale brightness-110",alt:"Dr. Krishna Karoo Avatar"})}),h.jsx("div",{className:"absolute -bottom-1 -right-1 w-4 h-4 bg-emerald-500 border-2 border-slate-900 rounded-full animate-pulse"})]}),h.jsxs("div",{children:[h.jsx("h4",{className:"text-[12px] font-black text-white uppercase tracking-wider",children:"NotePro Assistant"}),h.jsx("p",{className:"text-[8px] font-black text-amber-500 uppercase tracking-[0.4em] opacity-90",children:"Sovereign AI Node"})]})]}),h.jsx("button",{onClick:()=>e(!1),className:"text-white/30 hover:text-white transition-all hover:rotate-90",children:h.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2.5,d:"M6 18L18 6M6 6l12 12"})})})]}),h.jsxs("div",{ref:x,className:"flex-1 overflow-y-auto p-8 space-y-8 custom-scrollbar bg-slate-900/50",children:[c.map((T,C)=>h.jsxs("div",{className:`flex flex-col ${T.role==="user"?"items-end":"items-start"}`,children:[T.image&&h.jsx("div",{className:"mb-2 max-w-[80%] rounded-2xl overflow-hidden border border-white/10 shadow-lg",children:h.jsx("img",{src:T.image,className:"w-full h-auto object-cover",alt:"Attached"})}),h.jsx("div",{className:`max-w-[88%] p-5 rounded-3xl text-[11.5px] font-medium leading-[1.6] shadow-sm ${T.role==="user"?"bg-blue-600 text-white rounded-tr-none shadow-blue-900/20":"bg-white/5 text-blue-50/90 rounded-tl-none border border-white/5"}`,children:T.text})]},C)),v&&h.jsx("div",{className:"flex justify-start",children:h.jsxs("div",{className:"bg-white/5 p-4 rounded-3xl rounded-tl-none border border-white/5 flex flex-col gap-2",children:[h.jsx("p",{className:"text-[8px] font-black text-amber-500 uppercase tracking-widest animate-pulse",children:"Processing your query..."}),h.jsxs("div",{className:"flex gap-1.5 ml-1",children:[h.jsx("div",{className:"w-1.5 h-1.5 bg-amber-500 rounded-full animate-bounce"}),h.jsx("div",{className:"w-1.5 h-1.5 bg-amber-500 rounded-full animate-bounce delay-100"}),h.jsx("div",{className:"w-1.5 h-1.5 bg-amber-500 rounded-full animate-bounce delay-200"})]})]})})]}),h.jsxs("div",{className:"p-8 bg-slate-950/80 border-t border-white/5 relative",children:[o&&h.jsx("div",{className:"absolute bottom-full left-8 mb-4 animate-in slide-in-from-bottom-4 duration-300",children:h.jsxs("div",{className:"relative w-24 h-24 rounded-2xl overflow-hidden border-4 border-blue-600 shadow-2xl",children:[h.jsx("img",{src:o,className:"w-full h-full object-cover",alt:"Preview"}),h.jsx("button",{onClick:()=>l(null),className:"absolute top-1 right-1 w-6 h-6 bg-rose-600 text-white rounded-full flex items-center justify-center shadow-lg",children:h.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M6 18L18 6M6 6l12 12"})})})]})}),h.jsxs("div",{className:"relative flex items-center gap-3",children:[h.jsx("button",{onClick:()=>{var T;return(T=b.current)==null?void 0:T.click()},className:"w-12 h-12 bg-white/5 text-slate-400 rounded-2xl flex items-center justify-center hover:bg-white/10 hover:text-white transition-all border border-white/10 shrink-0",title:"Attach Document Photo",children:h.jsxs("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 9a2 2 0 012-2h.93a2 2 0 001.664-.89l.812-1.22A2 2 0 0110.07 4h3.86a2 2 0 011.664.89l.812 1.22A2 2 0 0018.07 7H19a2 2 0 012 2v9a2 2 0 01-2 2H5a2 2 0 01-2-2V9z"}),h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 13a3 3 0 11-6 0 3 3 0 016 0z"})]})}),h.jsx("input",{type:"file",ref:b,className:"hidden",accept:"image/*",onChange:_}),h.jsxs("div",{className:"relative flex-1 group",children:[h.jsx("input",{type:"text",value:i,onChange:T=>r(T.target.value),onKeyDown:T=>T.key==="Enter"&&S(),placeholder:"Ask me anything...",className:"w-full pl-6 pr-14 py-4 bg-white/5 border border-white/10 rounded-2xl outline-none focus:border-amber-500/50 focus:bg-white/10 transition-all text-white text-[11px] font-bold placeholder:text-slate-600"}),h.jsx("button",{onClick:S,disabled:v||!i.trim()&&!o,className:"absolute right-2 top-1/2 -translate-y-1/2 w-10 h-10 bg-amber-500 text-slate-950 rounded-xl flex items-center justify-center hover:bg-white transition-all active:scale-90 disabled:opacity-30 shadow-xl",children:h.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M13 5l7 7-7 7M5 5l7 7-7 7"})})})]})]}),h.jsxs("div",{className:"mt-6 flex flex-col items-center gap-1.5",children:[h.jsx("p",{className:"text-[7px] text-center font-black text-slate-600 uppercase tracking-[0.4em]",children:"Integrated Multimodal Assistant"}),h.jsx("p",{className:"text-[8px] font-bold text-slate-500 uppercase tracking-widest leading-none",children:"Developed at PG Teaching Dept. of Computer Science"})]})]})]}),h.jsxs("button",{onClick:()=>e(!t),className:`relative w-20 h-20 rounded-[2rem] flex items-center justify-center transition-all duration-700 group shadow-[0_30px_70px_-15px_rgba(245,158,11,0.5)] ${t?"bg-white scale-90 rotate-90 rounded-full":"bg-amber-500 hover:scale-110 hover:-translate-y-2"}`,children:[h.jsx("div",{className:`absolute inset-0 rounded-[2rem] bg-amber-500 animate-ping opacity-20 duration-[3000ms] ${t?"hidden":"block"}`}),t?h.jsx("svg",{className:"w-10 h-10 text-slate-950",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M6 18L18 6M6 6l12 12"})}):h.jsxs("div",{className:"flex flex-col items-center",children:[h.jsx("div",{className:"w-10 h-10 rounded-xl overflow-hidden mb-0.5 border-2 border-slate-950/20 shadow-lg",children:h.jsx("img",{src:"https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?auto=format&fit=crop&q=80&w=150",className:"w-full h-full object-cover grayscale brightness-125"})}),h.jsx("span",{className:"text-slate-950 font-black text-[9px] tracking-tighter uppercase leading-none",children:"HELP"})]})]})]})},RR=({onComplete:t,recipientName:e,action:i})=>{const[r,o]=ee.useState(0),[l,c]=ee.useState(0),[p,v]=ee.useState(0);ee.useEffect(()=>{const x=setInterval(()=>{o(S=>S<100?S+2:100),c(S=>S<100?S+3:100)},30),b=setInterval(()=>{v(S=>S+1)},800),_=setTimeout(()=>{t()},3500);return()=>{clearInterval(x),clearInterval(b),clearTimeout(_)}},[t]);const g=["Establishing Secure Handshake...","Encrypting Statutory Content...","Connecting to SMS Gateway...","SMTP Protocol Synchronized...","Dispatched Successfully."];return h.jsx("div",{className:"fixed inset-0 z-[1000] bg-slate-950/95 backdrop-blur-3xl flex items-center justify-center p-6 animate-in fade-in duration-500",children:h.jsxs("div",{className:"max-w-md w-full space-y-12",children:[h.jsxs("div",{className:"text-center space-y-4",children:[h.jsxs("div",{className:"relative inline-block",children:[h.jsx("div",{className:"w-24 h-24 bg-blue-600 rounded-[2rem] flex items-center justify-center text-white shadow-[0_0_50px_rgba(37,99,235,0.4)] animate-pulse",children:h.jsx("svg",{className:"w-12 h-12",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2.5,d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})})}),h.jsx("div",{className:"absolute -top-2 -right-2 w-8 h-8 bg-amber-500 rounded-full flex items-center justify-center text-slate-950 font-black text-xs shadow-xl border-4 border-slate-950",children:"!"})]}),h.jsx("h2",{className:"text-2xl font-black text-white uppercase tracking-tighter",children:"Notification Engine"}),h.jsx("p",{className:"text-[10px] font-black text-blue-500 uppercase tracking-[0.5em]",children:"Statutory Dispatch in Progress"})]}),h.jsxs("div",{className:"space-y-8",children:[h.jsxs("div",{className:"space-y-3",children:[h.jsxs("div",{className:"flex justify-between items-end",children:[h.jsx("span",{className:"text-[9px] font-black text-white uppercase tracking-widest",children:"Email Gateway"}),h.jsxs("span",{className:"text-[9px] font-black text-blue-400 tabular-nums",children:[r,"%"]})]}),h.jsx("div",{className:"h-1.5 w-full bg-white/5 rounded-full overflow-hidden",children:h.jsx("div",{className:"h-full bg-blue-500 shadow-[0_0_15px_rgba(59,130,246,0.5)] transition-all duration-300 ease-out",style:{width:`${r}%`}})})]}),h.jsxs("div",{className:"space-y-3",children:[h.jsxs("div",{className:"flex justify-between items-end",children:[h.jsx("span",{className:"text-[9px] font-black text-white uppercase tracking-widest",children:"SMS Protocol"}),h.jsxs("span",{className:"text-[9px] font-black text-amber-500 tabular-nums",children:[l,"%"]})]}),h.jsx("div",{className:"h-1.5 w-full bg-white/5 rounded-full overflow-hidden",children:h.jsx("div",{className:"h-full bg-amber-500 shadow-[0_0_15px_rgba(245,158,11,0.5)] transition-all duration-300 ease-out",style:{width:`${l}%`}})})]})]}),h.jsxs("div",{className:"p-8 bg-white/5 rounded-[2.5rem] border border-white/10 text-center",children:[h.jsx("p",{className:"text-[10px] font-black text-slate-500 uppercase tracking-[0.2em] mb-4",children:"Current Task"}),h.jsx("p",{className:"text-sm font-bold text-white italic animate-in fade-in slide-in-from-bottom-2",children:g[Math.min(p,g.length-1)]}),h.jsxs("p",{className:"mt-4 text-[8px] font-black text-blue-400 uppercase tracking-widest",children:["Recipient: ",e]})]}),h.jsxs("div",{className:"flex justify-center gap-10 opacity-20",children:[h.jsxs("div",{className:"flex flex-col items-center gap-2",children:[h.jsx("div",{className:"w-1.5 h-1.5 bg-white rounded-full"}),h.jsx("span",{className:"text-[7px] font-black uppercase tracking-widest",children:"SMTP"})]}),h.jsxs("div",{className:"flex flex-col items-center gap-2",children:[h.jsx("div",{className:"w-1.5 h-1.5 bg-white rounded-full"}),h.jsx("span",{className:"text-[7px] font-black uppercase tracking-widest",children:"SMPP"})]}),h.jsxs("div",{className:"flex flex-col items-center gap-2",children:[h.jsx("div",{className:"w-1.5 h-1.5 bg-white rounded-full"}),h.jsx("span",{className:"text-[7px] font-black uppercase tracking-widest",children:"AES-256"})]})]})]})})},zc="Gondwana University, Gadchiroli",B0=[{id:"admin",name:"ADMINISTRATOR",designation:"System Architect",department:"ICT Infrastructure",role:ae.ADMIN,password:"Pass",email:"admin.notepro@gondwana.ac.in",phone:"9000000001"},{id:"VC",name:"Dr. Prashant S. Bokare",designation:"Vice-Chancellor",department:"Administration",role:ae.STAFF,password:"Pass",email:"vc@gondwana.ac.in",phone:"9822000001"},{id:"PVC",name:"Dr. Sriram Kawale",designation:"Pro-Vice-Chancellor",department:"Administration",role:ae.STAFF,password:"Pass",email:"provc@gondwana.ac.in",phone:"9822000002"},{id:"REG",name:"Dr. Anil Hirekhan",designation:"Registrar",department:"Registrar Office",role:ae.STAFF,password:"Pass",email:"registrar@gondwana.ac.in",phone:"9822000003"},{id:"ACAD_01",name:"Dr. Ashok Mistry",designation:"Dean (I/C), Science & Technology",department:"Academic Section",role:ae.STAFF,password:"Pass",email:"dean.st@gondwana.ac.in",phone:"9822000004"},{id:"EXM_01",name:"Dr. Pravin A. Potdukhe",designation:"Director, Board of Examinations & Evaluation",department:"Examination Section",role:ae.STAFF,password:"Pass",email:"director.bee@gondwana.ac.in",phone:"9822000006"},{id:"FIN_01",name:"Shri. Bhaskar H. Pathare",designation:"Finance & Accounts Officer",department:"Finance Section",role:ae.STAFF,password:"Pass",email:"fao@gondwana.ac.in",phone:"9822000007"},{id:"INN_01",name:"Dr. Manish Uttarwar",designation:"Director, Innovation & Incubation",department:"Innovation Cell",role:ae.STAFF,password:"Pass",email:"manish.u@gondwana.ac.in",phone:"9822000008"},{id:"SPT_01",name:"Dr. Anita Lokhande",designation:"Director (I/C), Sports & Phys Ed",department:"Sports Department",role:ae.STAFF,password:"Pass",email:"sports.dir@gondwana.ac.in",phone:"9822000009"},{id:"SOC_01",name:"Dr. Dhanraj Patil",designation:"Professor (Sociology)",department:"Department of Sociology",role:ae.STAFF,password:"Pass",email:"dhanraj.patil@gondwana.ac.in",phone:"9158000101"},{id:"SOC_02",name:"Dr. Shyam Khandare",designation:"Professor (Sociology) & Director NSS",department:"Department of Sociology",role:ae.STAFF,password:"Pass",email:"shyam.k@gondwana.ac.in",phone:"9158000102"},{id:"ENG_01",name:"Dr. Vivek V. Joshi",designation:"Professor (English)",department:"Department of English",role:ae.STAFF,password:"Pass",email:"vvjoshi@gondwana.ac.in",phone:"9158000103"},{id:"COM_01",name:"Dr. Uttamchand Kamble",designation:"Professor (Commerce)",department:"Department of Commerce",role:ae.STAFF,password:"Pass",email:"ukamble@gondwana.ac.in",phone:"9158000104"},{id:"MAT_01",name:"Prof. Sandeep G. Kage",designation:"Asst. Professor (Maths)",department:"Department of Mathematics",role:ae.STAFF,password:"Pass",email:"sandeep.kage@gondwana.ac.in",phone:"9158000105"},{id:"MAT_02",name:"Prof. Shivaji N. Chepte",designation:"Asst. Professor (Maths)",department:"Department of Mathematics",role:ae.STAFF,password:"Pass",email:"snchepte@gondwana.ac.in",phone:"9158000106"},{id:"MAT_03",name:"Dr. Sunil D. Bagde",designation:"Asst. Professor (Maths)",department:"Department of Mathematics",role:ae.STAFF,password:"Pass",email:"sunil.bagde@gondwana.ac.in",phone:"9158000107"},{id:"COM_02",name:"Dr. Aniruddha S. Gachke",designation:"Asst. Professor (Commerce)",department:"Department of Commerce",role:ae.STAFF,password:"Pass",email:"aniruddha.g@gondwana.ac.in",phone:"9158000108"},{id:"COM_03",name:"Dr. Devdatta S. Tare",designation:"Asst. Professor (Commerce)",department:"Department of Commerce",role:ae.STAFF,password:"Pass",email:"devdatta.tare@gondwana.ac.in",phone:"9158000109"},{id:"COM_04",name:"Dr. Prashant A. Sonawane",designation:"Asst. Professor (Commerce)",department:"Department of Commerce",role:ae.STAFF,password:"Pass",email:"prashant.s@gondwana.ac.in",phone:"9158000110"},{id:"COM_05",name:"Dr. Priya D. Gedam",designation:"Asst. Professor (Commerce)",department:"Department of Commerce",role:ae.STAFF,password:"Pass",email:"priya.gedam@gondwana.ac.in",phone:"9158000111"},{id:"ENG_02",name:"Dr. Pramod Jawre",designation:"Asst. Professor (English)",department:"Department of English",role:ae.STAFF,password:"Pass",email:"pjawre@gondwana.ac.in",phone:"9158000112"},{id:"ENG_03",name:"Dr. Shilpa K. Athwale",designation:"Asst. Professor (English)",department:"Department of English",role:ae.STAFF,password:"Pass",email:"shilpa.a@gondwana.ac.in",phone:"9158000113"},{id:"ENG_04",name:"Prof. Vaibhav D. Masram",designation:"Asst. Professor (English)",department:"Department of English",role:ae.STAFF,password:"Pass",email:"vaibhav.m@gondwana.ac.in",phone:"9158000114"},{id:"HIS_01",name:"Dr. Praful V. Nande",designation:"Asst. Professor (History)",department:"Department of History",role:ae.STAFF,password:"Pass",email:"praful.nande@gondwana.ac.in",phone:"9158000115"},{id:"HIS_02",name:"Prof. Nandkishor P. Mane",designation:"Asst. Professor (History)",department:"Department of History",role:ae.STAFF,password:"Pass",email:"nandkishor.m@gondwana.ac.in",phone:"9158000116"},{id:"HIS_03",name:"Dr. Santosh P. Suradkar",designation:"Asst. Professor (History)",department:"Department of History",role:ae.STAFF,password:"Pass",email:"santosh.s@gondwana.ac.in",phone:"9158000117"},{id:"HIS_04",name:"Dr. Naresh M. Madavi",designation:"Asst. Professor (History)",department:"Department of History",role:ae.STAFF,password:"Pass",email:"naresh.m@gondwana.ac.in",phone:"9158000118"},{id:"SOC_03",name:"Prof. Vinayak B. Shinde",designation:"Asst. Professor (Sociology)",department:"Department of Sociology",role:ae.STAFF,password:"Pass",email:"vinayak.s@gondwana.ac.in",phone:"9158000119"},{id:"SOC_04",name:"Dr. Rajani V. Wardai",designation:"Asst. Professor (Sociology)",department:"Department of Sociology",role:ae.STAFF,password:"Pass",email:"rajani.w@gondwana.ac.in",phone:"9158000120"},{id:"SOC_05",name:"Dr. Priti G. Kale",designation:"Asst. Professor (Sociology)",department:"Department of Sociology",role:ae.STAFF,password:"Pass",email:"priti.kale@gondwana.ac.in",phone:"9158000121"},{id:"SOC_06",name:"Prof. Satyanarayan V. Sudevad",designation:"Asst. Professor (Sociology)",department:"Department of Sociology",role:ae.STAFF,password:"Pass",email:"satya.s@gondwana.ac.in",phone:"9158000122"},{id:"MAR_01",name:"Dr. Hemraj D. Nikhade",designation:"Asst. Professor (Marathi)",department:"Department of Marathi",role:ae.STAFF,password:"Pass",email:"hemraj.n@gondwana.ac.in",phone:"9158000123"},{id:"MC_01",name:"Dr. Sanjay M. Daf",designation:"Asst. Professor (Mass Comm)",department:"Department of Mass Communication",role:ae.STAFF,password:"Pass",email:"sanjay.daf@gondwana.ac.in",phone:"9158000127"},{id:"ECN_01",name:"Dr. Ananta S. Gawande",designation:"Asst. Professor (Applied Economics)",department:"Department of Economics",role:ae.STAFF,password:"Pass",email:"ananta.g@gondwana.ac.in",phone:"9158000131"},{id:"CHM_01",name:"Dr. Prashant B. Thakre",designation:"Asst. Professor (Chemistry)",department:"Department of Chemistry",role:ae.STAFF,password:"Pass",email:"prashant.t@gondwana.ac.in",phone:"9158000135"},{id:"CS_01",name:"Dr. Krishna D. Karoo",designation:"Assistant Professor",department:"Department of Computer Science",role:ae.STAFF,password:"Pass",email:"krishna.karoo@gondwana.ac.in",phone:"9158000139"},{id:"PHY_01",name:"Dr. Nandkishor S. Meshram",designation:"Asst. Professor (Physics)",department:"Department of Physics",role:ae.STAFF,password:"Pass",email:"nmeshram@gondwana.ac.in",phone:"9158000143"},{id:"MGT_01",name:"Dr. Prashant K. Kshirsagar",designation:"Asst. Professor (MBA)",department:"Department of Management",role:ae.STAFF,password:"Pass",email:"kshirsagar.p@gondwana.ac.in",phone:"9158000147"},{id:"REG_02",name:"Dr. Hemant K. Barsagade",designation:"Deputy Registrar",department:"Registrar Office",role:ae.STAFF,password:"Pass",email:"dr.barsagade@gondwana.ac.in",phone:"9422000201"},{id:"REG_03",name:"Shri. Devendra M. Zhade",designation:"Deputy Registrar",department:"Registrar Office",role:ae.STAFF,password:"Pass",email:"dr.zhade@gondwana.ac.in",phone:"9422000202"},{id:"ENGN_01",name:"Shri. Jitendra N. Ambagade",designation:"University Engineer",department:"Engineering Section",role:ae.STAFF,password:"Pass",email:"ue@gondwana.ac.in",phone:"9422000203"},{id:"ICT_01",name:"Shri. Amol B. Khodve",designation:"System Analyst",department:"ICT Infrastructure",role:ae.STAFF,password:"Pass",email:"it.analyst@gondwana.ac.in",phone:"9422000204"},{id:"REG_04",name:"Shri. Dinesh J. Narote",designation:"Asst. Registrar",department:"Registrar Office",role:ae.STAFF,password:"Pass",email:"ar.narote@gondwana.ac.in",phone:"9422000205"},{id:"REG_05",name:"Dr. Kamaji V. Deshmukh",designation:"Asst. Registrar",department:"Registrar Office",role:ae.STAFF,password:"Pass",email:"ar.deshmukh@gondwana.ac.in",phone:"9422000206"},{id:"ICT_02",name:"Shri. Krishna N. Devikar",designation:"Assistant Programmer",department:"ICT Infrastructure",role:ae.STAFF,password:"Pass",email:"prog.devikar@gondwana.ac.in",phone:"9422000209"},{id:"EST_01",name:"Shri. Avinash K. Porerwar",designation:"Superintendent",department:"Establishment Section",role:ae.STAFF,password:"Pass",email:"sup.porerwar@gondwana.ac.in",phone:"9422000212"},{id:"ADM_03",name:"Smt. Vaishali S. Sonatakke",designation:"Senior Stenographer",department:"Administration",role:ae.STAFF,password:"Pass",email:"vaishali.s@gondwana.ac.in",phone:"9422000218"},{id:"GADM_01",name:"Shri. Samir A. Bodhankar",designation:"Selection Grade Clerk",department:"General Administration",role:ae.STAFF,password:"Pass",email:"samir.b@gondwana.ac.in",phone:"9422000227"},{id:"FIN_02",name:"Shri. Sachin W. Moon",designation:"Upper Division Clerk",department:"Finance Section",role:ae.STAFF,password:"Pass",email:"sachin.moon@gondwana.ac.in",phone:"9422000240"},{id:"EST_02",name:"Shri. Dilip V. Nandanwar",designation:"Lower Division Clerk",department:"Establishment Section",role:ae.STAFF,password:"Pass",email:"dilip.n@gondwana.ac.in",phone:"9422000260"},{id:"TRN_01",name:"Shri. Sham R. Kalaskar",designation:"Driver",department:"Transport Section",role:ae.STAFF,password:"Pass",email:"transport@gondwana.ac.in",phone:"9422000296"},{id:"GADM_02",name:"Shri. Amit M. Bodhankar",designation:"Peon",department:"General Administration",role:ae.STAFF,password:"Pass",email:"amit.b@gondwana.ac.in",phone:"9422000302"},{id:"SEC_01",name:"Shri. Sahebrao P. Sonkamble",designation:"Watchman",department:"Security Section",role:ae.STAFF,password:"Pass",email:"security@gondwana.ac.in",phone:"9422000313"}],q0=["Administration","Registrar Office","Finance Section","Examination Section","Academic Section","Establishment Section","Innovation Cell","Student Welfare","Sports Department","NSS Department","Knowledge Resource Center","Department of Computer Science","Department of English","Department of Physics","Department of Chemistry","Department of Mathematics","Department of Sociology","Department of History","Department of Economics","Department of Marathi","Department of Mass Communication","Department of Commerce","Department of Management","ICT Infrastructure","Engineering Section","Transport Section","Security Section","General Administration"],kR=()=>{const[t,e]=ee.useState("LANDING"),[i,r]=ee.useState(null),[o,l]=ee.useState(!1),[c,p]=ee.useState(!0),[v,g]=ee.useState(!1),[x,b]=ee.useState([]),[_,S]=ee.useState([]),[T,C]=ee.useState([]),[N,D]=ee.useState(void 0),[H,U]=ee.useState("CONNECTING"),[J,X]=ee.useState(null),[F,K]=ee.useState(new Date().toISOString().split("T")[0]),[ce,Z]=ee.useState(!1),[me,Ee]=ee.useState(""),[Me,_e]=ee.useState(""),[qe,rt]=ee.useState(""),[j,Y]=ee.useState(""),[le,Te]=ee.useState(""),[De,R]=ee.useState(!1),[V,Q]=ee.useState([]),[ie,de]=ee.useState(null),[ge,Re]=ee.useState(""),[We,Oe]=ee.useState("IN_TRAY"),[$t,Dt]=ee.useState(null),xn=ee.useRef(null),tt=ee.useMemo(()=>_.find(M=>M.id===J)||null,[_,J]),Rt=ee.useMemo(()=>F?_.filter(M=>{try{const ne=new Date(M.dateInitiated),W=ne.getFullYear(),Qe=String(ne.getMonth()+1).padStart(2,"0"),ut=String(ne.getDate()).padStart(2,"0");return`${W}-${Qe}-${ut}`===F}catch{return!1}}).sort((M,ne)=>new Date(M.dateInitiated).getTime()-new Date(ne.dateInitiated).getTime()):[],[_,F]),sn=ee.useMemo(()=>i?_.filter(M=>M.currentHandler.id===i.id||M.creator.id===i.id||M.history.some(ne=>ne.from.id===i.id||ne.to.id===i.id)):[],[_,i]),Pn=ee.useMemo(()=>{if(!i)return{inTray:0,outTray:0,allHits:0};const M=sn.filter(W=>W.currentHandler.id===i.id&&W.status!==Ge.APPROVED&&W.status!==Ge.REJECTED).length,ne=sn.filter(W=>W.currentHandler.id!==i.id&&W.history.some(Qe=>Qe.from.id===i.id)&&W.status!==Ge.APPROVED&&W.status!==Ge.REJECTED).length;return{inTray:M,outTray:ne,allHits:sn.length}},[sn,i]),cs=ee.useMemo(()=>{if(!i)return[];let M=[...sn];if(We==="IN_TRAY"?M=M.filter(ne=>ne.currentHandler.id===i.id&&ne.status!==Ge.APPROVED&&ne.status!==Ge.REJECTED):We==="OUT_TRAY"&&(M=M.filter(ne=>ne.currentHandler.id!==i.id&&ne.history.some(W=>W.from.id===i.id)&&ne.status!==Ge.APPROVED&&ne.status!==Ge.REJECTED)),ge.trim()){const ne=ge.toLowerCase();M=M.filter(W=>W.subject.toLowerCase().includes(ne)||W.referenceNo.toLowerCase().includes(ne)||W.creator.name.toLowerCase().includes(ne)||W.currentHandler.name.toLowerCase().includes(ne))}return M},[sn,i,We,ge]);ee.useEffect(()=>{(async()=>{try{await yt.init();let W=await yt.getAll(Ie.STAFF),Qe=await yt.getAll(Ie.NOTES),ut=await yt.getAll(Ie.DEPARTMENTS),rn=await yt.get(Ie.SETTINGS,"main");if(W.length===0){for(const an of B0)await yt.put(Ie.STAFF,an);W=B0}ut.length===0&&(await yt.saveAllDepartments(q0),ut=q0),b(W),S(Qe),C(ut.sort()),rn&&rn.logo&&D(rn.logo),U("SECURE")}catch{U("ERROR")}})();const ne=yt.onSync(W=>{var Qe;W.action==="SYNC"&&(W.store===Ie.NOTES&&S(W.data),W.store===Ie.STAFF&&b(W.data),W.store===Ie.DEPARTMENTS&&C(W.data.sort()),W.store===Ie.SETTINGS&&((Qe=W.data)!=null&&Qe.logo)&&D(W.data.logo))});return()=>ne()},[]);const ds=M=>{r(M),e("PORTAL")},bn=()=>{r(null),e("LANDING"),X(null),l(!1)},ri=M=>{X(M.id),e("PUBLIC_VIEW")},Li=M=>{K(M),e("DAILY_REPORT")},ai=(M,ne)=>{const W=document.getElementById(M);if(!W){window.print();return}const Qe=window.open("","_blank","width=1100,height=1500");if(!Qe){alert("Popup Blocked: Please allow popups to generate the statutory print output.");return}const ut=Array.from(document.querySelectorAll('style, link[rel="stylesheet"]')).map(an=>an.outerHTML).join(`
`),rn=`
      <!DOCTYPE html>
      <html>
        <head>
          <title>${ne}</title>
          ${ut}
          <script src="https://cdn.tailwindcss.com"><\/script>
          <style>
            body { background: white !important; margin: 0; padding: 0; }
            .a4-page-container { width: 100% !important; margin: 0 !important; box-shadow: none !important; border: none !important; }
            .no-print { display: none !important; }
            @page { size: A4; margin: 0; }
          </style>
        </head>
        <body class="bg-white">
          <div class="p-0 m-0">
            ${W.innerHTML}
          </div>
          <script>
            window.onload = () => {
              setTimeout(() => {
                window.print();
              }, 800);
            };
          <\/script>
        </body>
      </html>
    `;Qe.document.write(rn),Qe.document.close()},fs=M=>{ai(`statutory-note-${M}`,`GU-Dispatch: ${M}`)},q=()=>{ai("statutory-daily-gazette",`GU-Gazette-Summary: ${F}`)},Ae=()=>{Z(!0),Ee(""),_e(""),rt(""),Y(""),Te(""),Q([]),X(null),p(!1)},lt=M=>{const ne={Sociology:"SOC",English:"ENG","Computer Science":"CS",Mathematics:"MAT",Physics:"PHY",Chemistry:"CHM",Commerce:"COM",Management:"MBA",Administration:"ADM","Registrar Office":"REG",Finance:"FIN",Examination:"EXM",Engineering:"ENGN",History:"HIS",Economics:"ECN",Marathi:"MAR","Mass Communication":"MC"};for(const W in ne)if(M.toLowerCase().includes(W.toLowerCase()))return ne[W];return M.substring(0,3).toUpperCase()},mt=M=>{const ne=new Date().getFullYear(),W=i?lt(i.department):"GEN";/^\d+$/.test(M)&&!M.startsWith("GU/")?rt(`GU/${W}/${ne}/${M}`):rt(M.toUpperCase())},oi=async M=>{await yt.put(Ie.SETTINGS,{id:"main",universityName:zc,logo:M}),D(M)},hs=async M=>{await yt.put(Ie.STAFF,M),b(ne=>[...ne,M])},jt=async M=>{await yt.put(Ie.STAFF,M),b(ne=>ne.map(W=>W.id===M.id?M:W))},Oi=async M=>{await yt.delete(Ie.STAFF,M),b(ne=>ne.filter(W=>W.id!==M))},hl=async M=>{if(!T.includes(M)){const ne=[...T,M].sort();await yt.saveAllDepartments(ne),C(ne)}},ji=async M=>{const ne=T.filter(W=>W!==M);await yt.saveAllDepartments(ne),C(ne)},Mt=M=>{const ne=M.target.files;ne&&(Array.from(ne).forEach(W=>{const Qe=new FileReader;Qe.onload=ut=>{var an;const rn={id:Math.random().toString(36).substr(2,9),name:W.name,type:W.type,size:W.size,data:(an=ut.target)==null?void 0:an.result};Q(pl=>[...pl,rn])},Qe.readAsDataURL(W)}),M.target.value="")},kn=M=>{Q(ne=>ne.filter(W=>W.id!==M))},Ut=async()=>{if(!me||!Me||!j||!i||!qe)return;const M=x.find(W=>W.id===j);if(!M)return;const ne={id:`NS-${Math.floor(Math.random()*1e5)}`,subject:me.trim(),content:Me,referenceNo:qe.trim().toUpperCase(),dateInitiated:new Date().toISOString(),status:Ge.PENDING,creator:i,currentHandler:M,attachments:[...V],history:[{id:Math.random().toString(36).substr(2,9),from:i,to:M,timestamp:new Date().toISOString(),remark:le||"Note sheet initiated.",action:Je.INITIATE,notificationsSent:{email:!0,sms:!0}}]};Dt({active:!0,recipient:M.name,action:"Initiation"}),await yt.put(Ie.NOTES,ne),S(W=>[ne,...W]),Z(!1),X(ne.id),Q([])},ps=async M=>{if(!tt||!i)return;let ne;if(M===Je.APPROVE||M===Je.REJECT)ne=tt.creator;else{if(!j){de("Target official required."),setTimeout(()=>de(null),5e3);return}ne=x.find(Qe=>Qe.id===j)}if(!ne)return;const W={...tt,status:M===Je.APPROVE?Ge.APPROVED:M===Je.REJECT?Ge.REJECTED:M===Je.RETURN?Ge.RETURNED:Ge.PENDING,currentHandler:ne,attachments:[...tt.attachments||[],...V],history:[...tt.history,{id:Math.random().toString(36).substr(2,9),from:i,to:ne,timestamp:new Date().toISOString(),remark:le||(M===Je.APPROVE?"Approved.":"Forwarded."),action:M,notificationsSent:{email:!0,sms:!0}}]};Dt({active:!0,recipient:ne.name,action:M}),await yt.put(Ie.NOTES,W),S(Qe=>Qe.map(ut=>ut.id===W.id?W:ut)),Te(""),Y(""),Q([]),X(null)},Sa=M=>{const ne=W=>{switch(W){case Ge.APPROVED:return"stamp-approved";case Ge.REJECTED:return"stamp-rejected";case Ge.RETURNED:return"stamp-returned";default:return"stamp-pending"}};return h.jsxs("div",{id:`statutory-note-${M.id}`,className:"a4-page-container paper-texture report-page",children:[h.jsx("div",{className:"statutory-watermark",children:N?h.jsx("img",{src:N,className:"w-full h-full object-contain opacity-5"}):h.jsx("div",{className:"text-[140px] font-black opacity-20 text-slate-900",children:"G"})}),h.jsx("div",{className:`statutory-stamp ${ne(M.status)}`,children:M.status}),h.jsx("div",{className:"letter-head p-4 border-b-2 border-double border-slate-950 text-center bg-white shrink-0 relative",children:h.jsxs("div",{className:"flex flex-col items-center",children:[h.jsx("div",{className:"absolute left-6 top-3 w-28 h-28 bg-white rounded-xl flex items-center justify-center overflow-hidden shadow-sm border border-slate-100",children:N?h.jsx("img",{src:N,alt:"Logo",className:"w-full h-full object-contain"}):h.jsx("div",{className:"w-full h-full bg-slate-900 flex items-center justify-center text-white font-black text-3xl",children:"G"})}),h.jsx("h1",{className:"text-xl font-black text-slate-950 tracking-tighter uppercase leading-none mb-0.5",children:zc}),h.jsx("p",{className:"text-[8px] font-bold text-slate-500 uppercase tracking-widest mb-0.5",children:"MIDC Road, Complex, Gadchiroli - 442605 (Maharashtra)"}),h.jsx("p",{className:"text-[7px] font-black text-blue-800 uppercase tracking-[0.2em] mb-2",children:"Statutory Secretariat | Website: www.unigug.ac.in"}),h.jsx("h2",{className:"text-lg font-black text-slate-950 uppercase tracking-[0.25em] underline underline-offset-4 decoration-2 decoration-slate-900 py-1",children:M.creator.department})]})}),h.jsxs("div",{className:"official-header py-2 border-b border-slate-200 bg-slate-50/40 px-6 note-item-header shrink-0",children:[h.jsxs("div",{className:"flex justify-between items-end w-full mb-2",children:[h.jsxs("div",{className:"space-y-0.5",children:[h.jsx("p",{className:"text-[7px] font-black text-slate-400 uppercase tracking-widest leading-none",children:"Registry File Identifier"}),h.jsxs("span",{className:"text-slate-950 text-[10px] font-black uppercase tracking-tight block",children:["FILE REF NO: ",M.referenceNo]})]}),h.jsxs("div",{className:"text-right space-y-0.5",children:[h.jsx("p",{className:"text-[7px] font-black text-slate-400 uppercase tracking-widest leading-none",children:"Date of Dispatch"}),h.jsxs("span",{className:"text-slate-950 text-[9px] font-black uppercase tracking-widest tabular-nums",children:["DATED: ",new Date(M.dateInitiated).toLocaleDateString("en-GB",{day:"2-digit",month:"long",year:"numeric"}).toUpperCase()]})]})]}),h.jsxs("div",{className:"space-y-0.5",children:[h.jsx("p",{className:"text-[8px] font-black text-indigo-700 uppercase tracking-widest mb-0.5",children:"Subject Header:"}),h.jsx("h2",{className:"text-lg font-black text-slate-950 tracking-tight leading-tight official-font uppercase",children:M.subject})]})]}),h.jsxs("div",{className:"green-sheet",children:[h.jsxs("div",{className:"remark-para relative py-2 text-base lg:text-lg text-slate-950 official-font whitespace-pre-wrap text-justify leading-[2.2rem]",children:[h.jsx("span",{className:"font-bold text-slate-900 border-b-2 border-slate-900 mr-2",children:"ADMINISTRATIVE NOTE:"}),M.content,h.jsx("div",{className:"flex justify-end mt-4 signature-block",children:h.jsxs("div",{className:"text-right leading-none p-2 border border-dashed border-slate-200 rounded-xl bg-white/50 min-w-[180px]",children:[h.jsx("p",{className:"text-[8px] font-black text-slate-400 uppercase tracking-widest mb-1",children:"Authenticated By"}),h.jsx("p",{className:"text-base font-black text-slate-950 uppercase tracking-tighter mb-0.5",children:M.creator.name}),h.jsx("p",{className:"text-[8px] font-bold text-slate-600 uppercase mb-1",children:M.creator.designation}),h.jsxs("p",{className:"text-[7px] font-black text-slate-400 tabular-nums border-t border-slate-100 pt-1 mt-1 uppercase",children:[new Date(M.dateInitiated).toLocaleDateString("en-GB")," | ",new Date(M.dateInitiated).toLocaleTimeString("en-GB",{hour:"2-digit",minute:"2-digit",hour12:!1})]})]})})]}),h.jsx("div",{className:"space-y-4 mt-4",children:M.history.filter(W=>W.action!==Je.INITIATE).map(W=>h.jsxs("div",{className:"remark-para relative border-b border-slate-200/30 pb-3 mb-3 text-justify signature-block",children:[h.jsxs("div",{className:"text-[7px] font-black text-blue-600 uppercase tracking-widest mb-1.5 flex items-center gap-2",children:[h.jsx("div",{className:"w-1 h-1 bg-blue-600 rounded-full"}),"Remark from ",W.from.designation]}),h.jsxs("div",{className:"text-sm lg:text-base text-slate-900 italic border-l-4 border-slate-300 pl-4 py-0.5 mb-3 bg-slate-100/30 leading-[2.2rem]",children:['"',W.remark||"Forwarded for statutory perusal.",'"']}),h.jsx("div",{className:"flex justify-end mt-2",children:h.jsxs("div",{className:"signature-block text-right leading-none min-w-[180px]",children:[h.jsx("div",{className:`inline-block px-1.5 py-0.5 rounded text-[6px] font-black uppercase tracking-[0.1em] mb-1 shadow-sm ${W.action===Je.APPROVE?"bg-emerald-600 text-white":"bg-slate-950 text-white"}`,children:W.action}),h.jsx("p",{className:"text-base font-black text-slate-900 uppercase tracking-tighter mb-0.5",children:W.from.name}),h.jsx("p",{className:"text-[8px] font-bold text-slate-500 uppercase mb-1",children:W.from.designation}),h.jsxs("p",{className:"text-[7px] font-black text-slate-400 tabular-nums border-t border-slate-100 pt-1 mt-1 uppercase",children:[new Date(W.timestamp).toLocaleDateString("en-GB")," | ",new Date(W.timestamp).toLocaleTimeString("en-GB",{hour:"2-digit",minute:"2-digit",hour12:!1})]})]})})]},W.id))}),M.attachments&&M.attachments.length>0&&h.jsxs("div",{className:"mt-6 pt-2 border-t-2 border-double border-slate-200 signature-block pb-4",children:[h.jsxs("p",{className:"text-[9px] font-black text-blue-700 uppercase tracking-[0.2em] mb-2 flex items-center gap-2",children:[h.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M15.172 7l-6.586 6.586a2 2 0 102.828 2.828l6.414-6.586a4 4 0 00-5.656-5.656l-6.415 6.585a6 6 0 108.486 8.486L20.5 13"})}),"Statutory Enclosures:"]}),h.jsx("div",{className:"grid grid-cols-2 gap-2",children:M.attachments.map(W=>h.jsxs("div",{className:"text-[8px] font-black text-slate-600 border border-slate-100 px-2 py-1 rounded-lg uppercase flex items-center gap-2 bg-white",children:[h.jsx("span",{className:"text-blue-500",children:""})," ",W.name]},W.id))})]})]}),h.jsxs("div",{className:"mt-auto pt-2 border-t border-slate-100 text-center shrink-0 mb-2 px-6",children:[h.jsxs("div",{className:"flex justify-between items-center mb-1",children:[h.jsx("p",{className:"text-[6px] font-black text-slate-300 uppercase tracking-widest",children:"Sovereign Node Dispatch: GUG/NotePro/Registry"}),h.jsx("p",{className:"text-[6px] font-black text-slate-300 uppercase tracking-widest",children:"Page 01 of 01"})]}),h.jsx("p",{className:"text-[6px] font-bold text-slate-400 uppercase tracking-[0.2em] italic leading-relaxed",children:"Verifiable statutory document under ICT Framework. Verification: unigug.ac.in/verify"})]})]},M.id)};return h.jsxs(h.Fragment,{children:[t==="LANDING"&&h.jsx(Ab,{onEnterPortal:()=>e("LOGIN"),onShowManual:()=>e("USER_MANUAL"),onShowPresentation:()=>e("PRESENTATION")}),t==="LOGIN"&&h.jsx(Nb,{staffList:x,notes:_,onLogin:ds,onPublicDownload:ri,onBack:()=>e("LANDING"),onShowReport:Li}),t==="USER_MANUAL"&&h.jsx(hS,{onBack:()=>e("LANDING")}),t==="PRESENTATION"&&h.jsx(pS,{onBack:()=>e("LANDING")}),t==="PUBLIC_VIEW"&&tt&&h.jsxs("div",{className:"min-h-screen bg-slate-100 py-10 lg:py-20 px-4 flex flex-col items-center",children:[h.jsxs("div",{className:"no-print mb-10 flex gap-4",children:[h.jsx("button",{onClick:()=>e(i?"PORTAL":"LOGIN"),className:"px-8 py-3 bg-slate-900 text-white rounded-xl font-black text-[10px] uppercase tracking-widest hover:bg-slate-800 transition-all shadow-lg active:scale-95",children:"Return"}),h.jsx("button",{onClick:()=>fs(tt.id),className:"px-8 py-3 bg-blue-600 text-white rounded-xl font-black text-[10px] uppercase tracking-widest hover:bg-blue-700 transition-all shadow-lg active:scale-95",children:"Print"})]}),Sa(tt)]}),t==="DAILY_REPORT"&&h.jsx("div",{className:"min-h-screen bg-slate-200 py-10 lg:py-20 px-4",children:h.jsxs("div",{className:"max-w-[1200px] mx-auto space-y-12",children:[h.jsxs("div",{className:"bg-white p-8 rounded-[2.5rem] shadow-2xl flex flex-col md:flex-row justify-between items-center gap-8 no-print border border-slate-200",children:[h.jsxs("div",{className:"flex items-center gap-6",children:[h.jsx("div",{className:"w-16 h-16 bg-[#0c2340] rounded-2xl flex items-center justify-center text-white font-black text-3xl shadow-xl",children:"G"}),h.jsxs("div",{children:[h.jsx("h2",{className:"text-2xl lg:text-4xl font-black text-slate-900 tracking-tighter uppercase leading-none",children:"Statutory Summary Gazette"}),h.jsxs("div",{className:"flex items-center gap-4 mt-3",children:[h.jsx("input",{type:"date",value:F,onChange:M=>K(M.target.value),className:"px-4 py-2 bg-slate-50 border border-slate-200 rounded-xl font-black text-[10px] uppercase outline-none focus:border-blue-600 shadow-inner"}),h.jsxs("span",{className:"text-[10px] font-black text-blue-600 uppercase tracking-widest bg-blue-50 px-3 py-1.5 rounded-lg border border-blue-100",children:["Cycle: ",new Date(F).toLocaleDateString("en-GB",{day:"2-digit",month:"long",year:"numeric"})]})]})]})]}),h.jsxs("div",{className:"flex gap-4",children:[h.jsx("button",{onClick:()=>e(i?"PORTAL":"LOGIN"),className:"px-10 py-4 bg-slate-900 text-white rounded-2xl font-black text-xs uppercase tracking-widest hover:bg-slate-800 transition-all shadow-lg",children:"Return"}),h.jsxs("button",{onClick:q,className:"px-10 py-4 bg-blue-600 text-white rounded-2xl font-black text-xs uppercase tracking-widest hover:bg-blue-700 transition-all shadow-lg flex items-center gap-3",children:[h.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2.5,d:"M17 17h2a2 2 0 002-2v-4a2 2 0 00-2-2H5a2 2 0 00-2 2v4a2 2 0 00-2 2v4a2 2 0 002 2h2m2 4h6a2 2 0 002-2v-4a2 2 0 00-2-2H9a2 2 0 00-2 2v4a2 2 0 002 2zm8-12V5a2 2 0 00-2-2H9a2 2 0 00-2 2v4h10z"})}),"Print Summary"]})]})]}),h.jsxs("div",{id:"statutory-daily-gazette",className:"a4-page-container paper-texture p-12 summary-section",children:[h.jsx("div",{className:"letter-head p-10 border-b-2 border-slate-900 text-center bg-white mb-12",children:h.jsxs("div",{className:"flex flex-col items-center",children:[h.jsx("div",{className:"w-20 h-20 bg-white rounded-xl flex items-center justify-center overflow-hidden mb-4 shadow-md border border-slate-100",children:N?h.jsx("img",{src:N,alt:"Logo",className:"w-full h-full object-contain p-2"}):h.jsx("div",{className:"w-full h-full bg-slate-900 flex items-center justify-center text-white font-black text-2xl",children:"G"})}),h.jsx("h1",{className:"text-4xl font-black text-slate-900 tracking-tighter uppercase mb-1",children:zc}),h.jsx("p",{className:"text-[12px] font-black text-slate-950 uppercase tracking-[0.4em] italic underline underline-offset-4",children:"Registry Summary Dispatch Report"}),h.jsxs("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mt-6",children:["Audit Cycle: ",new Date(F).toLocaleDateString("en-GB")]})]})}),h.jsxs("div",{className:"flex-1",children:[h.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6 mb-12",children:[h.jsxs("div",{className:"bg-slate-50 p-6 rounded-2xl border border-slate-200",children:[h.jsx("p",{className:"text-[8px] font-black text-slate-400 uppercase tracking-widest mb-1",children:"Daily Volume"}),h.jsx("p",{className:"text-3xl font-black text-slate-900 tabular-nums",children:Rt.length})]}),h.jsxs("div",{className:"bg-emerald-50 p-6 rounded-2xl border border-emerald-100",children:[h.jsx("p",{className:"text-[8px] font-black text-emerald-400 uppercase tracking-widest mb-1",children:"Approved Today"}),h.jsx("p",{className:"text-3xl font-black text-emerald-700 tabular-nums",children:Rt.filter(M=>M.status===Ge.APPROVED).length})]}),h.jsxs("div",{className:"bg-rose-50 p-6 rounded-2xl border border-rose-100",children:[h.jsx("p",{className:"text-[8px] font-black text-rose-400 uppercase tracking-widest mb-1",children:"Rejected Today"}),h.jsx("p",{className:"text-3xl font-black text-rose-700 tabular-nums",children:Rt.filter(M=>M.status===Ge.REJECTED).length})]}),h.jsxs("div",{className:"bg-amber-50 p-6 rounded-2xl border border-amber-100",children:[h.jsx("p",{className:"text-[8px] font-black text-amber-400 uppercase tracking-widest mb-1",children:"Pending Transit"}),h.jsx("p",{className:"text-3xl font-black text-amber-700 tabular-nums",children:Rt.filter(M=>M.status===Ge.PENDING).length})]})]}),h.jsx("h3",{className:"text-sm font-black text-slate-900 uppercase tracking-widest border-l-4 border-indigo-600 pl-4 mb-6",children:"Dispatch Register (Metadata Summary)"}),Rt.length===0?h.jsx("div",{className:"py-20 text-center",children:h.jsx("p",{className:"text-2xl font-black text-slate-300 uppercase tracking-widest",children:"No entries recorded"})}):h.jsxs("table",{className:"w-full report-table border-collapse",children:[h.jsx("thead",{children:h.jsxs("tr",{children:[h.jsx("th",{className:"text-center w-12",children:"Sr."}),h.jsx("th",{className:"text-left",children:"File Reference No."}),h.jsx("th",{className:"text-left",children:"Subject Header"}),h.jsx("th",{className:"text-left",children:"Initiated By"}),h.jsx("th",{className:"text-left",children:"Current Custodian"}),h.jsx("th",{className:"text-center",children:"Audit Status"})]})}),h.jsx("tbody",{children:Rt.map((M,ne)=>h.jsxs("tr",{children:[h.jsx("td",{className:"text-center text-slate-400 tabular-nums",children:ne+1}),h.jsx("td",{className:"text-indigo-900 font-black",children:M.referenceNo}),h.jsx("td",{className:"uppercase leading-tight max-w-xs font-bold text-slate-800 text-[9px]",children:M.subject}),h.jsxs("td",{children:[h.jsx("p",{className:"uppercase font-black",children:M.creator.name}),h.jsx("p",{className:"text-[7px] text-slate-400 uppercase",children:M.creator.department})]}),h.jsxs("td",{children:[h.jsx("p",{className:"uppercase font-black text-indigo-900",children:M.currentHandler.name}),h.jsx("p",{className:"text-[7px] text-slate-400 uppercase",children:M.currentHandler.designation})]}),h.jsx("td",{className:"text-center",children:h.jsx("span",{className:`text-[7px] font-black px-2 py-0.5 rounded-lg uppercase ${M.status===Ge.APPROVED?"bg-emerald-100 text-emerald-700":M.status===Ge.REJECTED?"bg-rose-100 text-rose-700":"bg-blue-100 text-blue-700"}`,children:M.status})})]},M.id))})]})]})]})]})}),i&&t==="PORTAL"&&!v&&h.jsxs(Tb,{user:i,onLogout:bn,children:[h.jsxs("div",{className:"flex flex-col lg:flex-row gap-6 lg:gap-10 relative",children:[h.jsx("input",{type:"file",multiple:!0,ref:xn,onChange:Mt,className:"hidden"}),h.jsxs("aside",{className:`no-print w-full lg:w-96 flex flex-col gap-6 ${c?"flex":"hidden lg:flex"}`,children:[h.jsxs("div",{className:"flex items-center justify-between px-2 shrink-0",children:[h.jsxs("div",{children:[h.jsx("h2",{className:"text-2xl lg:text-3xl font-black text-slate-900 tracking-tighter uppercase leading-none",children:"Registry"}),h.jsx("p",{className:"text-[9px] font-black text-blue-600 uppercase tracking-widest mt-1",children:"Statutory Cloud Store"})]}),h.jsxs("div",{className:"flex gap-2",children:[i.role===ae.ADMIN&&h.jsx("button",{onClick:()=>l(!0),className:"w-10 h-10 rounded-xl border bg-white border-slate-200 text-slate-400 hover:text-indigo-600 flex items-center justify-center transition-all",children:h.jsxs("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[h.jsx("path",{d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),h.jsx("path",{d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]})}),h.jsx("button",{onClick:Ae,className:"w-10 h-10 bg-blue-600 text-white rounded-xl shadow-lg flex items-center justify-center transition-all",children:h.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:h.jsx("path",{d:"M12 4v16m8-8H4"})})})]})]}),h.jsxs("div",{className:"space-y-3 px-2",children:[h.jsxs("div",{className:"relative",children:[h.jsx("input",{type:"text",value:ge,onChange:M=>Re(M.target.value),placeholder:"SEARCH...",className:"w-full pl-9 pr-4 py-2.5 bg-white border border-slate-200 rounded-xl text-[9px] font-black uppercase tracking-widest outline-none focus:border-blue-600 shadow-sm"}),h.jsx("svg",{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:h.jsx("path",{d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})]}),h.jsx("div",{className:"flex gap-1.5 overflow-x-auto no-scrollbar pb-1",children:["IN_TRAY","OUT_TRAY","ALL_HITS"].map(M=>h.jsx("button",{onClick:()=>Oe(M),className:`shrink-0 px-4 py-2 rounded-lg text-[8px] font-black uppercase tracking-widest border transition-all ${We===M?"bg-blue-600 border-blue-600 text-white shadow-md":"bg-white border-slate-200 text-slate-400"}`,children:M.replace("_"," ")},M))})]}),h.jsx("div",{className:"flex-1 overflow-y-auto custom-scrollbar lg:h-[calc(100vh-320px)] space-y-3 pr-2 pb-10",children:cs.length===0?h.jsx("div",{className:"text-center py-10 opacity-30",children:h.jsx("p",{className:"text-[8px] font-black uppercase tracking-widest",children:"No records found"})}):cs.map(M=>h.jsxs("button",{onClick:()=>{X(M.id),Z(!1),p(!1)},className:`w-full p-5 rounded-2xl text-left border transition-all duration-300 relative overflow-hidden ${J===M.id?"bg-white border-blue-600 shadow-lg":"bg-white border-slate-100 hover:bg-slate-50"}`,children:[h.jsx("div",{className:`absolute left-0 top-0 bottom-0 w-2 ${M.status===Ge.APPROVED?"bg-emerald-500":M.status===Ge.REJECTED?"bg-rose-600":"bg-blue-600"}`}),h.jsxs("div",{className:"flex justify-between items-start mb-2 ml-1",children:[h.jsx("span",{className:`text-[7px] font-black px-1.5 py-0.5 rounded uppercase ${M.status===Ge.APPROVED?"bg-emerald-50 text-emerald-700":M.status===Ge.REJECTED?"bg-rose-50 text-rose-700":"bg-blue-50 text-blue-700"}`,children:M.status}),h.jsxs("div",{className:"flex gap-1.5 items-center",children:[M.attachments&&M.attachments.length>0&&h.jsx("span",{className:"bg-blue-100 text-blue-600 text-[6px] font-black px-1 py-0.5 rounded",children:"FILE ENCLOSER"}),h.jsx("span",{className:"text-[7px] font-black text-slate-300",children:new Date(M.dateInitiated).toLocaleDateString()})]})]}),h.jsx("h4",{className:"text-[10px] font-black text-slate-950 leading-snug line-clamp-2 mb-1 ml-1",children:M.subject}),h.jsxs("div",{className:"flex justify-between items-center ml-1",children:[h.jsx("p",{className:"text-[7px] font-bold text-slate-400 uppercase truncate",children:M.referenceNo}),We==="OUT_TRAY"&&h.jsxs("p",{className:"text-[6px] font-black text-amber-600 uppercase bg-amber-50 px-1 rounded",children:["Pending at: ",M.currentHandler.name.split(" ")[1]||M.currentHandler.name]})]})]},M.id))})]}),h.jsx("section",{className:`flex-1 min-w-0 ${c?"hidden lg:flex":"flex"} flex-col gap-6`,children:!ce&&!tt?h.jsxs("div",{className:"p-10 lg:p-20 bg-slate-950 text-white rounded-[3rem] shadow-2xl flex flex-col items-center justify-center text-center space-y-8 animate-in zoom-in-95",children:[h.jsx("div",{className:"w-20 h-20 bg-blue-600 rounded-[2rem] flex items-center justify-center text-4xl font-black",children:"G"}),h.jsxs("div",{className:"space-y-4",children:[h.jsx("h2",{className:"text-4xl lg:text-6xl font-black uppercase tracking-tighter",children:"Statutory Dashboard"}),h.jsx("p",{className:"text-blue-200/60 font-medium uppercase tracking-[0.3em] text-xs",children:"Connected to Gondwana Cloud Node"})]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 w-full max-w-4xl pt-10",children:[h.jsxs("div",{onClick:()=>Oe("IN_TRAY"),className:"p-8 bg-white/5 border border-white/10 rounded-3xl cursor-pointer hover:bg-white/10 transition-all",children:[h.jsx("h4",{className:"text-[10px] font-black text-blue-400 uppercase tracking-widest mb-2",children:"In-Tray"}),h.jsx("p",{className:"text-4xl font-black tabular-nums",children:Pn.inTray})]}),h.jsxs("div",{onClick:()=>Oe("OUT_TRAY"),className:"p-8 bg-white/5 border border-white/10 rounded-3xl cursor-pointer hover:bg-white/10 transition-all",children:[h.jsx("h4",{className:"text-[10px] font-black text-amber-400 uppercase tracking-widest mb-2",children:"Out-Tray"}),h.jsx("p",{className:"text-4xl font-black tabular-nums",children:Pn.outTray})]}),h.jsxs("div",{onClick:()=>Oe("ALL_HITS"),className:"p-8 bg-white/5 border border-white/10 rounded-3xl cursor-pointer hover:bg-white/10 transition-all",children:[h.jsx("h4",{className:"text-[10px] font-black text-emerald-400 uppercase tracking-widest mb-2",children:"Total Registry"}),h.jsx("p",{className:"text-4xl font-black tabular-nums",children:Pn.allHits})]})]}),h.jsx("div",{className:"flex flex-wrap gap-4 justify-center",children:h.jsx("button",{onClick:Ae,className:"px-12 py-5 bg-blue-600 text-white rounded-2xl font-black text-xs uppercase tracking-widest shadow-2xl active:scale-95 transition-all",children:" Initiate New Note"})})]}):h.jsxs("div",{className:"flex flex-col gap-6",children:[h.jsxs("div",{className:"flex mb-2 no-print justify-between items-center px-4",children:[h.jsxs("button",{onClick:()=>{X(null),Z(!1),p(!0)},className:"px-5 py-2.5 bg-slate-900 text-white rounded-xl font-black text-[9px] uppercase tracking-widest flex items-center gap-2 hover:bg-slate-800 transition-all shadow-lg active:scale-95",children:[h.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M10 19l-7-7m0 0l7-7"})}),"Dashboard"]}),tt&&h.jsxs("button",{onClick:()=>fs(tt.id),className:"px-5 py-2.5 bg-blue-600 text-white rounded-xl font-black text-[9px] uppercase tracking-widest flex items-center gap-2 hover:bg-blue-700 transition-all shadow-lg active:scale-95",children:[h.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2.5,d:"M17 17h2a2 2 0 002-2v-4a2 2 0 00-2-2H5a2 2 0 00-2 2v4a2 2 0 00-2 2v4a2 2 0 002 2h2m2 4h6a2 2 0 002-2v-4a2 2 0 00-2-2H9a2 2 0 00-2 2v4a2 2 0 002 2zm8-12V5a2 2 0 00-2-2H9a2 2 0 00-2 2v4h10z"})}),"Print Note Sheet"]})]}),ce?h.jsxs("div",{className:"bg-white rounded-3xl border border-slate-200 shadow-2xl p-8 lg:p-16 space-y-12",children:[h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[h.jsxs("div",{className:"space-y-2",children:[h.jsxs("label",{className:"text-[10px] font-black text-slate-500 uppercase tracking-widest flex justify-between",children:[h.jsx("span",{children:"Reference Number"}),h.jsx("span",{className:"text-blue-500 lowercase opacity-50",children:"Auto-prefix active"})]}),h.jsx("input",{type:"text",value:qe,onChange:M=>mt(M.target.value),className:"w-full px-6 py-4 bg-slate-50 border border-slate-200 rounded-2xl outline-none focus:border-blue-600 font-black text-sm uppercase shadow-inner",placeholder:"E.G. 455 OR GU/SOC/2025/455"})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx("label",{className:"text-[10px] font-black text-slate-500 uppercase tracking-widest",children:"Target Official"}),h.jsxs("select",{value:j,onChange:M=>Y(M.target.value),className:"w-full px-6 py-4 bg-slate-50 border border-slate-200 rounded-2xl outline-none focus:border-blue-600 font-black text-xs uppercase appearance-none cursor-pointer",children:[h.jsx("option",{value:"",children:"Select Recipient"}),x.map(M=>h.jsxs("option",{value:M.id,children:[M.name," (",M.designation,")"]},M.id))]})]})]}),h.jsxs("div",{className:"space-y-3",children:[h.jsx("label",{className:"text-[10px] font-black text-slate-500 uppercase tracking-widest",children:"Official Subject"}),h.jsx("textarea",{rows:2,value:me,onChange:M=>Ee(M.target.value),className:"w-full px-8 py-6 border-2 border-slate-200 rounded-[2rem] outline-none focus:border-blue-600 font-black text-xl lg:text-3xl shadow-inner",placeholder:"ENTER SUBJECT..."})]}),h.jsxs("div",{className:"space-y-3",children:[h.jsxs("div",{className:"flex justify-between items-center",children:[h.jsx("label",{className:"text-[10px] font-black text-slate-500 uppercase tracking-widest",children:"Note Body"}),h.jsx("button",{onClick:async()=>{R(!0);try{const M=await AR(Me,me);_e(M)}finally{R(!1)}},disabled:De,className:"px-4 py-2 bg-indigo-600 text-white rounded-xl text-[9px] font-black uppercase tracking-widest shadow-lg",children:De?"Processing...":"AI Refine"})]}),h.jsx("textarea",{value:Me,onChange:M=>_e(M.target.value),rows:15,className:"w-full px-8 py-10 bg-slate-50 border border-slate-200 rounded-[2rem] outline-none focus:border-blue-600 font-medium text-lg leading-relaxed shadow-inner",placeholder:"Draft your proposal here..."})]}),h.jsxs("div",{className:"space-y-6 pt-4 border-t border-slate-100",children:[h.jsxs("label",{className:"text-[10px] font-black text-slate-500 uppercase tracking-widest flex items-center gap-2",children:[h.jsx("svg",{className:"w-4 h-4 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15.172 7l-6.586 6.586a2 2 0 102.828 2.828l6.414-6.586a4 4 0 00-5.656-5.656l-6.415 6.585a6 6 0 108.486 8.486L20.5 13"})}),"File Enclosures (Attachments)"]}),h.jsxs("div",{className:"flex flex-wrap gap-4",children:[V.map(M=>h.jsxs("div",{className:"px-4 py-2 bg-slate-50 border border-slate-200 rounded-xl flex items-center gap-3 relative group shadow-sm",children:[h.jsx("span",{className:"text-[9px] font-black text-slate-700 uppercase truncate max-w-[120px]",children:M.name}),h.jsx("button",{onClick:()=>kn(M.id),className:"w-5 h-5 bg-rose-600 text-white rounded-full flex items-center justify-center hover:bg-rose-700 transition-all shadow-sm",children:h.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M6 18L18 6M6 6l12 12"})})})]},M.id)),h.jsxs("button",{onClick:()=>{var M;return(M=xn.current)==null?void 0:M.click()},className:"px-6 py-2 border-2 border-dashed border-slate-200 rounded-xl text-[9px] font-black text-slate-400 uppercase tracking-widest hover:border-blue-600 hover:text-blue-600 transition-all flex items-center gap-2",children:[h.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M12 4v16m8-8H4"})}),"Add Annexure"]})]})]}),h.jsx("div",{className:"pt-8 border-t border-slate-100 flex justify-end",children:h.jsx("button",{onClick:Ut,disabled:!me||!Me||!j,className:"px-16 py-6 bg-blue-600 text-white rounded-2xl font-black text-sm uppercase shadow-2xl active:scale-95 disabled:opacity-50 transition-all",children:" Dispatch Statutory Note"})})]}):tt?h.jsxs("div",{className:"space-y-8 animate-in fade-in",children:[Sa(tt),tt.currentHandler.id===i.id&&h.jsxs("div",{className:"bg-white rounded-[3rem] p-10 lg:p-16 border border-slate-200 shadow-2xl space-y-10 no-print max-w-5xl mx-auto",children:[h.jsxs("div",{className:"space-y-4",children:[h.jsx("label",{className:"text-[11px] font-black text-slate-400 uppercase tracking-widest",children:"Official Decision Remark"}),h.jsx("textarea",{value:le,onChange:M=>Te(M.target.value),rows:4,className:"w-full px-8 py-6 bg-slate-50 border border-slate-200 rounded-3xl outline-none focus:border-blue-600 font-bold italic text-lg",placeholder:"Enter remarks..."})]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[h.jsx("button",{onClick:()=>ps(Je.APPROVE),className:"py-6 bg-emerald-600 text-white rounded-2xl font-black text-xs uppercase tracking-widest shadow-xl active:scale-95 transition-all",children:"Approve"}),h.jsx("button",{onClick:()=>ps(Je.FORWARD),className:"py-6 bg-slate-950 text-white rounded-2xl font-black text-xs uppercase tracking-widest shadow-xl active:scale-95 transition-all",children:"Forward"}),h.jsx("button",{onClick:()=>ps(Je.RETURN),className:"py-6 bg-amber-500 text-white rounded-2xl font-black text-xs uppercase tracking-widest shadow-xl active:scale-95 transition-all",children:"Return"}),h.jsx("button",{onClick:()=>ps(Je.REJECT),className:"py-6 bg-rose-600 text-white rounded-2xl font-black text-xs uppercase tracking-widest shadow-xl active:scale-95 transition-all",children:"Reject"})]}),h.jsxs("div",{className:"pt-4 border-t border-slate-50",children:[h.jsx("label",{className:"text-[10px] font-black text-slate-300 uppercase tracking-widest",children:"Routing Recipient"}),h.jsxs("select",{value:j,onChange:M=>Y(M.target.value),className:"w-full mt-2 px-6 py-4 bg-slate-50 border border-slate-200 rounded-xl outline-none font-black text-xs uppercase",children:[h.jsx("option",{value:"",children:"Forward To..."}),x.filter(M=>M.id!==i.id).map(M=>h.jsx("option",{value:M.id,children:M.name},M.id))]})]})]}),h.jsx("div",{className:"no-print max-w-5xl mx-auto",children:h.jsx(fS,{history:tt.history})})]}):null]})})]}),o&&h.jsx("div",{className:"fixed inset-0 z-[500] bg-white animate-in slide-in-from-bottom-5",children:h.jsx(dS,{staffList:x,notes:_,departments:T,universityLogo:N,onUpdateLogo:oi,onAddStaff:hs,onUpdateStaff:jt,onDeleteStaff:Oi,onAddDepartment:hl,onDeleteDepartment:ji,onClose:()=>l(!1),currentUserId:i.id,dbStatus:H})})]}),($t==null?void 0:$t.active)&&h.jsx(RR,{recipientName:$t.recipient,action:$t.action,onComplete:()=>Dt(null)}),h.jsx(CR,{})]})},ey=document.getElementById("root");if(!ey)throw new Error("Could not find root element to mount to");const IR=Eb.createRoot(ey);IR.render(h.jsx(gb.StrictMode,{children:h.jsx(kR,{})}));
