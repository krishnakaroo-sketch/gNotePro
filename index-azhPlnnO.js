(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function i(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(o){if(o.ep)return;o.ep=!0;const l=i(o);fetch(o.href,l)}})();function q0(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Ac={exports:{}},la={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cm;function hb(){if(Cm)return la;Cm=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(r,o,l){var c=null;if(l!==void 0&&(c=""+l),o.key!==void 0&&(c=""+o.key),"key"in o){l={};for(var h in o)h!=="key"&&(l[h]=o[h])}else l=o;return o=l.ref,{$$typeof:t,type:r,key:c,ref:o!==void 0?o:null,props:l}}return la.Fragment=e,la.jsx=i,la.jsxs=i,la}var Nm;function pb(){return Nm||(Nm=1,Ac.exports=hb()),Ac.exports}var g=pb(),Cc={exports:{}},ge={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rm;function mb(){if(Rm)return ge;Rm=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),_=Symbol.iterator;function S(R){return R===null||typeof R!="object"?null:(R=_&&R[_]||R["@@iterator"],typeof R=="function"?R:null)}var T={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},N=Object.assign,C={};function D(R,z,W){this.props=R,this.context=z,this.refs=C,this.updater=W||T}D.prototype.isReactComponent={},D.prototype.setState=function(R,z){if(typeof R!="object"&&typeof R!="function"&&R!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,R,z,"setState")},D.prototype.forceUpdate=function(R){this.updater.enqueueForceUpdate(this,R,"forceUpdate")};function B(){}B.prototype=D.prototype;function M(R,z,W){this.props=R,this.context=z,this.refs=C,this.updater=W||T}var J=M.prototype=new B;J.constructor=M,N(J,D.prototype),J.isPureReactComponent=!0;var X=Array.isArray;function K(){}var H={H:null,A:null,T:null,S:null},ae=Object.prototype.hasOwnProperty;function Q(R,z,W){var te=W.ref;return{$$typeof:t,type:R,key:z,ref:te!==void 0?te:null,props:W}}function ve(R,z){return Q(R.type,z,R.props)}function _e(R){return typeof R=="object"&&R!==null&&R.$$typeof===t}function De(R){var z={"=":"=0",":":"=2"};return"$"+R.replace(/[=:]/g,function(W){return z[W]})}var Ae=/\/+/g;function Le(R,z){return typeof R=="object"&&R!==null&&R.key!=null?De(""+R.key):z.toString(36)}function it(R){switch(R.status){case"fulfilled":return R.value;case"rejected":throw R.reason;default:switch(typeof R.status=="string"?R.then(K,K):(R.status="pending",R.then(function(z){R.status==="pending"&&(R.status="fulfilled",R.value=z)},function(z){R.status==="pending"&&(R.status="rejected",R.reason=z)})),R.status){case"fulfilled":return R.value;case"rejected":throw R.reason}}throw R}function O(R,z,W,te,ce){var xe=typeof R;(xe==="undefined"||xe==="boolean")&&(R=null);var we=!1;if(R===null)we=!0;else switch(xe){case"bigint":case"string":case"number":we=!0;break;case"object":switch(R.$$typeof){case t:case e:we=!0;break;case x:return we=R._init,O(we(R._payload),z,W,te,ce)}}if(we)return ce=ce(R),we=te===""?"."+Le(R,0):te,X(ce)?(W="",we!=null&&(W=we.replace(Ae,"$&/")+"/"),O(ce,z,W,"",function(Ft){return Ft})):ce!=null&&(_e(ce)&&(ce=ve(ce,W+(ce.key==null||R&&R.key===ce.key?"":(""+ce.key).replace(Ae,"$&/")+"/")+we)),z.push(ce)),1;we=0;var Ke=te===""?".":te+":";if(X(R))for(var Be=0;Be<R.length;Be++)te=R[Be],xe=Ke+Le(te,Be),we+=O(te,z,W,xe,ce);else if(Be=S(R),typeof Be=="function")for(R=Be.call(R),Be=0;!(te=R.next()).done;)te=te.value,xe=Ke+Le(te,Be++),we+=O(te,z,W,xe,ce);else if(xe==="object"){if(typeof R.then=="function")return O(it(R),z,W,te,ce);throw z=String(R),Error("Objects are not valid as a React child (found: "+(z==="[object Object]"?"object with keys {"+Object.keys(R).join(", ")+"}":z)+"). If you meant to render a collection of children, use an array instead.")}return we}function Y(R,z,W){if(R==null)return R;var te=[],ce=0;return O(R,te,"","",function(xe){return z.call(W,xe,ce++)}),te}function oe(R){if(R._status===-1){var z=R._result;z=z(),z.then(function(W){(R._status===0||R._status===-1)&&(R._status=1,R._result=W)},function(W){(R._status===0||R._status===-1)&&(R._status=2,R._result=W)}),R._status===-1&&(R._status=0,R._result=z)}if(R._status===1)return R._result.default;throw R._result}var Se=typeof reportError=="function"?reportError:function(R){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var z=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof R=="object"&&R!==null&&typeof R.message=="string"?String(R.message):String(R),error:R});if(!window.dispatchEvent(z))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",R);return}console.error(R)},Re={map:Y,forEach:function(R,z,W){Y(R,function(){z.apply(this,arguments)},W)},count:function(R){var z=0;return Y(R,function(){z++}),z},toArray:function(R){return Y(R,function(z){return z})||[]},only:function(R){if(!_e(R))throw Error("React.Children.only expected to receive a single React element child.");return R}};return ge.Activity=b,ge.Children=Re,ge.Component=D,ge.Fragment=i,ge.Profiler=o,ge.PureComponent=M,ge.StrictMode=r,ge.Suspense=v,ge.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=H,ge.__COMPILER_RUNTIME={__proto__:null,c:function(R){return H.H.useMemoCache(R)}},ge.cache=function(R){return function(){return R.apply(null,arguments)}},ge.cacheSignal=function(){return null},ge.cloneElement=function(R,z,W){if(R==null)throw Error("The argument must be a React element, but you passed "+R+".");var te=N({},R.props),ce=R.key;if(z!=null)for(xe in z.key!==void 0&&(ce=""+z.key),z)!ae.call(z,xe)||xe==="key"||xe==="__self"||xe==="__source"||xe==="ref"&&z.ref===void 0||(te[xe]=z[xe]);var xe=arguments.length-2;if(xe===1)te.children=W;else if(1<xe){for(var we=Array(xe),Ke=0;Ke<xe;Ke++)we[Ke]=arguments[Ke+2];te.children=we}return Q(R.type,ce,te)},ge.createContext=function(R){return R={$$typeof:c,_currentValue:R,_currentValue2:R,_threadCount:0,Provider:null,Consumer:null},R.Provider=R,R.Consumer={$$typeof:l,_context:R},R},ge.createElement=function(R,z,W){var te,ce={},xe=null;if(z!=null)for(te in z.key!==void 0&&(xe=""+z.key),z)ae.call(z,te)&&te!=="key"&&te!=="__self"&&te!=="__source"&&(ce[te]=z[te]);var we=arguments.length-2;if(we===1)ce.children=W;else if(1<we){for(var Ke=Array(we),Be=0;Be<we;Be++)Ke[Be]=arguments[Be+2];ce.children=Ke}if(R&&R.defaultProps)for(te in we=R.defaultProps,we)ce[te]===void 0&&(ce[te]=we[te]);return Q(R,xe,ce)},ge.createRef=function(){return{current:null}},ge.forwardRef=function(R){return{$$typeof:h,render:R}},ge.isValidElement=_e,ge.lazy=function(R){return{$$typeof:x,_payload:{_status:-1,_result:R},_init:oe}},ge.memo=function(R,z){return{$$typeof:m,type:R,compare:z===void 0?null:z}},ge.startTransition=function(R){var z=H.T,W={};H.T=W;try{var te=R(),ce=H.S;ce!==null&&ce(W,te),typeof te=="object"&&te!==null&&typeof te.then=="function"&&te.then(K,Se)}catch(xe){Se(xe)}finally{z!==null&&W.types!==null&&(z.types=W.types),H.T=z}},ge.unstable_useCacheRefresh=function(){return H.H.useCacheRefresh()},ge.use=function(R){return H.H.use(R)},ge.useActionState=function(R,z,W){return H.H.useActionState(R,z,W)},ge.useCallback=function(R,z){return H.H.useCallback(R,z)},ge.useContext=function(R){return H.H.useContext(R)},ge.useDebugValue=function(){},ge.useDeferredValue=function(R,z){return H.H.useDeferredValue(R,z)},ge.useEffect=function(R,z){return H.H.useEffect(R,z)},ge.useEffectEvent=function(R){return H.H.useEffectEvent(R)},ge.useId=function(){return H.H.useId()},ge.useImperativeHandle=function(R,z,W){return H.H.useImperativeHandle(R,z,W)},ge.useInsertionEffect=function(R,z){return H.H.useInsertionEffect(R,z)},ge.useLayoutEffect=function(R,z){return H.H.useLayoutEffect(R,z)},ge.useMemo=function(R,z){return H.H.useMemo(R,z)},ge.useOptimistic=function(R,z){return H.H.useOptimistic(R,z)},ge.useReducer=function(R,z,W){return H.H.useReducer(R,z,W)},ge.useRef=function(R){return H.H.useRef(R)},ge.useState=function(R){return H.H.useState(R)},ge.useSyncExternalStore=function(R,z,W){return H.H.useSyncExternalStore(R,z,W)},ge.useTransition=function(){return H.H.useTransition()},ge.version="19.2.3",ge}var km;function pd(){return km||(km=1,Cc.exports=mb()),Cc.exports}var Z=pd();const gb=q0(Z);var Nc={exports:{}},ua={},Rc={exports:{}},kc={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Im;function vb(){return Im||(Im=1,(function(t){function e(O,Y){var oe=O.length;O.push(Y);e:for(;0<oe;){var Se=oe-1>>>1,Re=O[Se];if(0<o(Re,Y))O[Se]=Y,O[oe]=Re,oe=Se;else break e}}function i(O){return O.length===0?null:O[0]}function r(O){if(O.length===0)return null;var Y=O[0],oe=O.pop();if(oe!==Y){O[0]=oe;e:for(var Se=0,Re=O.length,R=Re>>>1;Se<R;){var z=2*(Se+1)-1,W=O[z],te=z+1,ce=O[te];if(0>o(W,oe))te<Re&&0>o(ce,W)?(O[Se]=ce,O[te]=oe,Se=te):(O[Se]=W,O[z]=oe,Se=z);else if(te<Re&&0>o(ce,oe))O[Se]=ce,O[te]=oe,Se=te;else break e}}return Y}function o(O,Y){var oe=O.sortIndex-Y.sortIndex;return oe!==0?oe:O.id-Y.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var c=Date,h=c.now();t.unstable_now=function(){return c.now()-h}}var v=[],m=[],x=1,b=null,_=3,S=!1,T=!1,N=!1,C=!1,D=typeof setTimeout=="function"?setTimeout:null,B=typeof clearTimeout=="function"?clearTimeout:null,M=typeof setImmediate<"u"?setImmediate:null;function J(O){for(var Y=i(m);Y!==null;){if(Y.callback===null)r(m);else if(Y.startTime<=O)r(m),Y.sortIndex=Y.expirationTime,e(v,Y);else break;Y=i(m)}}function X(O){if(N=!1,J(O),!T)if(i(v)!==null)T=!0,K||(K=!0,De());else{var Y=i(m);Y!==null&&it(X,Y.startTime-O)}}var K=!1,H=-1,ae=5,Q=-1;function ve(){return C?!0:!(t.unstable_now()-Q<ae)}function _e(){if(C=!1,K){var O=t.unstable_now();Q=O;var Y=!0;try{e:{T=!1,N&&(N=!1,B(H),H=-1),S=!0;var oe=_;try{t:{for(J(O),b=i(v);b!==null&&!(b.expirationTime>O&&ve());){var Se=b.callback;if(typeof Se=="function"){b.callback=null,_=b.priorityLevel;var Re=Se(b.expirationTime<=O);if(O=t.unstable_now(),typeof Re=="function"){b.callback=Re,J(O),Y=!0;break t}b===i(v)&&r(v),J(O)}else r(v);b=i(v)}if(b!==null)Y=!0;else{var R=i(m);R!==null&&it(X,R.startTime-O),Y=!1}}break e}finally{b=null,_=oe,S=!1}Y=void 0}}finally{Y?De():K=!1}}}var De;if(typeof M=="function")De=function(){M(_e)};else if(typeof MessageChannel<"u"){var Ae=new MessageChannel,Le=Ae.port2;Ae.port1.onmessage=_e,De=function(){Le.postMessage(null)}}else De=function(){D(_e,0)};function it(O,Y){H=D(function(){O(t.unstable_now())},Y)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(O){O.callback=null},t.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ae=0<O?Math.floor(1e3/O):5},t.unstable_getCurrentPriorityLevel=function(){return _},t.unstable_next=function(O){switch(_){case 1:case 2:case 3:var Y=3;break;default:Y=_}var oe=_;_=Y;try{return O()}finally{_=oe}},t.unstable_requestPaint=function(){C=!0},t.unstable_runWithPriority=function(O,Y){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var oe=_;_=O;try{return Y()}finally{_=oe}},t.unstable_scheduleCallback=function(O,Y,oe){var Se=t.unstable_now();switch(typeof oe=="object"&&oe!==null?(oe=oe.delay,oe=typeof oe=="number"&&0<oe?Se+oe:Se):oe=Se,O){case 1:var Re=-1;break;case 2:Re=250;break;case 5:Re=1073741823;break;case 4:Re=1e4;break;default:Re=5e3}return Re=oe+Re,O={id:x++,callback:Y,priorityLevel:O,startTime:oe,expirationTime:Re,sortIndex:-1},oe>Se?(O.sortIndex=oe,e(m,O),i(v)===null&&O===i(m)&&(N?(B(H),H=-1):N=!0,it(X,oe-Se))):(O.sortIndex=Re,e(v,O),T||S||(T=!0,K||(K=!0,De()))),O},t.unstable_shouldYield=ve,t.unstable_wrapCallback=function(O){var Y=_;return function(){var oe=_;_=Y;try{return O.apply(this,arguments)}finally{_=oe}}}})(kc)),kc}var Dm;function yb(){return Dm||(Dm=1,Rc.exports=vb()),Rc.exports}var Ic={exports:{}},It={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mm;function xb(){if(Mm)return It;Mm=1;var t=pd();function e(v){var m="https://react.dev/errors/"+v;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var x=2;x<arguments.length;x++)m+="&args[]="+encodeURIComponent(arguments[x])}return"Minified React error #"+v+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var r={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function l(v,m,x){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:b==null?null:""+b,children:v,containerInfo:m,implementation:x}}var c=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(v,m){if(v==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return It.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,It.createPortal=function(v,m){var x=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(e(299));return l(v,m,null,x)},It.flushSync=function(v){var m=c.T,x=r.p;try{if(c.T=null,r.p=2,v)return v()}finally{c.T=m,r.p=x,r.d.f()}},It.preconnect=function(v,m){typeof v=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,r.d.C(v,m))},It.prefetchDNS=function(v){typeof v=="string"&&r.d.D(v)},It.preinit=function(v,m){if(typeof v=="string"&&m&&typeof m.as=="string"){var x=m.as,b=h(x,m.crossOrigin),_=typeof m.integrity=="string"?m.integrity:void 0,S=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;x==="style"?r.d.S(v,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:b,integrity:_,fetchPriority:S}):x==="script"&&r.d.X(v,{crossOrigin:b,integrity:_,fetchPriority:S,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},It.preinitModule=function(v,m){if(typeof v=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var x=h(m.as,m.crossOrigin);r.d.M(v,{crossOrigin:x,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&r.d.M(v)},It.preload=function(v,m){if(typeof v=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var x=m.as,b=h(x,m.crossOrigin);r.d.L(v,x,{crossOrigin:b,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},It.preloadModule=function(v,m){if(typeof v=="string")if(m){var x=h(m.as,m.crossOrigin);r.d.m(v,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:x,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else r.d.m(v)},It.requestFormReset=function(v){r.d.r(v)},It.unstable_batchedUpdates=function(v,m){return v(m)},It.useFormState=function(v,m,x){return c.H.useFormState(v,m,x)},It.useFormStatus=function(){return c.H.useHostTransitionStatus()},It.version="19.2.3",It}var Um;function bb(){if(Um)return Ic.exports;Um=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Ic.exports=xb(),Ic.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pm;function _b(){if(Pm)return ua;Pm=1;var t=yb(),e=pd(),i=bb();function r(n){var s="https://react.dev/errors/"+n;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)s+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+n+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function l(n){var s=n,a=n;if(n.alternate)for(;s.return;)s=s.return;else{n=s;do s=n,(s.flags&4098)!==0&&(a=s.return),n=s.return;while(n)}return s.tag===3?a:null}function c(n){if(n.tag===13){var s=n.memoizedState;if(s===null&&(n=n.alternate,n!==null&&(s=n.memoizedState)),s!==null)return s.dehydrated}return null}function h(n){if(n.tag===31){var s=n.memoizedState;if(s===null&&(n=n.alternate,n!==null&&(s=n.memoizedState)),s!==null)return s.dehydrated}return null}function v(n){if(l(n)!==n)throw Error(r(188))}function m(n){var s=n.alternate;if(!s){if(s=l(n),s===null)throw Error(r(188));return s!==n?null:n}for(var a=n,u=s;;){var p=a.return;if(p===null)break;var y=p.alternate;if(y===null){if(u=p.return,u!==null){a=u;continue}break}if(p.child===y.child){for(y=p.child;y;){if(y===a)return v(p),n;if(y===u)return v(p),s;y=y.sibling}throw Error(r(188))}if(a.return!==u.return)a=p,u=y;else{for(var w=!1,E=p.child;E;){if(E===a){w=!0,a=p,u=y;break}if(E===u){w=!0,u=p,a=y;break}E=E.sibling}if(!w){for(E=y.child;E;){if(E===a){w=!0,a=y,u=p;break}if(E===u){w=!0,u=y,a=p;break}E=E.sibling}if(!w)throw Error(r(189))}}if(a.alternate!==u)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?n:s}function x(n){var s=n.tag;if(s===5||s===26||s===27||s===6)return n;for(n=n.child;n!==null;){if(s=x(n),s!==null)return s;n=n.sibling}return null}var b=Object.assign,_=Symbol.for("react.element"),S=Symbol.for("react.transitional.element"),T=Symbol.for("react.portal"),N=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),D=Symbol.for("react.profiler"),B=Symbol.for("react.consumer"),M=Symbol.for("react.context"),J=Symbol.for("react.forward_ref"),X=Symbol.for("react.suspense"),K=Symbol.for("react.suspense_list"),H=Symbol.for("react.memo"),ae=Symbol.for("react.lazy"),Q=Symbol.for("react.activity"),ve=Symbol.for("react.memo_cache_sentinel"),_e=Symbol.iterator;function De(n){return n===null||typeof n!="object"?null:(n=_e&&n[_e]||n["@@iterator"],typeof n=="function"?n:null)}var Ae=Symbol.for("react.client.reference");function Le(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===Ae?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case N:return"Fragment";case D:return"Profiler";case C:return"StrictMode";case X:return"Suspense";case K:return"SuspenseList";case Q:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case T:return"Portal";case M:return n.displayName||"Context";case B:return(n._context.displayName||"Context")+".Consumer";case J:var s=n.render;return n=n.displayName,n||(n=s.displayName||s.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case H:return s=n.displayName||null,s!==null?s:Le(n.type)||"Memo";case ae:s=n._payload,n=n._init;try{return Le(n(s))}catch{}}return null}var it=Array.isArray,O=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Y=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,oe={pending:!1,data:null,method:null,action:null},Se=[],Re=-1;function R(n){return{current:n}}function z(n){0>Re||(n.current=Se[Re],Se[Re]=null,Re--)}function W(n,s){Re++,Se[Re]=n.current,n.current=s}var te=R(null),ce=R(null),xe=R(null),we=R(null);function Ke(n,s){switch(W(xe,s),W(ce,n),W(te,null),s.nodeType){case 9:case 11:n=(n=s.documentElement)&&(n=n.namespaceURI)?Xp(n):0;break;default:if(n=s.tagName,s=s.namespaceURI)s=Xp(s),n=Wp(s,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}z(te),W(te,n)}function Be(){z(te),z(ce),z(xe)}function Ft(n){n.memoizedState!==null&&W(we,n);var s=te.current,a=Wp(s,n.type);s!==a&&(W(ce,n),W(te,a))}function Rt(n){ce.current===n&&(z(te),z(ce)),we.current===n&&(z(we),sa._currentValue=oe)}var Ot,Rn;function yn(n){if(Ot===void 0)try{throw Error()}catch(a){var s=a.stack.trim().match(/\n( *(at )?)/);Ot=s&&s[1]||"",Rn=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ot+n+Rn}var at=!1;function si(n,s){if(!n||at)return"";at=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(s){var $=function(){throw Error()};if(Object.defineProperty($.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct($,[])}catch(G){var L=G}Reflect.construct(n,[],$)}else{try{$.call()}catch(G){L=G}n.call($.prototype)}}else{try{throw Error()}catch(G){L=G}($=n())&&typeof $.catch=="function"&&$.catch(function(){})}}catch(G){if(G&&L&&typeof G.stack=="string")return[G.stack,L.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var p=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");p&&p.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=u.DetermineComponentFrameRoot(),w=y[0],E=y[1];if(w&&E){var A=w.split(`
`),P=E.split(`
`);for(p=u=0;u<A.length&&!A[u].includes("DetermineComponentFrameRoot");)u++;for(;p<P.length&&!P[p].includes("DetermineComponentFrameRoot");)p++;if(u===A.length||p===P.length)for(u=A.length-1,p=P.length-1;1<=u&&0<=p&&A[u]!==P[p];)p--;for(;1<=u&&0<=p;u--,p--)if(A[u]!==P[p]){if(u!==1||p!==1)do if(u--,p--,0>p||A[u]!==P[p]){var q=`
`+A[u].replace(" at new "," at ");return n.displayName&&q.includes("<anonymous>")&&(q=q.replace("<anonymous>",n.displayName)),q}while(1<=u&&0<=p);break}}}finally{at=!1,Error.prepareStackTrace=a}return(a=n?n.displayName||n.name:"")?yn(a):""}function Pi(n,s){switch(n.tag){case 26:case 27:case 5:return yn(n.type);case 16:return yn("Lazy");case 13:return n.child!==s&&s!==null?yn("Suspense Fallback"):yn("Suspense");case 19:return yn("SuspenseList");case 0:case 15:return si(n.type,!1);case 11:return si(n.type.render,!1);case 1:return si(n.type,!0);case 31:return yn("Activity");default:return""}}function ds(n){try{var s="",a=null;do s+=Pi(n,a),a=n,n=n.return;while(n);return s}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}var xn=Object.prototype.hasOwnProperty,ri=t.unstable_scheduleCallback,Li=t.unstable_cancelCallback,Oi=t.unstable_shouldYield,gr=t.unstable_requestPaint,V=t.unstable_now,ke=t.unstable_getCurrentPriorityLevel,ot=t.unstable_ImmediatePriority,ht=t.unstable_UserBlockingPriority,ai=t.unstable_NormalPriority,fs=t.unstable_LowPriority,Mt=t.unstable_IdlePriority,Gi=t.log,hl=t.unstable_setDisableYieldValue,ji=null,yt=null;function nn(n){if(typeof Gi=="function"&&hl(n),yt&&typeof yt.setStrictMode=="function")try{yt.setStrictMode(ji,n)}catch{}}var j=Math.clz32?Math.clz32:pt,ne=Math.log,ie=Math.LN2;function pt(n){return n>>>=0,n===0?32:31-(ne(n)/ie|0)|0}var kt=256,sn=262144,rn=4194304;function Un(n){var s=n&42;if(s!==0)return s;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return n&261888;case 262144:case 524288:case 1048576:case 2097152:return n&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function Sa(n,s,a){var u=n.pendingLanes;if(u===0)return 0;var p=0,y=n.suspendedLanes,w=n.pingedLanes;n=n.warmLanes;var E=u&134217727;return E!==0?(u=E&~y,u!==0?p=Un(u):(w&=E,w!==0?p=Un(w):a||(a=E&~n,a!==0&&(p=Un(a))))):(E=u&~y,E!==0?p=Un(E):w!==0?p=Un(w):a||(a=u&~n,a!==0&&(p=Un(a)))),p===0?0:s!==0&&s!==p&&(s&y)===0&&(y=p&-p,a=s&-s,y>=a||y===32&&(a&4194048)!==0)?s:p}function vr(n,s){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&s)===0}function ey(n,s){switch(n){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function kd(){var n=rn;return rn<<=1,(rn&62914560)===0&&(rn=4194304),n}function pl(n){for(var s=[],a=0;31>a;a++)s.push(n);return s}function yr(n,s){n.pendingLanes|=s,s!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function ty(n,s,a,u,p,y){var w=n.pendingLanes;n.pendingLanes=a,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=a,n.entangledLanes&=a,n.errorRecoveryDisabledLanes&=a,n.shellSuspendCounter=0;var E=n.entanglements,A=n.expirationTimes,P=n.hiddenUpdates;for(a=w&~a;0<a;){var q=31-j(a),$=1<<q;E[q]=0,A[q]=-1;var L=P[q];if(L!==null)for(P[q]=null,q=0;q<L.length;q++){var G=L[q];G!==null&&(G.lane&=-536870913)}a&=~$}u!==0&&Id(n,u,0),y!==0&&p===0&&n.tag!==0&&(n.suspendedLanes|=y&~(w&~s))}function Id(n,s,a){n.pendingLanes|=s,n.suspendedLanes&=~s;var u=31-j(s);n.entangledLanes|=s,n.entanglements[u]=n.entanglements[u]|1073741824|a&261930}function Dd(n,s){var a=n.entangledLanes|=s;for(n=n.entanglements;a;){var u=31-j(a),p=1<<u;p&s|n[u]&s&&(n[u]|=s),a&=~p}}function Md(n,s){var a=s&-s;return a=(a&42)!==0?1:ml(a),(a&(n.suspendedLanes|s))!==0?0:a}function ml(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function gl(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function Ud(){var n=Y.p;return n!==0?n:(n=window.event,n===void 0?32:bm(n.type))}function Pd(n,s){var a=Y.p;try{return Y.p=n,s()}finally{Y.p=a}}var oi=Math.random().toString(36).slice(2),wt="__reactFiber$"+oi,Gt="__reactProps$"+oi,hs="__reactContainer$"+oi,vl="__reactEvents$"+oi,ny="__reactListeners$"+oi,iy="__reactHandles$"+oi,Ld="__reactResources$"+oi,xr="__reactMarker$"+oi;function yl(n){delete n[wt],delete n[Gt],delete n[vl],delete n[ny],delete n[iy]}function ps(n){var s=n[wt];if(s)return s;for(var a=n.parentNode;a;){if(s=a[hs]||a[wt]){if(a=s.alternate,s.child!==null||a!==null&&a.child!==null)for(n=sm(n);n!==null;){if(a=n[wt])return a;n=sm(n)}return s}n=a,a=n.parentNode}return null}function ms(n){if(n=n[wt]||n[hs]){var s=n.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return n}return null}function br(n){var s=n.tag;if(s===5||s===26||s===27||s===6)return n.stateNode;throw Error(r(33))}function gs(n){var s=n[Ld];return s||(s=n[Ld]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function xt(n){n[xr]=!0}var Od=new Set,Gd={};function Bi(n,s){vs(n,s),vs(n+"Capture",s)}function vs(n,s){for(Gd[n]=s,n=0;n<s.length;n++)Od.add(s[n])}var sy=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),jd={},Bd={};function ry(n){return xn.call(Bd,n)?!0:xn.call(jd,n)?!1:sy.test(n)?Bd[n]=!0:(jd[n]=!0,!1)}function Ea(n,s,a){if(ry(s))if(a===null)n.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":n.removeAttribute(s);return;case"boolean":var u=s.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){n.removeAttribute(s);return}}n.setAttribute(s,""+a)}}function Ta(n,s,a){if(a===null)n.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(s);return}n.setAttribute(s,""+a)}}function Pn(n,s,a,u){if(u===null)n.removeAttribute(a);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(a);return}n.setAttributeNS(s,a,""+u)}}function an(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Hd(n){var s=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function ay(n,s,a){var u=Object.getOwnPropertyDescriptor(n.constructor.prototype,s);if(!n.hasOwnProperty(s)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var p=u.get,y=u.set;return Object.defineProperty(n,s,{configurable:!0,get:function(){return p.call(this)},set:function(w){a=""+w,y.call(this,w)}}),Object.defineProperty(n,s,{enumerable:u.enumerable}),{getValue:function(){return a},setValue:function(w){a=""+w},stopTracking:function(){n._valueTracker=null,delete n[s]}}}}function xl(n){if(!n._valueTracker){var s=Hd(n)?"checked":"value";n._valueTracker=ay(n,s,""+n[s])}}function qd(n){if(!n)return!1;var s=n._valueTracker;if(!s)return!0;var a=s.getValue(),u="";return n&&(u=Hd(n)?n.checked?"true":"false":n.value),n=u,n!==a?(s.setValue(n),!0):!1}function Aa(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var oy=/[\n"\\]/g;function on(n){return n.replace(oy,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function bl(n,s,a,u,p,y,w,E){n.name="",w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?n.type=w:n.removeAttribute("type"),s!=null?w==="number"?(s===0&&n.value===""||n.value!=s)&&(n.value=""+an(s)):n.value!==""+an(s)&&(n.value=""+an(s)):w!=="submit"&&w!=="reset"||n.removeAttribute("value"),s!=null?_l(n,w,an(s)):a!=null?_l(n,w,an(a)):u!=null&&n.removeAttribute("value"),p==null&&y!=null&&(n.defaultChecked=!!y),p!=null&&(n.checked=p&&typeof p!="function"&&typeof p!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?n.name=""+an(E):n.removeAttribute("name")}function Vd(n,s,a,u,p,y,w,E){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(n.type=y),s!=null||a!=null){if(!(y!=="submit"&&y!=="reset"||s!=null)){xl(n);return}a=a!=null?""+an(a):"",s=s!=null?""+an(s):a,E||s===n.value||(n.value=s),n.defaultValue=s}u=u??p,u=typeof u!="function"&&typeof u!="symbol"&&!!u,n.checked=E?n.checked:!!u,n.defaultChecked=!!u,w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"&&(n.name=w),xl(n)}function _l(n,s,a){s==="number"&&Aa(n.ownerDocument)===n||n.defaultValue===""+a||(n.defaultValue=""+a)}function ys(n,s,a,u){if(n=n.options,s){s={};for(var p=0;p<a.length;p++)s["$"+a[p]]=!0;for(a=0;a<n.length;a++)p=s.hasOwnProperty("$"+n[a].value),n[a].selected!==p&&(n[a].selected=p),p&&u&&(n[a].defaultSelected=!0)}else{for(a=""+an(a),s=null,p=0;p<n.length;p++){if(n[p].value===a){n[p].selected=!0,u&&(n[p].defaultSelected=!0);return}s!==null||n[p].disabled||(s=n[p])}s!==null&&(s.selected=!0)}}function zd(n,s,a){if(s!=null&&(s=""+an(s),s!==n.value&&(n.value=s),a==null)){n.defaultValue!==s&&(n.defaultValue=s);return}n.defaultValue=a!=null?""+an(a):""}function Fd(n,s,a,u){if(s==null){if(u!=null){if(a!=null)throw Error(r(92));if(it(u)){if(1<u.length)throw Error(r(93));u=u[0]}a=u}a==null&&(a=""),s=a}a=an(s),n.defaultValue=a,u=n.textContent,u===a&&u!==""&&u!==null&&(n.value=u),xl(n)}function xs(n,s){if(s){var a=n.firstChild;if(a&&a===n.lastChild&&a.nodeType===3){a.nodeValue=s;return}}n.textContent=s}var ly=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function $d(n,s,a){var u=s.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?u?n.setProperty(s,""):s==="float"?n.cssFloat="":n[s]="":u?n.setProperty(s,a):typeof a!="number"||a===0||ly.has(s)?s==="float"?n.cssFloat=a:n[s]=(""+a).trim():n[s]=a+"px"}function Jd(n,s,a){if(s!=null&&typeof s!="object")throw Error(r(62));if(n=n.style,a!=null){for(var u in a)!a.hasOwnProperty(u)||s!=null&&s.hasOwnProperty(u)||(u.indexOf("--")===0?n.setProperty(u,""):u==="float"?n.cssFloat="":n[u]="");for(var p in s)u=s[p],s.hasOwnProperty(p)&&a[p]!==u&&$d(n,p,u)}else for(var y in s)s.hasOwnProperty(y)&&$d(n,y,s[y])}function wl(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var uy=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),cy=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ca(n){return cy.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}function Ln(){}var Sl=null;function El(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var bs=null,_s=null;function Kd(n){var s=ms(n);if(s&&(n=s.stateNode)){var a=n[Gt]||null;e:switch(n=s.stateNode,s.type){case"input":if(bl(n,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),s=a.name,a.type==="radio"&&s!=null){for(a=n;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+on(""+s)+'"][type="radio"]'),s=0;s<a.length;s++){var u=a[s];if(u!==n&&u.form===n.form){var p=u[Gt]||null;if(!p)throw Error(r(90));bl(u,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name)}}for(s=0;s<a.length;s++)u=a[s],u.form===n.form&&qd(u)}break e;case"textarea":zd(n,a.value,a.defaultValue);break e;case"select":s=a.value,s!=null&&ys(n,!!a.multiple,s,!1)}}}var Tl=!1;function Yd(n,s,a){if(Tl)return n(s,a);Tl=!0;try{var u=n(s);return u}finally{if(Tl=!1,(bs!==null||_s!==null)&&(mo(),bs&&(s=bs,n=_s,_s=bs=null,Kd(s),n)))for(s=0;s<n.length;s++)Kd(n[s])}}function _r(n,s){var a=n.stateNode;if(a===null)return null;var u=a[Gt]||null;if(u===null)return null;a=u[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(n=n.type,u=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!u;break e;default:n=!1}if(n)return null;if(a&&typeof a!="function")throw Error(r(231,s,typeof a));return a}var On=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Al=!1;if(On)try{var wr={};Object.defineProperty(wr,"passive",{get:function(){Al=!0}}),window.addEventListener("test",wr,wr),window.removeEventListener("test",wr,wr)}catch{Al=!1}var li=null,Cl=null,Na=null;function Xd(){if(Na)return Na;var n,s=Cl,a=s.length,u,p="value"in li?li.value:li.textContent,y=p.length;for(n=0;n<a&&s[n]===p[n];n++);var w=a-n;for(u=1;u<=w&&s[a-u]===p[y-u];u++);return Na=p.slice(n,1<u?1-u:void 0)}function Ra(n){var s=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&s===13&&(n=13)):n=s,n===10&&(n=13),32<=n||n===13?n:0}function ka(){return!0}function Wd(){return!1}function jt(n){function s(a,u,p,y,w){this._reactName=a,this._targetInst=p,this.type=u,this.nativeEvent=y,this.target=w,this.currentTarget=null;for(var E in n)n.hasOwnProperty(E)&&(a=n[E],this[E]=a?a(y):y[E]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?ka:Wd,this.isPropagationStopped=Wd,this}return b(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=ka)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=ka)},persist:function(){},isPersistent:ka}),s}var Hi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ia=jt(Hi),Sr=b({},Hi,{view:0,detail:0}),dy=jt(Sr),Nl,Rl,Er,Da=b({},Sr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Il,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Er&&(Er&&n.type==="mousemove"?(Nl=n.screenX-Er.screenX,Rl=n.screenY-Er.screenY):Rl=Nl=0,Er=n),Nl)},movementY:function(n){return"movementY"in n?n.movementY:Rl}}),Qd=jt(Da),fy=b({},Da,{dataTransfer:0}),hy=jt(fy),py=b({},Sr,{relatedTarget:0}),kl=jt(py),my=b({},Hi,{animationName:0,elapsedTime:0,pseudoElement:0}),gy=jt(my),vy=b({},Hi,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),yy=jt(vy),xy=b({},Hi,{data:0}),Zd=jt(xy),by={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_y={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},wy={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Sy(n){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(n):(n=wy[n])?!!s[n]:!1}function Il(){return Sy}var Ey=b({},Sr,{key:function(n){if(n.key){var s=by[n.key]||n.key;if(s!=="Unidentified")return s}return n.type==="keypress"?(n=Ra(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?_y[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Il,charCode:function(n){return n.type==="keypress"?Ra(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Ra(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),Ty=jt(Ey),Ay=b({},Da,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ef=jt(Ay),Cy=b({},Sr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Il}),Ny=jt(Cy),Ry=b({},Hi,{propertyName:0,elapsedTime:0,pseudoElement:0}),ky=jt(Ry),Iy=b({},Da,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),Dy=jt(Iy),My=b({},Hi,{newState:0,oldState:0}),Uy=jt(My),Py=[9,13,27,32],Dl=On&&"CompositionEvent"in window,Tr=null;On&&"documentMode"in document&&(Tr=document.documentMode);var Ly=On&&"TextEvent"in window&&!Tr,tf=On&&(!Dl||Tr&&8<Tr&&11>=Tr),nf=" ",sf=!1;function rf(n,s){switch(n){case"keyup":return Py.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function af(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var ws=!1;function Oy(n,s){switch(n){case"compositionend":return af(s);case"keypress":return s.which!==32?null:(sf=!0,nf);case"textInput":return n=s.data,n===nf&&sf?null:n;default:return null}}function Gy(n,s){if(ws)return n==="compositionend"||!Dl&&rf(n,s)?(n=Xd(),Na=Cl=li=null,ws=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return tf&&s.locale!=="ko"?null:s.data;default:return null}}var jy={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function of(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s==="input"?!!jy[n.type]:s==="textarea"}function lf(n,s,a,u){bs?_s?_s.push(u):_s=[u]:bs=u,s=wo(s,"onChange"),0<s.length&&(a=new Ia("onChange","change",null,a,u),n.push({event:a,listeners:s}))}var Ar=null,Cr=null;function By(n){zp(n,0)}function Ma(n){var s=br(n);if(qd(s))return n}function uf(n,s){if(n==="change")return s}var cf=!1;if(On){var Ml;if(On){var Ul="oninput"in document;if(!Ul){var df=document.createElement("div");df.setAttribute("oninput","return;"),Ul=typeof df.oninput=="function"}Ml=Ul}else Ml=!1;cf=Ml&&(!document.documentMode||9<document.documentMode)}function ff(){Ar&&(Ar.detachEvent("onpropertychange",hf),Cr=Ar=null)}function hf(n){if(n.propertyName==="value"&&Ma(Cr)){var s=[];lf(s,Cr,n,El(n)),Yd(By,s)}}function Hy(n,s,a){n==="focusin"?(ff(),Ar=s,Cr=a,Ar.attachEvent("onpropertychange",hf)):n==="focusout"&&ff()}function qy(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Ma(Cr)}function Vy(n,s){if(n==="click")return Ma(s)}function zy(n,s){if(n==="input"||n==="change")return Ma(s)}function Fy(n,s){return n===s&&(n!==0||1/n===1/s)||n!==n&&s!==s}var $t=typeof Object.is=="function"?Object.is:Fy;function Nr(n,s){if($t(n,s))return!0;if(typeof n!="object"||n===null||typeof s!="object"||s===null)return!1;var a=Object.keys(n),u=Object.keys(s);if(a.length!==u.length)return!1;for(u=0;u<a.length;u++){var p=a[u];if(!xn.call(s,p)||!$t(n[p],s[p]))return!1}return!0}function pf(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function mf(n,s){var a=pf(n);n=0;for(var u;a;){if(a.nodeType===3){if(u=n+a.textContent.length,n<=s&&u>=s)return{node:a,offset:s-n};n=u}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=pf(a)}}function gf(n,s){return n&&s?n===s?!0:n&&n.nodeType===3?!1:s&&s.nodeType===3?gf(n,s.parentNode):"contains"in n?n.contains(s):n.compareDocumentPosition?!!(n.compareDocumentPosition(s)&16):!1:!1}function vf(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var s=Aa(n.document);s instanceof n.HTMLIFrameElement;){try{var a=typeof s.contentWindow.location.href=="string"}catch{a=!1}if(a)n=s.contentWindow;else break;s=Aa(n.document)}return s}function Pl(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s&&(s==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||s==="textarea"||n.contentEditable==="true")}var $y=On&&"documentMode"in document&&11>=document.documentMode,Ss=null,Ll=null,Rr=null,Ol=!1;function yf(n,s,a){var u=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Ol||Ss==null||Ss!==Aa(u)||(u=Ss,"selectionStart"in u&&Pl(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Rr&&Nr(Rr,u)||(Rr=u,u=wo(Ll,"onSelect"),0<u.length&&(s=new Ia("onSelect","select",null,s,a),n.push({event:s,listeners:u}),s.target=Ss)))}function qi(n,s){var a={};return a[n.toLowerCase()]=s.toLowerCase(),a["Webkit"+n]="webkit"+s,a["Moz"+n]="moz"+s,a}var Es={animationend:qi("Animation","AnimationEnd"),animationiteration:qi("Animation","AnimationIteration"),animationstart:qi("Animation","AnimationStart"),transitionrun:qi("Transition","TransitionRun"),transitionstart:qi("Transition","TransitionStart"),transitioncancel:qi("Transition","TransitionCancel"),transitionend:qi("Transition","TransitionEnd")},Gl={},xf={};On&&(xf=document.createElement("div").style,"AnimationEvent"in window||(delete Es.animationend.animation,delete Es.animationiteration.animation,delete Es.animationstart.animation),"TransitionEvent"in window||delete Es.transitionend.transition);function Vi(n){if(Gl[n])return Gl[n];if(!Es[n])return n;var s=Es[n],a;for(a in s)if(s.hasOwnProperty(a)&&a in xf)return Gl[n]=s[a];return n}var bf=Vi("animationend"),_f=Vi("animationiteration"),wf=Vi("animationstart"),Jy=Vi("transitionrun"),Ky=Vi("transitionstart"),Yy=Vi("transitioncancel"),Sf=Vi("transitionend"),Ef=new Map,jl="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");jl.push("scrollEnd");function bn(n,s){Ef.set(n,s),Bi(s,[n])}var Ua=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)},ln=[],Ts=0,Bl=0;function Pa(){for(var n=Ts,s=Bl=Ts=0;s<n;){var a=ln[s];ln[s++]=null;var u=ln[s];ln[s++]=null;var p=ln[s];ln[s++]=null;var y=ln[s];if(ln[s++]=null,u!==null&&p!==null){var w=u.pending;w===null?p.next=p:(p.next=w.next,w.next=p),u.pending=p}y!==0&&Tf(a,p,y)}}function La(n,s,a,u){ln[Ts++]=n,ln[Ts++]=s,ln[Ts++]=a,ln[Ts++]=u,Bl|=u,n.lanes|=u,n=n.alternate,n!==null&&(n.lanes|=u)}function Hl(n,s,a,u){return La(n,s,a,u),Oa(n)}function zi(n,s){return La(n,null,null,s),Oa(n)}function Tf(n,s,a){n.lanes|=a;var u=n.alternate;u!==null&&(u.lanes|=a);for(var p=!1,y=n.return;y!==null;)y.childLanes|=a,u=y.alternate,u!==null&&(u.childLanes|=a),y.tag===22&&(n=y.stateNode,n===null||n._visibility&1||(p=!0)),n=y,y=y.return;return n.tag===3?(y=n.stateNode,p&&s!==null&&(p=31-j(a),n=y.hiddenUpdates,u=n[p],u===null?n[p]=[s]:u.push(s),s.lane=a|536870912),y):null}function Oa(n){if(50<Wr)throw Wr=0,Xu=null,Error(r(185));for(var s=n.return;s!==null;)n=s,s=n.return;return n.tag===3?n.stateNode:null}var As={};function Xy(n,s,a,u){this.tag=n,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Jt(n,s,a,u){return new Xy(n,s,a,u)}function ql(n){return n=n.prototype,!(!n||!n.isReactComponent)}function Gn(n,s){var a=n.alternate;return a===null?(a=Jt(n.tag,s,n.key,n.mode),a.elementType=n.elementType,a.type=n.type,a.stateNode=n.stateNode,a.alternate=n,n.alternate=a):(a.pendingProps=s,a.type=n.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=n.flags&65011712,a.childLanes=n.childLanes,a.lanes=n.lanes,a.child=n.child,a.memoizedProps=n.memoizedProps,a.memoizedState=n.memoizedState,a.updateQueue=n.updateQueue,s=n.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},a.sibling=n.sibling,a.index=n.index,a.ref=n.ref,a.refCleanup=n.refCleanup,a}function Af(n,s){n.flags&=65011714;var a=n.alternate;return a===null?(n.childLanes=0,n.lanes=s,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=a.childLanes,n.lanes=a.lanes,n.child=a.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=a.memoizedProps,n.memoizedState=a.memoizedState,n.updateQueue=a.updateQueue,n.type=a.type,s=a.dependencies,n.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),n}function Ga(n,s,a,u,p,y){var w=0;if(u=n,typeof n=="function")ql(n)&&(w=1);else if(typeof n=="string")w=tb(n,a,te.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case Q:return n=Jt(31,a,s,p),n.elementType=Q,n.lanes=y,n;case N:return Fi(a.children,p,y,s);case C:w=8,p|=24;break;case D:return n=Jt(12,a,s,p|2),n.elementType=D,n.lanes=y,n;case X:return n=Jt(13,a,s,p),n.elementType=X,n.lanes=y,n;case K:return n=Jt(19,a,s,p),n.elementType=K,n.lanes=y,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case M:w=10;break e;case B:w=9;break e;case J:w=11;break e;case H:w=14;break e;case ae:w=16,u=null;break e}w=29,a=Error(r(130,n===null?"null":typeof n,"")),u=null}return s=Jt(w,a,s,p),s.elementType=n,s.type=u,s.lanes=y,s}function Fi(n,s,a,u){return n=Jt(7,n,u,s),n.lanes=a,n}function Vl(n,s,a){return n=Jt(6,n,null,s),n.lanes=a,n}function Cf(n){var s=Jt(18,null,null,0);return s.stateNode=n,s}function zl(n,s,a){return s=Jt(4,n.children!==null?n.children:[],n.key,s),s.lanes=a,s.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},s}var Nf=new WeakMap;function un(n,s){if(typeof n=="object"&&n!==null){var a=Nf.get(n);return a!==void 0?a:(s={value:n,source:s,stack:ds(s)},Nf.set(n,s),s)}return{value:n,source:s,stack:ds(s)}}var Cs=[],Ns=0,ja=null,kr=0,cn=[],dn=0,ui=null,kn=1,In="";function jn(n,s){Cs[Ns++]=kr,Cs[Ns++]=ja,ja=n,kr=s}function Rf(n,s,a){cn[dn++]=kn,cn[dn++]=In,cn[dn++]=ui,ui=n;var u=kn;n=In;var p=32-j(u)-1;u&=~(1<<p),a+=1;var y=32-j(s)+p;if(30<y){var w=p-p%5;y=(u&(1<<w)-1).toString(32),u>>=w,p-=w,kn=1<<32-j(s)+p|a<<p|u,In=y+n}else kn=1<<y|a<<p|u,In=n}function Fl(n){n.return!==null&&(jn(n,1),Rf(n,1,0))}function $l(n){for(;n===ja;)ja=Cs[--Ns],Cs[Ns]=null,kr=Cs[--Ns],Cs[Ns]=null;for(;n===ui;)ui=cn[--dn],cn[dn]=null,In=cn[--dn],cn[dn]=null,kn=cn[--dn],cn[dn]=null}function kf(n,s){cn[dn++]=kn,cn[dn++]=In,cn[dn++]=ui,kn=s.id,In=s.overflow,ui=n}var St=null,Ye=null,Ie=!1,ci=null,fn=!1,Jl=Error(r(519));function di(n){var s=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ir(un(s,n)),Jl}function If(n){var s=n.stateNode,a=n.type,u=n.memoizedProps;switch(s[wt]=n,s[Gt]=u,a){case"dialog":Te("cancel",s),Te("close",s);break;case"iframe":case"object":case"embed":Te("load",s);break;case"video":case"audio":for(a=0;a<Zr.length;a++)Te(Zr[a],s);break;case"source":Te("error",s);break;case"img":case"image":case"link":Te("error",s),Te("load",s);break;case"details":Te("toggle",s);break;case"input":Te("invalid",s),Vd(s,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0);break;case"select":Te("invalid",s);break;case"textarea":Te("invalid",s),Fd(s,u.value,u.defaultValue,u.children)}a=u.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||s.textContent===""+a||u.suppressHydrationWarning===!0||Kp(s.textContent,a)?(u.popover!=null&&(Te("beforetoggle",s),Te("toggle",s)),u.onScroll!=null&&Te("scroll",s),u.onScrollEnd!=null&&Te("scrollend",s),u.onClick!=null&&(s.onclick=Ln),s=!0):s=!1,s||di(n,!0)}function Df(n){for(St=n.return;St;)switch(St.tag){case 5:case 31:case 13:fn=!1;return;case 27:case 3:fn=!0;return;default:St=St.return}}function Rs(n){if(n!==St)return!1;if(!Ie)return Df(n),Ie=!0,!1;var s=n.tag,a;if((a=s!==3&&s!==27)&&((a=s===5)&&(a=n.type,a=!(a!=="form"&&a!=="button")||dc(n.type,n.memoizedProps)),a=!a),a&&Ye&&di(n),Df(n),s===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(r(317));Ye=im(n)}else if(s===31){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(r(317));Ye=im(n)}else s===27?(s=Ye,Ti(n.type)?(n=gc,gc=null,Ye=n):Ye=s):Ye=St?pn(n.stateNode.nextSibling):null;return!0}function $i(){Ye=St=null,Ie=!1}function Kl(){var n=ci;return n!==null&&(Vt===null?Vt=n:Vt.push.apply(Vt,n),ci=null),n}function Ir(n){ci===null?ci=[n]:ci.push(n)}var Yl=R(null),Ji=null,Bn=null;function fi(n,s,a){W(Yl,s._currentValue),s._currentValue=a}function Hn(n){n._currentValue=Yl.current,z(Yl)}function Xl(n,s,a){for(;n!==null;){var u=n.alternate;if((n.childLanes&s)!==s?(n.childLanes|=s,u!==null&&(u.childLanes|=s)):u!==null&&(u.childLanes&s)!==s&&(u.childLanes|=s),n===a)break;n=n.return}}function Wl(n,s,a,u){var p=n.child;for(p!==null&&(p.return=n);p!==null;){var y=p.dependencies;if(y!==null){var w=p.child;y=y.firstContext;e:for(;y!==null;){var E=y;y=p;for(var A=0;A<s.length;A++)if(E.context===s[A]){y.lanes|=a,E=y.alternate,E!==null&&(E.lanes|=a),Xl(y.return,a,n),u||(w=null);break e}y=E.next}}else if(p.tag===18){if(w=p.return,w===null)throw Error(r(341));w.lanes|=a,y=w.alternate,y!==null&&(y.lanes|=a),Xl(w,a,n),w=null}else w=p.child;if(w!==null)w.return=p;else for(w=p;w!==null;){if(w===n){w=null;break}if(p=w.sibling,p!==null){p.return=w.return,w=p;break}w=w.return}p=w}}function ks(n,s,a,u){n=null;for(var p=s,y=!1;p!==null;){if(!y){if((p.flags&524288)!==0)y=!0;else if((p.flags&262144)!==0)break}if(p.tag===10){var w=p.alternate;if(w===null)throw Error(r(387));if(w=w.memoizedProps,w!==null){var E=p.type;$t(p.pendingProps.value,w.value)||(n!==null?n.push(E):n=[E])}}else if(p===we.current){if(w=p.alternate,w===null)throw Error(r(387));w.memoizedState.memoizedState!==p.memoizedState.memoizedState&&(n!==null?n.push(sa):n=[sa])}p=p.return}n!==null&&Wl(s,n,a,u),s.flags|=262144}function Ba(n){for(n=n.firstContext;n!==null;){if(!$t(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function Ki(n){Ji=n,Bn=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function Et(n){return Mf(Ji,n)}function Ha(n,s){return Ji===null&&Ki(n),Mf(n,s)}function Mf(n,s){var a=s._currentValue;if(s={context:s,memoizedValue:a,next:null},Bn===null){if(n===null)throw Error(r(308));Bn=s,n.dependencies={lanes:0,firstContext:s},n.flags|=524288}else Bn=Bn.next=s;return a}var Wy=typeof AbortController<"u"?AbortController:function(){var n=[],s=this.signal={aborted:!1,addEventListener:function(a,u){n.push(u)}};this.abort=function(){s.aborted=!0,n.forEach(function(a){return a()})}},Qy=t.unstable_scheduleCallback,Zy=t.unstable_NormalPriority,lt={$$typeof:M,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ql(){return{controller:new Wy,data:new Map,refCount:0}}function Dr(n){n.refCount--,n.refCount===0&&Qy(Zy,function(){n.controller.abort()})}var Mr=null,Zl=0,Is=0,Ds=null;function ex(n,s){if(Mr===null){var a=Mr=[];Zl=0,Is=nc(),Ds={status:"pending",value:void 0,then:function(u){a.push(u)}}}return Zl++,s.then(Uf,Uf),s}function Uf(){if(--Zl===0&&Mr!==null){Ds!==null&&(Ds.status="fulfilled");var n=Mr;Mr=null,Is=0,Ds=null;for(var s=0;s<n.length;s++)(0,n[s])()}}function tx(n,s){var a=[],u={status:"pending",value:null,reason:null,then:function(p){a.push(p)}};return n.then(function(){u.status="fulfilled",u.value=s;for(var p=0;p<a.length;p++)(0,a[p])(s)},function(p){for(u.status="rejected",u.reason=p,p=0;p<a.length;p++)(0,a[p])(void 0)}),u}var Pf=O.S;O.S=function(n,s){yp=V(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&ex(n,s),Pf!==null&&Pf(n,s)};var Yi=R(null);function eu(){var n=Yi.current;return n!==null?n:ze.pooledCache}function qa(n,s){s===null?W(Yi,Yi.current):W(Yi,s.pool)}function Lf(){var n=eu();return n===null?null:{parent:lt._currentValue,pool:n}}var Ms=Error(r(460)),tu=Error(r(474)),Va=Error(r(542)),za={then:function(){}};function Of(n){return n=n.status,n==="fulfilled"||n==="rejected"}function Gf(n,s,a){switch(a=n[a],a===void 0?n.push(s):a!==s&&(s.then(Ln,Ln),s=a),s.status){case"fulfilled":return s.value;case"rejected":throw n=s.reason,Bf(n),n;default:if(typeof s.status=="string")s.then(Ln,Ln);else{if(n=ze,n!==null&&100<n.shellSuspendCounter)throw Error(r(482));n=s,n.status="pending",n.then(function(u){if(s.status==="pending"){var p=s;p.status="fulfilled",p.value=u}},function(u){if(s.status==="pending"){var p=s;p.status="rejected",p.reason=u}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw n=s.reason,Bf(n),n}throw Wi=s,Ms}}function Xi(n){try{var s=n._init;return s(n._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Wi=a,Ms):a}}var Wi=null;function jf(){if(Wi===null)throw Error(r(459));var n=Wi;return Wi=null,n}function Bf(n){if(n===Ms||n===Va)throw Error(r(483))}var Us=null,Ur=0;function Fa(n){var s=Ur;return Ur+=1,Us===null&&(Us=[]),Gf(Us,n,s)}function Pr(n,s){s=s.props.ref,n.ref=s!==void 0?s:null}function $a(n,s){throw s.$$typeof===_?Error(r(525)):(n=Object.prototype.toString.call(s),Error(r(31,n==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":n)))}function Hf(n){function s(I,k){if(n){var U=I.deletions;U===null?(I.deletions=[k],I.flags|=16):U.push(k)}}function a(I,k){if(!n)return null;for(;k!==null;)s(I,k),k=k.sibling;return null}function u(I){for(var k=new Map;I!==null;)I.key!==null?k.set(I.key,I):k.set(I.index,I),I=I.sibling;return k}function p(I,k){return I=Gn(I,k),I.index=0,I.sibling=null,I}function y(I,k,U){return I.index=U,n?(U=I.alternate,U!==null?(U=U.index,U<k?(I.flags|=67108866,k):U):(I.flags|=67108866,k)):(I.flags|=1048576,k)}function w(I){return n&&I.alternate===null&&(I.flags|=67108866),I}function E(I,k,U,F){return k===null||k.tag!==6?(k=Vl(U,I.mode,F),k.return=I,k):(k=p(k,U),k.return=I,k)}function A(I,k,U,F){var de=U.type;return de===N?q(I,k,U.props.children,F,U.key):k!==null&&(k.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===ae&&Xi(de)===k.type)?(k=p(k,U.props),Pr(k,U),k.return=I,k):(k=Ga(U.type,U.key,U.props,null,I.mode,F),Pr(k,U),k.return=I,k)}function P(I,k,U,F){return k===null||k.tag!==4||k.stateNode.containerInfo!==U.containerInfo||k.stateNode.implementation!==U.implementation?(k=zl(U,I.mode,F),k.return=I,k):(k=p(k,U.children||[]),k.return=I,k)}function q(I,k,U,F,de){return k===null||k.tag!==7?(k=Fi(U,I.mode,F,de),k.return=I,k):(k=p(k,U),k.return=I,k)}function $(I,k,U){if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return k=Vl(""+k,I.mode,U),k.return=I,k;if(typeof k=="object"&&k!==null){switch(k.$$typeof){case S:return U=Ga(k.type,k.key,k.props,null,I.mode,U),Pr(U,k),U.return=I,U;case T:return k=zl(k,I.mode,U),k.return=I,k;case ae:return k=Xi(k),$(I,k,U)}if(it(k)||De(k))return k=Fi(k,I.mode,U,null),k.return=I,k;if(typeof k.then=="function")return $(I,Fa(k),U);if(k.$$typeof===M)return $(I,Ha(I,k),U);$a(I,k)}return null}function L(I,k,U,F){var de=k!==null?k.key:null;if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return de!==null?null:E(I,k,""+U,F);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case S:return U.key===de?A(I,k,U,F):null;case T:return U.key===de?P(I,k,U,F):null;case ae:return U=Xi(U),L(I,k,U,F)}if(it(U)||De(U))return de!==null?null:q(I,k,U,F,null);if(typeof U.then=="function")return L(I,k,Fa(U),F);if(U.$$typeof===M)return L(I,k,Ha(I,U),F);$a(I,U)}return null}function G(I,k,U,F,de){if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return I=I.get(U)||null,E(k,I,""+F,de);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case S:return I=I.get(F.key===null?U:F.key)||null,A(k,I,F,de);case T:return I=I.get(F.key===null?U:F.key)||null,P(k,I,F,de);case ae:return F=Xi(F),G(I,k,U,F,de)}if(it(F)||De(F))return I=I.get(U)||null,q(k,I,F,de,null);if(typeof F.then=="function")return G(I,k,U,Fa(F),de);if(F.$$typeof===M)return G(I,k,U,Ha(k,F),de);$a(k,F)}return null}function se(I,k,U,F){for(var de=null,Me=null,re=k,be=k=0,Ne=null;re!==null&&be<U.length;be++){re.index>be?(Ne=re,re=null):Ne=re.sibling;var Ue=L(I,re,U[be],F);if(Ue===null){re===null&&(re=Ne);break}n&&re&&Ue.alternate===null&&s(I,re),k=y(Ue,k,be),Me===null?de=Ue:Me.sibling=Ue,Me=Ue,re=Ne}if(be===U.length)return a(I,re),Ie&&jn(I,be),de;if(re===null){for(;be<U.length;be++)re=$(I,U[be],F),re!==null&&(k=y(re,k,be),Me===null?de=re:Me.sibling=re,Me=re);return Ie&&jn(I,be),de}for(re=u(re);be<U.length;be++)Ne=G(re,I,be,U[be],F),Ne!==null&&(n&&Ne.alternate!==null&&re.delete(Ne.key===null?be:Ne.key),k=y(Ne,k,be),Me===null?de=Ne:Me.sibling=Ne,Me=Ne);return n&&re.forEach(function(ki){return s(I,ki)}),Ie&&jn(I,be),de}function fe(I,k,U,F){if(U==null)throw Error(r(151));for(var de=null,Me=null,re=k,be=k=0,Ne=null,Ue=U.next();re!==null&&!Ue.done;be++,Ue=U.next()){re.index>be?(Ne=re,re=null):Ne=re.sibling;var ki=L(I,re,Ue.value,F);if(ki===null){re===null&&(re=Ne);break}n&&re&&ki.alternate===null&&s(I,re),k=y(ki,k,be),Me===null?de=ki:Me.sibling=ki,Me=ki,re=Ne}if(Ue.done)return a(I,re),Ie&&jn(I,be),de;if(re===null){for(;!Ue.done;be++,Ue=U.next())Ue=$(I,Ue.value,F),Ue!==null&&(k=y(Ue,k,be),Me===null?de=Ue:Me.sibling=Ue,Me=Ue);return Ie&&jn(I,be),de}for(re=u(re);!Ue.done;be++,Ue=U.next())Ue=G(re,I,be,Ue.value,F),Ue!==null&&(n&&Ue.alternate!==null&&re.delete(Ue.key===null?be:Ue.key),k=y(Ue,k,be),Me===null?de=Ue:Me.sibling=Ue,Me=Ue);return n&&re.forEach(function(fb){return s(I,fb)}),Ie&&jn(I,be),de}function Ve(I,k,U,F){if(typeof U=="object"&&U!==null&&U.type===N&&U.key===null&&(U=U.props.children),typeof U=="object"&&U!==null){switch(U.$$typeof){case S:e:{for(var de=U.key;k!==null;){if(k.key===de){if(de=U.type,de===N){if(k.tag===7){a(I,k.sibling),F=p(k,U.props.children),F.return=I,I=F;break e}}else if(k.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===ae&&Xi(de)===k.type){a(I,k.sibling),F=p(k,U.props),Pr(F,U),F.return=I,I=F;break e}a(I,k);break}else s(I,k);k=k.sibling}U.type===N?(F=Fi(U.props.children,I.mode,F,U.key),F.return=I,I=F):(F=Ga(U.type,U.key,U.props,null,I.mode,F),Pr(F,U),F.return=I,I=F)}return w(I);case T:e:{for(de=U.key;k!==null;){if(k.key===de)if(k.tag===4&&k.stateNode.containerInfo===U.containerInfo&&k.stateNode.implementation===U.implementation){a(I,k.sibling),F=p(k,U.children||[]),F.return=I,I=F;break e}else{a(I,k);break}else s(I,k);k=k.sibling}F=zl(U,I.mode,F),F.return=I,I=F}return w(I);case ae:return U=Xi(U),Ve(I,k,U,F)}if(it(U))return se(I,k,U,F);if(De(U)){if(de=De(U),typeof de!="function")throw Error(r(150));return U=de.call(U),fe(I,k,U,F)}if(typeof U.then=="function")return Ve(I,k,Fa(U),F);if(U.$$typeof===M)return Ve(I,k,Ha(I,U),F);$a(I,U)}return typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint"?(U=""+U,k!==null&&k.tag===6?(a(I,k.sibling),F=p(k,U),F.return=I,I=F):(a(I,k),F=Vl(U,I.mode,F),F.return=I,I=F),w(I)):a(I,k)}return function(I,k,U,F){try{Ur=0;var de=Ve(I,k,U,F);return Us=null,de}catch(re){if(re===Ms||re===Va)throw re;var Me=Jt(29,re,null,I.mode);return Me.lanes=F,Me.return=I,Me}finally{}}}var Qi=Hf(!0),qf=Hf(!1),hi=!1;function nu(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function iu(n,s){n=n.updateQueue,s.updateQueue===n&&(s.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function pi(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function mi(n,s,a){var u=n.updateQueue;if(u===null)return null;if(u=u.shared,(Oe&2)!==0){var p=u.pending;return p===null?s.next=s:(s.next=p.next,p.next=s),u.pending=s,s=Oa(n),Tf(n,null,a),s}return La(n,u,s,a),Oa(n)}function Lr(n,s,a){if(s=s.updateQueue,s!==null&&(s=s.shared,(a&4194048)!==0)){var u=s.lanes;u&=n.pendingLanes,a|=u,s.lanes=a,Dd(n,a)}}function su(n,s){var a=n.updateQueue,u=n.alternate;if(u!==null&&(u=u.updateQueue,a===u)){var p=null,y=null;if(a=a.firstBaseUpdate,a!==null){do{var w={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};y===null?p=y=w:y=y.next=w,a=a.next}while(a!==null);y===null?p=y=s:y=y.next=s}else p=y=s;a={baseState:u.baseState,firstBaseUpdate:p,lastBaseUpdate:y,shared:u.shared,callbacks:u.callbacks},n.updateQueue=a;return}n=a.lastBaseUpdate,n===null?a.firstBaseUpdate=s:n.next=s,a.lastBaseUpdate=s}var ru=!1;function Or(){if(ru){var n=Ds;if(n!==null)throw n}}function Gr(n,s,a,u){ru=!1;var p=n.updateQueue;hi=!1;var y=p.firstBaseUpdate,w=p.lastBaseUpdate,E=p.shared.pending;if(E!==null){p.shared.pending=null;var A=E,P=A.next;A.next=null,w===null?y=P:w.next=P,w=A;var q=n.alternate;q!==null&&(q=q.updateQueue,E=q.lastBaseUpdate,E!==w&&(E===null?q.firstBaseUpdate=P:E.next=P,q.lastBaseUpdate=A))}if(y!==null){var $=p.baseState;w=0,q=P=A=null,E=y;do{var L=E.lane&-536870913,G=L!==E.lane;if(G?(Ce&L)===L:(u&L)===L){L!==0&&L===Is&&(ru=!0),q!==null&&(q=q.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});e:{var se=n,fe=E;L=s;var Ve=a;switch(fe.tag){case 1:if(se=fe.payload,typeof se=="function"){$=se.call(Ve,$,L);break e}$=se;break e;case 3:se.flags=se.flags&-65537|128;case 0:if(se=fe.payload,L=typeof se=="function"?se.call(Ve,$,L):se,L==null)break e;$=b({},$,L);break e;case 2:hi=!0}}L=E.callback,L!==null&&(n.flags|=64,G&&(n.flags|=8192),G=p.callbacks,G===null?p.callbacks=[L]:G.push(L))}else G={lane:L,tag:E.tag,payload:E.payload,callback:E.callback,next:null},q===null?(P=q=G,A=$):q=q.next=G,w|=L;if(E=E.next,E===null){if(E=p.shared.pending,E===null)break;G=E,E=G.next,G.next=null,p.lastBaseUpdate=G,p.shared.pending=null}}while(!0);q===null&&(A=$),p.baseState=A,p.firstBaseUpdate=P,p.lastBaseUpdate=q,y===null&&(p.shared.lanes=0),bi|=w,n.lanes=w,n.memoizedState=$}}function Vf(n,s){if(typeof n!="function")throw Error(r(191,n));n.call(s)}function zf(n,s){var a=n.callbacks;if(a!==null)for(n.callbacks=null,n=0;n<a.length;n++)Vf(a[n],s)}var Ps=R(null),Ja=R(0);function Ff(n,s){n=Xn,W(Ja,n),W(Ps,s),Xn=n|s.baseLanes}function au(){W(Ja,Xn),W(Ps,Ps.current)}function ou(){Xn=Ja.current,z(Ps),z(Ja)}var Kt=R(null),hn=null;function gi(n){var s=n.alternate;W(st,st.current&1),W(Kt,n),hn===null&&(s===null||Ps.current!==null||s.memoizedState!==null)&&(hn=n)}function lu(n){W(st,st.current),W(Kt,n),hn===null&&(hn=n)}function $f(n){n.tag===22?(W(st,st.current),W(Kt,n),hn===null&&(hn=n)):vi()}function vi(){W(st,st.current),W(Kt,Kt.current)}function Yt(n){z(Kt),hn===n&&(hn=null),z(st)}var st=R(0);function Ka(n){for(var s=n;s!==null;){if(s.tag===13){var a=s.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||pc(a)||mc(a)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var qn=0,ye=null,He=null,ut=null,Ya=!1,Ls=!1,Zi=!1,Xa=0,jr=0,Os=null,nx=0;function Ze(){throw Error(r(321))}function uu(n,s){if(s===null)return!1;for(var a=0;a<s.length&&a<n.length;a++)if(!$t(n[a],s[a]))return!1;return!0}function cu(n,s,a,u,p,y){return qn=y,ye=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,O.H=n===null||n.memoizedState===null?Rh:Tu,Zi=!1,y=a(u,p),Zi=!1,Ls&&(y=Kf(s,a,u,p)),Jf(n),y}function Jf(n){O.H=qr;var s=He!==null&&He.next!==null;if(qn=0,ut=He=ye=null,Ya=!1,jr=0,Os=null,s)throw Error(r(300));n===null||ct||(n=n.dependencies,n!==null&&Ba(n)&&(ct=!0))}function Kf(n,s,a,u){ye=n;var p=0;do{if(Ls&&(Os=null),jr=0,Ls=!1,25<=p)throw Error(r(301));if(p+=1,ut=He=null,n.updateQueue!=null){var y=n.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}O.H=kh,y=s(a,u)}while(Ls);return y}function ix(){var n=O.H,s=n.useState()[0];return s=typeof s.then=="function"?Br(s):s,n=n.useState()[0],(He!==null?He.memoizedState:null)!==n&&(ye.flags|=1024),s}function du(){var n=Xa!==0;return Xa=0,n}function fu(n,s,a){s.updateQueue=n.updateQueue,s.flags&=-2053,n.lanes&=~a}function hu(n){if(Ya){for(n=n.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}Ya=!1}qn=0,ut=He=ye=null,Ls=!1,jr=Xa=0,Os=null}function Ut(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ut===null?ye.memoizedState=ut=n:ut=ut.next=n,ut}function rt(){if(He===null){var n=ye.alternate;n=n!==null?n.memoizedState:null}else n=He.next;var s=ut===null?ye.memoizedState:ut.next;if(s!==null)ut=s,He=n;else{if(n===null)throw ye.alternate===null?Error(r(467)):Error(r(310));He=n,n={memoizedState:He.memoizedState,baseState:He.baseState,baseQueue:He.baseQueue,queue:He.queue,next:null},ut===null?ye.memoizedState=ut=n:ut=ut.next=n}return ut}function Wa(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Br(n){var s=jr;return jr+=1,Os===null&&(Os=[]),n=Gf(Os,n,s),s=ye,(ut===null?s.memoizedState:ut.next)===null&&(s=s.alternate,O.H=s===null||s.memoizedState===null?Rh:Tu),n}function Qa(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return Br(n);if(n.$$typeof===M)return Et(n)}throw Error(r(438,String(n)))}function pu(n){var s=null,a=ye.updateQueue;if(a!==null&&(s=a.memoCache),s==null){var u=ye.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(s={data:u.data.map(function(p){return p.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),a===null&&(a=Wa(),ye.updateQueue=a),a.memoCache=s,a=s.data[s.index],a===void 0)for(a=s.data[s.index]=Array(n),u=0;u<n;u++)a[u]=ve;return s.index++,a}function Vn(n,s){return typeof s=="function"?s(n):s}function Za(n){var s=rt();return mu(s,He,n)}function mu(n,s,a){var u=n.queue;if(u===null)throw Error(r(311));u.lastRenderedReducer=a;var p=n.baseQueue,y=u.pending;if(y!==null){if(p!==null){var w=p.next;p.next=y.next,y.next=w}s.baseQueue=p=y,u.pending=null}if(y=n.baseState,p===null)n.memoizedState=y;else{s=p.next;var E=w=null,A=null,P=s,q=!1;do{var $=P.lane&-536870913;if($!==P.lane?(Ce&$)===$:(qn&$)===$){var L=P.revertLane;if(L===0)A!==null&&(A=A.next={lane:0,revertLane:0,gesture:null,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null}),$===Is&&(q=!0);else if((qn&L)===L){P=P.next,L===Is&&(q=!0);continue}else $={lane:0,revertLane:P.revertLane,gesture:null,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},A===null?(E=A=$,w=y):A=A.next=$,ye.lanes|=L,bi|=L;$=P.action,Zi&&a(y,$),y=P.hasEagerState?P.eagerState:a(y,$)}else L={lane:$,revertLane:P.revertLane,gesture:P.gesture,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},A===null?(E=A=L,w=y):A=A.next=L,ye.lanes|=$,bi|=$;P=P.next}while(P!==null&&P!==s);if(A===null?w=y:A.next=E,!$t(y,n.memoizedState)&&(ct=!0,q&&(a=Ds,a!==null)))throw a;n.memoizedState=y,n.baseState=w,n.baseQueue=A,u.lastRenderedState=y}return p===null&&(u.lanes=0),[n.memoizedState,u.dispatch]}function gu(n){var s=rt(),a=s.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=n;var u=a.dispatch,p=a.pending,y=s.memoizedState;if(p!==null){a.pending=null;var w=p=p.next;do y=n(y,w.action),w=w.next;while(w!==p);$t(y,s.memoizedState)||(ct=!0),s.memoizedState=y,s.baseQueue===null&&(s.baseState=y),a.lastRenderedState=y}return[y,u]}function Yf(n,s,a){var u=ye,p=rt(),y=Ie;if(y){if(a===void 0)throw Error(r(407));a=a()}else a=s();var w=!$t((He||p).memoizedState,a);if(w&&(p.memoizedState=a,ct=!0),p=p.queue,xu(Qf.bind(null,u,p,n),[n]),p.getSnapshot!==s||w||ut!==null&&ut.memoizedState.tag&1){if(u.flags|=2048,Gs(9,{destroy:void 0},Wf.bind(null,u,p,a,s),null),ze===null)throw Error(r(349));y||(qn&127)!==0||Xf(u,s,a)}return a}function Xf(n,s,a){n.flags|=16384,n={getSnapshot:s,value:a},s=ye.updateQueue,s===null?(s=Wa(),ye.updateQueue=s,s.stores=[n]):(a=s.stores,a===null?s.stores=[n]:a.push(n))}function Wf(n,s,a,u){s.value=a,s.getSnapshot=u,Zf(s)&&eh(n)}function Qf(n,s,a){return a(function(){Zf(s)&&eh(n)})}function Zf(n){var s=n.getSnapshot;n=n.value;try{var a=s();return!$t(n,a)}catch{return!0}}function eh(n){var s=zi(n,2);s!==null&&zt(s,n,2)}function vu(n){var s=Ut();if(typeof n=="function"){var a=n;if(n=a(),Zi){nn(!0);try{a()}finally{nn(!1)}}}return s.memoizedState=s.baseState=n,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vn,lastRenderedState:n},s}function th(n,s,a,u){return n.baseState=a,mu(n,He,typeof u=="function"?u:Vn)}function sx(n,s,a,u,p){if(no(n))throw Error(r(485));if(n=s.action,n!==null){var y={payload:p,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(w){y.listeners.push(w)}};O.T!==null?a(!0):y.isTransition=!1,u(y),a=s.pending,a===null?(y.next=s.pending=y,nh(s,y)):(y.next=a.next,s.pending=a.next=y)}}function nh(n,s){var a=s.action,u=s.payload,p=n.state;if(s.isTransition){var y=O.T,w={};O.T=w;try{var E=a(p,u),A=O.S;A!==null&&A(w,E),ih(n,s,E)}catch(P){yu(n,s,P)}finally{y!==null&&w.types!==null&&(y.types=w.types),O.T=y}}else try{y=a(p,u),ih(n,s,y)}catch(P){yu(n,s,P)}}function ih(n,s,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(u){sh(n,s,u)},function(u){return yu(n,s,u)}):sh(n,s,a)}function sh(n,s,a){s.status="fulfilled",s.value=a,rh(s),n.state=a,s=n.pending,s!==null&&(a=s.next,a===s?n.pending=null:(a=a.next,s.next=a,nh(n,a)))}function yu(n,s,a){var u=n.pending;if(n.pending=null,u!==null){u=u.next;do s.status="rejected",s.reason=a,rh(s),s=s.next;while(s!==u)}n.action=null}function rh(n){n=n.listeners;for(var s=0;s<n.length;s++)(0,n[s])()}function ah(n,s){return s}function oh(n,s){if(Ie){var a=ze.formState;if(a!==null){e:{var u=ye;if(Ie){if(Ye){t:{for(var p=Ye,y=fn;p.nodeType!==8;){if(!y){p=null;break t}if(p=pn(p.nextSibling),p===null){p=null;break t}}y=p.data,p=y==="F!"||y==="F"?p:null}if(p){Ye=pn(p.nextSibling),u=p.data==="F!";break e}}di(u)}u=!1}u&&(s=a[0])}}return a=Ut(),a.memoizedState=a.baseState=s,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ah,lastRenderedState:s},a.queue=u,a=Ah.bind(null,ye,u),u.dispatch=a,u=vu(!1),y=Eu.bind(null,ye,!1,u.queue),u=Ut(),p={state:s,dispatch:null,action:n,pending:null},u.queue=p,a=sx.bind(null,ye,p,y,a),p.dispatch=a,u.memoizedState=n,[s,a,!1]}function lh(n){var s=rt();return uh(s,He,n)}function uh(n,s,a){if(s=mu(n,s,ah)[0],n=Za(Vn)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var u=Br(s)}catch(w){throw w===Ms?Va:w}else u=s;s=rt();var p=s.queue,y=p.dispatch;return a!==s.memoizedState&&(ye.flags|=2048,Gs(9,{destroy:void 0},rx.bind(null,p,a),null)),[u,y,n]}function rx(n,s){n.action=s}function ch(n){var s=rt(),a=He;if(a!==null)return uh(s,a,n);rt(),s=s.memoizedState,a=rt();var u=a.queue.dispatch;return a.memoizedState=n,[s,u,!1]}function Gs(n,s,a,u){return n={tag:n,create:a,deps:u,inst:s,next:null},s=ye.updateQueue,s===null&&(s=Wa(),ye.updateQueue=s),a=s.lastEffect,a===null?s.lastEffect=n.next=n:(u=a.next,a.next=n,n.next=u,s.lastEffect=n),n}function dh(){return rt().memoizedState}function eo(n,s,a,u){var p=Ut();ye.flags|=n,p.memoizedState=Gs(1|s,{destroy:void 0},a,u===void 0?null:u)}function to(n,s,a,u){var p=rt();u=u===void 0?null:u;var y=p.memoizedState.inst;He!==null&&u!==null&&uu(u,He.memoizedState.deps)?p.memoizedState=Gs(s,y,a,u):(ye.flags|=n,p.memoizedState=Gs(1|s,y,a,u))}function fh(n,s){eo(8390656,8,n,s)}function xu(n,s){to(2048,8,n,s)}function ax(n){ye.flags|=4;var s=ye.updateQueue;if(s===null)s=Wa(),ye.updateQueue=s,s.events=[n];else{var a=s.events;a===null?s.events=[n]:a.push(n)}}function hh(n){var s=rt().memoizedState;return ax({ref:s,nextImpl:n}),function(){if((Oe&2)!==0)throw Error(r(440));return s.impl.apply(void 0,arguments)}}function ph(n,s){return to(4,2,n,s)}function mh(n,s){return to(4,4,n,s)}function gh(n,s){if(typeof s=="function"){n=n();var a=s(n);return function(){typeof a=="function"?a():s(null)}}if(s!=null)return n=n(),s.current=n,function(){s.current=null}}function vh(n,s,a){a=a!=null?a.concat([n]):null,to(4,4,gh.bind(null,s,n),a)}function bu(){}function yh(n,s){var a=rt();s=s===void 0?null:s;var u=a.memoizedState;return s!==null&&uu(s,u[1])?u[0]:(a.memoizedState=[n,s],n)}function xh(n,s){var a=rt();s=s===void 0?null:s;var u=a.memoizedState;if(s!==null&&uu(s,u[1]))return u[0];if(u=n(),Zi){nn(!0);try{n()}finally{nn(!1)}}return a.memoizedState=[u,s],u}function _u(n,s,a){return a===void 0||(qn&1073741824)!==0&&(Ce&261930)===0?n.memoizedState=s:(n.memoizedState=a,n=bp(),ye.lanes|=n,bi|=n,a)}function bh(n,s,a,u){return $t(a,s)?a:Ps.current!==null?(n=_u(n,a,u),$t(n,s)||(ct=!0),n):(qn&42)===0||(qn&1073741824)!==0&&(Ce&261930)===0?(ct=!0,n.memoizedState=a):(n=bp(),ye.lanes|=n,bi|=n,s)}function _h(n,s,a,u,p){var y=Y.p;Y.p=y!==0&&8>y?y:8;var w=O.T,E={};O.T=E,Eu(n,!1,s,a);try{var A=p(),P=O.S;if(P!==null&&P(E,A),A!==null&&typeof A=="object"&&typeof A.then=="function"){var q=tx(A,u);Hr(n,s,q,Qt(n))}else Hr(n,s,u,Qt(n))}catch($){Hr(n,s,{then:function(){},status:"rejected",reason:$},Qt())}finally{Y.p=y,w!==null&&E.types!==null&&(w.types=E.types),O.T=w}}function ox(){}function wu(n,s,a,u){if(n.tag!==5)throw Error(r(476));var p=wh(n).queue;_h(n,p,s,oe,a===null?ox:function(){return Sh(n),a(u)})}function wh(n){var s=n.memoizedState;if(s!==null)return s;s={memoizedState:oe,baseState:oe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vn,lastRenderedState:oe},next:null};var a={};return s.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vn,lastRenderedState:a},next:null},n.memoizedState=s,n=n.alternate,n!==null&&(n.memoizedState=s),s}function Sh(n){var s=wh(n);s.next===null&&(s=n.alternate.memoizedState),Hr(n,s.next.queue,{},Qt())}function Su(){return Et(sa)}function Eh(){return rt().memoizedState}function Th(){return rt().memoizedState}function lx(n){for(var s=n.return;s!==null;){switch(s.tag){case 24:case 3:var a=Qt();n=pi(a);var u=mi(s,n,a);u!==null&&(zt(u,s,a),Lr(u,s,a)),s={cache:Ql()},n.payload=s;return}s=s.return}}function ux(n,s,a){var u=Qt();a={lane:u,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},no(n)?Ch(s,a):(a=Hl(n,s,a,u),a!==null&&(zt(a,n,u),Nh(a,s,u)))}function Ah(n,s,a){var u=Qt();Hr(n,s,a,u)}function Hr(n,s,a,u){var p={lane:u,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(no(n))Ch(s,p);else{var y=n.alternate;if(n.lanes===0&&(y===null||y.lanes===0)&&(y=s.lastRenderedReducer,y!==null))try{var w=s.lastRenderedState,E=y(w,a);if(p.hasEagerState=!0,p.eagerState=E,$t(E,w))return La(n,s,p,0),ze===null&&Pa(),!1}catch{}finally{}if(a=Hl(n,s,p,u),a!==null)return zt(a,n,u),Nh(a,s,u),!0}return!1}function Eu(n,s,a,u){if(u={lane:2,revertLane:nc(),gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},no(n)){if(s)throw Error(r(479))}else s=Hl(n,a,u,2),s!==null&&zt(s,n,2)}function no(n){var s=n.alternate;return n===ye||s!==null&&s===ye}function Ch(n,s){Ls=Ya=!0;var a=n.pending;a===null?s.next=s:(s.next=a.next,a.next=s),n.pending=s}function Nh(n,s,a){if((a&4194048)!==0){var u=s.lanes;u&=n.pendingLanes,a|=u,s.lanes=a,Dd(n,a)}}var qr={readContext:Et,use:Qa,useCallback:Ze,useContext:Ze,useEffect:Ze,useImperativeHandle:Ze,useLayoutEffect:Ze,useInsertionEffect:Ze,useMemo:Ze,useReducer:Ze,useRef:Ze,useState:Ze,useDebugValue:Ze,useDeferredValue:Ze,useTransition:Ze,useSyncExternalStore:Ze,useId:Ze,useHostTransitionStatus:Ze,useFormState:Ze,useActionState:Ze,useOptimistic:Ze,useMemoCache:Ze,useCacheRefresh:Ze};qr.useEffectEvent=Ze;var Rh={readContext:Et,use:Qa,useCallback:function(n,s){return Ut().memoizedState=[n,s===void 0?null:s],n},useContext:Et,useEffect:fh,useImperativeHandle:function(n,s,a){a=a!=null?a.concat([n]):null,eo(4194308,4,gh.bind(null,s,n),a)},useLayoutEffect:function(n,s){return eo(4194308,4,n,s)},useInsertionEffect:function(n,s){eo(4,2,n,s)},useMemo:function(n,s){var a=Ut();s=s===void 0?null:s;var u=n();if(Zi){nn(!0);try{n()}finally{nn(!1)}}return a.memoizedState=[u,s],u},useReducer:function(n,s,a){var u=Ut();if(a!==void 0){var p=a(s);if(Zi){nn(!0);try{a(s)}finally{nn(!1)}}}else p=s;return u.memoizedState=u.baseState=p,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:p},u.queue=n,n=n.dispatch=ux.bind(null,ye,n),[u.memoizedState,n]},useRef:function(n){var s=Ut();return n={current:n},s.memoizedState=n},useState:function(n){n=vu(n);var s=n.queue,a=Ah.bind(null,ye,s);return s.dispatch=a,[n.memoizedState,a]},useDebugValue:bu,useDeferredValue:function(n,s){var a=Ut();return _u(a,n,s)},useTransition:function(){var n=vu(!1);return n=_h.bind(null,ye,n.queue,!0,!1),Ut().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,s,a){var u=ye,p=Ut();if(Ie){if(a===void 0)throw Error(r(407));a=a()}else{if(a=s(),ze===null)throw Error(r(349));(Ce&127)!==0||Xf(u,s,a)}p.memoizedState=a;var y={value:a,getSnapshot:s};return p.queue=y,fh(Qf.bind(null,u,y,n),[n]),u.flags|=2048,Gs(9,{destroy:void 0},Wf.bind(null,u,y,a,s),null),a},useId:function(){var n=Ut(),s=ze.identifierPrefix;if(Ie){var a=In,u=kn;a=(u&~(1<<32-j(u)-1)).toString(32)+a,s="_"+s+"R_"+a,a=Xa++,0<a&&(s+="H"+a.toString(32)),s+="_"}else a=nx++,s="_"+s+"r_"+a.toString(32)+"_";return n.memoizedState=s},useHostTransitionStatus:Su,useFormState:oh,useActionState:oh,useOptimistic:function(n){var s=Ut();s.memoizedState=s.baseState=n;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=a,s=Eu.bind(null,ye,!0,a),a.dispatch=s,[n,s]},useMemoCache:pu,useCacheRefresh:function(){return Ut().memoizedState=lx.bind(null,ye)},useEffectEvent:function(n){var s=Ut(),a={impl:n};return s.memoizedState=a,function(){if((Oe&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}},Tu={readContext:Et,use:Qa,useCallback:yh,useContext:Et,useEffect:xu,useImperativeHandle:vh,useInsertionEffect:ph,useLayoutEffect:mh,useMemo:xh,useReducer:Za,useRef:dh,useState:function(){return Za(Vn)},useDebugValue:bu,useDeferredValue:function(n,s){var a=rt();return bh(a,He.memoizedState,n,s)},useTransition:function(){var n=Za(Vn)[0],s=rt().memoizedState;return[typeof n=="boolean"?n:Br(n),s]},useSyncExternalStore:Yf,useId:Eh,useHostTransitionStatus:Su,useFormState:lh,useActionState:lh,useOptimistic:function(n,s){var a=rt();return th(a,He,n,s)},useMemoCache:pu,useCacheRefresh:Th};Tu.useEffectEvent=hh;var kh={readContext:Et,use:Qa,useCallback:yh,useContext:Et,useEffect:xu,useImperativeHandle:vh,useInsertionEffect:ph,useLayoutEffect:mh,useMemo:xh,useReducer:gu,useRef:dh,useState:function(){return gu(Vn)},useDebugValue:bu,useDeferredValue:function(n,s){var a=rt();return He===null?_u(a,n,s):bh(a,He.memoizedState,n,s)},useTransition:function(){var n=gu(Vn)[0],s=rt().memoizedState;return[typeof n=="boolean"?n:Br(n),s]},useSyncExternalStore:Yf,useId:Eh,useHostTransitionStatus:Su,useFormState:ch,useActionState:ch,useOptimistic:function(n,s){var a=rt();return He!==null?th(a,He,n,s):(a.baseState=n,[n,a.queue.dispatch])},useMemoCache:pu,useCacheRefresh:Th};kh.useEffectEvent=hh;function Au(n,s,a,u){s=n.memoizedState,a=a(u,s),a=a==null?s:b({},s,a),n.memoizedState=a,n.lanes===0&&(n.updateQueue.baseState=a)}var Cu={enqueueSetState:function(n,s,a){n=n._reactInternals;var u=Qt(),p=pi(u);p.payload=s,a!=null&&(p.callback=a),s=mi(n,p,u),s!==null&&(zt(s,n,u),Lr(s,n,u))},enqueueReplaceState:function(n,s,a){n=n._reactInternals;var u=Qt(),p=pi(u);p.tag=1,p.payload=s,a!=null&&(p.callback=a),s=mi(n,p,u),s!==null&&(zt(s,n,u),Lr(s,n,u))},enqueueForceUpdate:function(n,s){n=n._reactInternals;var a=Qt(),u=pi(a);u.tag=2,s!=null&&(u.callback=s),s=mi(n,u,a),s!==null&&(zt(s,n,a),Lr(s,n,a))}};function Ih(n,s,a,u,p,y,w){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(u,y,w):s.prototype&&s.prototype.isPureReactComponent?!Nr(a,u)||!Nr(p,y):!0}function Dh(n,s,a,u){n=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(a,u),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(a,u),s.state!==n&&Cu.enqueueReplaceState(s,s.state,null)}function es(n,s){var a=s;if("ref"in s){a={};for(var u in s)u!=="ref"&&(a[u]=s[u])}if(n=n.defaultProps){a===s&&(a=b({},a));for(var p in n)a[p]===void 0&&(a[p]=n[p])}return a}function Mh(n){Ua(n)}function Uh(n){console.error(n)}function Ph(n){Ua(n)}function io(n,s){try{var a=n.onUncaughtError;a(s.value,{componentStack:s.stack})}catch(u){setTimeout(function(){throw u})}}function Lh(n,s,a){try{var u=n.onCaughtError;u(a.value,{componentStack:a.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(p){setTimeout(function(){throw p})}}function Nu(n,s,a){return a=pi(a),a.tag=3,a.payload={element:null},a.callback=function(){io(n,s)},a}function Oh(n){return n=pi(n),n.tag=3,n}function Gh(n,s,a,u){var p=a.type.getDerivedStateFromError;if(typeof p=="function"){var y=u.value;n.payload=function(){return p(y)},n.callback=function(){Lh(s,a,u)}}var w=a.stateNode;w!==null&&typeof w.componentDidCatch=="function"&&(n.callback=function(){Lh(s,a,u),typeof p!="function"&&(_i===null?_i=new Set([this]):_i.add(this));var E=u.stack;this.componentDidCatch(u.value,{componentStack:E!==null?E:""})})}function cx(n,s,a,u,p){if(a.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(s=a.alternate,s!==null&&ks(s,a,p,!0),a=Kt.current,a!==null){switch(a.tag){case 31:case 13:return hn===null?go():a.alternate===null&&et===0&&(et=3),a.flags&=-257,a.flags|=65536,a.lanes=p,u===za?a.flags|=16384:(s=a.updateQueue,s===null?a.updateQueue=new Set([u]):s.add(u),Zu(n,u,p)),!1;case 22:return a.flags|=65536,u===za?a.flags|=16384:(s=a.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([u])},a.updateQueue=s):(a=s.retryQueue,a===null?s.retryQueue=new Set([u]):a.add(u)),Zu(n,u,p)),!1}throw Error(r(435,a.tag))}return Zu(n,u,p),go(),!1}if(Ie)return s=Kt.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=p,u!==Jl&&(n=Error(r(422),{cause:u}),Ir(un(n,a)))):(u!==Jl&&(s=Error(r(423),{cause:u}),Ir(un(s,a))),n=n.current.alternate,n.flags|=65536,p&=-p,n.lanes|=p,u=un(u,a),p=Nu(n.stateNode,u,p),su(n,p),et!==4&&(et=2)),!1;var y=Error(r(520),{cause:u});if(y=un(y,a),Xr===null?Xr=[y]:Xr.push(y),et!==4&&(et=2),s===null)return!0;u=un(u,a),a=s;do{switch(a.tag){case 3:return a.flags|=65536,n=p&-p,a.lanes|=n,n=Nu(a.stateNode,u,n),su(a,n),!1;case 1:if(s=a.type,y=a.stateNode,(a.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(_i===null||!_i.has(y))))return a.flags|=65536,p&=-p,a.lanes|=p,p=Oh(p),Gh(p,n,a,u),su(a,p),!1}a=a.return}while(a!==null);return!1}var Ru=Error(r(461)),ct=!1;function Tt(n,s,a,u){s.child=n===null?qf(s,null,a,u):Qi(s,n.child,a,u)}function jh(n,s,a,u,p){a=a.render;var y=s.ref;if("ref"in u){var w={};for(var E in u)E!=="ref"&&(w[E]=u[E])}else w=u;return Ki(s),u=cu(n,s,a,w,y,p),E=du(),n!==null&&!ct?(fu(n,s,p),zn(n,s,p)):(Ie&&E&&Fl(s),s.flags|=1,Tt(n,s,u,p),s.child)}function Bh(n,s,a,u,p){if(n===null){var y=a.type;return typeof y=="function"&&!ql(y)&&y.defaultProps===void 0&&a.compare===null?(s.tag=15,s.type=y,Hh(n,s,y,u,p)):(n=Ga(a.type,null,u,s,s.mode,p),n.ref=s.ref,n.return=s,s.child=n)}if(y=n.child,!Ou(n,p)){var w=y.memoizedProps;if(a=a.compare,a=a!==null?a:Nr,a(w,u)&&n.ref===s.ref)return zn(n,s,p)}return s.flags|=1,n=Gn(y,u),n.ref=s.ref,n.return=s,s.child=n}function Hh(n,s,a,u,p){if(n!==null){var y=n.memoizedProps;if(Nr(y,u)&&n.ref===s.ref)if(ct=!1,s.pendingProps=u=y,Ou(n,p))(n.flags&131072)!==0&&(ct=!0);else return s.lanes=n.lanes,zn(n,s,p)}return ku(n,s,a,u,p)}function qh(n,s,a,u){var p=u.children,y=n!==null?n.memoizedState:null;if(n===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.mode==="hidden"){if((s.flags&128)!==0){if(y=y!==null?y.baseLanes|a:a,n!==null){for(u=s.child=n.child,p=0;u!==null;)p=p|u.lanes|u.childLanes,u=u.sibling;u=p&~y}else u=0,s.child=null;return Vh(n,s,y,a,u)}if((a&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},n!==null&&qa(s,y!==null?y.cachePool:null),y!==null?Ff(s,y):au(),$f(s);else return u=s.lanes=536870912,Vh(n,s,y!==null?y.baseLanes|a:a,a,u)}else y!==null?(qa(s,y.cachePool),Ff(s,y),vi(),s.memoizedState=null):(n!==null&&qa(s,null),au(),vi());return Tt(n,s,p,a),s.child}function Vr(n,s){return n!==null&&n.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function Vh(n,s,a,u,p){var y=eu();return y=y===null?null:{parent:lt._currentValue,pool:y},s.memoizedState={baseLanes:a,cachePool:y},n!==null&&qa(s,null),au(),$f(s),n!==null&&ks(n,s,u,!0),s.childLanes=p,null}function so(n,s){return s=ao({mode:s.mode,children:s.children},n.mode),s.ref=n.ref,n.child=s,s.return=n,s}function zh(n,s,a){return Qi(s,n.child,null,a),n=so(s,s.pendingProps),n.flags|=2,Yt(s),s.memoizedState=null,n}function dx(n,s,a){var u=s.pendingProps,p=(s.flags&128)!==0;if(s.flags&=-129,n===null){if(Ie){if(u.mode==="hidden")return n=so(s,u),s.lanes=536870912,Vr(null,n);if(lu(s),(n=Ye)?(n=nm(n,fn),n=n!==null&&n.data==="&"?n:null,n!==null&&(s.memoizedState={dehydrated:n,treeContext:ui!==null?{id:kn,overflow:In}:null,retryLane:536870912,hydrationErrors:null},a=Cf(n),a.return=s,s.child=a,St=s,Ye=null)):n=null,n===null)throw di(s);return s.lanes=536870912,null}return so(s,u)}var y=n.memoizedState;if(y!==null){var w=y.dehydrated;if(lu(s),p)if(s.flags&256)s.flags&=-257,s=zh(n,s,a);else if(s.memoizedState!==null)s.child=n.child,s.flags|=128,s=null;else throw Error(r(558));else if(ct||ks(n,s,a,!1),p=(a&n.childLanes)!==0,ct||p){if(u=ze,u!==null&&(w=Md(u,a),w!==0&&w!==y.retryLane))throw y.retryLane=w,zi(n,w),zt(u,n,w),Ru;go(),s=zh(n,s,a)}else n=y.treeContext,Ye=pn(w.nextSibling),St=s,Ie=!0,ci=null,fn=!1,n!==null&&kf(s,n),s=so(s,u),s.flags|=4096;return s}return n=Gn(n.child,{mode:u.mode,children:u.children}),n.ref=s.ref,s.child=n,n.return=s,n}function ro(n,s){var a=s.ref;if(a===null)n!==null&&n.ref!==null&&(s.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(n===null||n.ref!==a)&&(s.flags|=4194816)}}function ku(n,s,a,u,p){return Ki(s),a=cu(n,s,a,u,void 0,p),u=du(),n!==null&&!ct?(fu(n,s,p),zn(n,s,p)):(Ie&&u&&Fl(s),s.flags|=1,Tt(n,s,a,p),s.child)}function Fh(n,s,a,u,p,y){return Ki(s),s.updateQueue=null,a=Kf(s,u,a,p),Jf(n),u=du(),n!==null&&!ct?(fu(n,s,y),zn(n,s,y)):(Ie&&u&&Fl(s),s.flags|=1,Tt(n,s,a,y),s.child)}function $h(n,s,a,u,p){if(Ki(s),s.stateNode===null){var y=As,w=a.contextType;typeof w=="object"&&w!==null&&(y=Et(w)),y=new a(u,y),s.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=Cu,s.stateNode=y,y._reactInternals=s,y=s.stateNode,y.props=u,y.state=s.memoizedState,y.refs={},nu(s),w=a.contextType,y.context=typeof w=="object"&&w!==null?Et(w):As,y.state=s.memoizedState,w=a.getDerivedStateFromProps,typeof w=="function"&&(Au(s,a,w,u),y.state=s.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(w=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),w!==y.state&&Cu.enqueueReplaceState(y,y.state,null),Gr(s,u,y,p),Or(),y.state=s.memoizedState),typeof y.componentDidMount=="function"&&(s.flags|=4194308),u=!0}else if(n===null){y=s.stateNode;var E=s.memoizedProps,A=es(a,E);y.props=A;var P=y.context,q=a.contextType;w=As,typeof q=="object"&&q!==null&&(w=Et(q));var $=a.getDerivedStateFromProps;q=typeof $=="function"||typeof y.getSnapshotBeforeUpdate=="function",E=s.pendingProps!==E,q||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(E||P!==w)&&Dh(s,y,u,w),hi=!1;var L=s.memoizedState;y.state=L,Gr(s,u,y,p),Or(),P=s.memoizedState,E||L!==P||hi?(typeof $=="function"&&(Au(s,a,$,u),P=s.memoizedState),(A=hi||Ih(s,a,A,u,L,P,w))?(q||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(s.flags|=4194308)):(typeof y.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=u,s.memoizedState=P),y.props=u,y.state=P,y.context=w,u=A):(typeof y.componentDidMount=="function"&&(s.flags|=4194308),u=!1)}else{y=s.stateNode,iu(n,s),w=s.memoizedProps,q=es(a,w),y.props=q,$=s.pendingProps,L=y.context,P=a.contextType,A=As,typeof P=="object"&&P!==null&&(A=Et(P)),E=a.getDerivedStateFromProps,(P=typeof E=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(w!==$||L!==A)&&Dh(s,y,u,A),hi=!1,L=s.memoizedState,y.state=L,Gr(s,u,y,p),Or();var G=s.memoizedState;w!==$||L!==G||hi||n!==null&&n.dependencies!==null&&Ba(n.dependencies)?(typeof E=="function"&&(Au(s,a,E,u),G=s.memoizedState),(q=hi||Ih(s,a,q,u,L,G,A)||n!==null&&n.dependencies!==null&&Ba(n.dependencies))?(P||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(u,G,A),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(u,G,A)),typeof y.componentDidUpdate=="function"&&(s.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof y.componentDidUpdate!="function"||w===n.memoizedProps&&L===n.memoizedState||(s.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||w===n.memoizedProps&&L===n.memoizedState||(s.flags|=1024),s.memoizedProps=u,s.memoizedState=G),y.props=u,y.state=G,y.context=A,u=q):(typeof y.componentDidUpdate!="function"||w===n.memoizedProps&&L===n.memoizedState||(s.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||w===n.memoizedProps&&L===n.memoizedState||(s.flags|=1024),u=!1)}return y=u,ro(n,s),u=(s.flags&128)!==0,y||u?(y=s.stateNode,a=u&&typeof a.getDerivedStateFromError!="function"?null:y.render(),s.flags|=1,n!==null&&u?(s.child=Qi(s,n.child,null,p),s.child=Qi(s,null,a,p)):Tt(n,s,a,p),s.memoizedState=y.state,n=s.child):n=zn(n,s,p),n}function Jh(n,s,a,u){return $i(),s.flags|=256,Tt(n,s,a,u),s.child}var Iu={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Du(n){return{baseLanes:n,cachePool:Lf()}}function Mu(n,s,a){return n=n!==null?n.childLanes&~a:0,s&&(n|=Wt),n}function Kh(n,s,a){var u=s.pendingProps,p=!1,y=(s.flags&128)!==0,w;if((w=y)||(w=n!==null&&n.memoizedState===null?!1:(st.current&2)!==0),w&&(p=!0,s.flags&=-129),w=(s.flags&32)!==0,s.flags&=-33,n===null){if(Ie){if(p?gi(s):vi(),(n=Ye)?(n=nm(n,fn),n=n!==null&&n.data!=="&"?n:null,n!==null&&(s.memoizedState={dehydrated:n,treeContext:ui!==null?{id:kn,overflow:In}:null,retryLane:536870912,hydrationErrors:null},a=Cf(n),a.return=s,s.child=a,St=s,Ye=null)):n=null,n===null)throw di(s);return mc(n)?s.lanes=32:s.lanes=536870912,null}var E=u.children;return u=u.fallback,p?(vi(),p=s.mode,E=ao({mode:"hidden",children:E},p),u=Fi(u,p,a,null),E.return=s,u.return=s,E.sibling=u,s.child=E,u=s.child,u.memoizedState=Du(a),u.childLanes=Mu(n,w,a),s.memoizedState=Iu,Vr(null,u)):(gi(s),Uu(s,E))}var A=n.memoizedState;if(A!==null&&(E=A.dehydrated,E!==null)){if(y)s.flags&256?(gi(s),s.flags&=-257,s=Pu(n,s,a)):s.memoizedState!==null?(vi(),s.child=n.child,s.flags|=128,s=null):(vi(),E=u.fallback,p=s.mode,u=ao({mode:"visible",children:u.children},p),E=Fi(E,p,a,null),E.flags|=2,u.return=s,E.return=s,u.sibling=E,s.child=u,Qi(s,n.child,null,a),u=s.child,u.memoizedState=Du(a),u.childLanes=Mu(n,w,a),s.memoizedState=Iu,s=Vr(null,u));else if(gi(s),mc(E)){if(w=E.nextSibling&&E.nextSibling.dataset,w)var P=w.dgst;w=P,u=Error(r(419)),u.stack="",u.digest=w,Ir({value:u,source:null,stack:null}),s=Pu(n,s,a)}else if(ct||ks(n,s,a,!1),w=(a&n.childLanes)!==0,ct||w){if(w=ze,w!==null&&(u=Md(w,a),u!==0&&u!==A.retryLane))throw A.retryLane=u,zi(n,u),zt(w,n,u),Ru;pc(E)||go(),s=Pu(n,s,a)}else pc(E)?(s.flags|=192,s.child=n.child,s=null):(n=A.treeContext,Ye=pn(E.nextSibling),St=s,Ie=!0,ci=null,fn=!1,n!==null&&kf(s,n),s=Uu(s,u.children),s.flags|=4096);return s}return p?(vi(),E=u.fallback,p=s.mode,A=n.child,P=A.sibling,u=Gn(A,{mode:"hidden",children:u.children}),u.subtreeFlags=A.subtreeFlags&65011712,P!==null?E=Gn(P,E):(E=Fi(E,p,a,null),E.flags|=2),E.return=s,u.return=s,u.sibling=E,s.child=u,Vr(null,u),u=s.child,E=n.child.memoizedState,E===null?E=Du(a):(p=E.cachePool,p!==null?(A=lt._currentValue,p=p.parent!==A?{parent:A,pool:A}:p):p=Lf(),E={baseLanes:E.baseLanes|a,cachePool:p}),u.memoizedState=E,u.childLanes=Mu(n,w,a),s.memoizedState=Iu,Vr(n.child,u)):(gi(s),a=n.child,n=a.sibling,a=Gn(a,{mode:"visible",children:u.children}),a.return=s,a.sibling=null,n!==null&&(w=s.deletions,w===null?(s.deletions=[n],s.flags|=16):w.push(n)),s.child=a,s.memoizedState=null,a)}function Uu(n,s){return s=ao({mode:"visible",children:s},n.mode),s.return=n,n.child=s}function ao(n,s){return n=Jt(22,n,null,s),n.lanes=0,n}function Pu(n,s,a){return Qi(s,n.child,null,a),n=Uu(s,s.pendingProps.children),n.flags|=2,s.memoizedState=null,n}function Yh(n,s,a){n.lanes|=s;var u=n.alternate;u!==null&&(u.lanes|=s),Xl(n.return,s,a)}function Lu(n,s,a,u,p,y){var w=n.memoizedState;w===null?n.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:u,tail:a,tailMode:p,treeForkCount:y}:(w.isBackwards=s,w.rendering=null,w.renderingStartTime=0,w.last=u,w.tail=a,w.tailMode=p,w.treeForkCount=y)}function Xh(n,s,a){var u=s.pendingProps,p=u.revealOrder,y=u.tail;u=u.children;var w=st.current,E=(w&2)!==0;if(E?(w=w&1|2,s.flags|=128):w&=1,W(st,w),Tt(n,s,u,a),u=Ie?kr:0,!E&&n!==null&&(n.flags&128)!==0)e:for(n=s.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&Yh(n,a,s);else if(n.tag===19)Yh(n,a,s);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===s)break e;for(;n.sibling===null;){if(n.return===null||n.return===s)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}switch(p){case"forwards":for(a=s.child,p=null;a!==null;)n=a.alternate,n!==null&&Ka(n)===null&&(p=a),a=a.sibling;a=p,a===null?(p=s.child,s.child=null):(p=a.sibling,a.sibling=null),Lu(s,!1,p,a,y,u);break;case"backwards":case"unstable_legacy-backwards":for(a=null,p=s.child,s.child=null;p!==null;){if(n=p.alternate,n!==null&&Ka(n)===null){s.child=p;break}n=p.sibling,p.sibling=a,a=p,p=n}Lu(s,!0,a,null,y,u);break;case"together":Lu(s,!1,null,null,void 0,u);break;default:s.memoizedState=null}return s.child}function zn(n,s,a){if(n!==null&&(s.dependencies=n.dependencies),bi|=s.lanes,(a&s.childLanes)===0)if(n!==null){if(ks(n,s,a,!1),(a&s.childLanes)===0)return null}else return null;if(n!==null&&s.child!==n.child)throw Error(r(153));if(s.child!==null){for(n=s.child,a=Gn(n,n.pendingProps),s.child=a,a.return=s;n.sibling!==null;)n=n.sibling,a=a.sibling=Gn(n,n.pendingProps),a.return=s;a.sibling=null}return s.child}function Ou(n,s){return(n.lanes&s)!==0?!0:(n=n.dependencies,!!(n!==null&&Ba(n)))}function fx(n,s,a){switch(s.tag){case 3:Ke(s,s.stateNode.containerInfo),fi(s,lt,n.memoizedState.cache),$i();break;case 27:case 5:Ft(s);break;case 4:Ke(s,s.stateNode.containerInfo);break;case 10:fi(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,lu(s),null;break;case 13:var u=s.memoizedState;if(u!==null)return u.dehydrated!==null?(gi(s),s.flags|=128,null):(a&s.child.childLanes)!==0?Kh(n,s,a):(gi(s),n=zn(n,s,a),n!==null?n.sibling:null);gi(s);break;case 19:var p=(n.flags&128)!==0;if(u=(a&s.childLanes)!==0,u||(ks(n,s,a,!1),u=(a&s.childLanes)!==0),p){if(u)return Xh(n,s,a);s.flags|=128}if(p=s.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),W(st,st.current),u)break;return null;case 22:return s.lanes=0,qh(n,s,a,s.pendingProps);case 24:fi(s,lt,n.memoizedState.cache)}return zn(n,s,a)}function Wh(n,s,a){if(n!==null)if(n.memoizedProps!==s.pendingProps)ct=!0;else{if(!Ou(n,a)&&(s.flags&128)===0)return ct=!1,fx(n,s,a);ct=(n.flags&131072)!==0}else ct=!1,Ie&&(s.flags&1048576)!==0&&Rf(s,kr,s.index);switch(s.lanes=0,s.tag){case 16:e:{var u=s.pendingProps;if(n=Xi(s.elementType),s.type=n,typeof n=="function")ql(n)?(u=es(n,u),s.tag=1,s=$h(null,s,n,u,a)):(s.tag=0,s=ku(null,s,n,u,a));else{if(n!=null){var p=n.$$typeof;if(p===J){s.tag=11,s=jh(null,s,n,u,a);break e}else if(p===H){s.tag=14,s=Bh(null,s,n,u,a);break e}}throw s=Le(n)||n,Error(r(306,s,""))}}return s;case 0:return ku(n,s,s.type,s.pendingProps,a);case 1:return u=s.type,p=es(u,s.pendingProps),$h(n,s,u,p,a);case 3:e:{if(Ke(s,s.stateNode.containerInfo),n===null)throw Error(r(387));u=s.pendingProps;var y=s.memoizedState;p=y.element,iu(n,s),Gr(s,u,null,a);var w=s.memoizedState;if(u=w.cache,fi(s,lt,u),u!==y.cache&&Wl(s,[lt],a,!0),Or(),u=w.element,y.isDehydrated)if(y={element:u,isDehydrated:!1,cache:w.cache},s.updateQueue.baseState=y,s.memoizedState=y,s.flags&256){s=Jh(n,s,u,a);break e}else if(u!==p){p=un(Error(r(424)),s),Ir(p),s=Jh(n,s,u,a);break e}else{switch(n=s.stateNode.containerInfo,n.nodeType){case 9:n=n.body;break;default:n=n.nodeName==="HTML"?n.ownerDocument.body:n}for(Ye=pn(n.firstChild),St=s,Ie=!0,ci=null,fn=!0,a=qf(s,null,u,a),s.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if($i(),u===p){s=zn(n,s,a);break e}Tt(n,s,u,a)}s=s.child}return s;case 26:return ro(n,s),n===null?(a=lm(s.type,null,s.pendingProps,null))?s.memoizedState=a:Ie||(a=s.type,n=s.pendingProps,u=So(xe.current).createElement(a),u[wt]=s,u[Gt]=n,At(u,a,n),xt(u),s.stateNode=u):s.memoizedState=lm(s.type,n.memoizedProps,s.pendingProps,n.memoizedState),null;case 27:return Ft(s),n===null&&Ie&&(u=s.stateNode=rm(s.type,s.pendingProps,xe.current),St=s,fn=!0,p=Ye,Ti(s.type)?(gc=p,Ye=pn(u.firstChild)):Ye=p),Tt(n,s,s.pendingProps.children,a),ro(n,s),n===null&&(s.flags|=4194304),s.child;case 5:return n===null&&Ie&&((p=u=Ye)&&(u=qx(u,s.type,s.pendingProps,fn),u!==null?(s.stateNode=u,St=s,Ye=pn(u.firstChild),fn=!1,p=!0):p=!1),p||di(s)),Ft(s),p=s.type,y=s.pendingProps,w=n!==null?n.memoizedProps:null,u=y.children,dc(p,y)?u=null:w!==null&&dc(p,w)&&(s.flags|=32),s.memoizedState!==null&&(p=cu(n,s,ix,null,null,a),sa._currentValue=p),ro(n,s),Tt(n,s,u,a),s.child;case 6:return n===null&&Ie&&((n=a=Ye)&&(a=Vx(a,s.pendingProps,fn),a!==null?(s.stateNode=a,St=s,Ye=null,n=!0):n=!1),n||di(s)),null;case 13:return Kh(n,s,a);case 4:return Ke(s,s.stateNode.containerInfo),u=s.pendingProps,n===null?s.child=Qi(s,null,u,a):Tt(n,s,u,a),s.child;case 11:return jh(n,s,s.type,s.pendingProps,a);case 7:return Tt(n,s,s.pendingProps,a),s.child;case 8:return Tt(n,s,s.pendingProps.children,a),s.child;case 12:return Tt(n,s,s.pendingProps.children,a),s.child;case 10:return u=s.pendingProps,fi(s,s.type,u.value),Tt(n,s,u.children,a),s.child;case 9:return p=s.type._context,u=s.pendingProps.children,Ki(s),p=Et(p),u=u(p),s.flags|=1,Tt(n,s,u,a),s.child;case 14:return Bh(n,s,s.type,s.pendingProps,a);case 15:return Hh(n,s,s.type,s.pendingProps,a);case 19:return Xh(n,s,a);case 31:return dx(n,s,a);case 22:return qh(n,s,a,s.pendingProps);case 24:return Ki(s),u=Et(lt),n===null?(p=eu(),p===null&&(p=ze,y=Ql(),p.pooledCache=y,y.refCount++,y!==null&&(p.pooledCacheLanes|=a),p=y),s.memoizedState={parent:u,cache:p},nu(s),fi(s,lt,p)):((n.lanes&a)!==0&&(iu(n,s),Gr(s,null,null,a),Or()),p=n.memoizedState,y=s.memoizedState,p.parent!==u?(p={parent:u,cache:u},s.memoizedState=p,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=p),fi(s,lt,u)):(u=y.cache,fi(s,lt,u),u!==p.cache&&Wl(s,[lt],a,!0))),Tt(n,s,s.pendingProps.children,a),s.child;case 29:throw s.pendingProps}throw Error(r(156,s.tag))}function Fn(n){n.flags|=4}function Gu(n,s,a,u,p){if((s=(n.mode&32)!==0)&&(s=!1),s){if(n.flags|=16777216,(p&335544128)===p)if(n.stateNode.complete)n.flags|=8192;else if(Ep())n.flags|=8192;else throw Wi=za,tu}else n.flags&=-16777217}function Qh(n,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!hm(s))if(Ep())n.flags|=8192;else throw Wi=za,tu}function oo(n,s){s!==null&&(n.flags|=4),n.flags&16384&&(s=n.tag!==22?kd():536870912,n.lanes|=s,qs|=s)}function zr(n,s){if(!Ie)switch(n.tailMode){case"hidden":s=n.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?n.tail=null:a.sibling=null;break;case"collapsed":a=n.tail;for(var u=null;a!==null;)a.alternate!==null&&(u=a),a=a.sibling;u===null?s||n.tail===null?n.tail=null:n.tail.sibling=null:u.sibling=null}}function Xe(n){var s=n.alternate!==null&&n.alternate.child===n.child,a=0,u=0;if(s)for(var p=n.child;p!==null;)a|=p.lanes|p.childLanes,u|=p.subtreeFlags&65011712,u|=p.flags&65011712,p.return=n,p=p.sibling;else for(p=n.child;p!==null;)a|=p.lanes|p.childLanes,u|=p.subtreeFlags,u|=p.flags,p.return=n,p=p.sibling;return n.subtreeFlags|=u,n.childLanes=a,s}function hx(n,s,a){var u=s.pendingProps;switch($l(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Xe(s),null;case 1:return Xe(s),null;case 3:return a=s.stateNode,u=null,n!==null&&(u=n.memoizedState.cache),s.memoizedState.cache!==u&&(s.flags|=2048),Hn(lt),Be(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(n===null||n.child===null)&&(Rs(s)?Fn(s):n===null||n.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Kl())),Xe(s),null;case 26:var p=s.type,y=s.memoizedState;return n===null?(Fn(s),y!==null?(Xe(s),Qh(s,y)):(Xe(s),Gu(s,p,null,u,a))):y?y!==n.memoizedState?(Fn(s),Xe(s),Qh(s,y)):(Xe(s),s.flags&=-16777217):(n=n.memoizedProps,n!==u&&Fn(s),Xe(s),Gu(s,p,n,u,a)),null;case 27:if(Rt(s),a=xe.current,p=s.type,n!==null&&s.stateNode!=null)n.memoizedProps!==u&&Fn(s);else{if(!u){if(s.stateNode===null)throw Error(r(166));return Xe(s),null}n=te.current,Rs(s)?If(s):(n=rm(p,u,a),s.stateNode=n,Fn(s))}return Xe(s),null;case 5:if(Rt(s),p=s.type,n!==null&&s.stateNode!=null)n.memoizedProps!==u&&Fn(s);else{if(!u){if(s.stateNode===null)throw Error(r(166));return Xe(s),null}if(y=te.current,Rs(s))If(s);else{var w=So(xe.current);switch(y){case 1:y=w.createElementNS("http://www.w3.org/2000/svg",p);break;case 2:y=w.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;default:switch(p){case"svg":y=w.createElementNS("http://www.w3.org/2000/svg",p);break;case"math":y=w.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;case"script":y=w.createElement("div"),y.innerHTML="<script><\/script>",y=y.removeChild(y.firstChild);break;case"select":y=typeof u.is=="string"?w.createElement("select",{is:u.is}):w.createElement("select"),u.multiple?y.multiple=!0:u.size&&(y.size=u.size);break;default:y=typeof u.is=="string"?w.createElement(p,{is:u.is}):w.createElement(p)}}y[wt]=s,y[Gt]=u;e:for(w=s.child;w!==null;){if(w.tag===5||w.tag===6)y.appendChild(w.stateNode);else if(w.tag!==4&&w.tag!==27&&w.child!==null){w.child.return=w,w=w.child;continue}if(w===s)break e;for(;w.sibling===null;){if(w.return===null||w.return===s)break e;w=w.return}w.sibling.return=w.return,w=w.sibling}s.stateNode=y;e:switch(At(y,p,u),p){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}u&&Fn(s)}}return Xe(s),Gu(s,s.type,n===null?null:n.memoizedProps,s.pendingProps,a),null;case 6:if(n&&s.stateNode!=null)n.memoizedProps!==u&&Fn(s);else{if(typeof u!="string"&&s.stateNode===null)throw Error(r(166));if(n=xe.current,Rs(s)){if(n=s.stateNode,a=s.memoizedProps,u=null,p=St,p!==null)switch(p.tag){case 27:case 5:u=p.memoizedProps}n[wt]=s,n=!!(n.nodeValue===a||u!==null&&u.suppressHydrationWarning===!0||Kp(n.nodeValue,a)),n||di(s,!0)}else n=So(n).createTextNode(u),n[wt]=s,s.stateNode=n}return Xe(s),null;case 31:if(a=s.memoizedState,n===null||n.memoizedState!==null){if(u=Rs(s),a!==null){if(n===null){if(!u)throw Error(r(318));if(n=s.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(r(557));n[wt]=s}else $i(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Xe(s),n=!1}else a=Kl(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=a),n=!0;if(!n)return s.flags&256?(Yt(s),s):(Yt(s),null);if((s.flags&128)!==0)throw Error(r(558))}return Xe(s),null;case 13:if(u=s.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(p=Rs(s),u!==null&&u.dehydrated!==null){if(n===null){if(!p)throw Error(r(318));if(p=s.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(r(317));p[wt]=s}else $i(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Xe(s),p=!1}else p=Kl(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=p),p=!0;if(!p)return s.flags&256?(Yt(s),s):(Yt(s),null)}return Yt(s),(s.flags&128)!==0?(s.lanes=a,s):(a=u!==null,n=n!==null&&n.memoizedState!==null,a&&(u=s.child,p=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(p=u.alternate.memoizedState.cachePool.pool),y=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(y=u.memoizedState.cachePool.pool),y!==p&&(u.flags|=2048)),a!==n&&a&&(s.child.flags|=8192),oo(s,s.updateQueue),Xe(s),null);case 4:return Be(),n===null&&ac(s.stateNode.containerInfo),Xe(s),null;case 10:return Hn(s.type),Xe(s),null;case 19:if(z(st),u=s.memoizedState,u===null)return Xe(s),null;if(p=(s.flags&128)!==0,y=u.rendering,y===null)if(p)zr(u,!1);else{if(et!==0||n!==null&&(n.flags&128)!==0)for(n=s.child;n!==null;){if(y=Ka(n),y!==null){for(s.flags|=128,zr(u,!1),n=y.updateQueue,s.updateQueue=n,oo(s,n),s.subtreeFlags=0,n=a,a=s.child;a!==null;)Af(a,n),a=a.sibling;return W(st,st.current&1|2),Ie&&jn(s,u.treeForkCount),s.child}n=n.sibling}u.tail!==null&&V()>ho&&(s.flags|=128,p=!0,zr(u,!1),s.lanes=4194304)}else{if(!p)if(n=Ka(y),n!==null){if(s.flags|=128,p=!0,n=n.updateQueue,s.updateQueue=n,oo(s,n),zr(u,!0),u.tail===null&&u.tailMode==="hidden"&&!y.alternate&&!Ie)return Xe(s),null}else 2*V()-u.renderingStartTime>ho&&a!==536870912&&(s.flags|=128,p=!0,zr(u,!1),s.lanes=4194304);u.isBackwards?(y.sibling=s.child,s.child=y):(n=u.last,n!==null?n.sibling=y:s.child=y,u.last=y)}return u.tail!==null?(n=u.tail,u.rendering=n,u.tail=n.sibling,u.renderingStartTime=V(),n.sibling=null,a=st.current,W(st,p?a&1|2:a&1),Ie&&jn(s,u.treeForkCount),n):(Xe(s),null);case 22:case 23:return Yt(s),ou(),u=s.memoizedState!==null,n!==null?n.memoizedState!==null!==u&&(s.flags|=8192):u&&(s.flags|=8192),u?(a&536870912)!==0&&(s.flags&128)===0&&(Xe(s),s.subtreeFlags&6&&(s.flags|=8192)):Xe(s),a=s.updateQueue,a!==null&&oo(s,a.retryQueue),a=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),u=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(u=s.memoizedState.cachePool.pool),u!==a&&(s.flags|=2048),n!==null&&z(Yi),null;case 24:return a=null,n!==null&&(a=n.memoizedState.cache),s.memoizedState.cache!==a&&(s.flags|=2048),Hn(lt),Xe(s),null;case 25:return null;case 30:return null}throw Error(r(156,s.tag))}function px(n,s){switch($l(s),s.tag){case 1:return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 3:return Hn(lt),Be(),n=s.flags,(n&65536)!==0&&(n&128)===0?(s.flags=n&-65537|128,s):null;case 26:case 27:case 5:return Rt(s),null;case 31:if(s.memoizedState!==null){if(Yt(s),s.alternate===null)throw Error(r(340));$i()}return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 13:if(Yt(s),n=s.memoizedState,n!==null&&n.dehydrated!==null){if(s.alternate===null)throw Error(r(340));$i()}return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 19:return z(st),null;case 4:return Be(),null;case 10:return Hn(s.type),null;case 22:case 23:return Yt(s),ou(),n!==null&&z(Yi),n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 24:return Hn(lt),null;case 25:return null;default:return null}}function Zh(n,s){switch($l(s),s.tag){case 3:Hn(lt),Be();break;case 26:case 27:case 5:Rt(s);break;case 4:Be();break;case 31:s.memoizedState!==null&&Yt(s);break;case 13:Yt(s);break;case 19:z(st);break;case 10:Hn(s.type);break;case 22:case 23:Yt(s),ou(),n!==null&&z(Yi);break;case 24:Hn(lt)}}function Fr(n,s){try{var a=s.updateQueue,u=a!==null?a.lastEffect:null;if(u!==null){var p=u.next;a=p;do{if((a.tag&n)===n){u=void 0;var y=a.create,w=a.inst;u=y(),w.destroy=u}a=a.next}while(a!==p)}}catch(E){je(s,s.return,E)}}function yi(n,s,a){try{var u=s.updateQueue,p=u!==null?u.lastEffect:null;if(p!==null){var y=p.next;u=y;do{if((u.tag&n)===n){var w=u.inst,E=w.destroy;if(E!==void 0){w.destroy=void 0,p=s;var A=a,P=E;try{P()}catch(q){je(p,A,q)}}}u=u.next}while(u!==y)}}catch(q){je(s,s.return,q)}}function ep(n){var s=n.updateQueue;if(s!==null){var a=n.stateNode;try{zf(s,a)}catch(u){je(n,n.return,u)}}}function tp(n,s,a){a.props=es(n.type,n.memoizedProps),a.state=n.memoizedState;try{a.componentWillUnmount()}catch(u){je(n,s,u)}}function $r(n,s){try{var a=n.ref;if(a!==null){switch(n.tag){case 26:case 27:case 5:var u=n.stateNode;break;case 30:u=n.stateNode;break;default:u=n.stateNode}typeof a=="function"?n.refCleanup=a(u):a.current=u}}catch(p){je(n,s,p)}}function Dn(n,s){var a=n.ref,u=n.refCleanup;if(a!==null)if(typeof u=="function")try{u()}catch(p){je(n,s,p)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(p){je(n,s,p)}else a.current=null}function np(n){var s=n.type,a=n.memoizedProps,u=n.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":a.autoFocus&&u.focus();break e;case"img":a.src?u.src=a.src:a.srcSet&&(u.srcset=a.srcSet)}}catch(p){je(n,n.return,p)}}function ju(n,s,a){try{var u=n.stateNode;Lx(u,n.type,a,s),u[Gt]=s}catch(p){je(n,n.return,p)}}function ip(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&Ti(n.type)||n.tag===4}function Bu(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||ip(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&Ti(n.type)||n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Hu(n,s,a){var u=n.tag;if(u===5||u===6)n=n.stateNode,s?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(n,s):(s=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,s.appendChild(n),a=a._reactRootContainer,a!=null||s.onclick!==null||(s.onclick=Ln));else if(u!==4&&(u===27&&Ti(n.type)&&(a=n.stateNode,s=null),n=n.child,n!==null))for(Hu(n,s,a),n=n.sibling;n!==null;)Hu(n,s,a),n=n.sibling}function lo(n,s,a){var u=n.tag;if(u===5||u===6)n=n.stateNode,s?a.insertBefore(n,s):a.appendChild(n);else if(u!==4&&(u===27&&Ti(n.type)&&(a=n.stateNode),n=n.child,n!==null))for(lo(n,s,a),n=n.sibling;n!==null;)lo(n,s,a),n=n.sibling}function sp(n){var s=n.stateNode,a=n.memoizedProps;try{for(var u=n.type,p=s.attributes;p.length;)s.removeAttributeNode(p[0]);At(s,u,a),s[wt]=n,s[Gt]=a}catch(y){je(n,n.return,y)}}var $n=!1,dt=!1,qu=!1,rp=typeof WeakSet=="function"?WeakSet:Set,bt=null;function mx(n,s){if(n=n.containerInfo,uc=ko,n=vf(n),Pl(n)){if("selectionStart"in n)var a={start:n.selectionStart,end:n.selectionEnd};else e:{a=(a=n.ownerDocument)&&a.defaultView||window;var u=a.getSelection&&a.getSelection();if(u&&u.rangeCount!==0){a=u.anchorNode;var p=u.anchorOffset,y=u.focusNode;u=u.focusOffset;try{a.nodeType,y.nodeType}catch{a=null;break e}var w=0,E=-1,A=-1,P=0,q=0,$=n,L=null;t:for(;;){for(var G;$!==a||p!==0&&$.nodeType!==3||(E=w+p),$!==y||u!==0&&$.nodeType!==3||(A=w+u),$.nodeType===3&&(w+=$.nodeValue.length),(G=$.firstChild)!==null;)L=$,$=G;for(;;){if($===n)break t;if(L===a&&++P===p&&(E=w),L===y&&++q===u&&(A=w),(G=$.nextSibling)!==null)break;$=L,L=$.parentNode}$=G}a=E===-1||A===-1?null:{start:E,end:A}}else a=null}a=a||{start:0,end:0}}else a=null;for(cc={focusedElem:n,selectionRange:a},ko=!1,bt=s;bt!==null;)if(s=bt,n=s.child,(s.subtreeFlags&1028)!==0&&n!==null)n.return=s,bt=n;else for(;bt!==null;){switch(s=bt,y=s.alternate,n=s.flags,s.tag){case 0:if((n&4)!==0&&(n=s.updateQueue,n=n!==null?n.events:null,n!==null))for(a=0;a<n.length;a++)p=n[a],p.ref.impl=p.nextImpl;break;case 11:case 15:break;case 1:if((n&1024)!==0&&y!==null){n=void 0,a=s,p=y.memoizedProps,y=y.memoizedState,u=a.stateNode;try{var se=es(a.type,p);n=u.getSnapshotBeforeUpdate(se,y),u.__reactInternalSnapshotBeforeUpdate=n}catch(fe){je(a,a.return,fe)}}break;case 3:if((n&1024)!==0){if(n=s.stateNode.containerInfo,a=n.nodeType,a===9)hc(n);else if(a===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":hc(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(r(163))}if(n=s.sibling,n!==null){n.return=s.return,bt=n;break}bt=s.return}}function ap(n,s,a){var u=a.flags;switch(a.tag){case 0:case 11:case 15:Kn(n,a),u&4&&Fr(5,a);break;case 1:if(Kn(n,a),u&4)if(n=a.stateNode,s===null)try{n.componentDidMount()}catch(w){je(a,a.return,w)}else{var p=es(a.type,s.memoizedProps);s=s.memoizedState;try{n.componentDidUpdate(p,s,n.__reactInternalSnapshotBeforeUpdate)}catch(w){je(a,a.return,w)}}u&64&&ep(a),u&512&&$r(a,a.return);break;case 3:if(Kn(n,a),u&64&&(n=a.updateQueue,n!==null)){if(s=null,a.child!==null)switch(a.child.tag){case 27:case 5:s=a.child.stateNode;break;case 1:s=a.child.stateNode}try{zf(n,s)}catch(w){je(a,a.return,w)}}break;case 27:s===null&&u&4&&sp(a);case 26:case 5:Kn(n,a),s===null&&u&4&&np(a),u&512&&$r(a,a.return);break;case 12:Kn(n,a);break;case 31:Kn(n,a),u&4&&up(n,a);break;case 13:Kn(n,a),u&4&&cp(n,a),u&64&&(n=a.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(a=Ex.bind(null,a),zx(n,a))));break;case 22:if(u=a.memoizedState!==null||$n,!u){s=s!==null&&s.memoizedState!==null||dt,p=$n;var y=dt;$n=u,(dt=s)&&!y?Yn(n,a,(a.subtreeFlags&8772)!==0):Kn(n,a),$n=p,dt=y}break;case 30:break;default:Kn(n,a)}}function op(n){var s=n.alternate;s!==null&&(n.alternate=null,op(s)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(s=n.stateNode,s!==null&&yl(s)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var We=null,Bt=!1;function Jn(n,s,a){for(a=a.child;a!==null;)lp(n,s,a),a=a.sibling}function lp(n,s,a){if(yt&&typeof yt.onCommitFiberUnmount=="function")try{yt.onCommitFiberUnmount(ji,a)}catch{}switch(a.tag){case 26:dt||Dn(a,s),Jn(n,s,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:dt||Dn(a,s);var u=We,p=Bt;Ti(a.type)&&(We=a.stateNode,Bt=!1),Jn(n,s,a),ta(a.stateNode),We=u,Bt=p;break;case 5:dt||Dn(a,s);case 6:if(u=We,p=Bt,We=null,Jn(n,s,a),We=u,Bt=p,We!==null)if(Bt)try{(We.nodeType===9?We.body:We.nodeName==="HTML"?We.ownerDocument.body:We).removeChild(a.stateNode)}catch(y){je(a,s,y)}else try{We.removeChild(a.stateNode)}catch(y){je(a,s,y)}break;case 18:We!==null&&(Bt?(n=We,em(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,a.stateNode),Xs(n)):em(We,a.stateNode));break;case 4:u=We,p=Bt,We=a.stateNode.containerInfo,Bt=!0,Jn(n,s,a),We=u,Bt=p;break;case 0:case 11:case 14:case 15:yi(2,a,s),dt||yi(4,a,s),Jn(n,s,a);break;case 1:dt||(Dn(a,s),u=a.stateNode,typeof u.componentWillUnmount=="function"&&tp(a,s,u)),Jn(n,s,a);break;case 21:Jn(n,s,a);break;case 22:dt=(u=dt)||a.memoizedState!==null,Jn(n,s,a),dt=u;break;default:Jn(n,s,a)}}function up(n,s){if(s.memoizedState===null&&(n=s.alternate,n!==null&&(n=n.memoizedState,n!==null))){n=n.dehydrated;try{Xs(n)}catch(a){je(s,s.return,a)}}}function cp(n,s){if(s.memoizedState===null&&(n=s.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{Xs(n)}catch(a){je(s,s.return,a)}}function gx(n){switch(n.tag){case 31:case 13:case 19:var s=n.stateNode;return s===null&&(s=n.stateNode=new rp),s;case 22:return n=n.stateNode,s=n._retryCache,s===null&&(s=n._retryCache=new rp),s;default:throw Error(r(435,n.tag))}}function uo(n,s){var a=gx(n);s.forEach(function(u){if(!a.has(u)){a.add(u);var p=Tx.bind(null,n,u);u.then(p,p)}})}function Ht(n,s){var a=s.deletions;if(a!==null)for(var u=0;u<a.length;u++){var p=a[u],y=n,w=s,E=w;e:for(;E!==null;){switch(E.tag){case 27:if(Ti(E.type)){We=E.stateNode,Bt=!1;break e}break;case 5:We=E.stateNode,Bt=!1;break e;case 3:case 4:We=E.stateNode.containerInfo,Bt=!0;break e}E=E.return}if(We===null)throw Error(r(160));lp(y,w,p),We=null,Bt=!1,y=p.alternate,y!==null&&(y.return=null),p.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)dp(s,n),s=s.sibling}var _n=null;function dp(n,s){var a=n.alternate,u=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:Ht(s,n),qt(n),u&4&&(yi(3,n,n.return),Fr(3,n),yi(5,n,n.return));break;case 1:Ht(s,n),qt(n),u&512&&(dt||a===null||Dn(a,a.return)),u&64&&$n&&(n=n.updateQueue,n!==null&&(u=n.callbacks,u!==null&&(a=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=a===null?u:a.concat(u))));break;case 26:var p=_n;if(Ht(s,n),qt(n),u&512&&(dt||a===null||Dn(a,a.return)),u&4){var y=a!==null?a.memoizedState:null;if(u=n.memoizedState,a===null)if(u===null)if(n.stateNode===null){e:{u=n.type,a=n.memoizedProps,p=p.ownerDocument||p;t:switch(u){case"title":y=p.getElementsByTagName("title")[0],(!y||y[xr]||y[wt]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=p.createElement(u),p.head.insertBefore(y,p.querySelector("head > title"))),At(y,u,a),y[wt]=n,xt(y),u=y;break e;case"link":var w=dm("link","href",p).get(u+(a.href||""));if(w){for(var E=0;E<w.length;E++)if(y=w[E],y.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&y.getAttribute("rel")===(a.rel==null?null:a.rel)&&y.getAttribute("title")===(a.title==null?null:a.title)&&y.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){w.splice(E,1);break t}}y=p.createElement(u),At(y,u,a),p.head.appendChild(y);break;case"meta":if(w=dm("meta","content",p).get(u+(a.content||""))){for(E=0;E<w.length;E++)if(y=w[E],y.getAttribute("content")===(a.content==null?null:""+a.content)&&y.getAttribute("name")===(a.name==null?null:a.name)&&y.getAttribute("property")===(a.property==null?null:a.property)&&y.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&y.getAttribute("charset")===(a.charSet==null?null:a.charSet)){w.splice(E,1);break t}}y=p.createElement(u),At(y,u,a),p.head.appendChild(y);break;default:throw Error(r(468,u))}y[wt]=n,xt(y),u=y}n.stateNode=u}else fm(p,n.type,n.stateNode);else n.stateNode=cm(p,u,n.memoizedProps);else y!==u?(y===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):y.count--,u===null?fm(p,n.type,n.stateNode):cm(p,u,n.memoizedProps)):u===null&&n.stateNode!==null&&ju(n,n.memoizedProps,a.memoizedProps)}break;case 27:Ht(s,n),qt(n),u&512&&(dt||a===null||Dn(a,a.return)),a!==null&&u&4&&ju(n,n.memoizedProps,a.memoizedProps);break;case 5:if(Ht(s,n),qt(n),u&512&&(dt||a===null||Dn(a,a.return)),n.flags&32){p=n.stateNode;try{xs(p,"")}catch(se){je(n,n.return,se)}}u&4&&n.stateNode!=null&&(p=n.memoizedProps,ju(n,p,a!==null?a.memoizedProps:p)),u&1024&&(qu=!0);break;case 6:if(Ht(s,n),qt(n),u&4){if(n.stateNode===null)throw Error(r(162));u=n.memoizedProps,a=n.stateNode;try{a.nodeValue=u}catch(se){je(n,n.return,se)}}break;case 3:if(Ao=null,p=_n,_n=Eo(s.containerInfo),Ht(s,n),_n=p,qt(n),u&4&&a!==null&&a.memoizedState.isDehydrated)try{Xs(s.containerInfo)}catch(se){je(n,n.return,se)}qu&&(qu=!1,fp(n));break;case 4:u=_n,_n=Eo(n.stateNode.containerInfo),Ht(s,n),qt(n),_n=u;break;case 12:Ht(s,n),qt(n);break;case 31:Ht(s,n),qt(n),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,uo(n,u)));break;case 13:Ht(s,n),qt(n),n.child.flags&8192&&n.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(fo=V()),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,uo(n,u)));break;case 22:p=n.memoizedState!==null;var A=a!==null&&a.memoizedState!==null,P=$n,q=dt;if($n=P||p,dt=q||A,Ht(s,n),dt=q,$n=P,qt(n),u&8192)e:for(s=n.stateNode,s._visibility=p?s._visibility&-2:s._visibility|1,p&&(a===null||A||$n||dt||ts(n)),a=null,s=n;;){if(s.tag===5||s.tag===26){if(a===null){A=a=s;try{if(y=A.stateNode,p)w=y.style,typeof w.setProperty=="function"?w.setProperty("display","none","important"):w.display="none";else{E=A.stateNode;var $=A.memoizedProps.style,L=$!=null&&$.hasOwnProperty("display")?$.display:null;E.style.display=L==null||typeof L=="boolean"?"":(""+L).trim()}}catch(se){je(A,A.return,se)}}}else if(s.tag===6){if(a===null){A=s;try{A.stateNode.nodeValue=p?"":A.memoizedProps}catch(se){je(A,A.return,se)}}}else if(s.tag===18){if(a===null){A=s;try{var G=A.stateNode;p?tm(G,!0):tm(A.stateNode,!1)}catch(se){je(A,A.return,se)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===n)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break e;for(;s.sibling===null;){if(s.return===null||s.return===n)break e;a===s&&(a=null),s=s.return}a===s&&(a=null),s.sibling.return=s.return,s=s.sibling}u&4&&(u=n.updateQueue,u!==null&&(a=u.retryQueue,a!==null&&(u.retryQueue=null,uo(n,a))));break;case 19:Ht(s,n),qt(n),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,uo(n,u)));break;case 30:break;case 21:break;default:Ht(s,n),qt(n)}}function qt(n){var s=n.flags;if(s&2){try{for(var a,u=n.return;u!==null;){if(ip(u)){a=u;break}u=u.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var p=a.stateNode,y=Bu(n);lo(n,y,p);break;case 5:var w=a.stateNode;a.flags&32&&(xs(w,""),a.flags&=-33);var E=Bu(n);lo(n,E,w);break;case 3:case 4:var A=a.stateNode.containerInfo,P=Bu(n);Hu(n,P,A);break;default:throw Error(r(161))}}catch(q){je(n,n.return,q)}n.flags&=-3}s&4096&&(n.flags&=-4097)}function fp(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var s=n;fp(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),n=n.sibling}}function Kn(n,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)ap(n,s.alternate,s),s=s.sibling}function ts(n){for(n=n.child;n!==null;){var s=n;switch(s.tag){case 0:case 11:case 14:case 15:yi(4,s,s.return),ts(s);break;case 1:Dn(s,s.return);var a=s.stateNode;typeof a.componentWillUnmount=="function"&&tp(s,s.return,a),ts(s);break;case 27:ta(s.stateNode);case 26:case 5:Dn(s,s.return),ts(s);break;case 22:s.memoizedState===null&&ts(s);break;case 30:ts(s);break;default:ts(s)}n=n.sibling}}function Yn(n,s,a){for(a=a&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var u=s.alternate,p=n,y=s,w=y.flags;switch(y.tag){case 0:case 11:case 15:Yn(p,y,a),Fr(4,y);break;case 1:if(Yn(p,y,a),u=y,p=u.stateNode,typeof p.componentDidMount=="function")try{p.componentDidMount()}catch(P){je(u,u.return,P)}if(u=y,p=u.updateQueue,p!==null){var E=u.stateNode;try{var A=p.shared.hiddenCallbacks;if(A!==null)for(p.shared.hiddenCallbacks=null,p=0;p<A.length;p++)Vf(A[p],E)}catch(P){je(u,u.return,P)}}a&&w&64&&ep(y),$r(y,y.return);break;case 27:sp(y);case 26:case 5:Yn(p,y,a),a&&u===null&&w&4&&np(y),$r(y,y.return);break;case 12:Yn(p,y,a);break;case 31:Yn(p,y,a),a&&w&4&&up(p,y);break;case 13:Yn(p,y,a),a&&w&4&&cp(p,y);break;case 22:y.memoizedState===null&&Yn(p,y,a),$r(y,y.return);break;case 30:break;default:Yn(p,y,a)}s=s.sibling}}function Vu(n,s){var a=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),n=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(n=s.memoizedState.cachePool.pool),n!==a&&(n!=null&&n.refCount++,a!=null&&Dr(a))}function zu(n,s){n=null,s.alternate!==null&&(n=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==n&&(s.refCount++,n!=null&&Dr(n))}function wn(n,s,a,u){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)hp(n,s,a,u),s=s.sibling}function hp(n,s,a,u){var p=s.flags;switch(s.tag){case 0:case 11:case 15:wn(n,s,a,u),p&2048&&Fr(9,s);break;case 1:wn(n,s,a,u);break;case 3:wn(n,s,a,u),p&2048&&(n=null,s.alternate!==null&&(n=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==n&&(s.refCount++,n!=null&&Dr(n)));break;case 12:if(p&2048){wn(n,s,a,u),n=s.stateNode;try{var y=s.memoizedProps,w=y.id,E=y.onPostCommit;typeof E=="function"&&E(w,s.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(A){je(s,s.return,A)}}else wn(n,s,a,u);break;case 31:wn(n,s,a,u);break;case 13:wn(n,s,a,u);break;case 23:break;case 22:y=s.stateNode,w=s.alternate,s.memoizedState!==null?y._visibility&2?wn(n,s,a,u):Jr(n,s):y._visibility&2?wn(n,s,a,u):(y._visibility|=2,js(n,s,a,u,(s.subtreeFlags&10256)!==0||!1)),p&2048&&Vu(w,s);break;case 24:wn(n,s,a,u),p&2048&&zu(s.alternate,s);break;default:wn(n,s,a,u)}}function js(n,s,a,u,p){for(p=p&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var y=n,w=s,E=a,A=u,P=w.flags;switch(w.tag){case 0:case 11:case 15:js(y,w,E,A,p),Fr(8,w);break;case 23:break;case 22:var q=w.stateNode;w.memoizedState!==null?q._visibility&2?js(y,w,E,A,p):Jr(y,w):(q._visibility|=2,js(y,w,E,A,p)),p&&P&2048&&Vu(w.alternate,w);break;case 24:js(y,w,E,A,p),p&&P&2048&&zu(w.alternate,w);break;default:js(y,w,E,A,p)}s=s.sibling}}function Jr(n,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var a=n,u=s,p=u.flags;switch(u.tag){case 22:Jr(a,u),p&2048&&Vu(u.alternate,u);break;case 24:Jr(a,u),p&2048&&zu(u.alternate,u);break;default:Jr(a,u)}s=s.sibling}}var Kr=8192;function Bs(n,s,a){if(n.subtreeFlags&Kr)for(n=n.child;n!==null;)pp(n,s,a),n=n.sibling}function pp(n,s,a){switch(n.tag){case 26:Bs(n,s,a),n.flags&Kr&&n.memoizedState!==null&&nb(a,_n,n.memoizedState,n.memoizedProps);break;case 5:Bs(n,s,a);break;case 3:case 4:var u=_n;_n=Eo(n.stateNode.containerInfo),Bs(n,s,a),_n=u;break;case 22:n.memoizedState===null&&(u=n.alternate,u!==null&&u.memoizedState!==null?(u=Kr,Kr=16777216,Bs(n,s,a),Kr=u):Bs(n,s,a));break;default:Bs(n,s,a)}}function mp(n){var s=n.alternate;if(s!==null&&(n=s.child,n!==null)){s.child=null;do s=n.sibling,n.sibling=null,n=s;while(n!==null)}}function Yr(n){var s=n.deletions;if((n.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var u=s[a];bt=u,vp(u,n)}mp(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)gp(n),n=n.sibling}function gp(n){switch(n.tag){case 0:case 11:case 15:Yr(n),n.flags&2048&&yi(9,n,n.return);break;case 3:Yr(n);break;case 12:Yr(n);break;case 22:var s=n.stateNode;n.memoizedState!==null&&s._visibility&2&&(n.return===null||n.return.tag!==13)?(s._visibility&=-3,co(n)):Yr(n);break;default:Yr(n)}}function co(n){var s=n.deletions;if((n.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var u=s[a];bt=u,vp(u,n)}mp(n)}for(n=n.child;n!==null;){switch(s=n,s.tag){case 0:case 11:case 15:yi(8,s,s.return),co(s);break;case 22:a=s.stateNode,a._visibility&2&&(a._visibility&=-3,co(s));break;default:co(s)}n=n.sibling}}function vp(n,s){for(;bt!==null;){var a=bt;switch(a.tag){case 0:case 11:case 15:yi(8,a,s);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var u=a.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:Dr(a.memoizedState.cache)}if(u=a.child,u!==null)u.return=a,bt=u;else e:for(a=n;bt!==null;){u=bt;var p=u.sibling,y=u.return;if(op(u),u===a){bt=null;break e}if(p!==null){p.return=y,bt=p;break e}bt=y}}}var vx={getCacheForType:function(n){var s=Et(lt),a=s.data.get(n);return a===void 0&&(a=n(),s.data.set(n,a)),a},cacheSignal:function(){return Et(lt).controller.signal}},yx=typeof WeakMap=="function"?WeakMap:Map,Oe=0,ze=null,Ee=null,Ce=0,Ge=0,Xt=null,xi=!1,Hs=!1,Fu=!1,Xn=0,et=0,bi=0,ns=0,$u=0,Wt=0,qs=0,Xr=null,Vt=null,Ju=!1,fo=0,yp=0,ho=1/0,po=null,_i=null,mt=0,wi=null,Vs=null,Wn=0,Ku=0,Yu=null,xp=null,Wr=0,Xu=null;function Qt(){return(Oe&2)!==0&&Ce!==0?Ce&-Ce:O.T!==null?nc():Ud()}function bp(){if(Wt===0)if((Ce&536870912)===0||Ie){var n=sn;sn<<=1,(sn&3932160)===0&&(sn=262144),Wt=n}else Wt=536870912;return n=Kt.current,n!==null&&(n.flags|=32),Wt}function zt(n,s,a){(n===ze&&(Ge===2||Ge===9)||n.cancelPendingCommit!==null)&&(zs(n,0),Si(n,Ce,Wt,!1)),yr(n,a),((Oe&2)===0||n!==ze)&&(n===ze&&((Oe&2)===0&&(ns|=a),et===4&&Si(n,Ce,Wt,!1)),Mn(n))}function _p(n,s,a){if((Oe&6)!==0)throw Error(r(327));var u=!a&&(s&127)===0&&(s&n.expiredLanes)===0||vr(n,s),p=u?_x(n,s):Qu(n,s,!0),y=u;do{if(p===0){Hs&&!u&&Si(n,s,0,!1);break}else{if(a=n.current.alternate,y&&!xx(a)){p=Qu(n,s,!1),y=!1;continue}if(p===2){if(y=s,n.errorRecoveryDisabledLanes&y)var w=0;else w=n.pendingLanes&-536870913,w=w!==0?w:w&536870912?536870912:0;if(w!==0){s=w;e:{var E=n;p=Xr;var A=E.current.memoizedState.isDehydrated;if(A&&(zs(E,w).flags|=256),w=Qu(E,w,!1),w!==2){if(Fu&&!A){E.errorRecoveryDisabledLanes|=y,ns|=y,p=4;break e}y=Vt,Vt=p,y!==null&&(Vt===null?Vt=y:Vt.push.apply(Vt,y))}p=w}if(y=!1,p!==2)continue}}if(p===1){zs(n,0),Si(n,s,0,!0);break}e:{switch(u=n,y=p,y){case 0:case 1:throw Error(r(345));case 4:if((s&4194048)!==s)break;case 6:Si(u,s,Wt,!xi);break e;case 2:Vt=null;break;case 3:case 5:break;default:throw Error(r(329))}if((s&62914560)===s&&(p=fo+300-V(),10<p)){if(Si(u,s,Wt,!xi),Sa(u,0,!0)!==0)break e;Wn=s,u.timeoutHandle=Qp(wp.bind(null,u,a,Vt,po,Ju,s,Wt,ns,qs,xi,y,"Throttled",-0,0),p);break e}wp(u,a,Vt,po,Ju,s,Wt,ns,qs,xi,y,null,-0,0)}}break}while(!0);Mn(n)}function wp(n,s,a,u,p,y,w,E,A,P,q,$,L,G){if(n.timeoutHandle=-1,$=s.subtreeFlags,$&8192||($&16785408)===16785408){$={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Ln},pp(s,y,$);var se=(y&62914560)===y?fo-V():(y&4194048)===y?yp-V():0;if(se=ib($,se),se!==null){Wn=y,n.cancelPendingCommit=se(kp.bind(null,n,s,y,a,u,p,w,E,A,q,$,null,L,G)),Si(n,y,w,!P);return}}kp(n,s,y,a,u,p,w,E,A)}function xx(n){for(var s=n;;){var a=s.tag;if((a===0||a===11||a===15)&&s.flags&16384&&(a=s.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var u=0;u<a.length;u++){var p=a[u],y=p.getSnapshot;p=p.value;try{if(!$t(y(),p))return!1}catch{return!1}}if(a=s.child,s.subtreeFlags&16384&&a!==null)a.return=s,s=a;else{if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Si(n,s,a,u){s&=~$u,s&=~ns,n.suspendedLanes|=s,n.pingedLanes&=~s,u&&(n.warmLanes|=s),u=n.expirationTimes;for(var p=s;0<p;){var y=31-j(p),w=1<<y;u[y]=-1,p&=~w}a!==0&&Id(n,a,s)}function mo(){return(Oe&6)===0?(Qr(0),!1):!0}function Wu(){if(Ee!==null){if(Ge===0)var n=Ee.return;else n=Ee,Bn=Ji=null,hu(n),Us=null,Ur=0,n=Ee;for(;n!==null;)Zh(n.alternate,n),n=n.return;Ee=null}}function zs(n,s){var a=n.timeoutHandle;a!==-1&&(n.timeoutHandle=-1,jx(a)),a=n.cancelPendingCommit,a!==null&&(n.cancelPendingCommit=null,a()),Wn=0,Wu(),ze=n,Ee=a=Gn(n.current,null),Ce=s,Ge=0,Xt=null,xi=!1,Hs=vr(n,s),Fu=!1,qs=Wt=$u=ns=bi=et=0,Vt=Xr=null,Ju=!1,(s&8)!==0&&(s|=s&32);var u=n.entangledLanes;if(u!==0)for(n=n.entanglements,u&=s;0<u;){var p=31-j(u),y=1<<p;s|=n[p],u&=~y}return Xn=s,Pa(),a}function Sp(n,s){ye=null,O.H=qr,s===Ms||s===Va?(s=jf(),Ge=3):s===tu?(s=jf(),Ge=4):Ge=s===Ru?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Xt=s,Ee===null&&(et=1,io(n,un(s,n.current)))}function Ep(){var n=Kt.current;return n===null?!0:(Ce&4194048)===Ce?hn===null:(Ce&62914560)===Ce||(Ce&536870912)!==0?n===hn:!1}function Tp(){var n=O.H;return O.H=qr,n===null?qr:n}function Ap(){var n=O.A;return O.A=vx,n}function go(){et=4,xi||(Ce&4194048)!==Ce&&Kt.current!==null||(Hs=!0),(bi&134217727)===0&&(ns&134217727)===0||ze===null||Si(ze,Ce,Wt,!1)}function Qu(n,s,a){var u=Oe;Oe|=2;var p=Tp(),y=Ap();(ze!==n||Ce!==s)&&(po=null,zs(n,s)),s=!1;var w=et;e:do try{if(Ge!==0&&Ee!==null){var E=Ee,A=Xt;switch(Ge){case 8:Wu(),w=6;break e;case 3:case 2:case 9:case 6:Kt.current===null&&(s=!0);var P=Ge;if(Ge=0,Xt=null,Fs(n,E,A,P),a&&Hs){w=0;break e}break;default:P=Ge,Ge=0,Xt=null,Fs(n,E,A,P)}}bx(),w=et;break}catch(q){Sp(n,q)}while(!0);return s&&n.shellSuspendCounter++,Bn=Ji=null,Oe=u,O.H=p,O.A=y,Ee===null&&(ze=null,Ce=0,Pa()),w}function bx(){for(;Ee!==null;)Cp(Ee)}function _x(n,s){var a=Oe;Oe|=2;var u=Tp(),p=Ap();ze!==n||Ce!==s?(po=null,ho=V()+500,zs(n,s)):Hs=vr(n,s);e:do try{if(Ge!==0&&Ee!==null){s=Ee;var y=Xt;t:switch(Ge){case 1:Ge=0,Xt=null,Fs(n,s,y,1);break;case 2:case 9:if(Of(y)){Ge=0,Xt=null,Np(s);break}s=function(){Ge!==2&&Ge!==9||ze!==n||(Ge=7),Mn(n)},y.then(s,s);break e;case 3:Ge=7;break e;case 4:Ge=5;break e;case 7:Of(y)?(Ge=0,Xt=null,Np(s)):(Ge=0,Xt=null,Fs(n,s,y,7));break;case 5:var w=null;switch(Ee.tag){case 26:w=Ee.memoizedState;case 5:case 27:var E=Ee;if(w?hm(w):E.stateNode.complete){Ge=0,Xt=null;var A=E.sibling;if(A!==null)Ee=A;else{var P=E.return;P!==null?(Ee=P,vo(P)):Ee=null}break t}}Ge=0,Xt=null,Fs(n,s,y,5);break;case 6:Ge=0,Xt=null,Fs(n,s,y,6);break;case 8:Wu(),et=6;break e;default:throw Error(r(462))}}wx();break}catch(q){Sp(n,q)}while(!0);return Bn=Ji=null,O.H=u,O.A=p,Oe=a,Ee!==null?0:(ze=null,Ce=0,Pa(),et)}function wx(){for(;Ee!==null&&!Oi();)Cp(Ee)}function Cp(n){var s=Wh(n.alternate,n,Xn);n.memoizedProps=n.pendingProps,s===null?vo(n):Ee=s}function Np(n){var s=n,a=s.alternate;switch(s.tag){case 15:case 0:s=Fh(a,s,s.pendingProps,s.type,void 0,Ce);break;case 11:s=Fh(a,s,s.pendingProps,s.type.render,s.ref,Ce);break;case 5:hu(s);default:Zh(a,s),s=Ee=Af(s,Xn),s=Wh(a,s,Xn)}n.memoizedProps=n.pendingProps,s===null?vo(n):Ee=s}function Fs(n,s,a,u){Bn=Ji=null,hu(s),Us=null,Ur=0;var p=s.return;try{if(cx(n,p,s,a,Ce)){et=1,io(n,un(a,n.current)),Ee=null;return}}catch(y){if(p!==null)throw Ee=p,y;et=1,io(n,un(a,n.current)),Ee=null;return}s.flags&32768?(Ie||u===1?n=!0:Hs||(Ce&536870912)!==0?n=!1:(xi=n=!0,(u===2||u===9||u===3||u===6)&&(u=Kt.current,u!==null&&u.tag===13&&(u.flags|=16384))),Rp(s,n)):vo(s)}function vo(n){var s=n;do{if((s.flags&32768)!==0){Rp(s,xi);return}n=s.return;var a=hx(s.alternate,s,Xn);if(a!==null){Ee=a;return}if(s=s.sibling,s!==null){Ee=s;return}Ee=s=n}while(s!==null);et===0&&(et=5)}function Rp(n,s){do{var a=px(n.alternate,n);if(a!==null){a.flags&=32767,Ee=a;return}if(a=n.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!s&&(n=n.sibling,n!==null)){Ee=n;return}Ee=n=a}while(n!==null);et=6,Ee=null}function kp(n,s,a,u,p,y,w,E,A){n.cancelPendingCommit=null;do yo();while(mt!==0);if((Oe&6)!==0)throw Error(r(327));if(s!==null){if(s===n.current)throw Error(r(177));if(y=s.lanes|s.childLanes,y|=Bl,ty(n,a,y,w,E,A),n===ze&&(Ee=ze=null,Ce=0),Vs=s,wi=n,Wn=a,Ku=y,Yu=p,xp=u,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,Ax(ai,function(){return Pp(),null})):(n.callbackNode=null,n.callbackPriority=0),u=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||u){u=O.T,O.T=null,p=Y.p,Y.p=2,w=Oe,Oe|=4;try{mx(n,s,a)}finally{Oe=w,Y.p=p,O.T=u}}mt=1,Ip(),Dp(),Mp()}}function Ip(){if(mt===1){mt=0;var n=wi,s=Vs,a=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||a){a=O.T,O.T=null;var u=Y.p;Y.p=2;var p=Oe;Oe|=4;try{dp(s,n);var y=cc,w=vf(n.containerInfo),E=y.focusedElem,A=y.selectionRange;if(w!==E&&E&&E.ownerDocument&&gf(E.ownerDocument.documentElement,E)){if(A!==null&&Pl(E)){var P=A.start,q=A.end;if(q===void 0&&(q=P),"selectionStart"in E)E.selectionStart=P,E.selectionEnd=Math.min(q,E.value.length);else{var $=E.ownerDocument||document,L=$&&$.defaultView||window;if(L.getSelection){var G=L.getSelection(),se=E.textContent.length,fe=Math.min(A.start,se),Ve=A.end===void 0?fe:Math.min(A.end,se);!G.extend&&fe>Ve&&(w=Ve,Ve=fe,fe=w);var I=mf(E,fe),k=mf(E,Ve);if(I&&k&&(G.rangeCount!==1||G.anchorNode!==I.node||G.anchorOffset!==I.offset||G.focusNode!==k.node||G.focusOffset!==k.offset)){var U=$.createRange();U.setStart(I.node,I.offset),G.removeAllRanges(),fe>Ve?(G.addRange(U),G.extend(k.node,k.offset)):(U.setEnd(k.node,k.offset),G.addRange(U))}}}}for($=[],G=E;G=G.parentNode;)G.nodeType===1&&$.push({element:G,left:G.scrollLeft,top:G.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<$.length;E++){var F=$[E];F.element.scrollLeft=F.left,F.element.scrollTop=F.top}}ko=!!uc,cc=uc=null}finally{Oe=p,Y.p=u,O.T=a}}n.current=s,mt=2}}function Dp(){if(mt===2){mt=0;var n=wi,s=Vs,a=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||a){a=O.T,O.T=null;var u=Y.p;Y.p=2;var p=Oe;Oe|=4;try{ap(n,s.alternate,s)}finally{Oe=p,Y.p=u,O.T=a}}mt=3}}function Mp(){if(mt===4||mt===3){mt=0,gr();var n=wi,s=Vs,a=Wn,u=xp;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?mt=5:(mt=0,Vs=wi=null,Up(n,n.pendingLanes));var p=n.pendingLanes;if(p===0&&(_i=null),gl(a),s=s.stateNode,yt&&typeof yt.onCommitFiberRoot=="function")try{yt.onCommitFiberRoot(ji,s,void 0,(s.current.flags&128)===128)}catch{}if(u!==null){s=O.T,p=Y.p,Y.p=2,O.T=null;try{for(var y=n.onRecoverableError,w=0;w<u.length;w++){var E=u[w];y(E.value,{componentStack:E.stack})}}finally{O.T=s,Y.p=p}}(Wn&3)!==0&&yo(),Mn(n),p=n.pendingLanes,(a&261930)!==0&&(p&42)!==0?n===Xu?Wr++:(Wr=0,Xu=n):Wr=0,Qr(0)}}function Up(n,s){(n.pooledCacheLanes&=s)===0&&(s=n.pooledCache,s!=null&&(n.pooledCache=null,Dr(s)))}function yo(){return Ip(),Dp(),Mp(),Pp()}function Pp(){if(mt!==5)return!1;var n=wi,s=Ku;Ku=0;var a=gl(Wn),u=O.T,p=Y.p;try{Y.p=32>a?32:a,O.T=null,a=Yu,Yu=null;var y=wi,w=Wn;if(mt=0,Vs=wi=null,Wn=0,(Oe&6)!==0)throw Error(r(331));var E=Oe;if(Oe|=4,gp(y.current),hp(y,y.current,w,a),Oe=E,Qr(0,!1),yt&&typeof yt.onPostCommitFiberRoot=="function")try{yt.onPostCommitFiberRoot(ji,y)}catch{}return!0}finally{Y.p=p,O.T=u,Up(n,s)}}function Lp(n,s,a){s=un(a,s),s=Nu(n.stateNode,s,2),n=mi(n,s,2),n!==null&&(yr(n,2),Mn(n))}function je(n,s,a){if(n.tag===3)Lp(n,n,a);else for(;s!==null;){if(s.tag===3){Lp(s,n,a);break}else if(s.tag===1){var u=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(_i===null||!_i.has(u))){n=un(a,n),a=Oh(2),u=mi(s,a,2),u!==null&&(Gh(a,u,s,n),yr(u,2),Mn(u));break}}s=s.return}}function Zu(n,s,a){var u=n.pingCache;if(u===null){u=n.pingCache=new yx;var p=new Set;u.set(s,p)}else p=u.get(s),p===void 0&&(p=new Set,u.set(s,p));p.has(a)||(Fu=!0,p.add(a),n=Sx.bind(null,n,s,a),s.then(n,n))}function Sx(n,s,a){var u=n.pingCache;u!==null&&u.delete(s),n.pingedLanes|=n.suspendedLanes&a,n.warmLanes&=~a,ze===n&&(Ce&a)===a&&(et===4||et===3&&(Ce&62914560)===Ce&&300>V()-fo?(Oe&2)===0&&zs(n,0):$u|=a,qs===Ce&&(qs=0)),Mn(n)}function Op(n,s){s===0&&(s=kd()),n=zi(n,s),n!==null&&(yr(n,s),Mn(n))}function Ex(n){var s=n.memoizedState,a=0;s!==null&&(a=s.retryLane),Op(n,a)}function Tx(n,s){var a=0;switch(n.tag){case 31:case 13:var u=n.stateNode,p=n.memoizedState;p!==null&&(a=p.retryLane);break;case 19:u=n.stateNode;break;case 22:u=n.stateNode._retryCache;break;default:throw Error(r(314))}u!==null&&u.delete(s),Op(n,a)}function Ax(n,s){return ri(n,s)}var xo=null,$s=null,ec=!1,bo=!1,tc=!1,Ei=0;function Mn(n){n!==$s&&n.next===null&&($s===null?xo=$s=n:$s=$s.next=n),bo=!0,ec||(ec=!0,Nx())}function Qr(n,s){if(!tc&&bo){tc=!0;do for(var a=!1,u=xo;u!==null;){if(n!==0){var p=u.pendingLanes;if(p===0)var y=0;else{var w=u.suspendedLanes,E=u.pingedLanes;y=(1<<31-j(42|n)+1)-1,y&=p&~(w&~E),y=y&201326741?y&201326741|1:y?y|2:0}y!==0&&(a=!0,Hp(u,y))}else y=Ce,y=Sa(u,u===ze?y:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(y&3)===0||vr(u,y)||(a=!0,Hp(u,y));u=u.next}while(a);tc=!1}}function Cx(){Gp()}function Gp(){bo=ec=!1;var n=0;Ei!==0&&Gx()&&(n=Ei);for(var s=V(),a=null,u=xo;u!==null;){var p=u.next,y=jp(u,s);y===0?(u.next=null,a===null?xo=p:a.next=p,p===null&&($s=a)):(a=u,(n!==0||(y&3)!==0)&&(bo=!0)),u=p}mt!==0&&mt!==5||Qr(n),Ei!==0&&(Ei=0)}function jp(n,s){for(var a=n.suspendedLanes,u=n.pingedLanes,p=n.expirationTimes,y=n.pendingLanes&-62914561;0<y;){var w=31-j(y),E=1<<w,A=p[w];A===-1?((E&a)===0||(E&u)!==0)&&(p[w]=ey(E,s)):A<=s&&(n.expiredLanes|=E),y&=~E}if(s=ze,a=Ce,a=Sa(n,n===s?a:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),u=n.callbackNode,a===0||n===s&&(Ge===2||Ge===9)||n.cancelPendingCommit!==null)return u!==null&&u!==null&&Li(u),n.callbackNode=null,n.callbackPriority=0;if((a&3)===0||vr(n,a)){if(s=a&-a,s===n.callbackPriority)return s;switch(u!==null&&Li(u),gl(a)){case 2:case 8:a=ht;break;case 32:a=ai;break;case 268435456:a=Mt;break;default:a=ai}return u=Bp.bind(null,n),a=ri(a,u),n.callbackPriority=s,n.callbackNode=a,s}return u!==null&&u!==null&&Li(u),n.callbackPriority=2,n.callbackNode=null,2}function Bp(n,s){if(mt!==0&&mt!==5)return n.callbackNode=null,n.callbackPriority=0,null;var a=n.callbackNode;if(yo()&&n.callbackNode!==a)return null;var u=Ce;return u=Sa(n,n===ze?u:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),u===0?null:(_p(n,u,s),jp(n,V()),n.callbackNode!=null&&n.callbackNode===a?Bp.bind(null,n):null)}function Hp(n,s){if(yo())return null;_p(n,s,!0)}function Nx(){Bx(function(){(Oe&6)!==0?ri(ot,Cx):Gp()})}function nc(){if(Ei===0){var n=Is;n===0&&(n=kt,kt<<=1,(kt&261888)===0&&(kt=256)),Ei=n}return Ei}function qp(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:Ca(""+n)}function Vp(n,s){var a=s.ownerDocument.createElement("input");return a.name=s.name,a.value=s.value,n.id&&a.setAttribute("form",n.id),s.parentNode.insertBefore(a,s),n=new FormData(n),a.parentNode.removeChild(a),n}function Rx(n,s,a,u,p){if(s==="submit"&&a&&a.stateNode===p){var y=qp((p[Gt]||null).action),w=u.submitter;w&&(s=(s=w[Gt]||null)?qp(s.formAction):w.getAttribute("formAction"),s!==null&&(y=s,w=null));var E=new Ia("action","action",null,u,p);n.push({event:E,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(Ei!==0){var A=w?Vp(p,w):new FormData(p);wu(a,{pending:!0,data:A,method:p.method,action:y},null,A)}}else typeof y=="function"&&(E.preventDefault(),A=w?Vp(p,w):new FormData(p),wu(a,{pending:!0,data:A,method:p.method,action:y},y,A))},currentTarget:p}]})}}for(var ic=0;ic<jl.length;ic++){var sc=jl[ic],kx=sc.toLowerCase(),Ix=sc[0].toUpperCase()+sc.slice(1);bn(kx,"on"+Ix)}bn(bf,"onAnimationEnd"),bn(_f,"onAnimationIteration"),bn(wf,"onAnimationStart"),bn("dblclick","onDoubleClick"),bn("focusin","onFocus"),bn("focusout","onBlur"),bn(Jy,"onTransitionRun"),bn(Ky,"onTransitionStart"),bn(Yy,"onTransitionCancel"),bn(Sf,"onTransitionEnd"),vs("onMouseEnter",["mouseout","mouseover"]),vs("onMouseLeave",["mouseout","mouseover"]),vs("onPointerEnter",["pointerout","pointerover"]),vs("onPointerLeave",["pointerout","pointerover"]),Bi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Bi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Bi("onBeforeInput",["compositionend","keypress","textInput","paste"]),Bi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Bi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Bi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Zr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Dx=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Zr));function zp(n,s){s=(s&4)!==0;for(var a=0;a<n.length;a++){var u=n[a],p=u.event;u=u.listeners;e:{var y=void 0;if(s)for(var w=u.length-1;0<=w;w--){var E=u[w],A=E.instance,P=E.currentTarget;if(E=E.listener,A!==y&&p.isPropagationStopped())break e;y=E,p.currentTarget=P;try{y(p)}catch(q){Ua(q)}p.currentTarget=null,y=A}else for(w=0;w<u.length;w++){if(E=u[w],A=E.instance,P=E.currentTarget,E=E.listener,A!==y&&p.isPropagationStopped())break e;y=E,p.currentTarget=P;try{y(p)}catch(q){Ua(q)}p.currentTarget=null,y=A}}}}function Te(n,s){var a=s[vl];a===void 0&&(a=s[vl]=new Set);var u=n+"__bubble";a.has(u)||(Fp(s,n,2,!1),a.add(u))}function rc(n,s,a){var u=0;s&&(u|=4),Fp(a,n,u,s)}var _o="_reactListening"+Math.random().toString(36).slice(2);function ac(n){if(!n[_o]){n[_o]=!0,Od.forEach(function(a){a!=="selectionchange"&&(Dx.has(a)||rc(a,!1,n),rc(a,!0,n))});var s=n.nodeType===9?n:n.ownerDocument;s===null||s[_o]||(s[_o]=!0,rc("selectionchange",!1,s))}}function Fp(n,s,a,u){switch(bm(s)){case 2:var p=ab;break;case 8:p=ob;break;default:p=_c}a=p.bind(null,s,a,n),p=void 0,!Al||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(p=!0),u?p!==void 0?n.addEventListener(s,a,{capture:!0,passive:p}):n.addEventListener(s,a,!0):p!==void 0?n.addEventListener(s,a,{passive:p}):n.addEventListener(s,a,!1)}function oc(n,s,a,u,p){var y=u;if((s&1)===0&&(s&2)===0&&u!==null)e:for(;;){if(u===null)return;var w=u.tag;if(w===3||w===4){var E=u.stateNode.containerInfo;if(E===p)break;if(w===4)for(w=u.return;w!==null;){var A=w.tag;if((A===3||A===4)&&w.stateNode.containerInfo===p)return;w=w.return}for(;E!==null;){if(w=ps(E),w===null)return;if(A=w.tag,A===5||A===6||A===26||A===27){u=y=w;continue e}E=E.parentNode}}u=u.return}Yd(function(){var P=y,q=El(a),$=[];e:{var L=Ef.get(n);if(L!==void 0){var G=Ia,se=n;switch(n){case"keypress":if(Ra(a)===0)break e;case"keydown":case"keyup":G=Ty;break;case"focusin":se="focus",G=kl;break;case"focusout":se="blur",G=kl;break;case"beforeblur":case"afterblur":G=kl;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":G=Qd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":G=hy;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":G=Ny;break;case bf:case _f:case wf:G=gy;break;case Sf:G=ky;break;case"scroll":case"scrollend":G=dy;break;case"wheel":G=Dy;break;case"copy":case"cut":case"paste":G=yy;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":G=ef;break;case"toggle":case"beforetoggle":G=Uy}var fe=(s&4)!==0,Ve=!fe&&(n==="scroll"||n==="scrollend"),I=fe?L!==null?L+"Capture":null:L;fe=[];for(var k=P,U;k!==null;){var F=k;if(U=F.stateNode,F=F.tag,F!==5&&F!==26&&F!==27||U===null||I===null||(F=_r(k,I),F!=null&&fe.push(ea(k,F,U))),Ve)break;k=k.return}0<fe.length&&(L=new G(L,se,null,a,q),$.push({event:L,listeners:fe}))}}if((s&7)===0){e:{if(L=n==="mouseover"||n==="pointerover",G=n==="mouseout"||n==="pointerout",L&&a!==Sl&&(se=a.relatedTarget||a.fromElement)&&(ps(se)||se[hs]))break e;if((G||L)&&(L=q.window===q?q:(L=q.ownerDocument)?L.defaultView||L.parentWindow:window,G?(se=a.relatedTarget||a.toElement,G=P,se=se?ps(se):null,se!==null&&(Ve=l(se),fe=se.tag,se!==Ve||fe!==5&&fe!==27&&fe!==6)&&(se=null)):(G=null,se=P),G!==se)){if(fe=Qd,F="onMouseLeave",I="onMouseEnter",k="mouse",(n==="pointerout"||n==="pointerover")&&(fe=ef,F="onPointerLeave",I="onPointerEnter",k="pointer"),Ve=G==null?L:br(G),U=se==null?L:br(se),L=new fe(F,k+"leave",G,a,q),L.target=Ve,L.relatedTarget=U,F=null,ps(q)===P&&(fe=new fe(I,k+"enter",se,a,q),fe.target=U,fe.relatedTarget=Ve,F=fe),Ve=F,G&&se)t:{for(fe=Mx,I=G,k=se,U=0,F=I;F;F=fe(F))U++;F=0;for(var de=k;de;de=fe(de))F++;for(;0<U-F;)I=fe(I),U--;for(;0<F-U;)k=fe(k),F--;for(;U--;){if(I===k||k!==null&&I===k.alternate){fe=I;break t}I=fe(I),k=fe(k)}fe=null}else fe=null;G!==null&&$p($,L,G,fe,!1),se!==null&&Ve!==null&&$p($,Ve,se,fe,!0)}}e:{if(L=P?br(P):window,G=L.nodeName&&L.nodeName.toLowerCase(),G==="select"||G==="input"&&L.type==="file")var Me=uf;else if(of(L))if(cf)Me=zy;else{Me=qy;var re=Hy}else G=L.nodeName,!G||G.toLowerCase()!=="input"||L.type!=="checkbox"&&L.type!=="radio"?P&&wl(P.elementType)&&(Me=uf):Me=Vy;if(Me&&(Me=Me(n,P))){lf($,Me,a,q);break e}re&&re(n,L,P),n==="focusout"&&P&&L.type==="number"&&P.memoizedProps.value!=null&&_l(L,"number",L.value)}switch(re=P?br(P):window,n){case"focusin":(of(re)||re.contentEditable==="true")&&(Ss=re,Ll=P,Rr=null);break;case"focusout":Rr=Ll=Ss=null;break;case"mousedown":Ol=!0;break;case"contextmenu":case"mouseup":case"dragend":Ol=!1,yf($,a,q);break;case"selectionchange":if($y)break;case"keydown":case"keyup":yf($,a,q)}var be;if(Dl)e:{switch(n){case"compositionstart":var Ne="onCompositionStart";break e;case"compositionend":Ne="onCompositionEnd";break e;case"compositionupdate":Ne="onCompositionUpdate";break e}Ne=void 0}else ws?rf(n,a)&&(Ne="onCompositionEnd"):n==="keydown"&&a.keyCode===229&&(Ne="onCompositionStart");Ne&&(tf&&a.locale!=="ko"&&(ws||Ne!=="onCompositionStart"?Ne==="onCompositionEnd"&&ws&&(be=Xd()):(li=q,Cl="value"in li?li.value:li.textContent,ws=!0)),re=wo(P,Ne),0<re.length&&(Ne=new Zd(Ne,n,null,a,q),$.push({event:Ne,listeners:re}),be?Ne.data=be:(be=af(a),be!==null&&(Ne.data=be)))),(be=Ly?Oy(n,a):Gy(n,a))&&(Ne=wo(P,"onBeforeInput"),0<Ne.length&&(re=new Zd("onBeforeInput","beforeinput",null,a,q),$.push({event:re,listeners:Ne}),re.data=be)),Rx($,n,P,a,q)}zp($,s)})}function ea(n,s,a){return{instance:n,listener:s,currentTarget:a}}function wo(n,s){for(var a=s+"Capture",u=[];n!==null;){var p=n,y=p.stateNode;if(p=p.tag,p!==5&&p!==26&&p!==27||y===null||(p=_r(n,a),p!=null&&u.unshift(ea(n,p,y)),p=_r(n,s),p!=null&&u.push(ea(n,p,y))),n.tag===3)return u;n=n.return}return[]}function Mx(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function $p(n,s,a,u,p){for(var y=s._reactName,w=[];a!==null&&a!==u;){var E=a,A=E.alternate,P=E.stateNode;if(E=E.tag,A!==null&&A===u)break;E!==5&&E!==26&&E!==27||P===null||(A=P,p?(P=_r(a,y),P!=null&&w.unshift(ea(a,P,A))):p||(P=_r(a,y),P!=null&&w.push(ea(a,P,A)))),a=a.return}w.length!==0&&n.push({event:s,listeners:w})}var Ux=/\r\n?/g,Px=/\u0000|\uFFFD/g;function Jp(n){return(typeof n=="string"?n:""+n).replace(Ux,`
`).replace(Px,"")}function Kp(n,s){return s=Jp(s),Jp(n)===s}function qe(n,s,a,u,p,y){switch(a){case"children":typeof u=="string"?s==="body"||s==="textarea"&&u===""||xs(n,u):(typeof u=="number"||typeof u=="bigint")&&s!=="body"&&xs(n,""+u);break;case"className":Ta(n,"class",u);break;case"tabIndex":Ta(n,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":Ta(n,a,u);break;case"style":Jd(n,u,y);break;case"data":if(s!=="object"){Ta(n,"data",u);break}case"src":case"href":if(u===""&&(s!=="a"||a!=="href")){n.removeAttribute(a);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){n.removeAttribute(a);break}u=Ca(""+u),n.setAttribute(a,u);break;case"action":case"formAction":if(typeof u=="function"){n.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(a==="formAction"?(s!=="input"&&qe(n,s,"name",p.name,p,null),qe(n,s,"formEncType",p.formEncType,p,null),qe(n,s,"formMethod",p.formMethod,p,null),qe(n,s,"formTarget",p.formTarget,p,null)):(qe(n,s,"encType",p.encType,p,null),qe(n,s,"method",p.method,p,null),qe(n,s,"target",p.target,p,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){n.removeAttribute(a);break}u=Ca(""+u),n.setAttribute(a,u);break;case"onClick":u!=null&&(n.onclick=Ln);break;case"onScroll":u!=null&&Te("scroll",n);break;case"onScrollEnd":u!=null&&Te("scrollend",n);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(r(61));if(a=u.__html,a!=null){if(p.children!=null)throw Error(r(60));n.innerHTML=a}}break;case"multiple":n.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":n.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){n.removeAttribute("xlink:href");break}a=Ca(""+u),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(a,""+u):n.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(a,""):n.removeAttribute(a);break;case"capture":case"download":u===!0?n.setAttribute(a,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(a,u):n.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?n.setAttribute(a,u):n.removeAttribute(a);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?n.removeAttribute(a):n.setAttribute(a,u);break;case"popover":Te("beforetoggle",n),Te("toggle",n),Ea(n,"popover",u);break;case"xlinkActuate":Pn(n,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":Pn(n,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":Pn(n,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":Pn(n,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":Pn(n,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":Pn(n,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":Pn(n,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":Pn(n,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":Pn(n,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":Ea(n,"is",u);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=uy.get(a)||a,Ea(n,a,u))}}function lc(n,s,a,u,p,y){switch(a){case"style":Jd(n,u,y);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(r(61));if(a=u.__html,a!=null){if(p.children!=null)throw Error(r(60));n.innerHTML=a}}break;case"children":typeof u=="string"?xs(n,u):(typeof u=="number"||typeof u=="bigint")&&xs(n,""+u);break;case"onScroll":u!=null&&Te("scroll",n);break;case"onScrollEnd":u!=null&&Te("scrollend",n);break;case"onClick":u!=null&&(n.onclick=Ln);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Gd.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(p=a.endsWith("Capture"),s=a.slice(2,p?a.length-7:void 0),y=n[Gt]||null,y=y!=null?y[a]:null,typeof y=="function"&&n.removeEventListener(s,y,p),typeof u=="function")){typeof y!="function"&&y!==null&&(a in n?n[a]=null:n.hasAttribute(a)&&n.removeAttribute(a)),n.addEventListener(s,u,p);break e}a in n?n[a]=u:u===!0?n.setAttribute(a,""):Ea(n,a,u)}}}function At(n,s,a){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Te("error",n),Te("load",n);var u=!1,p=!1,y;for(y in a)if(a.hasOwnProperty(y)){var w=a[y];if(w!=null)switch(y){case"src":u=!0;break;case"srcSet":p=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:qe(n,s,y,w,a,null)}}p&&qe(n,s,"srcSet",a.srcSet,a,null),u&&qe(n,s,"src",a.src,a,null);return;case"input":Te("invalid",n);var E=y=w=p=null,A=null,P=null;for(u in a)if(a.hasOwnProperty(u)){var q=a[u];if(q!=null)switch(u){case"name":p=q;break;case"type":w=q;break;case"checked":A=q;break;case"defaultChecked":P=q;break;case"value":y=q;break;case"defaultValue":E=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(r(137,s));break;default:qe(n,s,u,q,a,null)}}Vd(n,y,E,A,P,w,p,!1);return;case"select":Te("invalid",n),u=w=y=null;for(p in a)if(a.hasOwnProperty(p)&&(E=a[p],E!=null))switch(p){case"value":y=E;break;case"defaultValue":w=E;break;case"multiple":u=E;default:qe(n,s,p,E,a,null)}s=y,a=w,n.multiple=!!u,s!=null?ys(n,!!u,s,!1):a!=null&&ys(n,!!u,a,!0);return;case"textarea":Te("invalid",n),y=p=u=null;for(w in a)if(a.hasOwnProperty(w)&&(E=a[w],E!=null))switch(w){case"value":u=E;break;case"defaultValue":p=E;break;case"children":y=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(r(91));break;default:qe(n,s,w,E,a,null)}Fd(n,u,p,y);return;case"option":for(A in a)if(a.hasOwnProperty(A)&&(u=a[A],u!=null))switch(A){case"selected":n.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:qe(n,s,A,u,a,null)}return;case"dialog":Te("beforetoggle",n),Te("toggle",n),Te("cancel",n),Te("close",n);break;case"iframe":case"object":Te("load",n);break;case"video":case"audio":for(u=0;u<Zr.length;u++)Te(Zr[u],n);break;case"image":Te("error",n),Te("load",n);break;case"details":Te("toggle",n);break;case"embed":case"source":case"link":Te("error",n),Te("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(P in a)if(a.hasOwnProperty(P)&&(u=a[P],u!=null))switch(P){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:qe(n,s,P,u,a,null)}return;default:if(wl(s)){for(q in a)a.hasOwnProperty(q)&&(u=a[q],u!==void 0&&lc(n,s,q,u,a,void 0));return}}for(E in a)a.hasOwnProperty(E)&&(u=a[E],u!=null&&qe(n,s,E,u,a,null))}function Lx(n,s,a,u){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var p=null,y=null,w=null,E=null,A=null,P=null,q=null;for(G in a){var $=a[G];if(a.hasOwnProperty(G)&&$!=null)switch(G){case"checked":break;case"value":break;case"defaultValue":A=$;default:u.hasOwnProperty(G)||qe(n,s,G,null,u,$)}}for(var L in u){var G=u[L];if($=a[L],u.hasOwnProperty(L)&&(G!=null||$!=null))switch(L){case"type":y=G;break;case"name":p=G;break;case"checked":P=G;break;case"defaultChecked":q=G;break;case"value":w=G;break;case"defaultValue":E=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(r(137,s));break;default:G!==$&&qe(n,s,L,G,u,$)}}bl(n,w,E,A,P,q,y,p);return;case"select":G=w=E=L=null;for(y in a)if(A=a[y],a.hasOwnProperty(y)&&A!=null)switch(y){case"value":break;case"multiple":G=A;default:u.hasOwnProperty(y)||qe(n,s,y,null,u,A)}for(p in u)if(y=u[p],A=a[p],u.hasOwnProperty(p)&&(y!=null||A!=null))switch(p){case"value":L=y;break;case"defaultValue":E=y;break;case"multiple":w=y;default:y!==A&&qe(n,s,p,y,u,A)}s=E,a=w,u=G,L!=null?ys(n,!!a,L,!1):!!u!=!!a&&(s!=null?ys(n,!!a,s,!0):ys(n,!!a,a?[]:"",!1));return;case"textarea":G=L=null;for(E in a)if(p=a[E],a.hasOwnProperty(E)&&p!=null&&!u.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:qe(n,s,E,null,u,p)}for(w in u)if(p=u[w],y=a[w],u.hasOwnProperty(w)&&(p!=null||y!=null))switch(w){case"value":L=p;break;case"defaultValue":G=p;break;case"children":break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(r(91));break;default:p!==y&&qe(n,s,w,p,u,y)}zd(n,L,G);return;case"option":for(var se in a)if(L=a[se],a.hasOwnProperty(se)&&L!=null&&!u.hasOwnProperty(se))switch(se){case"selected":n.selected=!1;break;default:qe(n,s,se,null,u,L)}for(A in u)if(L=u[A],G=a[A],u.hasOwnProperty(A)&&L!==G&&(L!=null||G!=null))switch(A){case"selected":n.selected=L&&typeof L!="function"&&typeof L!="symbol";break;default:qe(n,s,A,L,u,G)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var fe in a)L=a[fe],a.hasOwnProperty(fe)&&L!=null&&!u.hasOwnProperty(fe)&&qe(n,s,fe,null,u,L);for(P in u)if(L=u[P],G=a[P],u.hasOwnProperty(P)&&L!==G&&(L!=null||G!=null))switch(P){case"children":case"dangerouslySetInnerHTML":if(L!=null)throw Error(r(137,s));break;default:qe(n,s,P,L,u,G)}return;default:if(wl(s)){for(var Ve in a)L=a[Ve],a.hasOwnProperty(Ve)&&L!==void 0&&!u.hasOwnProperty(Ve)&&lc(n,s,Ve,void 0,u,L);for(q in u)L=u[q],G=a[q],!u.hasOwnProperty(q)||L===G||L===void 0&&G===void 0||lc(n,s,q,L,u,G);return}}for(var I in a)L=a[I],a.hasOwnProperty(I)&&L!=null&&!u.hasOwnProperty(I)&&qe(n,s,I,null,u,L);for($ in u)L=u[$],G=a[$],!u.hasOwnProperty($)||L===G||L==null&&G==null||qe(n,s,$,L,u,G)}function Yp(n){switch(n){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Ox(){if(typeof performance.getEntriesByType=="function"){for(var n=0,s=0,a=performance.getEntriesByType("resource"),u=0;u<a.length;u++){var p=a[u],y=p.transferSize,w=p.initiatorType,E=p.duration;if(y&&E&&Yp(w)){for(w=0,E=p.responseEnd,u+=1;u<a.length;u++){var A=a[u],P=A.startTime;if(P>E)break;var q=A.transferSize,$=A.initiatorType;q&&Yp($)&&(A=A.responseEnd,w+=q*(A<E?1:(E-P)/(A-P)))}if(--u,s+=8*(y+w)/(p.duration/1e3),n++,10<n)break}}if(0<n)return s/n/1e6}return navigator.connection&&(n=navigator.connection.downlink,typeof n=="number")?n:5}var uc=null,cc=null;function So(n){return n.nodeType===9?n:n.ownerDocument}function Xp(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Wp(n,s){if(n===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&s==="foreignObject"?0:n}function dc(n,s){return n==="textarea"||n==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var fc=null;function Gx(){var n=window.event;return n&&n.type==="popstate"?n===fc?!1:(fc=n,!0):(fc=null,!1)}var Qp=typeof setTimeout=="function"?setTimeout:void 0,jx=typeof clearTimeout=="function"?clearTimeout:void 0,Zp=typeof Promise=="function"?Promise:void 0,Bx=typeof queueMicrotask=="function"?queueMicrotask:typeof Zp<"u"?function(n){return Zp.resolve(null).then(n).catch(Hx)}:Qp;function Hx(n){setTimeout(function(){throw n})}function Ti(n){return n==="head"}function em(n,s){var a=s,u=0;do{var p=a.nextSibling;if(n.removeChild(a),p&&p.nodeType===8)if(a=p.data,a==="/$"||a==="/&"){if(u===0){n.removeChild(p),Xs(s);return}u--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")u++;else if(a==="html")ta(n.ownerDocument.documentElement);else if(a==="head"){a=n.ownerDocument.head,ta(a);for(var y=a.firstChild;y;){var w=y.nextSibling,E=y.nodeName;y[xr]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&y.rel.toLowerCase()==="stylesheet"||a.removeChild(y),y=w}}else a==="body"&&ta(n.ownerDocument.body);a=p}while(a);Xs(s)}function tm(n,s){var a=n;n=0;do{var u=a.nextSibling;if(a.nodeType===1?s?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(s?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),u&&u.nodeType===8)if(a=u.data,a==="/$"){if(n===0)break;n--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||n++;a=u}while(a)}function hc(n){var s=n.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var a=s;switch(s=s.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":hc(a),yl(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}n.removeChild(a)}}function qx(n,s,a,u){for(;n.nodeType===1;){var p=a;if(n.nodeName.toLowerCase()!==s.toLowerCase()){if(!u&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(u){if(!n[xr])switch(s){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(y=n.getAttribute("rel"),y==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(y!==p.rel||n.getAttribute("href")!==(p.href==null||p.href===""?null:p.href)||n.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin)||n.getAttribute("title")!==(p.title==null?null:p.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(y=n.getAttribute("src"),(y!==(p.src==null?null:p.src)||n.getAttribute("type")!==(p.type==null?null:p.type)||n.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin))&&y&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(s==="input"&&n.type==="hidden"){var y=p.name==null?null:""+p.name;if(p.type==="hidden"&&n.getAttribute("name")===y)return n}else return n;if(n=pn(n.nextSibling),n===null)break}return null}function Vx(n,s,a){if(s==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!a||(n=pn(n.nextSibling),n===null))return null;return n}function nm(n,s){for(;n.nodeType!==8;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!s||(n=pn(n.nextSibling),n===null))return null;return n}function pc(n){return n.data==="$?"||n.data==="$~"}function mc(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState!=="loading"}function zx(n,s){var a=n.ownerDocument;if(n.data==="$~")n._reactRetry=s;else if(n.data!=="$?"||a.readyState!=="loading")s();else{var u=function(){s(),a.removeEventListener("DOMContentLoaded",u)};a.addEventListener("DOMContentLoaded",u),n._reactRetry=u}}function pn(n){for(;n!=null;n=n.nextSibling){var s=n.nodeType;if(s===1||s===3)break;if(s===8){if(s=n.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return n}var gc=null;function im(n){n=n.nextSibling;for(var s=0;n;){if(n.nodeType===8){var a=n.data;if(a==="/$"||a==="/&"){if(s===0)return pn(n.nextSibling);s--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||s++}n=n.nextSibling}return null}function sm(n){n=n.previousSibling;for(var s=0;n;){if(n.nodeType===8){var a=n.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(s===0)return n;s--}else a!=="/$"&&a!=="/&"||s++}n=n.previousSibling}return null}function rm(n,s,a){switch(s=So(a),n){case"html":if(n=s.documentElement,!n)throw Error(r(452));return n;case"head":if(n=s.head,!n)throw Error(r(453));return n;case"body":if(n=s.body,!n)throw Error(r(454));return n;default:throw Error(r(451))}}function ta(n){for(var s=n.attributes;s.length;)n.removeAttributeNode(s[0]);yl(n)}var mn=new Map,am=new Set;function Eo(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var Qn=Y.d;Y.d={f:Fx,r:$x,D:Jx,C:Kx,L:Yx,m:Xx,X:Qx,S:Wx,M:Zx};function Fx(){var n=Qn.f(),s=mo();return n||s}function $x(n){var s=ms(n);s!==null&&s.tag===5&&s.type==="form"?Sh(s):Qn.r(n)}var Js=typeof document>"u"?null:document;function om(n,s,a){var u=Js;if(u&&typeof s=="string"&&s){var p=on(s);p='link[rel="'+n+'"][href="'+p+'"]',typeof a=="string"&&(p+='[crossorigin="'+a+'"]'),am.has(p)||(am.add(p),n={rel:n,crossOrigin:a,href:s},u.querySelector(p)===null&&(s=u.createElement("link"),At(s,"link",n),xt(s),u.head.appendChild(s)))}}function Jx(n){Qn.D(n),om("dns-prefetch",n,null)}function Kx(n,s){Qn.C(n,s),om("preconnect",n,s)}function Yx(n,s,a){Qn.L(n,s,a);var u=Js;if(u&&n&&s){var p='link[rel="preload"][as="'+on(s)+'"]';s==="image"&&a&&a.imageSrcSet?(p+='[imagesrcset="'+on(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(p+='[imagesizes="'+on(a.imageSizes)+'"]')):p+='[href="'+on(n)+'"]';var y=p;switch(s){case"style":y=Ks(n);break;case"script":y=Ys(n)}mn.has(y)||(n=b({rel:"preload",href:s==="image"&&a&&a.imageSrcSet?void 0:n,as:s},a),mn.set(y,n),u.querySelector(p)!==null||s==="style"&&u.querySelector(na(y))||s==="script"&&u.querySelector(ia(y))||(s=u.createElement("link"),At(s,"link",n),xt(s),u.head.appendChild(s)))}}function Xx(n,s){Qn.m(n,s);var a=Js;if(a&&n){var u=s&&typeof s.as=="string"?s.as:"script",p='link[rel="modulepreload"][as="'+on(u)+'"][href="'+on(n)+'"]',y=p;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=Ys(n)}if(!mn.has(y)&&(n=b({rel:"modulepreload",href:n},s),mn.set(y,n),a.querySelector(p)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(ia(y)))return}u=a.createElement("link"),At(u,"link",n),xt(u),a.head.appendChild(u)}}}function Wx(n,s,a){Qn.S(n,s,a);var u=Js;if(u&&n){var p=gs(u).hoistableStyles,y=Ks(n);s=s||"default";var w=p.get(y);if(!w){var E={loading:0,preload:null};if(w=u.querySelector(na(y)))E.loading=5;else{n=b({rel:"stylesheet",href:n,"data-precedence":s},a),(a=mn.get(y))&&vc(n,a);var A=w=u.createElement("link");xt(A),At(A,"link",n),A._p=new Promise(function(P,q){A.onload=P,A.onerror=q}),A.addEventListener("load",function(){E.loading|=1}),A.addEventListener("error",function(){E.loading|=2}),E.loading|=4,To(w,s,u)}w={type:"stylesheet",instance:w,count:1,state:E},p.set(y,w)}}}function Qx(n,s){Qn.X(n,s);var a=Js;if(a&&n){var u=gs(a).hoistableScripts,p=Ys(n),y=u.get(p);y||(y=a.querySelector(ia(p)),y||(n=b({src:n,async:!0},s),(s=mn.get(p))&&yc(n,s),y=a.createElement("script"),xt(y),At(y,"link",n),a.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},u.set(p,y))}}function Zx(n,s){Qn.M(n,s);var a=Js;if(a&&n){var u=gs(a).hoistableScripts,p=Ys(n),y=u.get(p);y||(y=a.querySelector(ia(p)),y||(n=b({src:n,async:!0,type:"module"},s),(s=mn.get(p))&&yc(n,s),y=a.createElement("script"),xt(y),At(y,"link",n),a.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},u.set(p,y))}}function lm(n,s,a,u){var p=(p=xe.current)?Eo(p):null;if(!p)throw Error(r(446));switch(n){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(s=Ks(a.href),a=gs(p).hoistableStyles,u=a.get(s),u||(u={type:"style",instance:null,count:0,state:null},a.set(s,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){n=Ks(a.href);var y=gs(p).hoistableStyles,w=y.get(n);if(w||(p=p.ownerDocument||p,w={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(n,w),(y=p.querySelector(na(n)))&&!y._p&&(w.instance=y,w.state.loading=5),mn.has(n)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},mn.set(n,a),y||eb(p,n,a,w.state))),s&&u===null)throw Error(r(528,""));return w}if(s&&u!==null)throw Error(r(529,""));return null;case"script":return s=a.async,a=a.src,typeof a=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=Ys(a),a=gs(p).hoistableScripts,u=a.get(s),u||(u={type:"script",instance:null,count:0,state:null},a.set(s,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,n))}}function Ks(n){return'href="'+on(n)+'"'}function na(n){return'link[rel="stylesheet"]['+n+"]"}function um(n){return b({},n,{"data-precedence":n.precedence,precedence:null})}function eb(n,s,a,u){n.querySelector('link[rel="preload"][as="style"]['+s+"]")?u.loading=1:(s=n.createElement("link"),u.preload=s,s.addEventListener("load",function(){return u.loading|=1}),s.addEventListener("error",function(){return u.loading|=2}),At(s,"link",a),xt(s),n.head.appendChild(s))}function Ys(n){return'[src="'+on(n)+'"]'}function ia(n){return"script[async]"+n}function cm(n,s,a){if(s.count++,s.instance===null)switch(s.type){case"style":var u=n.querySelector('style[data-href~="'+on(a.href)+'"]');if(u)return s.instance=u,xt(u),u;var p=b({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return u=(n.ownerDocument||n).createElement("style"),xt(u),At(u,"style",p),To(u,a.precedence,n),s.instance=u;case"stylesheet":p=Ks(a.href);var y=n.querySelector(na(p));if(y)return s.state.loading|=4,s.instance=y,xt(y),y;u=um(a),(p=mn.get(p))&&vc(u,p),y=(n.ownerDocument||n).createElement("link"),xt(y);var w=y;return w._p=new Promise(function(E,A){w.onload=E,w.onerror=A}),At(y,"link",u),s.state.loading|=4,To(y,a.precedence,n),s.instance=y;case"script":return y=Ys(a.src),(p=n.querySelector(ia(y)))?(s.instance=p,xt(p),p):(u=a,(p=mn.get(y))&&(u=b({},a),yc(u,p)),n=n.ownerDocument||n,p=n.createElement("script"),xt(p),At(p,"link",u),n.head.appendChild(p),s.instance=p);case"void":return null;default:throw Error(r(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(u=s.instance,s.state.loading|=4,To(u,a.precedence,n));return s.instance}function To(n,s,a){for(var u=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),p=u.length?u[u.length-1]:null,y=p,w=0;w<u.length;w++){var E=u[w];if(E.dataset.precedence===s)y=E;else if(y!==p)break}y?y.parentNode.insertBefore(n,y.nextSibling):(s=a.nodeType===9?a.head:a,s.insertBefore(n,s.firstChild))}function vc(n,s){n.crossOrigin==null&&(n.crossOrigin=s.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=s.referrerPolicy),n.title==null&&(n.title=s.title)}function yc(n,s){n.crossOrigin==null&&(n.crossOrigin=s.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=s.referrerPolicy),n.integrity==null&&(n.integrity=s.integrity)}var Ao=null;function dm(n,s,a){if(Ao===null){var u=new Map,p=Ao=new Map;p.set(a,u)}else p=Ao,u=p.get(a),u||(u=new Map,p.set(a,u));if(u.has(n))return u;for(u.set(n,null),a=a.getElementsByTagName(n),p=0;p<a.length;p++){var y=a[p];if(!(y[xr]||y[wt]||n==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var w=y.getAttribute(s)||"";w=n+w;var E=u.get(w);E?E.push(y):u.set(w,[y])}}return u}function fm(n,s,a){n=n.ownerDocument||n,n.head.insertBefore(a,s==="title"?n.querySelector("head > title"):null)}function tb(n,s,a){if(a===1||s.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return n=s.disabled,typeof s.precedence=="string"&&n==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function hm(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}function nb(n,s,a,u){if(a.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var p=Ks(u.href),y=s.querySelector(na(p));if(y){s=y._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(n.count++,n=Co.bind(n),s.then(n,n)),a.state.loading|=4,a.instance=y,xt(y);return}y=s.ownerDocument||s,u=um(u),(p=mn.get(p))&&vc(u,p),y=y.createElement("link"),xt(y);var w=y;w._p=new Promise(function(E,A){w.onload=E,w.onerror=A}),At(y,"link",u),a.instance=y}n.stylesheets===null&&(n.stylesheets=new Map),n.stylesheets.set(a,s),(s=a.state.preload)&&(a.state.loading&3)===0&&(n.count++,a=Co.bind(n),s.addEventListener("load",a),s.addEventListener("error",a))}}var xc=0;function ib(n,s){return n.stylesheets&&n.count===0&&Ro(n,n.stylesheets),0<n.count||0<n.imgCount?function(a){var u=setTimeout(function(){if(n.stylesheets&&Ro(n,n.stylesheets),n.unsuspend){var y=n.unsuspend;n.unsuspend=null,y()}},6e4+s);0<n.imgBytes&&xc===0&&(xc=62500*Ox());var p=setTimeout(function(){if(n.waitingForImages=!1,n.count===0&&(n.stylesheets&&Ro(n,n.stylesheets),n.unsuspend)){var y=n.unsuspend;n.unsuspend=null,y()}},(n.imgBytes>xc?50:800)+s);return n.unsuspend=a,function(){n.unsuspend=null,clearTimeout(u),clearTimeout(p)}}:null}function Co(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Ro(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var No=null;function Ro(n,s){n.stylesheets=null,n.unsuspend!==null&&(n.count++,No=new Map,s.forEach(sb,n),No=null,Co.call(n))}function sb(n,s){if(!(s.state.loading&4)){var a=No.get(n);if(a)var u=a.get(null);else{a=new Map,No.set(n,a);for(var p=n.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<p.length;y++){var w=p[y];(w.nodeName==="LINK"||w.getAttribute("media")!=="not all")&&(a.set(w.dataset.precedence,w),u=w)}u&&a.set(null,u)}p=s.instance,w=p.getAttribute("data-precedence"),y=a.get(w)||u,y===u&&a.set(null,p),a.set(w,p),this.count++,u=Co.bind(this),p.addEventListener("load",u),p.addEventListener("error",u),y?y.parentNode.insertBefore(p,y.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(p,n.firstChild)),s.state.loading|=4}}var sa={$$typeof:M,Provider:null,Consumer:null,_currentValue:oe,_currentValue2:oe,_threadCount:0};function rb(n,s,a,u,p,y,w,E,A){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=pl(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=pl(0),this.hiddenUpdates=pl(null),this.identifierPrefix=u,this.onUncaughtError=p,this.onCaughtError=y,this.onRecoverableError=w,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=A,this.incompleteTransitions=new Map}function pm(n,s,a,u,p,y,w,E,A,P,q,$){return n=new rb(n,s,a,w,A,P,q,$,E),s=1,y===!0&&(s|=24),y=Jt(3,null,null,s),n.current=y,y.stateNode=n,s=Ql(),s.refCount++,n.pooledCache=s,s.refCount++,y.memoizedState={element:u,isDehydrated:a,cache:s},nu(y),n}function mm(n){return n?(n=As,n):As}function gm(n,s,a,u,p,y){p=mm(p),u.context===null?u.context=p:u.pendingContext=p,u=pi(s),u.payload={element:a},y=y===void 0?null:y,y!==null&&(u.callback=y),a=mi(n,u,s),a!==null&&(zt(a,n,s),Lr(a,n,s))}function vm(n,s){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var a=n.retryLane;n.retryLane=a!==0&&a<s?a:s}}function bc(n,s){vm(n,s),(n=n.alternate)&&vm(n,s)}function ym(n){if(n.tag===13||n.tag===31){var s=zi(n,67108864);s!==null&&zt(s,n,67108864),bc(n,67108864)}}function xm(n){if(n.tag===13||n.tag===31){var s=Qt();s=ml(s);var a=zi(n,s);a!==null&&zt(a,n,s),bc(n,s)}}var ko=!0;function ab(n,s,a,u){var p=O.T;O.T=null;var y=Y.p;try{Y.p=2,_c(n,s,a,u)}finally{Y.p=y,O.T=p}}function ob(n,s,a,u){var p=O.T;O.T=null;var y=Y.p;try{Y.p=8,_c(n,s,a,u)}finally{Y.p=y,O.T=p}}function _c(n,s,a,u){if(ko){var p=wc(u);if(p===null)oc(n,s,u,Io,a),_m(n,u);else if(ub(p,n,s,a,u))u.stopPropagation();else if(_m(n,u),s&4&&-1<lb.indexOf(n)){for(;p!==null;){var y=ms(p);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var w=Un(y.pendingLanes);if(w!==0){var E=y;for(E.pendingLanes|=2,E.entangledLanes|=2;w;){var A=1<<31-j(w);E.entanglements[1]|=A,w&=~A}Mn(y),(Oe&6)===0&&(ho=V()+500,Qr(0))}}break;case 31:case 13:E=zi(y,2),E!==null&&zt(E,y,2),mo(),bc(y,2)}if(y=wc(u),y===null&&oc(n,s,u,Io,a),y===p)break;p=y}p!==null&&u.stopPropagation()}else oc(n,s,u,null,a)}}function wc(n){return n=El(n),Sc(n)}var Io=null;function Sc(n){if(Io=null,n=ps(n),n!==null){var s=l(n);if(s===null)n=null;else{var a=s.tag;if(a===13){if(n=c(s),n!==null)return n;n=null}else if(a===31){if(n=h(s),n!==null)return n;n=null}else if(a===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;n=null}else s!==n&&(n=null)}}return Io=n,null}function bm(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ke()){case ot:return 2;case ht:return 8;case ai:case fs:return 32;case Mt:return 268435456;default:return 32}default:return 32}}var Ec=!1,Ai=null,Ci=null,Ni=null,ra=new Map,aa=new Map,Ri=[],lb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function _m(n,s){switch(n){case"focusin":case"focusout":Ai=null;break;case"dragenter":case"dragleave":Ci=null;break;case"mouseover":case"mouseout":Ni=null;break;case"pointerover":case"pointerout":ra.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":aa.delete(s.pointerId)}}function oa(n,s,a,u,p,y){return n===null||n.nativeEvent!==y?(n={blockedOn:s,domEventName:a,eventSystemFlags:u,nativeEvent:y,targetContainers:[p]},s!==null&&(s=ms(s),s!==null&&ym(s)),n):(n.eventSystemFlags|=u,s=n.targetContainers,p!==null&&s.indexOf(p)===-1&&s.push(p),n)}function ub(n,s,a,u,p){switch(s){case"focusin":return Ai=oa(Ai,n,s,a,u,p),!0;case"dragenter":return Ci=oa(Ci,n,s,a,u,p),!0;case"mouseover":return Ni=oa(Ni,n,s,a,u,p),!0;case"pointerover":var y=p.pointerId;return ra.set(y,oa(ra.get(y)||null,n,s,a,u,p)),!0;case"gotpointercapture":return y=p.pointerId,aa.set(y,oa(aa.get(y)||null,n,s,a,u,p)),!0}return!1}function wm(n){var s=ps(n.target);if(s!==null){var a=l(s);if(a!==null){if(s=a.tag,s===13){if(s=c(a),s!==null){n.blockedOn=s,Pd(n.priority,function(){xm(a)});return}}else if(s===31){if(s=h(a),s!==null){n.blockedOn=s,Pd(n.priority,function(){xm(a)});return}}else if(s===3&&a.stateNode.current.memoizedState.isDehydrated){n.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Do(n){if(n.blockedOn!==null)return!1;for(var s=n.targetContainers;0<s.length;){var a=wc(n.nativeEvent);if(a===null){a=n.nativeEvent;var u=new a.constructor(a.type,a);Sl=u,a.target.dispatchEvent(u),Sl=null}else return s=ms(a),s!==null&&ym(s),n.blockedOn=a,!1;s.shift()}return!0}function Sm(n,s,a){Do(n)&&a.delete(s)}function cb(){Ec=!1,Ai!==null&&Do(Ai)&&(Ai=null),Ci!==null&&Do(Ci)&&(Ci=null),Ni!==null&&Do(Ni)&&(Ni=null),ra.forEach(Sm),aa.forEach(Sm)}function Mo(n,s){n.blockedOn===s&&(n.blockedOn=null,Ec||(Ec=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,cb)))}var Uo=null;function Em(n){Uo!==n&&(Uo=n,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Uo===n&&(Uo=null);for(var s=0;s<n.length;s+=3){var a=n[s],u=n[s+1],p=n[s+2];if(typeof u!="function"){if(Sc(u||a)===null)continue;break}var y=ms(a);y!==null&&(n.splice(s,3),s-=3,wu(y,{pending:!0,data:p,method:a.method,action:u},u,p))}}))}function Xs(n){function s(A){return Mo(A,n)}Ai!==null&&Mo(Ai,n),Ci!==null&&Mo(Ci,n),Ni!==null&&Mo(Ni,n),ra.forEach(s),aa.forEach(s);for(var a=0;a<Ri.length;a++){var u=Ri[a];u.blockedOn===n&&(u.blockedOn=null)}for(;0<Ri.length&&(a=Ri[0],a.blockedOn===null);)wm(a),a.blockedOn===null&&Ri.shift();if(a=(n.ownerDocument||n).$$reactFormReplay,a!=null)for(u=0;u<a.length;u+=3){var p=a[u],y=a[u+1],w=p[Gt]||null;if(typeof y=="function")w||Em(a);else if(w){var E=null;if(y&&y.hasAttribute("formAction")){if(p=y,w=y[Gt]||null)E=w.formAction;else if(Sc(p)!==null)continue}else E=w.action;typeof E=="function"?a[u+1]=E:(a.splice(u,3),u-=3),Em(a)}}}function Tm(){function n(y){y.canIntercept&&y.info==="react-transition"&&y.intercept({handler:function(){return new Promise(function(w){return p=w})},focusReset:"manual",scroll:"manual"})}function s(){p!==null&&(p(),p=null),u||setTimeout(a,20)}function a(){if(!u&&!navigation.transition){var y=navigation.currentEntry;y&&y.url!=null&&navigation.navigate(y.url,{state:y.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var u=!1,p=null;return navigation.addEventListener("navigate",n),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(a,100),function(){u=!0,navigation.removeEventListener("navigate",n),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),p!==null&&(p(),p=null)}}}function Tc(n){this._internalRoot=n}Po.prototype.render=Tc.prototype.render=function(n){var s=this._internalRoot;if(s===null)throw Error(r(409));var a=s.current,u=Qt();gm(a,u,n,s,null,null)},Po.prototype.unmount=Tc.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var s=n.containerInfo;gm(n.current,2,null,n,null,null),mo(),s[hs]=null}};function Po(n){this._internalRoot=n}Po.prototype.unstable_scheduleHydration=function(n){if(n){var s=Ud();n={blockedOn:null,target:n,priority:s};for(var a=0;a<Ri.length&&s!==0&&s<Ri[a].priority;a++);Ri.splice(a,0,n),a===0&&wm(n)}};var Am=e.version;if(Am!=="19.2.3")throw Error(r(527,Am,"19.2.3"));Y.findDOMNode=function(n){var s=n._reactInternals;if(s===void 0)throw typeof n.render=="function"?Error(r(188)):(n=Object.keys(n).join(","),Error(r(268,n)));return n=m(s),n=n!==null?x(n):null,n=n===null?null:n.stateNode,n};var db={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:O,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Lo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Lo.isDisabled&&Lo.supportsFiber)try{ji=Lo.inject(db),yt=Lo}catch{}}return ua.createRoot=function(n,s){if(!o(n))throw Error(r(299));var a=!1,u="",p=Mh,y=Uh,w=Ph;return s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(u=s.identifierPrefix),s.onUncaughtError!==void 0&&(p=s.onUncaughtError),s.onCaughtError!==void 0&&(y=s.onCaughtError),s.onRecoverableError!==void 0&&(w=s.onRecoverableError)),s=pm(n,1,!1,null,null,a,u,null,p,y,w,Tm),n[hs]=s.current,ac(n),new Tc(s)},ua.hydrateRoot=function(n,s,a){if(!o(n))throw Error(r(299));var u=!1,p="",y=Mh,w=Uh,E=Ph,A=null;return a!=null&&(a.unstable_strictMode===!0&&(u=!0),a.identifierPrefix!==void 0&&(p=a.identifierPrefix),a.onUncaughtError!==void 0&&(y=a.onUncaughtError),a.onCaughtError!==void 0&&(w=a.onCaughtError),a.onRecoverableError!==void 0&&(E=a.onRecoverableError),a.formState!==void 0&&(A=a.formState)),s=pm(n,1,!0,s,a??null,u,p,A,y,w,E,Tm),s.context=mm(null),a=s.current,u=Qt(),u=ml(u),p=pi(u),p.callback=null,mi(a,p,u),a=u,s.current.lanes=a,yr(s,a),Mn(s),n[hs]=s.current,ac(n),new Po(s)},ua.version="19.2.3",ua}var Lm;function wb(){if(Lm)return Nc.exports;Lm=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Nc.exports=_b(),Nc.exports}var Sb=wb();const Eb=q0(Sb),Tb=({children:t,user:e,onLogout:i})=>{const[r,o]=Z.useState(new Date);return Z.useEffect(()=>{const l=setInterval(()=>o(new Date),1e3);return()=>clearInterval(l)},[]),g.jsxs("div",{className:"min-h-screen flex flex-col bg-[#f1f5f9]",children:[g.jsx("header",{className:"bg-slate-950 text-white shadow-2xl sticky top-0 z-[60] border-b border-white/5",children:g.jsxs("div",{className:"max-w-7xl mx-auto px-4 lg:px-8 h-20 lg:h-24 flex items-center justify-between gap-4",children:[g.jsxs("div",{className:"flex items-center space-x-3 lg:space-x-5 shrink-0",children:[g.jsx("div",{className:"relative group cursor-pointer",children:g.jsx("div",{className:"relative w-10 h-10 lg:w-12 lg:h-12 bg-blue-600 rounded-xl flex items-center justify-center text-slate-950 font-black text-xl lg:text-2xl shadow-lg transition-transform",children:"G"})}),g.jsxs("div",{className:"hidden sm:block",children:[g.jsx("h1",{className:"text-sm lg:text-xl font-black tracking-tighter leading-none uppercase",children:"Gondwana NotePro"}),g.jsx("p",{className:"text-[8px] lg:text-[9px] text-blue-500 uppercase tracking-[0.3em] font-black mt-1 opacity-80",children:"Institutional Node"})]})]}),g.jsxs("div",{className:"hidden md:flex items-center px-6 lg:px-10 border-x border-white/5 mx-2 lg:mx-6 gap-4 lg:gap-6 shrink-0",children:[g.jsx("div",{className:"w-2.5 h-2.5 rounded-full bg-emerald-500 animate-pulse shadow-[0_0_15px_rgba(16,185,129,0.6)] shrink-0"}),g.jsxs("div",{className:"flex items-center gap-4 lg:gap-6",children:[g.jsxs("div",{className:"flex flex-col items-end",children:[g.jsxs("div",{className:"flex items-baseline gap-1.5",children:[g.jsx("span",{className:"text-2xl lg:text-4xl font-black text-white tracking-tighter tabular-nums leading-none",children:r.toLocaleTimeString("en-IN",{hour:"2-digit",minute:"2-digit",hour12:!1})}),g.jsx("span",{className:"text-sm lg:text-lg font-bold text-blue-500 tabular-nums leading-none opacity-80",children:r.toLocaleTimeString("en-IN",{second:"2-digit"})})]}),g.jsx("span",{className:"text-[7px] lg:text-[8px] font-black text-slate-500 uppercase tracking-[0.2em] mt-1",children:"High Precision Time"})]}),g.jsx("div",{className:"h-8 w-[1px] bg-white/10 hidden lg:block"}),g.jsxs("div",{className:"hidden lg:flex flex-col justify-center",children:[g.jsx("span",{className:"text-xs lg:text-sm font-black text-amber-500 uppercase tracking-widest leading-none",children:r.toLocaleDateString("en-IN",{weekday:"long"}).toUpperCase()}),g.jsx("span",{className:"text-[9px] lg:text-[10px] font-bold text-white uppercase tracking-tighter mt-1 whitespace-nowrap",children:r.toLocaleDateString("en-IN",{day:"2-digit",month:"long",year:"numeric"})})]})]})]}),g.jsxs("div",{className:"flex items-center space-x-3 lg:space-x-8 shrink-0",children:[g.jsxs("div",{className:"flex items-center gap-3 lg:gap-4",children:[g.jsxs("div",{className:"text-right flex flex-col justify-center max-w-[100px] sm:max-w-[180px] lg:max-w-xs",children:[g.jsx("p",{className:"text-[10px] lg:text-sm font-black tracking-tight text-white leading-none mb-1 truncate uppercase",children:e.name}),g.jsx("p",{className:"text-[7px] lg:text-[9px] text-amber-500 font-black uppercase tracking-widest leading-none truncate",children:e.designation})]}),g.jsx("div",{className:"w-9 h-9 lg:w-11 lg:h-11 rounded-xl overflow-hidden border border-white/10 bg-slate-900 flex items-center justify-center shadow-lg relative group shrink-0",children:e.photo?g.jsx("img",{src:e.photo,alt:e.name,className:"w-full h-full object-cover"}):g.jsx("span",{className:"text-blue-500 font-black text-xs uppercase",children:e.name.charAt(0)})})]}),g.jsx("button",{onClick:i,className:"p-2.5 lg:p-3 bg-white/5 border border-white/10 rounded-xl text-slate-400 hover:text-white hover:bg-rose-600 transition-all active:scale-95 shadow-lg group shrink-0",children:g.jsx("svg",{className:"w-4 h-4 lg:w-5 lg:h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2.5,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})})})]})]})}),g.jsx("main",{className:"flex-1 w-full max-w-7xl mx-auto px-4 lg:px-8 py-6 lg:py-10",children:t}),g.jsx("footer",{className:"bg-white border-t border-slate-200 py-10 relative overflow-hidden hidden lg:block",children:g.jsxs("div",{className:"max-w-7xl mx-auto px-4 text-center",children:[g.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-[0.5em] mb-3 leading-none",children:"Administrative Sovereign Ecosystem  Deployment 2025"}),g.jsxs("p",{className:"text-[11px] font-bold text-slate-600 uppercase tracking-[0.1em] leading-relaxed",children:["Designed & Developed by ",g.jsx("span",{className:"text-shine font-black text-base ml-1",children:"Dr. Krishna Karoo"}),g.jsx("br",{}),g.jsx("span",{className:"text-[9px] text-slate-400 uppercase tracking-widest mt-1 block",children:"PG Teaching Department of Computer Science, Gondwana University"})]})]})})]})},Ab=({onEnterPortal:t,onShowManual:e,onShowPresentation:i})=>{const[r,o]=Z.useState(null),l=c=>{c.preventDefault(),o("RESTRICTED ACCESS: This statutory section requires Phase II Administrative Clearance."),setTimeout(()=>o(null),4e3)};return g.jsxs("div",{className:"min-h-screen bg-white flex flex-col selection:bg-amber-100 selection:text-amber-900 font-sans relative",children:[r&&g.jsx("div",{className:"fixed top-24 left-1/2 -translate-x-1/2 z-[200] w-full max-w-lg px-6 animate-in slide-in-from-top-4 duration-300",children:g.jsxs("div",{className:"bg-[#0c2340] border-l-4 border-amber-500 p-5 rounded-2xl shadow-2xl shadow-black/40 flex items-start gap-4 backdrop-blur-md",children:[g.jsx("div",{className:"w-10 h-10 bg-amber-500/10 rounded-xl flex items-center justify-center text-amber-500 shrink-0",children:g.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),g.jsxs("div",{children:[g.jsx("p",{className:"text-amber-500 text-[9px] font-black uppercase tracking-[0.3em] mb-1",children:"Security Alert"}),g.jsx("p",{className:"text-white text-[11px] font-bold leading-relaxed",children:r})]}),g.jsx("button",{onClick:()=>o(null),className:"ml-auto text-white/30 hover:text-white transition-colors",children:g.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M6 18L18 6M6 6l12 12"})})})]})}),g.jsx("div",{className:"bg-[#0c2340] text-amber-400 py-2.5 px-6 overflow-hidden hidden md:block border-b border-amber-500/20",children:g.jsxs("div",{className:"max-w-7xl mx-auto flex justify-between items-center",children:[g.jsxs("div",{className:"flex items-center gap-8",children:[g.jsxs("span",{className:"text-[9px] font-black uppercase tracking-[0.3em] flex items-center",children:[g.jsx("span",{className:"w-2 h-2 bg-amber-500 rounded-full mr-3 animate-pulse shadow-[0_0_10px_rgba(245,158,11,0.8)]"}),"Statutory Portal Active"]}),g.jsx("div",{className:"h-4 w-[1px] bg-amber-500/20"})]}),g.jsxs("div",{className:"flex gap-6",children:[g.jsx("a",{href:"#",onClick:l,className:"text-[9px] font-black uppercase tracking-widest hover:text-white transition-colors",children:"Official Gazette"}),g.jsx("a",{href:"#",onClick:l,className:"text-[9px] font-black uppercase tracking-widest hover:text-white transition-colors",children:"Governance Standards"})]})]})}),g.jsx("header",{className:"sticky top-0 z-[100] bg-white/95 backdrop-blur-md border-b border-slate-200",children:g.jsxs("div",{className:"max-w-7xl mx-auto px-6 h-24 flex items-center justify-between",children:[g.jsxs("div",{className:"flex items-center space-x-5",children:[g.jsxs("div",{className:"relative group",children:[g.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-amber-500 to-blue-600 rounded-2xl blur opacity-25 group-hover:opacity-50 transition duration-1000 group-hover:duration-200"}),g.jsx("div",{className:"relative w-14 h-14 bg-[#0c2340] rounded-2xl flex items-center justify-center text-white font-black text-2xl shadow-xl",children:"G"})]}),g.jsxs("div",{className:"flex flex-col",children:[g.jsx("span",{className:"font-black text-lg lg:text-xl tracking-tighter text-slate-900 uppercase leading-none",children:"Gondwana NotePro"}),g.jsxs("span",{className:"text-[9px] uppercase tracking-[0.4em] font-black text-blue-800 mt-1.5 flex items-center gap-2",children:[g.jsx("span",{className:"w-1 h-1 bg-amber-500 rounded-full"}),"Institutional Secretariat"]})]})]}),g.jsxs("div",{className:"hidden xl:flex items-center gap-10",children:[g.jsxs("nav",{className:"flex gap-8 text-[9px] font-black uppercase tracking-widest text-slate-500",children:[g.jsx("div",{className:"relative group/nav",children:g.jsxs("button",{onClick:l,className:"hover:text-blue-900 transition-colors py-2 flex items-center gap-1",children:["Academics ",g.jsx("svg",{className:"w-2 h-2",fill:"currentColor",viewBox:"0 0 20 20",children:g.jsx("path",{d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z"})})]})}),g.jsx("a",{href:"#",onClick:l,className:"hover:text-blue-900 transition-colors py-2",children:"Examinations"}),g.jsx("a",{href:"#",onClick:l,className:"hover:text-blue-900 transition-colors py-2",children:"Research"}),g.jsx("a",{href:"#",onClick:l,className:"hover:text-blue-900 transition-colors py-2",children:"IQAC"}),g.jsx("a",{href:"#",onClick:l,className:"hover:text-blue-900 transition-colors py-2",children:"Affiliated Units"}),g.jsx("a",{href:"#",onClick:l,className:"hover:text-blue-900 transition-colors py-2",children:"Archives"})]}),g.jsx("div",{className:"h-8 w-[1px] bg-slate-200 mx-2"}),g.jsx("button",{onClick:t,className:"px-8 py-3.5 bg-[#0c2340] text-amber-400 rounded-xl font-black text-[10px] uppercase tracking-[0.2em] hover:bg-blue-900 hover:text-white transition-all shadow-2xl hover:shadow-blue-900/20 active:scale-95 border border-amber-500/30",children:"Portal Login"})]})]})}),g.jsxs("main",{className:"flex-1",children:[g.jsxs("section",{className:"relative min-h-[90vh] flex items-center overflow-hidden",children:[g.jsxs("div",{className:"absolute inset-0 z-0 bg-slate-900",children:[g.jsx("img",{src:"https://images.unsplash.com/photo-1541339907198-e08756ebafe3?auto=format&fit=crop&q=80&w=2000",className:"w-full h-full object-cover",alt:"Gondwana University Campus"}),g.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-[#0c2340] via-[#0c2340]/95 to-blue-900/40"})]}),g.jsx("div",{className:"max-w-7xl mx-auto px-6 relative z-10 w-full py-20",children:g.jsxs("div",{className:"flex flex-col lg:flex-row items-center gap-20",children:[g.jsxs("div",{className:"flex-1 space-y-10",children:[g.jsxs("div",{className:"inline-flex items-center gap-3 px-5 py-2.5 bg-amber-500/10 backdrop-blur-xl border border-amber-500/20 rounded-full",children:[g.jsx("div",{className:"w-2 h-2 bg-amber-500 rounded-full animate-pulse"}),g.jsx("p",{className:"text-[10px] font-black text-amber-400 uppercase tracking-[0.4em]",children:"Integrated E-Workflow System"})]}),g.jsxs("h1",{className:"text-6xl lg:text-[7.5rem] font-black text-white tracking-tighter leading-[0.85] uppercase",children:["Gondwana ",g.jsx("br",{}),g.jsx("span",{className:"text-shine italic",children:"NotePro."})]}),g.jsxs("p",{className:"text-xl text-blue-100/70 max-w-xl leading-relaxed font-medium border-l-4 border-amber-500/30 pl-8",children:["The elite digital nerve-center for statutory decision-making at Gondwana University. Engineered by ",g.jsx("span",{className:"text-white font-bold underline underline-offset-4 decoration-amber-500",children:"Dr. Krishna Karoo"})," for total transparency and administrative precision."]}),g.jsxs("div",{className:"flex flex-col sm:flex-row gap-5 pt-8",children:[g.jsxs("button",{onClick:t,className:"px-12 py-6 bg-amber-50 text-[#0c2340] rounded-2xl font-black text-xs uppercase tracking-[0.3em] shadow-[0_20px_50px_-10px_rgba(245,158,11,0.4)] hover:bg-white hover:text-blue-900 hover:-translate-y-1 transition-all active:scale-95 flex items-center gap-3",children:["Launch Workspace",g.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M14 5l7 7m0 0l-7 7m7-7H3"})})]}),g.jsxs("button",{onClick:i,className:"group px-12 py-6 bg-amber-500 text-[#0c2340] border border-amber-600 rounded-2xl font-black text-xs uppercase tracking-[0.3em] hover:bg-white hover:text-blue-900 hover:-translate-y-1 transition-all flex items-center gap-3 shadow-2xl",children:["Statutory Report",g.jsx("div",{className:"w-8 h-8 bg-[#0c2340] rounded-lg flex items-center justify-center text-amber-500 group-hover:bg-blue-600 group-hover:text-white transition-colors",children:g.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:g.jsx("path",{d:"M10.894 2.553a1 1 0 00-1.788 0l-7 14a1 1 0 001.169 1.409l5-1.429A1 1 0 009 15.571V11a1 1 0 112 0v4.571a1 1 0 00.725.962l5 1.428a1 1 0 001.17-1.408l-7-14z"})})})]})]})]}),g.jsx("div",{className:"flex-1 w-full max-w-lg hidden lg:block",children:g.jsxs("div",{className:"relative group",children:[g.jsx("div",{className:"absolute -inset-10 bg-amber-500/10 rounded-full blur-[100px] opacity-0 group-hover:opacity-100 transition-opacity duration-1000"}),g.jsxs("div",{className:"relative transform group-hover:-translate-y-8 group-hover:rotate-2 transition-all duration-1000 ease-[cubic-bezier(0.23,1,0.32,1)]",children:[g.jsx("div",{className:"absolute top-4 left-4 right-4 bottom-[-16px] bg-white/50 backdrop-blur-sm rounded-[2rem] border border-white/20 -z-10 transform -rotate-2"}),g.jsxs("div",{className:"bg-[#e8f5e9] rounded-[2.5rem] shadow-2xl overflow-hidden border border-emerald-100/50 flex flex-col aspect-[3.5/4.5] relative",children:[g.jsx("div",{className:"absolute inset-0 opacity-40 pointer-events-none mix-blend-multiply bg-[url('https://www.transparenttextures.com/patterns/paper-fibers.png')]"}),g.jsx("div",{className:"absolute top-0 left-16 bottom-0 w-[2px] bg-rose-500/20"}),g.jsxs("div",{className:"p-10 pb-6 border-b border-emerald-900/5 bg-[#f1f8f1] text-center space-y-4",children:[g.jsx("div",{className:"w-12 h-12 bg-slate-900 rounded-2xl flex items-center justify-center text-white font-black text-xl mx-auto shadow-lg",children:"G"}),g.jsxs("div",{className:"space-y-1",children:[g.jsx("p",{className:"text-[10px] font-black text-slate-900 uppercase tracking-widest leading-none",children:"GONDWANA UNIVERSITY"}),g.jsx("p",{className:"text-[7px] font-bold text-slate-500 uppercase tracking-[0.2em]",children:"Administrative Note-Sheet"})]})]}),g.jsxs("div",{className:"p-12 space-y-6 flex-1",children:[g.jsxs("div",{className:"flex items-center gap-4",children:[g.jsx("div",{className:"h-3 w-1/4 bg-emerald-900/10 rounded-full"}),g.jsx("div",{className:"h-3 w-1/2 bg-emerald-900/5 rounded-full"})]}),g.jsxs("div",{className:"space-y-4 pt-4",children:[g.jsx("div",{className:"h-2 w-full bg-emerald-900/05 rounded-full border-b border-emerald-900/10 pb-4"}),g.jsx("div",{className:"h-2 w-full bg-emerald-900/05 rounded-full border-b border-emerald-900/10 pb-4"}),g.jsx("div",{className:"h-2 w-5/6 bg-emerald-900/05 rounded-full border-b border-emerald-900/10 pb-4"}),g.jsx("div",{className:"h-2 w-full bg-emerald-900/05 rounded-full border-b border-emerald-900/10 pb-4"})]}),g.jsx("div",{className:"absolute bottom-12 right-12 scale-110",children:g.jsx("div",{className:"official-stamp stamp-approved -rotate-12 border-[3px] py-1 px-4 text-xs font-black shadow-sm",children:"APPROVED"})})]}),g.jsxs("div",{className:"absolute top-12 right-0 bg-blue-900 text-white text-[9px] font-black px-5 py-2 rounded-l-2xl shadow-xl flex items-center gap-3",children:[g.jsx("span",{className:"w-1.5 h-1.5 bg-amber-400 rounded-full animate-ping"}),"GU/DIGITAL/DISPATCH-2025"]})]})]})]})})]})})]}),g.jsx("section",{className:"py-32 bg-white relative",children:g.jsxs("div",{className:"max-w-7xl mx-auto px-6",children:[g.jsxs("div",{className:"text-center mb-24",children:[g.jsx("p",{className:"text-amber-600 text-[11px] font-black uppercase tracking-[0.6em] mb-4",children:"Detailed System Audit"}),g.jsx("h3",{className:"text-5xl lg:text-6xl font-black text-slate-900 tracking-tighter uppercase mb-8",children:"Imperial Infrastructure"}),g.jsx("div",{className:"h-2.5 w-40 bg-amber-500 mx-auto rounded-full"})]}),g.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-12",children:[{title:"Sovereign Personnel Portal",img:"https://images.unsplash.com/photo-1523240795612-9a054b0db644?auto=format&fit=crop&q=80&w=800",desc:"Highly secure authentication gateway for all academic heads, deans, and statutory officers of the university."},{title:"Encrypted Statutory Registry",img:"https://images.unsplash.com/photo-1507842217343-583bb7270b66?auto=format&fit=crop&q=80&w=800",desc:"Permanent digital repository of all approved note-sheets, governed by advanced browser-level AES encryption."},{title:"Intelligent Dispatch Engine",img:"https://images.unsplash.com/photo-1557804506-669a67965ba0?auto=format&fit=crop&q=80&w=800",desc:"A real-time routing layer that tracks the movement of statutory files across various institutional nodes with zero latency."}].map((c,h)=>g.jsxs("div",{onClick:l,className:"group relative overflow-hidden rounded-[3.5rem] bg-[#0c2340] aspect-[3/4] cursor-pointer shadow-[0_30px_60px_-15px_rgba(0,0,0,0.3)] hover:shadow-2xl transition-all duration-700",children:[g.jsx("img",{src:c.img,className:"absolute inset-0 w-full h-full object-cover opacity-50 group-hover:scale-110 group-hover:opacity-30 transition-all duration-[2000ms]",alt:c.title}),g.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-blue-950 via-blue-950/40 to-transparent"}),g.jsxs("div",{className:"absolute inset-0 p-12 flex flex-col justify-end",children:[g.jsx("div",{className:"w-12 h-1.5 bg-amber-500 rounded-full mb-6 group-hover:w-20 transition-all duration-700"}),g.jsx("h4",{className:"text-3xl font-black text-white uppercase tracking-tighter mb-4 group-hover:text-amber-400 transition-colors leading-tight",children:c.title}),g.jsx("p",{className:"text-[12px] font-bold text-blue-200/60 uppercase tracking-widest leading-relaxed opacity-0 group-hover:opacity-100 translate-y-6 group-hover:translate-y-0 transition-all duration-700 delay-100",children:c.desc})]})]},h))})]})}),g.jsx("section",{className:"py-32 bg-slate-50 border-y border-slate-200",children:g.jsx("div",{className:"max-w-5xl mx-auto px-6",children:g.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-20 items-center",children:[g.jsxs("div",{className:"space-y-10",children:[g.jsxs("h3",{className:"text-4xl font-black uppercase tracking-tighter text-slate-900 leading-none",children:["Administrative ",g.jsx("br",{}),g.jsx("span",{className:"text-amber-600",children:"Impact Report"})]}),g.jsx("div",{className:"space-y-8",children:[{label:"Efficiency Gain",val:"70%",desc:"Reduction in file transit time across university sections."},{label:"Cost Reduction",val:"90%",desc:"Decrease in recurring stationery and courier expenditures."},{label:"Data Integrity",val:"100%",desc:"Immutable audit trail for every statutory remark."}].map((c,h)=>g.jsxs("div",{className:"flex gap-6 items-start",children:[g.jsx("div",{className:"text-4xl font-black text-slate-900 tabular-nums",children:c.val}),g.jsxs("div",{className:"space-y-1 pt-1",children:[g.jsx("p",{className:"text-[11px] font-black uppercase tracking-widest text-slate-950",children:c.label}),g.jsx("p",{className:"text-[12px] text-slate-500 font-medium leading-relaxed",children:c.desc})]})]},h))})]}),g.jsxs("div",{className:"bg-white p-12 rounded-[3.5rem] shadow-2xl border border-slate-100 relative",children:[g.jsx("div",{className:"absolute top-10 right-10 w-24 h-24 bg-blue-50 text-blue-600 rounded-3xl flex items-center justify-center shadow-inner",children:g.jsx("svg",{className:"w-12 h-12",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2.5,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),g.jsxs("div",{className:"space-y-6 pt-10",children:[g.jsx("p",{className:"text-[11px] font-black text-amber-600 uppercase tracking-[0.5em]",children:"System Developer Profile"}),g.jsx("h4",{className:"text-2xl font-black text-slate-950 uppercase tracking-tight",children:"Dr. Krishna Karoo"}),g.jsxs("p",{className:"text-sm font-bold text-slate-500 uppercase tracking-widest leading-loose",children:["Assistant Professor",g.jsx("br",{}),"Post Graduate Teaching Dept. of Computer Science",g.jsx("br",{}),"Gondwana University, Gadchiroli"]}),g.jsx("div",{className:"h-[1px] w-20 bg-slate-200"}),g.jsx("p",{className:"text-[10px] text-slate-400 font-bold uppercase tracking-widest italic",children:'"NotePro represents a paradigm shift in how we approach statutory transparency and institutional memory."'})]})]})]})})})]}),g.jsx("footer",{className:"bg-slate-950 text-white pt-32 pb-16",children:g.jsxs("div",{className:"max-w-7xl mx-auto px-6",children:[g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-20 mb-32",children:[g.jsxs("div",{className:"space-y-8",children:[g.jsxs("div",{className:"flex items-center space-x-4",children:[g.jsx("div",{className:"w-12 h-12 bg-amber-500 rounded-2xl flex items-center justify-center text-[#0c2340] font-black text-2xl shadow-2xl",children:"G"}),g.jsxs("span",{className:"font-black text-lg uppercase tracking-widest",children:["Gondwana ",g.jsx("br",{}),g.jsx("span",{className:"text-amber-500",children:"NotePro"})]})]}),g.jsx("p",{className:"text-[11px] font-bold text-slate-500 uppercase leading-loose tracking-widest",children:"The Statutory University of Gadchiroli District, fostering excellence in higher education and digital governance since 2011. Designed & Developed by Dr. Krishna Karoo."})]}),g.jsxs("div",{children:[g.jsx("h5",{className:"text-[11px] font-black text-amber-500 uppercase tracking-[0.4em] mb-10",children:"Governance Node"}),g.jsxs("ul",{className:"space-y-6 text-[10px] font-black uppercase tracking-[0.2em] text-slate-400",children:[g.jsx("li",{children:g.jsx("a",{href:"#",onClick:l,className:"hover:text-white transition-all hover:translate-x-1 block",children:"Statutes & Ordinance"})}),g.jsx("li",{children:g.jsx("a",{href:"#",onClick:l,className:"hover:text-white transition-all hover:translate-x-1 block",children:"Official Gazettes"})}),g.jsx("li",{children:g.jsx("a",{href:"#",onClick:l,className:"hover:text-white transition-all hover:translate-x-1 block",children:"RTI Dashboard"})}),g.jsx("li",{children:g.jsx("a",{href:"#",onClick:l,className:"hover:text-white transition-all hover:translate-x-1 block",children:"Digital Audit"})})]})]}),g.jsxs("div",{children:[g.jsx("h5",{className:"text-[11px] font-black text-amber-500 uppercase tracking-[0.4em] mb-10",children:"Academic Units"}),g.jsxs("ul",{className:"space-y-6 text-[10px] font-black uppercase tracking-[0.2em] text-slate-400",children:[g.jsx("li",{children:g.jsx("a",{href:"#",onClick:l,className:"hover:text-white transition-all hover:translate-x-1 block",children:"Board of Studies"})}),g.jsx("li",{children:g.jsx("a",{href:"#",onClick:l,className:"hover:text-white transition-all hover:translate-x-1 block",children:"Examinations Cell"})}),g.jsx("li",{children:g.jsx("a",{href:"#",onClick:l,className:"hover:text-white transition-all hover:translate-x-1 block",children:"Ph.D. Registry"})}),g.jsx("li",{children:g.jsx("a",{href:"#",onClick:l,className:"hover:text-white transition-all hover:translate-x-1 block",children:"Research Grant"})})]})]}),g.jsxs("div",{children:[g.jsx("h5",{className:"text-[11px] font-black text-amber-500 uppercase tracking-[0.4em] mb-10",children:"Support Cell"}),g.jsxs("ul",{className:"space-y-6 text-[10px] font-black uppercase tracking-[0.2em] text-slate-400",children:[g.jsx("li",{children:g.jsx("a",{href:"#",onClick:l,className:"hover:text-white transition-all hover:translate-x-1 block",children:"Technical Helpdesk"})}),g.jsx("li",{children:g.jsx("a",{href:"#",onClick:l,className:"hover:text-white transition-all hover:translate-x-1 block",children:"Privacy Charter"})}),g.jsx("li",{children:g.jsx("button",{onClick:e,className:"hover:text-white transition-all hover:translate-x-1 block text-left",children:"User Operational Manual"})}),g.jsx("li",{children:g.jsx("a",{href:"#",onClick:l,className:"hover:text-white transition-all hover:translate-x-1 block",children:"ICT Governance Policy"})})]})]})]}),g.jsxs("div",{className:"pt-20 border-t border-white/5 flex flex-col items-center gap-10",children:[g.jsxs("div",{className:"text-center space-y-4",children:[g.jsx("p",{className:"text-[10px] font-black uppercase tracking-[0.6em] text-slate-600",children:" 2025 Gondwana University, Gadchiroli"}),g.jsxs("p",{className:"text-[12px] font-bold text-slate-500 uppercase tracking-[0.3em] max-w-4xl leading-loose",children:["Architected & Engineered by ",g.jsx("span",{className:"text-shine font-black text-base ml-2",children:"Dr. Krishna Karoo"}),g.jsx("br",{}),"Assistant Professor, Post Graduate Teaching Department of Computer Science, Gondwana University, Gadchiroli"]})]}),g.jsxs("div",{className:"flex gap-8 opacity-20",children:[g.jsx("div",{className:"px-6 py-2.5 border-2 border-white rounded-xl text-[11px] font-black tracking-widest uppercase",children:"NAAC A+ Accredited"}),g.jsx("div",{className:"px-6 py-2.5 border-2 border-white rounded-xl text-[11px] font-black tracking-widest uppercase",children:"Digital India Initiative"})]})]})]})})]})};var tt=(t=>(t.DRAFT="DRAFT",t.PENDING="PENDING",t.RETURNED="RETURNED",t.APPROVED="APPROVED",t.REJECTED="REJECTED",t.COMPLETED="COMPLETED",t))(tt||{}),Fe=(t=>(t.FORWARD="FORWARD",t.RETURN="RETURN",t.INITIATE="INITIATE",t.APPROVE="APPROVE",t.REJECT="REJECT",t))(Fe||{}),le=(t=>(t.ADMIN="ADMIN",t.STAFF="STAFF",t))(le||{});const Cb=({onLogin:t,staffList:e,notes:i,onPublicDownload:r,onDailyGazette:o,onBack:l})=>{const[c,h]=Z.useState("STAFF"),[v,m]=Z.useState(""),[x,b]=Z.useState(""),[_,S]=Z.useState(""),[T,N]=Z.useState(new Date().toISOString().split("T")[0]),[C,D]=Z.useState(""),[B,M]=Z.useState(!1),J=Z.useMemo(()=>{if(c!=="PUBLIC"||!_.trim()||_.length<3)return[];const H=_.toLowerCase();return i.filter(ae=>(ae.status===tt.APPROVED||ae.status===tt.REJECTED)&&(ae.referenceNo.toLowerCase().includes(H)||ae.subject.toLowerCase().includes(H)))},[i,_,c]),X=Z.useMemo(()=>c!=="DAILY"?[]:i.filter(H=>new Date(H.dateInitiated).toISOString().split("T")[0]===T),[i,T,c]),K=H=>{H.preventDefault(),D(""),M(!0),setTimeout(()=>{const ae=e.find(Q=>Q.id.toLowerCase()===v.toLowerCase()&&Q.password===x);ae?t(ae):D("Authorization Denied: Invalid Credentials"),M(!1)},800)};return g.jsxs("div",{className:"min-h-screen bg-[#0c2340] flex flex-col items-center justify-center p-4 relative overflow-hidden",children:[g.jsx("div",{className:"absolute top-0 right-0 w-96 h-96 bg-blue-600/10 rounded-full blur-[120px] -translate-y-1/2 translate-x-1/2"}),g.jsx("div",{className:"absolute bottom-0 left-0 w-80 h-80 bg-amber-500/10 rounded-full blur-[100px] translate-y-1/2 -translate-x-1/2"}),g.jsxs("div",{className:"absolute top-4 left-0 right-0 px-6 flex justify-between items-center z-50",children:[g.jsxs("button",{onClick:l,className:"flex items-center gap-2 text-white/50 hover:text-white transition-all group py-1",children:[g.jsx("div",{className:"w-6 h-6 rounded-lg bg-white/5 border border-white/10 flex items-center justify-center group-hover:bg-white/10 transition-all",children:g.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})})}),g.jsx("span",{className:"text-[7px] font-black uppercase tracking-[0.2em]",children:"Return"})]}),g.jsxs("div",{className:"flex items-center gap-1.5 bg-white/5 px-3 py-1 rounded-full border border-white/10",children:[g.jsx("span",{className:"w-1 h-1 rounded-full bg-amber-500 animate-pulse"}),g.jsx("span",{className:"text-[7px] font-black text-amber-500 uppercase tracking-widest",children:"Secure Server"})]})]}),g.jsxs("div",{className:"w-full max-w-[420px] relative z-10",children:[g.jsxs("div",{className:"text-center mb-6",children:[g.jsx("div",{className:"inline-flex relative p-2 mb-2",children:g.jsx("div",{className:"relative w-10 h-10 bg-amber-500 rounded-xl flex items-center justify-center shadow-xl",children:g.jsx("span",{className:"text-[#0c2340] text-xl font-black",children:"G"})})}),g.jsxs("h1",{className:"text-sm font-black text-white tracking-[0.2em] uppercase",children:["Gondwana ",g.jsx("span",{className:"text-amber-500",children:"NotePro"})]})]}),g.jsxs("div",{className:"bg-white rounded-[2.5rem] shadow-2xl overflow-hidden border border-white/20 animate-in zoom-in-95 duration-500",children:[g.jsxs("div",{className:"flex p-1 bg-slate-50 border-b border-slate-100",children:[g.jsx("button",{onClick:()=>{h("STAFF"),D("")},className:`flex-1 py-3 rounded-2xl text-[8px] font-black uppercase tracking-widest transition-all ${c==="STAFF"?"bg-white text-blue-900 shadow-sm ring-1 ring-slate-200":"text-slate-400 hover:text-slate-600"}`,children:"Staff Core"}),g.jsx("button",{onClick:()=>{h("PUBLIC"),D("")},className:`flex-1 py-3 rounded-2xl text-[8px] font-black uppercase tracking-widest transition-all ${c==="PUBLIC"?"bg-white text-blue-900 shadow-sm ring-1 ring-slate-200":"text-slate-400 hover:text-slate-600"}`,children:"Verify"}),g.jsx("button",{onClick:()=>{h("DAILY"),D("")},className:`flex-1 py-3 rounded-2xl text-[8px] font-black uppercase tracking-widest transition-all ${c==="DAILY"?"bg-white text-blue-900 shadow-sm ring-1 ring-slate-200":"text-slate-400 hover:text-slate-600"}`,children:"Daily Gazette"})]}),g.jsx("div",{className:"p-7",children:c==="STAFF"?g.jsxs("form",{onSubmit:K,className:"space-y-4",children:[g.jsxs("div",{className:"space-y-1",children:[g.jsx("label",{className:"text-[8px] font-black text-slate-400 uppercase tracking-[0.2em] ml-1 block",children:"Staff Identifier"}),g.jsx("input",{type:"text",value:v,onChange:H=>m(H.target.value),className:"w-full px-4 py-3 bg-slate-50 border border-slate-200 rounded-2xl outline-none focus:border-blue-500 transition-all text-slate-900 font-bold text-[12px] placeholder:text-slate-300",placeholder:"ENTER ID",required:!0})]}),g.jsxs("div",{className:"space-y-1",children:[g.jsx("label",{className:"text-[8px] font-black text-slate-400 uppercase tracking-[0.2em] ml-1 block",children:"Security Pass"}),g.jsx("input",{type:"password",value:x,onChange:H=>b(H.target.value),className:"w-full px-4 py-3 bg-slate-50 border border-slate-200 rounded-2xl outline-none focus:border-blue-500 transition-all text-slate-900 font-bold text-[12px] placeholder:text-slate-300",placeholder:"",required:!0})]}),C&&g.jsx("div",{className:"p-3 bg-rose-50 border border-rose-100 text-rose-600 rounded-xl text-[8px] font-black uppercase tracking-widest text-center",children:C}),g.jsx("button",{type:"submit",disabled:B,className:"w-full py-4 bg-[#0c2340] text-amber-500 rounded-2xl font-black text-[10px] uppercase tracking-[0.3em] shadow-xl hover:bg-blue-900 active:scale-[0.98] transition-all",children:B?"Verifying...":"Authenticate "})]}):c==="PUBLIC"?g.jsxs("div",{className:"space-y-6",children:[g.jsxs("div",{className:"space-y-2",children:[g.jsx("label",{className:"text-[8px] font-black text-slate-400 uppercase tracking-[0.2em] ml-1 block",children:"Search statutory registry"}),g.jsxs("div",{className:"relative",children:[g.jsx("input",{type:"text",value:_,onChange:H=>S(H.target.value),className:"w-full pl-10 pr-4 py-3 bg-slate-50 border border-slate-200 rounded-2xl outline-none focus:border-blue-500 transition-all text-slate-900 font-bold text-[12px] placeholder:text-slate-300",placeholder:"REF NO / SUBJECT..."}),g.jsx("svg",{className:"absolute left-3.5 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})]})]}),g.jsxs("div",{className:"max-h-[260px] overflow-y-auto custom-scrollbar space-y-3 pr-1",children:[_.length>0&&_.length<3&&g.jsx("p",{className:"text-center text-[8px] font-black text-slate-300 uppercase tracking-widest py-4",children:"Enter min. 3 characters..."}),_.length>=3&&J.length===0&&g.jsx("p",{className:"text-center text-[8px] font-black text-rose-400 uppercase tracking-widest py-4",children:"No verified records found"}),J.map(H=>g.jsxs("div",{className:"p-5 bg-slate-50 border border-slate-200 rounded-[1.5rem] group hover:border-blue-500 transition-all shadow-sm",children:[g.jsxs("div",{className:"flex justify-between items-start mb-2",children:[g.jsx("span",{className:`text-[7px] font-black px-2 py-0.5 rounded-lg uppercase ${H.status===tt.APPROVED?"bg-emerald-100 text-emerald-700":"bg-rose-100 text-rose-700"}`,children:H.status}),g.jsx("span",{className:"text-[7px] font-black text-slate-300 uppercase tracking-widest",children:new Date(H.dateInitiated).toLocaleDateString()})]}),g.jsx("h4",{className:"text-slate-900 font-black text-[10px] uppercase leading-tight line-clamp-2 mb-4 tracking-tight",children:H.subject}),g.jsxs("button",{onClick:()=>r(H),className:"w-full bg-[#0c2340] text-white py-3 rounded-xl font-black text-[8px] uppercase tracking-[0.2em] hover:bg-blue-600 transition-all flex items-center justify-center gap-2",children:[g.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})}),"Access Statutory Report"]})]},H.id))]})]}):g.jsxs("div",{className:"space-y-6",children:[g.jsxs("div",{className:"space-y-2",children:[g.jsx("label",{className:"text-[8px] font-black text-slate-400 uppercase tracking-[0.2em] ml-1 block",children:"Audit Date Selection"}),g.jsx("input",{type:"date",value:T,onChange:H=>N(H.target.value),className:"w-full px-4 py-3 bg-slate-50 border border-slate-200 rounded-2xl outline-none focus:border-blue-500 transition-all text-slate-900 font-bold text-[12px]"})]}),g.jsxs("div",{className:"bg-blue-50 p-4 rounded-2xl border border-blue-100 text-center",children:[g.jsxs("p",{className:"text-[9px] font-black text-blue-600 uppercase tracking-widest mb-1",children:[X.length," Statutory Dispatches"]}),g.jsx("p",{className:"text-[7px] font-bold text-slate-400 uppercase",children:"Found for the selected audit cycle"})]}),g.jsxs("button",{onClick:()=>o(T),className:"w-full bg-[#0c2340] text-amber-500 py-4 rounded-2xl font-black text-[10px] uppercase tracking-[0.2em] hover:bg-blue-900 active:scale-[0.98] transition-all flex items-center justify-center gap-3 shadow-xl",children:[g.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2.5,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"Generate Single-Page Audit"]}),g.jsxs("p",{className:"text-[7px] font-bold text-slate-400 uppercase text-center tracking-widest leading-relaxed",children:["The daily gazette aggregates all official note sheets ",g.jsx("br",{})," into a single statutory verifiable report."]})]})}),g.jsxs("div",{className:"px-7 pb-6 text-center",children:[g.jsx("div",{className:"h-[1px] w-full bg-slate-100 mb-3"}),g.jsx("p",{className:"text-[7px] font-black text-slate-300 uppercase tracking-[0.3em] italic",children:"Statutory Encryption Protocols Active"})]})]})]})]})};function il(t,e){var i={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(i[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(i[r[o]]=t[r[o]]);return i}function Nb(t,e,i,r){function o(l){return l instanceof i?l:new i(function(c){c(l)})}return new(i||(i=Promise))(function(l,c){function h(x){try{m(r.next(x))}catch(b){c(b)}}function v(x){try{m(r.throw(x))}catch(b){c(b)}}function m(x){x.done?l(x.value):o(x.value).then(h,v)}m((r=r.apply(t,e||[])).next())})}const Rb=t=>t?(...e)=>t(...e):(...e)=>fetch(...e);class md extends Error{constructor(e,i="FunctionsError",r){super(e),this.name=i,this.context=r}}class kb extends md{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Om extends md{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Gm extends md{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Vc;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Vc||(Vc={}));class Ib{constructor(e,{headers:i={},customFetch:r,region:o=Vc.Any}={}){this.url=e,this.headers=i,this.region=o,this.fetch=Rb(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return Nb(this,arguments,void 0,function*(i,r={}){var o;let l,c;try{const{headers:h,method:v,body:m,signal:x,timeout:b}=r;let _={},{region:S}=r;S||(S=this.region);const T=new URL(`${this.url}/${i}`);S&&S!=="any"&&(_["x-region"]=S,T.searchParams.set("forceFunctionRegion",S));let N;m&&(h&&!Object.prototype.hasOwnProperty.call(h,"Content-Type")||!h)?typeof Blob<"u"&&m instanceof Blob||m instanceof ArrayBuffer?(_["Content-Type"]="application/octet-stream",N=m):typeof m=="string"?(_["Content-Type"]="text/plain",N=m):typeof FormData<"u"&&m instanceof FormData?N=m:(_["Content-Type"]="application/json",N=JSON.stringify(m)):N=m;let C=x;b&&(c=new AbortController,l=setTimeout(()=>c.abort(),b),x?(C=c.signal,x.addEventListener("abort",()=>c.abort())):C=c.signal);const D=yield this.fetch(T.toString(),{method:v||"POST",headers:Object.assign(Object.assign(Object.assign({},_),this.headers),h),body:N,signal:C}).catch(X=>{throw new kb(X)}),B=D.headers.get("x-relay-error");if(B&&B==="true")throw new Om(D);if(!D.ok)throw new Gm(D);let M=((o=D.headers.get("Content-Type"))!==null&&o!==void 0?o:"text/plain").split(";")[0].trim(),J;return M==="application/json"?J=yield D.json():M==="application/octet-stream"||M==="application/pdf"?J=yield D.blob():M==="text/event-stream"?J=D:M==="multipart/form-data"?J=yield D.formData():J=yield D.text(),{data:J,error:null,response:D}}catch(h){return{data:null,error:h,response:h instanceof Gm||h instanceof Om?h.context:void 0}}finally{l&&clearTimeout(l)}})}}var Db=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}},Mb=class{constructor(t){var e,i;this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=new Headers(t.headers),this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=(e=t.shouldThrowOnError)!==null&&e!==void 0?e:!1,this.signal=t.signal,this.isMaybeSingle=(i=t.isMaybeSingle)!==null&&i!==void 0?i:!1,t.fetch?this.fetch=t.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,e){return this.headers=new Headers(this.headers),this.headers.set(t,e),this}then(t,e){var i=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const r=this.fetch;let o=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async l=>{let c=null,h=null,v=null,m=l.status,x=l.statusText;if(l.ok){var b,_;if(i.method!=="HEAD"){var S;const D=await l.text();D===""||(i.headers.get("Accept")==="text/csv"||i.headers.get("Accept")&&(!((S=i.headers.get("Accept"))===null||S===void 0)&&S.includes("application/vnd.pgrst.plan+text"))?h=D:h=JSON.parse(D))}const N=(b=i.headers.get("Prefer"))===null||b===void 0?void 0:b.match(/count=(exact|planned|estimated)/),C=(_=l.headers.get("content-range"))===null||_===void 0?void 0:_.split("/");N&&C&&C.length>1&&(v=parseInt(C[1])),i.isMaybeSingle&&i.method==="GET"&&Array.isArray(h)&&(h.length>1?(c={code:"PGRST116",details:`Results contain ${h.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},h=null,v=null,m=406,x="Not Acceptable"):h.length===1?h=h[0]:h=null)}else{var T;const N=await l.text();try{c=JSON.parse(N),Array.isArray(c)&&l.status===404&&(h=[],c=null,m=200,x="OK")}catch{l.status===404&&N===""?(m=204,x="No Content"):c={message:N}}if(c&&i.isMaybeSingle&&(!(c==null||(T=c.details)===null||T===void 0)&&T.includes("0 rows"))&&(c=null,m=200,x="OK"),c&&i.shouldThrowOnError)throw new Db(c)}return{error:c,data:h,count:v,status:m,statusText:x}});return this.shouldThrowOnError||(o=o.catch(l=>{var c;let h="";const v=l==null?void 0:l.cause;if(v){var m,x,b,_;const T=(m=v==null?void 0:v.message)!==null&&m!==void 0?m:"",N=(x=v==null?void 0:v.code)!==null&&x!==void 0?x:"";h=`${(b=l==null?void 0:l.name)!==null&&b!==void 0?b:"FetchError"}: ${l==null?void 0:l.message}`,h+=`

Caused by: ${(_=v==null?void 0:v.name)!==null&&_!==void 0?_:"Error"}: ${T}`,N&&(h+=` (${N})`),v!=null&&v.stack&&(h+=`
${v.stack}`)}else{var S;h=(S=l==null?void 0:l.stack)!==null&&S!==void 0?S:""}return{error:{message:`${(c=l==null?void 0:l.name)!==null&&c!==void 0?c:"FetchError"}: ${l==null?void 0:l.message}`,details:h,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),o.then(t,e)}returns(){return this}overrideTypes(){return this}},Ub=class extends Mb{select(t){let e=!1;const i=(t??"*").split("").map(r=>/\s/.test(r)&&!e?"":(r==='"'&&(e=!e),r)).join("");return this.url.searchParams.set("select",i),this.headers.append("Prefer","return=representation"),this}order(t,{ascending:e=!0,nullsFirst:i,foreignTable:r,referencedTable:o=r}={}){const l=o?`${o}.order`:"order",c=this.url.searchParams.get(l);return this.url.searchParams.set(l,`${c?`${c},`:""}${t}.${e?"asc":"desc"}${i===void 0?"":i?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:e,referencedTable:i=e}={}){const r=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(r,`${t}`),this}range(t,e,{foreignTable:i,referencedTable:r=i}={}){const o=typeof r>"u"?"offset":`${r}.offset`,l=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(o,`${t}`),this.url.searchParams.set(l,`${e-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:t=!1,verbose:e=!1,settings:i=!1,buffers:r=!1,wal:o=!1,format:l="text"}={}){var c;const h=[t?"analyze":null,e?"verbose":null,i?"settings":null,r?"buffers":null,o?"wal":null].filter(Boolean).join("|"),v=(c=this.headers.get("Accept"))!==null&&c!==void 0?c:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${l}; for="${v}"; options=${h};`),l==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(t){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${t}`),this}};const jm=new RegExp("[,()]");var ir=class extends Ub{eq(t,e){return this.url.searchParams.append(t,`eq.${e}`),this}neq(t,e){return this.url.searchParams.append(t,`neq.${e}`),this}gt(t,e){return this.url.searchParams.append(t,`gt.${e}`),this}gte(t,e){return this.url.searchParams.append(t,`gte.${e}`),this}lt(t,e){return this.url.searchParams.append(t,`lt.${e}`),this}lte(t,e){return this.url.searchParams.append(t,`lte.${e}`),this}like(t,e){return this.url.searchParams.append(t,`like.${e}`),this}likeAllOf(t,e){return this.url.searchParams.append(t,`like(all).{${e.join(",")}}`),this}likeAnyOf(t,e){return this.url.searchParams.append(t,`like(any).{${e.join(",")}}`),this}ilike(t,e){return this.url.searchParams.append(t,`ilike.${e}`),this}ilikeAllOf(t,e){return this.url.searchParams.append(t,`ilike(all).{${e.join(",")}}`),this}ilikeAnyOf(t,e){return this.url.searchParams.append(t,`ilike(any).{${e.join(",")}}`),this}regexMatch(t,e){return this.url.searchParams.append(t,`match.${e}`),this}regexIMatch(t,e){return this.url.searchParams.append(t,`imatch.${e}`),this}is(t,e){return this.url.searchParams.append(t,`is.${e}`),this}isDistinct(t,e){return this.url.searchParams.append(t,`isdistinct.${e}`),this}in(t,e){const i=Array.from(new Set(e)).map(r=>typeof r=="string"&&jm.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(t,`in.(${i})`),this}notIn(t,e){const i=Array.from(new Set(e)).map(r=>typeof r=="string"&&jm.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(t,`not.in.(${i})`),this}contains(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cs.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cs.{${e.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(e)}`),this}containedBy(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cd.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cd.{${e.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(e)}`),this}rangeGt(t,e){return this.url.searchParams.append(t,`sr.${e}`),this}rangeGte(t,e){return this.url.searchParams.append(t,`nxl.${e}`),this}rangeLt(t,e){return this.url.searchParams.append(t,`sl.${e}`),this}rangeLte(t,e){return this.url.searchParams.append(t,`nxr.${e}`),this}rangeAdjacent(t,e){return this.url.searchParams.append(t,`adj.${e}`),this}overlaps(t,e){return typeof e=="string"?this.url.searchParams.append(t,`ov.${e}`):this.url.searchParams.append(t,`ov.{${e.join(",")}}`),this}textSearch(t,e,{config:i,type:r}={}){let o="";r==="plain"?o="pl":r==="phrase"?o="ph":r==="websearch"&&(o="w");const l=i===void 0?"":`(${i})`;return this.url.searchParams.append(t,`${o}fts${l}.${e}`),this}match(t){return Object.entries(t).forEach(([e,i])=>{this.url.searchParams.append(e,`eq.${i}`)}),this}not(t,e,i){return this.url.searchParams.append(t,`not.${e}.${i}`),this}or(t,{foreignTable:e,referencedTable:i=e}={}){const r=i?`${i}.or`:"or";return this.url.searchParams.append(r,`(${t})`),this}filter(t,e,i){return this.url.searchParams.append(t,`${e}.${i}`),this}},Pb=class{constructor(t,{headers:e={},schema:i,fetch:r}){this.url=t,this.headers=new Headers(e),this.schema=i,this.fetch=r}select(t,e){const{head:i=!1,count:r}=e??{},o=i?"HEAD":"GET";let l=!1;const c=(t??"*").split("").map(h=>/\s/.test(h)&&!l?"":(h==='"'&&(l=!l),h)).join("");return this.url.searchParams.set("select",c),r&&this.headers.append("Prefer",`count=${r}`),new ir({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(t,{count:e,defaultToNull:i=!0}={}){var r;const o="POST";if(e&&this.headers.append("Prefer",`count=${e}`),i||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const l=t.reduce((c,h)=>c.concat(Object.keys(h)),[]);if(l.length>0){const c=[...new Set(l)].map(h=>`"${h}"`);this.url.searchParams.set("columns",c.join(","))}}return new ir({method:o,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}upsert(t,{onConflict:e,ignoreDuplicates:i=!1,count:r,defaultToNull:o=!0}={}){var l;const c="POST";if(this.headers.append("Prefer",`resolution=${i?"ignore":"merge"}-duplicates`),e!==void 0&&this.url.searchParams.set("on_conflict",e),r&&this.headers.append("Prefer",`count=${r}`),o||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const h=t.reduce((v,m)=>v.concat(Object.keys(m)),[]);if(h.length>0){const v=[...new Set(h)].map(m=>`"${m}"`);this.url.searchParams.set("columns",v.join(","))}}return new ir({method:c,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}update(t,{count:e}={}){var i;const r="PATCH";return e&&this.headers.append("Prefer",`count=${e}`),new ir({method:r,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}delete({count:t}={}){var e;const i="DELETE";return t&&this.headers.append("Prefer",`count=${t}`),new ir({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:(e=this.fetch)!==null&&e!==void 0?e:fetch})}},Lb=class V0{constructor(e,{headers:i={},schema:r,fetch:o}={}){this.url=e,this.headers=new Headers(i),this.schemaName=r,this.fetch=o}from(e){if(!e||typeof e!="string"||e.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new Pb(new URL(`${this.url}/${e}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new V0(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,i={},{head:r=!1,get:o=!1,count:l}={}){var c;let h;const v=new URL(`${this.url}/rpc/${e}`);let m;r||o?(h=r?"HEAD":"GET",Object.entries(i).filter(([b,_])=>_!==void 0).map(([b,_])=>[b,Array.isArray(_)?`{${_.join(",")}}`:`${_}`]).forEach(([b,_])=>{v.searchParams.append(b,_)})):(h="POST",m=i);const x=new Headers(this.headers);return l&&x.set("Prefer",`count=${l}`),new ir({method:h,url:v,headers:x,schema:this.schemaName,body:m,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}};class Ob{constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const i=process.versions;if(i&&i.node){const r=i.node,o=parseInt(r.replace(/^v/,"").split(".")[0]);return o>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${o} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${o} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let i=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(i+=`

Suggested solution: ${e.workaround}`),new Error(i)}static createWebSocket(e,i){const r=this.getWebSocketConstructor();return new r(e,i)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const Gb="2.89.0",jb=`realtime-js/${Gb}`,z0="1.0.0",Bb="2.0.0",Bm=z0,zc=1e4,Hb=1e3,qb=100;var Ii;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Ii||(Ii={}));var gt;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(gt||(gt={}));var Tn;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Tn||(Tn={}));var Fc;(function(t){t.websocket="websocket"})(Fc||(Fc={}));var os;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(os||(os={}));class Vb{constructor(e){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=e??[]}encode(e,i){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return i(this._binaryEncodeUserBroadcastPush(e));let r=[e.join_ref,e.ref,e.topic,e.event,e.payload];return i(JSON.stringify(r))}_binaryEncodeUserBroadcastPush(e){var i;return this._isArrayBuffer((i=e.payload)===null||i===void 0?void 0:i.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var i,r;const o=(r=(i=e.payload)===null||i===void 0?void 0:i.payload)!==null&&r!==void 0?r:new ArrayBuffer(0);return this._encodeUserBroadcastPush(e,this.BINARY_ENCODING,o)}_encodeJsonUserBroadcastPush(e){var i,r;const o=(r=(i=e.payload)===null||i===void 0?void 0:i.payload)!==null&&r!==void 0?r:{},c=new TextEncoder().encode(JSON.stringify(o)).buffer;return this._encodeUserBroadcastPush(e,this.JSON_ENCODING,c)}_encodeUserBroadcastPush(e,i,r){var o,l;const c=e.topic,h=(o=e.ref)!==null&&o!==void 0?o:"",v=(l=e.join_ref)!==null&&l!==void 0?l:"",m=e.payload.event,x=this.allowedMetadataKeys?this._pick(e.payload,this.allowedMetadataKeys):{},b=Object.keys(x).length===0?"":JSON.stringify(x);if(v.length>255)throw new Error(`joinRef length ${v.length} exceeds maximum of 255`);if(h.length>255)throw new Error(`ref length ${h.length} exceeds maximum of 255`);if(c.length>255)throw new Error(`topic length ${c.length} exceeds maximum of 255`);if(m.length>255)throw new Error(`userEvent length ${m.length} exceeds maximum of 255`);if(b.length>255)throw new Error(`metadata length ${b.length} exceeds maximum of 255`);const _=this.USER_BROADCAST_PUSH_META_LENGTH+v.length+h.length+c.length+m.length+b.length,S=new ArrayBuffer(this.HEADER_LENGTH+_);let T=new DataView(S),N=0;T.setUint8(N++,this.KINDS.userBroadcastPush),T.setUint8(N++,v.length),T.setUint8(N++,h.length),T.setUint8(N++,c.length),T.setUint8(N++,m.length),T.setUint8(N++,b.length),T.setUint8(N++,i),Array.from(v,D=>T.setUint8(N++,D.charCodeAt(0))),Array.from(h,D=>T.setUint8(N++,D.charCodeAt(0))),Array.from(c,D=>T.setUint8(N++,D.charCodeAt(0))),Array.from(m,D=>T.setUint8(N++,D.charCodeAt(0))),Array.from(b,D=>T.setUint8(N++,D.charCodeAt(0)));var C=new Uint8Array(S.byteLength+r.byteLength);return C.set(new Uint8Array(S),0),C.set(new Uint8Array(r),S.byteLength),C.buffer}decode(e,i){if(this._isArrayBuffer(e)){let r=this._binaryDecode(e);return i(r)}if(typeof e=="string"){const r=JSON.parse(e),[o,l,c,h,v]=r;return i({join_ref:o,ref:l,topic:c,event:h,payload:v})}return i({})}_binaryDecode(e){const i=new DataView(e),r=i.getUint8(0),o=new TextDecoder;switch(r){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(e,i,o)}}_decodeUserBroadcast(e,i,r){const o=i.getUint8(1),l=i.getUint8(2),c=i.getUint8(3),h=i.getUint8(4);let v=this.HEADER_LENGTH+4;const m=r.decode(e.slice(v,v+o));v=v+o;const x=r.decode(e.slice(v,v+l));v=v+l;const b=r.decode(e.slice(v,v+c));v=v+c;const _=e.slice(v,e.byteLength),S=h===this.JSON_ENCODING?JSON.parse(r.decode(_)):_,T={type:this.BROADCAST_EVENT,event:x,payload:S};return c>0&&(T.meta=JSON.parse(b)),{join_ref:null,ref:null,topic:m,event:this.BROADCAST_EVENT,payload:T}}_isArrayBuffer(e){var i;return e instanceof ArrayBuffer||((i=e==null?void 0:e.constructor)===null||i===void 0?void 0:i.name)==="ArrayBuffer"}_pick(e,i){return!e||typeof e!="object"?{}:Object.fromEntries(Object.entries(e).filter(([r])=>i.includes(r)))}}class F0{constructor(e,i){this.callback=e,this.timerCalc=i,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=i}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var $e;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})($e||($e={}));const Hm=(t,e,i={})=>{var r;const o=(r=i.skipTypes)!==null&&r!==void 0?r:[];return e?Object.keys(e).reduce((l,c)=>(l[c]=zb(c,t,e,o),l),{}):{}},zb=(t,e,i,r)=>{const o=e.find(h=>h.name===t),l=o==null?void 0:o.type,c=i[t];return l&&!r.includes(l)?$0(l,c):$c(c)},$0=(t,e)=>{if(t.charAt(0)==="_"){const i=t.slice(1,t.length);return Kb(e,i)}switch(t){case $e.bool:return Fb(e);case $e.float4:case $e.float8:case $e.int2:case $e.int4:case $e.int8:case $e.numeric:case $e.oid:return $b(e);case $e.json:case $e.jsonb:return Jb(e);case $e.timestamp:return Yb(e);case $e.abstime:case $e.date:case $e.daterange:case $e.int4range:case $e.int8range:case $e.money:case $e.reltime:case $e.text:case $e.time:case $e.timestamptz:case $e.timetz:case $e.tsrange:case $e.tstzrange:return $c(e);default:return $c(e)}},$c=t=>t,Fb=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},$b=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},Jb=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch{return t}return t},Kb=(t,e)=>{if(typeof t!="string")return t;const i=t.length-1,r=t[i];if(t[0]==="{"&&r==="}"){let l;const c=t.slice(1,i);try{l=JSON.parse("["+c+"]")}catch{l=c?c.split(","):[]}return l.map(h=>$0(e,h))}return t},Yb=t=>typeof t=="string"?t.replace(" ","T"):t,J0=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class Dc{constructor(e,i,r={},o=zc){this.channel=e,this.event=i,this.payload=r,this.timeout=o,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,i){var r;return this._hasReceived(e)&&i((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:i}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=i=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=i,this._matchReceive(i)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,i){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:i})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:i}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(i))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var qm;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(qm||(qm={}));class pa{constructor(e,i){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(i==null?void 0:i.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},o=>{const{onJoin:l,onLeave:c,onSync:h}=this.caller;this.joinRef=this.channel._joinRef(),this.state=pa.syncState(this.state,o,l,c),this.pendingDiffs.forEach(v=>{this.state=pa.syncDiff(this.state,v,l,c)}),this.pendingDiffs=[],h()}),this.channel._on(r.diff,{},o=>{const{onJoin:l,onLeave:c,onSync:h}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(o):(this.state=pa.syncDiff(this.state,o,l,c),h())}),this.onJoin((o,l,c)=>{this.channel._trigger("presence",{event:"join",key:o,currentPresences:l,newPresences:c})}),this.onLeave((o,l,c)=>{this.channel._trigger("presence",{event:"leave",key:o,currentPresences:l,leftPresences:c})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,i,r,o){const l=this.cloneDeep(e),c=this.transformState(i),h={},v={};return this.map(l,(m,x)=>{c[m]||(v[m]=x)}),this.map(c,(m,x)=>{const b=l[m];if(b){const _=x.map(C=>C.presence_ref),S=b.map(C=>C.presence_ref),T=x.filter(C=>S.indexOf(C.presence_ref)<0),N=b.filter(C=>_.indexOf(C.presence_ref)<0);T.length>0&&(h[m]=T),N.length>0&&(v[m]=N)}else h[m]=x}),this.syncDiff(l,{joins:h,leaves:v},r,o)}static syncDiff(e,i,r,o){const{joins:l,leaves:c}={joins:this.transformState(i.joins),leaves:this.transformState(i.leaves)};return r||(r=()=>{}),o||(o=()=>{}),this.map(l,(h,v)=>{var m;const x=(m=e[h])!==null&&m!==void 0?m:[];if(e[h]=this.cloneDeep(v),x.length>0){const b=e[h].map(S=>S.presence_ref),_=x.filter(S=>b.indexOf(S.presence_ref)<0);e[h].unshift(..._)}r(h,x,v)}),this.map(c,(h,v)=>{let m=e[h];if(!m)return;const x=v.map(b=>b.presence_ref);m=m.filter(b=>x.indexOf(b.presence_ref)<0),e[h]=m,o(h,m,v),m.length===0&&delete e[h]}),e}static map(e,i){return Object.getOwnPropertyNames(e).map(r=>i(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((i,r)=>{const o=e[r];return"metas"in o?i[r]=o.metas.map(l=>(l.presence_ref=l.phx_ref,delete l.phx_ref,delete l.phx_ref_prev,l)):i[r]=o,i},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Vm;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(Vm||(Vm={}));var ma;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(ma||(ma={}));var Zn;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Zn||(Zn={}));class or{constructor(e,i={config:{}},r){var o,l;if(this.topic=e,this.params=i,this.socket=r,this.bindings={},this.state=gt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},i.config),this.timeout=this.socket.timeout,this.joinPush=new Dc(this,Tn.join,this.params,this.timeout),this.rejoinTimer=new F0(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=gt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(c=>c.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=gt.closed,this.socket._remove(this)}),this._onError(c=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,c),this.state=gt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=gt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",c=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,c),this.state=gt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Tn.reply,{},(c,h)=>{this._trigger(this._replyEventName(h),c)}),this.presence=new pa(this),this.broadcastEndpointURL=J0(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((l=(o=this.params.config)===null||o===void 0?void 0:o.broadcast)===null||l===void 0)&&l.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,i=this.timeout){var r,o,l;if(this.socket.isConnected()||this.socket.connect(),this.state==gt.closed){const{config:{broadcast:c,presence:h,private:v}}=this.params,m=(o=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(S=>S.filter))!==null&&o!==void 0?o:[],x=!!this.bindings[ma.PRESENCE]&&this.bindings[ma.PRESENCE].length>0||((l=this.params.config.presence)===null||l===void 0?void 0:l.enabled)===!0,b={},_={broadcast:c,presence:Object.assign(Object.assign({},h),{enabled:x}),postgres_changes:m,private:v};this.socket.accessTokenValue&&(b.access_token=this.socket.accessTokenValue),this._onError(S=>e==null?void 0:e(Zn.CHANNEL_ERROR,S)),this._onClose(()=>e==null?void 0:e(Zn.CLOSED)),this.updateJoinPayload(Object.assign({config:_},b)),this.joinedOnce=!0,this._rejoin(i),this.joinPush.receive("ok",async({postgres_changes:S})=>{var T;if(this.socket._isManualToken()||this.socket.setAuth(),S===void 0){e==null||e(Zn.SUBSCRIBED);return}else{const N=this.bindings.postgres_changes,C=(T=N==null?void 0:N.length)!==null&&T!==void 0?T:0,D=[];for(let B=0;B<C;B++){const M=N[B],{filter:{event:J,schema:X,table:K,filter:H}}=M,ae=S&&S[B];if(ae&&ae.event===J&&or.isFilterValueEqual(ae.schema,X)&&or.isFilterValueEqual(ae.table,K)&&or.isFilterValueEqual(ae.filter,H))D.push(Object.assign(Object.assign({},M),{id:ae.id}));else{this.unsubscribe(),this.state=gt.errored,e==null||e(Zn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=D,e&&e(Zn.SUBSCRIBED);return}}).receive("error",S=>{this.state=gt.errored,e==null||e(Zn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(S).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(Zn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,i={}){return await this.send({type:"presence",event:"track",payload:e},i.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,i,r){return this.state===gt.joined&&e===ma.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(e,i,r)}async httpSend(e,i,r={}){var o;if(i==null)return Promise.reject("Payload is required for httpSend()");const l={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(l.Authorization=`Bearer ${this.socket.accessTokenValue}`);const c={method:"POST",headers:l,body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:i,private:this.private}]})},h=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(o=r.timeout)!==null&&o!==void 0?o:this.timeout);if(h.status===202)return{success:!0};let v=h.statusText;try{const m=await h.json();v=m.error||m.message||v}catch{}return Promise.reject(new Error(v))}async send(e,i={}){var r,o;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:l,payload:c}=e,h={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(h.Authorization=`Bearer ${this.socket.accessTokenValue}`);const v={method:"POST",headers:h,body:JSON.stringify({messages:[{topic:this.subTopic,event:l,payload:c,private:this.private}]})};try{const m=await this._fetchWithTimeout(this.broadcastEndpointURL,v,(r=i.timeout)!==null&&r!==void 0?r:this.timeout);return await((o=m.body)===null||o===void 0?void 0:o.cancel()),m.ok?"ok":"error"}catch(m){return m.name==="AbortError"?"timed out":"error"}}else return new Promise(l=>{var c,h,v;const m=this._push(e.type,e,i.timeout||this.timeout);e.type==="broadcast"&&!(!((v=(h=(c=this.params)===null||c===void 0?void 0:c.config)===null||h===void 0?void 0:h.broadcast)===null||v===void 0)&&v.ack)&&l("ok"),m.receive("ok",()=>l("ok")),m.receive("error",()=>l("error")),m.receive("timeout",()=>l("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=gt.leaving;const i=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Tn.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(o=>{r=new Dc(this,Tn.leave,{},e),r.receive("ok",()=>{i(),o("ok")}).receive("timeout",()=>{i(),o("timed out")}).receive("error",()=>{o("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=gt.closed,this.bindings={}}async _fetchWithTimeout(e,i,r){const o=new AbortController,l=setTimeout(()=>o.abort(),r),c=await this.socket.fetch(e,Object.assign(Object.assign({},i),{signal:o.signal}));return clearTimeout(l),c}_push(e,i,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let o=new Dc(this,e,i,r);return this._canPush()?o.send():this._addToPushBuffer(o),o}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>qb){const i=this.pushBuffer.shift();i&&(i.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${i.event}`,i.payload))}}_onMessage(e,i,r){return i}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,i,r){var o,l;const c=e.toLocaleLowerCase(),{close:h,error:v,leave:m,join:x}=Tn;if(r&&[h,v,m,x].indexOf(c)>=0&&r!==this._joinRef())return;let _=this._onMessage(c,i,r);if(i&&!_)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(c)?(o=this.bindings.postgres_changes)===null||o===void 0||o.filter(S=>{var T,N,C;return((T=S.filter)===null||T===void 0?void 0:T.event)==="*"||((C=(N=S.filter)===null||N===void 0?void 0:N.event)===null||C===void 0?void 0:C.toLocaleLowerCase())===c}).map(S=>S.callback(_,r)):(l=this.bindings[c])===null||l===void 0||l.filter(S=>{var T,N,C,D,B,M;if(["broadcast","presence","postgres_changes"].includes(c))if("id"in S){const J=S.id,X=(T=S.filter)===null||T===void 0?void 0:T.event;return J&&((N=i.ids)===null||N===void 0?void 0:N.includes(J))&&(X==="*"||(X==null?void 0:X.toLocaleLowerCase())===((C=i.data)===null||C===void 0?void 0:C.type.toLocaleLowerCase()))}else{const J=(B=(D=S==null?void 0:S.filter)===null||D===void 0?void 0:D.event)===null||B===void 0?void 0:B.toLocaleLowerCase();return J==="*"||J===((M=i==null?void 0:i.event)===null||M===void 0?void 0:M.toLocaleLowerCase())}else return S.type.toLocaleLowerCase()===c}).map(S=>{if(typeof _=="object"&&"ids"in _){const T=_.data,{schema:N,table:C,commit_timestamp:D,type:B,errors:M}=T;_=Object.assign(Object.assign({},{schema:N,table:C,commit_timestamp:D,eventType:B,new:{},old:{},errors:M}),this._getPayloadRecords(T))}S.callback(_,r)})}_isClosed(){return this.state===gt.closed}_isJoined(){return this.state===gt.joined}_isJoining(){return this.state===gt.joining}_isLeaving(){return this.state===gt.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,i,r){const o=e.toLocaleLowerCase(),l={type:o,filter:i,callback:r};return this.bindings[o]?this.bindings[o].push(l):this.bindings[o]=[l],this}_off(e,i){const r=e.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(o=>{var l;return!(((l=o.type)===null||l===void 0?void 0:l.toLocaleLowerCase())===r&&or.isEqual(o.filter,i))})),this}static isEqual(e,i){if(Object.keys(e).length!==Object.keys(i).length)return!1;for(const r in e)if(e[r]!==i[r])return!1;return!0}static isFilterValueEqual(e,i){return(e??void 0)===(i??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Tn.close,{},e)}_onError(e){this._on(Tn.error,{},i=>e(i))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=gt.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const i={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(i.new=Hm(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(i.old=Hm(e.columns,e.old_record)),i}}const Mc=()=>{},Oo={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Xb=[1e3,2e3,5e3,1e4],Wb=1e4,Qb=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Zb{constructor(e,i){var r;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=zc,this.transport=null,this.heartbeatIntervalMs=Oo.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Mc,this.ref=0,this.reconnectTimer=null,this.vsn=Bm,this.logger=Mc,this.conn=null,this.sendBuffer=[],this.serializer=new Vb,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=o=>o?(...l)=>o(...l):(...l)=>fetch(...l),!(!((r=i==null?void 0:i.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=i.params.apikey,this.endPoint=`${e}/${Fc.websocket}`,this.httpEndpoint=J0(e),this._initializeOptions(i),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(i==null?void 0:i.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Ob.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const i=e.message;throw i.includes("Node.js")?new Error(`${i}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${i}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,i){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,i??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const i=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),i}async removeAllChannels(){const e=await Promise.all(this.channels.map(i=>i.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,i,r){this.logger(e,i,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Ii.connecting:return os.Connecting;case Ii.open:return os.Open;case Ii.closing:return os.Closing;default:return os.Closed}}isConnected(){return this.connectionState()===os.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,i={config:{}}){const r=`realtime:${e}`,o=this.getChannels().find(l=>l.topic===r);if(o)return o;{const l=new or(`realtime:${e}`,i,this);return this.channels.push(l),l}}push(e){const{topic:i,event:r,payload:o,ref:l}=e,c=()=>{this.encode(e,h=>{var v;(v=this.conn)===null||v===void 0||v.send(h)})};this.log("push",`${i} ${r} (${l})`,o),this.isConnected()?c():this.sendBuffer.push(c)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(i){this.log("error","error in heartbeat callback",i)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(i){this.log("error","error in heartbeat callback",i)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(Hb,"heartbeat timeout"),setTimeout(()=>{var i;this.isConnected()||(i=this.reconnectTimer)===null||i===void 0||i.scheduleTimeout()},Oo.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(i){this.log("error","error in heartbeat callback",i)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let i=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));i&&(this.log("transport",`leaving duplicate topic "${e}"`),i.unsubscribe())}_remove(e){this.channels=this.channels.filter(i=>i.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,i=>{if(i.topic==="phoenix"&&i.event==="phx_reply")try{this.heartbeatCallback(i.payload.status==="ok"?"ok":"error")}catch(m){this.log("error","error in heartbeat callback",m)}i.ref&&i.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:o,payload:l,ref:c}=i,h=c?`(${c})`:"",v=l.status||"";this.log("receive",`${v} ${r} ${o} ${h}`.trim(),l),this.channels.filter(m=>m._isMember(r)).forEach(m=>m._trigger(o,l,c)),this._triggerStateCallbacks("message",i)})}_clearTimer(e){var i;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((i=this.reconnectTimer)===null||i===void 0||i.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e),this.conn.readyState===Ii.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===Ii.open||this.conn.readyState===Ii.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(i=>{this.log("error","error waiting for auth on connect",i),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=i=>{this.log("worker","worker error",i.message),this._terminateWorker()},this.workerRef.onmessage=i=>{i.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(e){var i;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(i=this.reconnectTimer)===null||i===void 0||i.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(Tn.error))}_appendParams(e,i){if(Object.keys(i).length===0)return e;const r=e.match(/\?/)?"&":"?",o=new URLSearchParams(i);return`${e}${r}${o}`}_workerObjectUrl(e){let i;if(e)i=e;else{const r=new Blob([Qb],{type:"application/javascript"});i=URL.createObjectURL(r)}return i}_setConnectionState(e,i=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=i)}async _performAuth(e=null){let i,r=!1;if(e)i=e,r=!0;else if(this.accessToken)try{i=await this.accessToken()}catch(o){this.log("error","Error fetching access token from callback",o),i=this.accessTokenValue}else i=this.accessTokenValue;r?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=i&&(this.accessTokenValue=i,this.channels.forEach(o=>{const l={access_token:i,version:jb};i&&o.updateJoinPayload(l),o.joinedOnce&&o._isJoined()&&o._push(Tn.access_token,{access_token:i})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this._isManualToken()||this.setAuth().catch(i=>{this.log("error",`Error setting auth in ${e}`,i)})}_triggerStateCallbacks(e,i){try{this.stateChangeCallbacks[e].forEach(r=>{try{r(i)}catch(o){this.log("error",`error in ${e} callback`,o)}})}catch(r){this.log("error",`error triggering ${e} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new F0(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Oo.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var i,r,o,l,c,h,v,m,x,b,_,S;switch(this.transport=(i=e==null?void 0:e.transport)!==null&&i!==void 0?i:null,this.timeout=(r=e==null?void 0:e.timeout)!==null&&r!==void 0?r:zc,this.heartbeatIntervalMs=(o=e==null?void 0:e.heartbeatIntervalMs)!==null&&o!==void 0?o:Oo.HEARTBEAT_INTERVAL,this.worker=(l=e==null?void 0:e.worker)!==null&&l!==void 0?l:!1,this.accessToken=(c=e==null?void 0:e.accessToken)!==null&&c!==void 0?c:null,this.heartbeatCallback=(h=e==null?void 0:e.heartbeatCallback)!==null&&h!==void 0?h:Mc,this.vsn=(v=e==null?void 0:e.vsn)!==null&&v!==void 0?v:Bm,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(m=e==null?void 0:e.reconnectAfterMs)!==null&&m!==void 0?m:(T=>Xb[T-1]||Wb),this.vsn){case z0:this.encode=(x=e==null?void 0:e.encode)!==null&&x!==void 0?x:((T,N)=>N(JSON.stringify(T))),this.decode=(b=e==null?void 0:e.decode)!==null&&b!==void 0?b:((T,N)=>N(JSON.parse(T)));break;case Bb:this.encode=(_=e==null?void 0:e.encode)!==null&&_!==void 0?_:this.serializer.encode.bind(this.serializer),this.decode=(S=e==null?void 0:e.decode)!==null&&S!==void 0?S:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}var ga=class extends Error{constructor(t,e){var i;super(t),this.name="IcebergError",this.status=e.status,this.icebergType=e.icebergType,this.icebergCode=e.icebergCode,this.details=e.details,this.isCommitStateUnknown=e.icebergType==="CommitStateUnknownException"||[500,502,504].includes(e.status)&&((i=e.icebergType)==null?void 0:i.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function e_(t,e,i){const r=new URL(e,t);if(i)for(const[o,l]of Object.entries(i))l!==void 0&&r.searchParams.set(o,l);return r.toString()}async function t_(t){return!t||t.type==="none"?{}:t.type==="bearer"?{Authorization:`Bearer ${t.token}`}:t.type==="header"?{[t.name]:t.value}:t.type==="custom"?await t.getHeaders():{}}function n_(t){const e=t.fetchImpl??globalThis.fetch;return{async request({method:i,path:r,query:o,body:l,headers:c}){const h=e_(t.baseUrl,r,o),v=await t_(t.auth),m=await e(h,{method:i,headers:{...l?{"Content-Type":"application/json"}:{},...v,...c},body:l?JSON.stringify(l):void 0}),x=await m.text(),b=(m.headers.get("content-type")||"").includes("application/json"),_=b&&x?JSON.parse(x):x;if(!m.ok){const S=b?_:void 0,T=S==null?void 0:S.error;throw new ga((T==null?void 0:T.message)??`Request failed with status ${m.status}`,{status:m.status,icebergType:T==null?void 0:T.type,icebergCode:T==null?void 0:T.code,details:S})}return{status:m.status,headers:m.headers,data:_}}}}function Go(t){return t.join("")}var i_=class{constructor(t,e=""){this.client=t,this.prefix=e}async listNamespaces(t){const e=t?{parent:Go(t.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:e})).data.namespaces.map(r=>({namespace:r}))}async createNamespace(t,e){const i={namespace:t.namespace,properties:e==null?void 0:e.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:i})).data}async dropNamespace(t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Go(t.namespace)}`})}async loadNamespaceMetadata(t){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Go(t.namespace)}`})).data.properties}}async namespaceExists(t){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Go(t.namespace)}`}),!0}catch(e){if(e instanceof ga&&e.status===404)return!1;throw e}}async createNamespaceIfNotExists(t,e){try{return await this.createNamespace(t,e)}catch(i){if(i instanceof ga&&i.status===409)return;throw i}}};function Ws(t){return t.join("")}var s_=class{constructor(t,e="",i){this.client=t,this.prefix=e,this.accessDelegation=i}async listTables(t){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Ws(t.namespace)}/tables`})).data.identifiers}async createTable(t,e){const i={};return this.accessDelegation&&(i["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Ws(t.namespace)}/tables`,body:e,headers:i})).data.metadata}async updateTable(t,e){const i=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Ws(t.namespace)}/tables/${t.name}`,body:e});return{"metadata-location":i.data["metadata-location"],metadata:i.data.metadata}}async dropTable(t,e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Ws(t.namespace)}/tables/${t.name}`,query:{purgeRequested:String((e==null?void 0:e.purge)??!1)}})}async loadTable(t){const e={};return this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Ws(t.namespace)}/tables/${t.name}`,headers:e})).data.metadata}async tableExists(t){const e={};this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Ws(t.namespace)}/tables/${t.name}`,headers:e}),!0}catch(i){if(i instanceof ga&&i.status===404)return!1;throw i}}async createTableIfNotExists(t,e){try{return await this.createTable(t,e)}catch(i){if(i instanceof ga&&i.status===409)return await this.loadTable({namespace:t.namespace,name:e.name});throw i}}},r_=class{constructor(t){var r;let e="v1";t.catalogName&&(e+=`/${t.catalogName}`);const i=t.baseUrl.endsWith("/")?t.baseUrl:`${t.baseUrl}/`;this.client=n_({baseUrl:i,auth:t.auth,fetchImpl:t.fetch}),this.accessDelegation=(r=t.accessDelegation)==null?void 0:r.join(","),this.namespaceOps=new i_(this.client,e),this.tableOps=new s_(this.client,e,this.accessDelegation)}async listNamespaces(t){return this.namespaceOps.listNamespaces(t)}async createNamespace(t,e){return this.namespaceOps.createNamespace(t,e)}async dropNamespace(t){await this.namespaceOps.dropNamespace(t)}async loadNamespaceMetadata(t){return this.namespaceOps.loadNamespaceMetadata(t)}async listTables(t){return this.tableOps.listTables(t)}async createTable(t,e){return this.tableOps.createTable(t,e)}async updateTable(t,e){return this.tableOps.updateTable(t,e)}async dropTable(t,e){await this.tableOps.dropTable(t,e)}async loadTable(t){return this.tableOps.loadTable(t)}async namespaceExists(t){return this.namespaceOps.namespaceExists(t)}async tableExists(t){return this.tableOps.tableExists(t)}async createNamespaceIfNotExists(t,e){return this.namespaceOps.createNamespaceIfNotExists(t,e)}async createTableIfNotExists(t,e){return this.tableOps.createTableIfNotExists(t,e)}},sl=class extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}};function Qe(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}var a_=class extends sl{constructor(t,e,i){super(t),this.name="StorageApiError",this.status=e,this.statusCode=i}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Jc=class extends sl{constructor(t,e){super(t),this.name="StorageUnknownError",this.originalError=e}};const gd=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),o_=()=>Response,Kc=t=>{if(Array.isArray(t))return t.map(i=>Kc(i));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([i,r])=>{const o=i.replace(/([-_][a-z])/gi,l=>l.toUpperCase().replace(/[-_]/g,""));e[o]=Kc(r)}),e},l_=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},u_=t=>!t||typeof t!="string"||t.length===0||t.length>100||t.trim()!==t||t.includes("/")||t.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(t);function va(t){"@babel/helpers - typeof";return va=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},va(t)}function c_(t,e){if(va(t)!="object"||!t)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var r=i.call(t,e);if(va(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function d_(t){var e=c_(t,"string");return va(e)=="symbol"?e:e+""}function f_(t,e,i){return(e=d_(e))in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function zm(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),i.push.apply(i,r)}return i}function pe(t){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?arguments[e]:{};e%2?zm(Object(i),!0).forEach(function(r){f_(t,r,i[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):zm(Object(i)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(i,r))})}return t}const Uc=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},h_=async(t,e,i)=>{t instanceof await o_()&&!(i!=null&&i.noResolveJson)?t.json().then(r=>{const o=t.status||500,l=(r==null?void 0:r.statusCode)||o+"";e(new a_(Uc(r),o,l))}).catch(r=>{e(new Jc(Uc(r),r))}):e(new Jc(Uc(t),t))},p_=(t,e,i,r)=>{const o={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!r?o:(l_(r)?(o.headers=pe({"Content-Type":"application/json"},e==null?void 0:e.headers),o.body=JSON.stringify(r)):o.body=r,e!=null&&e.duplex&&(o.duplex=e.duplex),pe(pe({},o),i))};async function wa(t,e,i,r,o,l){return new Promise((c,h)=>{t(i,p_(e,r,o,l)).then(v=>{if(!v.ok)throw v;return r!=null&&r.noResolveJson?v:v.json()}).then(v=>c(v)).catch(v=>h_(v,h,r))})}async function ya(t,e,i,r){return wa(t,"GET",e,i,r)}async function En(t,e,i,r,o){return wa(t,"POST",e,r,o,i)}async function Yc(t,e,i,r,o){return wa(t,"PUT",e,r,o,i)}async function m_(t,e,i,r){return wa(t,"HEAD",e,pe(pe({},i),{},{noResolveJson:!0}),r)}async function vd(t,e,i,r,o){return wa(t,"DELETE",e,r,o,i)}var g_=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e}then(t,e){return this.execute().then(t,e)}async execute(){var t=this;try{return{data:(await t.downloadFn()).body,error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(Qe(e))return{data:null,error:e};throw e}}};let K0;K0=Symbol.toStringTag;var v_=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e,this[K0]="BlobDownloadBuilder",this.promise=null}asStream(){return new g_(this.downloadFn,this.shouldThrowOnError)}then(t,e){return this.getPromise().then(t,e)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var t=this;try{return{data:await(await t.downloadFn()).blob(),error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(Qe(e))return{data:null,error:e};throw e}}};const y_={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Fm={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var x_=class{constructor(t,e={},i,r){this.shouldThrowOnError=!1,this.url=t,this.headers=e,this.bucketId=i,this.fetch=gd(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(t,e,i,r){var o=this;try{let l;const c=pe(pe({},Fm),r);let h=pe(pe({},o.headers),t==="POST"&&{"x-upsert":String(c.upsert)});const v=c.metadata;typeof Blob<"u"&&i instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),v&&l.append("metadata",o.encodeMetadata(v)),l.append("",i)):typeof FormData<"u"&&i instanceof FormData?(l=i,l.has("cacheControl")||l.append("cacheControl",c.cacheControl),v&&!l.has("metadata")&&l.append("metadata",o.encodeMetadata(v))):(l=i,h["cache-control"]=`max-age=${c.cacheControl}`,h["content-type"]=c.contentType,v&&(h["x-metadata"]=o.toBase64(o.encodeMetadata(v))),(typeof ReadableStream<"u"&&l instanceof ReadableStream||l&&typeof l=="object"&&"pipe"in l&&typeof l.pipe=="function")&&!c.duplex&&(c.duplex="half")),r!=null&&r.headers&&(h=pe(pe({},h),r.headers));const m=o._removeEmptyFolders(e),x=o._getFinalPath(m),b=await(t=="PUT"?Yc:En)(o.fetch,`${o.url}/object/${x}`,l,pe({headers:h},c!=null&&c.duplex?{duplex:c.duplex}:{}));return{data:{path:m,id:b.Id,fullPath:b.Key},error:null}}catch(l){if(o.shouldThrowOnError)throw l;if(Qe(l))return{data:null,error:l};throw l}}async upload(t,e,i){return this.uploadOrUpdate("POST",t,e,i)}async uploadToSignedUrl(t,e,i,r){var o=this;const l=o._removeEmptyFolders(t),c=o._getFinalPath(l),h=new URL(o.url+`/object/upload/sign/${c}`);h.searchParams.set("token",e);try{let v;const m=pe({upsert:Fm.upsert},r),x=pe(pe({},o.headers),{"x-upsert":String(m.upsert)});return typeof Blob<"u"&&i instanceof Blob?(v=new FormData,v.append("cacheControl",m.cacheControl),v.append("",i)):typeof FormData<"u"&&i instanceof FormData?(v=i,v.append("cacheControl",m.cacheControl)):(v=i,x["cache-control"]=`max-age=${m.cacheControl}`,x["content-type"]=m.contentType),{data:{path:l,fullPath:(await Yc(o.fetch,h.toString(),v,{headers:x})).Key},error:null}}catch(v){if(o.shouldThrowOnError)throw v;if(Qe(v))return{data:null,error:v};throw v}}async createSignedUploadUrl(t,e){var i=this;try{let r=i._getFinalPath(t);const o=pe({},i.headers);e!=null&&e.upsert&&(o["x-upsert"]="true");const l=await En(i.fetch,`${i.url}/object/upload/sign/${r}`,{},{headers:o}),c=new URL(i.url+l.url),h=c.searchParams.get("token");if(!h)throw new sl("No token returned by API");return{data:{signedUrl:c.toString(),path:t,token:h},error:null}}catch(r){if(i.shouldThrowOnError)throw r;if(Qe(r))return{data:null,error:r};throw r}}async update(t,e,i){return this.uploadOrUpdate("PUT",t,e,i)}async move(t,e,i){var r=this;try{return{data:await En(r.fetch,`${r.url}/object/move`,{bucketId:r.bucketId,sourceKey:t,destinationKey:e,destinationBucket:i==null?void 0:i.destinationBucket},{headers:r.headers}),error:null}}catch(o){if(r.shouldThrowOnError)throw o;if(Qe(o))return{data:null,error:o};throw o}}async copy(t,e,i){var r=this;try{return{data:{path:(await En(r.fetch,`${r.url}/object/copy`,{bucketId:r.bucketId,sourceKey:t,destinationKey:e,destinationBucket:i==null?void 0:i.destinationBucket},{headers:r.headers})).Key},error:null}}catch(o){if(r.shouldThrowOnError)throw o;if(Qe(o))return{data:null,error:o};throw o}}async createSignedUrl(t,e,i){var r=this;try{let o=r._getFinalPath(t),l=await En(r.fetch,`${r.url}/object/sign/${o}`,pe({expiresIn:e},i!=null&&i.transform?{transform:i.transform}:{}),{headers:r.headers});const c=i!=null&&i.download?`&download=${i.download===!0?"":i.download}`:"";return l={signedUrl:encodeURI(`${r.url}${l.signedURL}${c}`)},{data:l,error:null}}catch(o){if(r.shouldThrowOnError)throw o;if(Qe(o))return{data:null,error:o};throw o}}async createSignedUrls(t,e,i){var r=this;try{const o=await En(r.fetch,`${r.url}/object/sign/${r.bucketId}`,{expiresIn:e,paths:t},{headers:r.headers}),l=i!=null&&i.download?`&download=${i.download===!0?"":i.download}`:"";return{data:o.map(c=>pe(pe({},c),{},{signedUrl:c.signedURL?encodeURI(`${r.url}${c.signedURL}${l}`):null})),error:null}}catch(o){if(r.shouldThrowOnError)throw o;if(Qe(o))return{data:null,error:o};throw o}}download(t,e){const i=typeof(e==null?void 0:e.transform)<"u"?"render/image/authenticated":"object",r=this.transformOptsToQueryString((e==null?void 0:e.transform)||{}),o=r?`?${r}`:"",l=this._getFinalPath(t),c=()=>ya(this.fetch,`${this.url}/${i}/${l}${o}`,{headers:this.headers,noResolveJson:!0});return new v_(c,this.shouldThrowOnError)}async info(t){var e=this;const i=e._getFinalPath(t);try{return{data:Kc(await ya(e.fetch,`${e.url}/object/info/${i}`,{headers:e.headers})),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Qe(r))return{data:null,error:r};throw r}}async exists(t){var e=this;const i=e._getFinalPath(t);try{return await m_(e.fetch,`${e.url}/object/${i}`,{headers:e.headers}),{data:!0,error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Qe(r)&&r instanceof Jc){const o=r.originalError;if([400,404].includes(o==null?void 0:o.status))return{data:!1,error:r}}throw r}}getPublicUrl(t,e){const i=this._getFinalPath(t),r=[],o=e!=null&&e.download?`download=${e.download===!0?"":e.download}`:"";o!==""&&r.push(o);const l=typeof(e==null?void 0:e.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((e==null?void 0:e.transform)||{});c!==""&&r.push(c);let h=r.join("&");return h!==""&&(h=`?${h}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${i}${h}`)}}}async remove(t){var e=this;try{return{data:await vd(e.fetch,`${e.url}/object/${e.bucketId}`,{prefixes:t},{headers:e.headers}),error:null}}catch(i){if(e.shouldThrowOnError)throw i;if(Qe(i))return{data:null,error:i};throw i}}async list(t,e,i){var r=this;try{const o=pe(pe(pe({},y_),e),{},{prefix:t||""});return{data:await En(r.fetch,`${r.url}/object/list/${r.bucketId}`,o,{headers:r.headers},i),error:null}}catch(o){if(r.shouldThrowOnError)throw o;if(Qe(o))return{data:null,error:o};throw o}}async listV2(t,e){var i=this;try{const r=pe({},t);return{data:await En(i.fetch,`${i.url}/object/list-v2/${i.bucketId}`,r,{headers:i.headers},e),error:null}}catch(r){if(i.shouldThrowOnError)throw r;if(Qe(r))return{data:null,error:r};throw r}}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const e=[];return t.width&&e.push(`width=${t.width}`),t.height&&e.push(`height=${t.height}`),t.resize&&e.push(`resize=${t.resize}`),t.format&&e.push(`format=${t.format}`),t.quality&&e.push(`quality=${t.quality}`),e.join("&")}};const Y0="2.89.0",X0={"X-Client-Info":`storage-js/${Y0}`};var b_=class{constructor(t,e={},i,r){this.shouldThrowOnError=!1;const o=new URL(t);r!=null&&r.useNewHostname&&/supabase\.(co|in|red)$/.test(o.hostname)&&!o.hostname.includes("storage.supabase.")&&(o.hostname=o.hostname.replace("supabase.","storage.supabase.")),this.url=o.href.replace(/\/$/,""),this.headers=pe(pe({},X0),e),this.fetch=gd(i)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(t){var e=this;try{const i=e.listBucketOptionsToQueryString(t);return{data:await ya(e.fetch,`${e.url}/bucket${i}`,{headers:e.headers}),error:null}}catch(i){if(e.shouldThrowOnError)throw i;if(Qe(i))return{data:null,error:i};throw i}}async getBucket(t){var e=this;try{return{data:await ya(e.fetch,`${e.url}/bucket/${t}`,{headers:e.headers}),error:null}}catch(i){if(e.shouldThrowOnError)throw i;if(Qe(i))return{data:null,error:i};throw i}}async createBucket(t,e={public:!1}){var i=this;try{return{data:await En(i.fetch,`${i.url}/bucket`,{id:t,name:t,type:e.type,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:i.headers}),error:null}}catch(r){if(i.shouldThrowOnError)throw r;if(Qe(r))return{data:null,error:r};throw r}}async updateBucket(t,e){var i=this;try{return{data:await Yc(i.fetch,`${i.url}/bucket/${t}`,{id:t,name:t,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:i.headers}),error:null}}catch(r){if(i.shouldThrowOnError)throw r;if(Qe(r))return{data:null,error:r};throw r}}async emptyBucket(t){var e=this;try{return{data:await En(e.fetch,`${e.url}/bucket/${t}/empty`,{},{headers:e.headers}),error:null}}catch(i){if(e.shouldThrowOnError)throw i;if(Qe(i))return{data:null,error:i};throw i}}async deleteBucket(t){var e=this;try{return{data:await vd(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}),error:null}}catch(i){if(e.shouldThrowOnError)throw i;if(Qe(i))return{data:null,error:i};throw i}}listBucketOptionsToQueryString(t){const e={};return t&&("limit"in t&&(e.limit=String(t.limit)),"offset"in t&&(e.offset=String(t.offset)),t.search&&(e.search=t.search),t.sortColumn&&(e.sortColumn=t.sortColumn),t.sortOrder&&(e.sortOrder=t.sortOrder)),Object.keys(e).length>0?"?"+new URLSearchParams(e).toString():""}},__=class{constructor(t,e={},i){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=pe(pe({},X0),e),this.fetch=gd(i)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(t){var e=this;try{return{data:await En(e.fetch,`${e.url}/bucket`,{name:t},{headers:e.headers}),error:null}}catch(i){if(e.shouldThrowOnError)throw i;if(Qe(i))return{data:null,error:i};throw i}}async listBuckets(t){var e=this;try{const i=new URLSearchParams;(t==null?void 0:t.limit)!==void 0&&i.set("limit",t.limit.toString()),(t==null?void 0:t.offset)!==void 0&&i.set("offset",t.offset.toString()),t!=null&&t.sortColumn&&i.set("sortColumn",t.sortColumn),t!=null&&t.sortOrder&&i.set("sortOrder",t.sortOrder),t!=null&&t.search&&i.set("search",t.search);const r=i.toString(),o=r?`${e.url}/bucket?${r}`:`${e.url}/bucket`;return{data:await ya(e.fetch,o,{headers:e.headers}),error:null}}catch(i){if(e.shouldThrowOnError)throw i;if(Qe(i))return{data:null,error:i};throw i}}async deleteBucket(t){var e=this;try{return{data:await vd(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}),error:null}}catch(i){if(e.shouldThrowOnError)throw i;if(Qe(i))return{data:null,error:i};throw i}}from(t){var e=this;if(!u_(t))throw new sl("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const i=new r_({baseUrl:this.url,catalogName:t,auth:{type:"custom",getHeaders:async()=>e.headers},fetch:this.fetch}),r=this.shouldThrowOnError;return new Proxy(i,{get(o,l){const c=o[l];return typeof c!="function"?c:async(...h)=>{try{return{data:await c.apply(o,h),error:null}}catch(v){if(r)throw v;return{data:null,error:v}}}}})}};const yd={"X-Client-Info":`storage-js/${Y0}`,"Content-Type":"application/json"};var W0=class extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function en(t){return typeof t=="object"&&t!==null&&"__isStorageVectorsError"in t}var Pc=class extends W0{constructor(t,e,i){super(t),this.name="StorageVectorsApiError",this.status=e,this.statusCode=i}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},w_=class extends W0{constructor(t,e){super(t),this.name="StorageVectorsUnknownError",this.originalError=e}};const xd=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),S_=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},$m=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),E_=async(t,e,i)=>{if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!(i!=null&&i.noResolveJson)){const r=t.status||500,o=t;if(typeof o.json=="function")o.json().then(l=>{const c=(l==null?void 0:l.statusCode)||(l==null?void 0:l.code)||r+"";e(new Pc($m(l),r,c))}).catch(()=>{const l=r+"";e(new Pc(o.statusText||`HTTP ${r} error`,r,l))});else{const l=r+"";e(new Pc(o.statusText||`HTTP ${r} error`,r,l))}}else e(new w_($m(t),t))},T_=(t,e,i,r)=>{const o={method:t,headers:(e==null?void 0:e.headers)||{}};return r?(S_(r)?(o.headers=pe({"Content-Type":"application/json"},e==null?void 0:e.headers),o.body=JSON.stringify(r)):o.body=r,pe(pe({},o),i)):o};async function A_(t,e,i,r,o,l){return new Promise((c,h)=>{t(i,T_(e,r,o,l)).then(v=>{if(!v.ok)throw v;if(r!=null&&r.noResolveJson)return v;const m=v.headers.get("content-type");return!m||!m.includes("application/json")?{}:v.json()}).then(v=>c(v)).catch(v=>E_(v,h,r))})}async function tn(t,e,i,r,o){return A_(t,"POST",e,r,o,i)}var C_=class{constructor(t,e={},i){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=pe(pe({},yd),e),this.fetch=xd(i)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(t){var e=this;try{return{data:await tn(e.fetch,`${e.url}/CreateIndex`,t,{headers:e.headers})||{},error:null}}catch(i){if(e.shouldThrowOnError)throw i;if(en(i))return{data:null,error:i};throw i}}async getIndex(t,e){var i=this;try{return{data:await tn(i.fetch,`${i.url}/GetIndex`,{vectorBucketName:t,indexName:e},{headers:i.headers}),error:null}}catch(r){if(i.shouldThrowOnError)throw r;if(en(r))return{data:null,error:r};throw r}}async listIndexes(t){var e=this;try{return{data:await tn(e.fetch,`${e.url}/ListIndexes`,t,{headers:e.headers}),error:null}}catch(i){if(e.shouldThrowOnError)throw i;if(en(i))return{data:null,error:i};throw i}}async deleteIndex(t,e){var i=this;try{return{data:await tn(i.fetch,`${i.url}/DeleteIndex`,{vectorBucketName:t,indexName:e},{headers:i.headers})||{},error:null}}catch(r){if(i.shouldThrowOnError)throw r;if(en(r))return{data:null,error:r};throw r}}},N_=class{constructor(t,e={},i){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=pe(pe({},yd),e),this.fetch=xd(i)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(t){var e=this;try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await tn(e.fetch,`${e.url}/PutVectors`,t,{headers:e.headers})||{},error:null}}catch(i){if(e.shouldThrowOnError)throw i;if(en(i))return{data:null,error:i};throw i}}async getVectors(t){var e=this;try{return{data:await tn(e.fetch,`${e.url}/GetVectors`,t,{headers:e.headers}),error:null}}catch(i){if(e.shouldThrowOnError)throw i;if(en(i))return{data:null,error:i};throw i}}async listVectors(t){var e=this;try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:await tn(e.fetch,`${e.url}/ListVectors`,t,{headers:e.headers}),error:null}}catch(i){if(e.shouldThrowOnError)throw i;if(en(i))return{data:null,error:i};throw i}}async queryVectors(t){var e=this;try{return{data:await tn(e.fetch,`${e.url}/QueryVectors`,t,{headers:e.headers}),error:null}}catch(i){if(e.shouldThrowOnError)throw i;if(en(i))return{data:null,error:i};throw i}}async deleteVectors(t){var e=this;try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await tn(e.fetch,`${e.url}/DeleteVectors`,t,{headers:e.headers})||{},error:null}}catch(i){if(e.shouldThrowOnError)throw i;if(en(i))return{data:null,error:i};throw i}}},R_=class{constructor(t,e={},i){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=pe(pe({},yd),e),this.fetch=xd(i)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(t){var e=this;try{return{data:await tn(e.fetch,`${e.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{},error:null}}catch(i){if(e.shouldThrowOnError)throw i;if(en(i))return{data:null,error:i};throw i}}async getBucket(t){var e=this;try{return{data:await tn(e.fetch,`${e.url}/GetVectorBucket`,{vectorBucketName:t},{headers:e.headers}),error:null}}catch(i){if(e.shouldThrowOnError)throw i;if(en(i))return{data:null,error:i};throw i}}async listBuckets(t={}){var e=this;try{return{data:await tn(e.fetch,`${e.url}/ListVectorBuckets`,t,{headers:e.headers}),error:null}}catch(i){if(e.shouldThrowOnError)throw i;if(en(i))return{data:null,error:i};throw i}}async deleteBucket(t){var e=this;try{return{data:await tn(e.fetch,`${e.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{},error:null}}catch(i){if(e.shouldThrowOnError)throw i;if(en(i))return{data:null,error:i};throw i}}},k_=class extends R_{constructor(t,e={}){super(t,e.headers||{},e.fetch)}from(t){return new I_(this.url,this.headers,t,this.fetch)}async createBucket(t){var e=()=>super.createBucket,i=this;return e().call(i,t)}async getBucket(t){var e=()=>super.getBucket,i=this;return e().call(i,t)}async listBuckets(t={}){var e=()=>super.listBuckets,i=this;return e().call(i,t)}async deleteBucket(t){var e=()=>super.deleteBucket,i=this;return e().call(i,t)}},I_=class extends C_{constructor(t,e,i,r){super(t,e,r),this.vectorBucketName=i}async createIndex(t){var e=()=>super.createIndex,i=this;return e().call(i,pe(pe({},t),{},{vectorBucketName:i.vectorBucketName}))}async listIndexes(t={}){var e=()=>super.listIndexes,i=this;return e().call(i,pe(pe({},t),{},{vectorBucketName:i.vectorBucketName}))}async getIndex(t){var e=()=>super.getIndex,i=this;return e().call(i,i.vectorBucketName,t)}async deleteIndex(t){var e=()=>super.deleteIndex,i=this;return e().call(i,i.vectorBucketName,t)}index(t){return new D_(this.url,this.headers,this.vectorBucketName,t,this.fetch)}},D_=class extends N_{constructor(t,e,i,r,o){super(t,e,o),this.vectorBucketName=i,this.indexName=r}async putVectors(t){var e=()=>super.putVectors,i=this;return e().call(i,pe(pe({},t),{},{vectorBucketName:i.vectorBucketName,indexName:i.indexName}))}async getVectors(t){var e=()=>super.getVectors,i=this;return e().call(i,pe(pe({},t),{},{vectorBucketName:i.vectorBucketName,indexName:i.indexName}))}async listVectors(t={}){var e=()=>super.listVectors,i=this;return e().call(i,pe(pe({},t),{},{vectorBucketName:i.vectorBucketName,indexName:i.indexName}))}async queryVectors(t){var e=()=>super.queryVectors,i=this;return e().call(i,pe(pe({},t),{},{vectorBucketName:i.vectorBucketName,indexName:i.indexName}))}async deleteVectors(t){var e=()=>super.deleteVectors,i=this;return e().call(i,pe(pe({},t),{},{vectorBucketName:i.vectorBucketName,indexName:i.indexName}))}},M_=class extends b_{constructor(t,e={},i,r){super(t,e,i,r)}from(t){return new x_(this.url,this.headers,t,this.fetch)}get vectors(){return new k_(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new __(this.url+"/iceberg",this.headers,this.fetch)}};const Q0="2.89.0",sr=30*1e3,Xc=3,Lc=Xc*sr,U_="http://localhost:9999",P_="supabase.auth.token",L_={"X-Client-Info":`gotrue-js/${Q0}`},Wc="X-Supabase-Api-Version",Z0={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},O_=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,G_=600*1e3;class xa extends Error{constructor(e,i,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=i,this.code=r}}function ue(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class j_ extends xa{constructor(e,i,r){super(e,i,r),this.name="AuthApiError",this.status=i,this.code=r}}function B_(t){return ue(t)&&t.name==="AuthApiError"}class ls extends xa{constructor(e,i){super(e),this.name="AuthUnknownError",this.originalError=i}}class ti extends xa{constructor(e,i,r,o){super(e,r,o),this.name=i,this.status=r}}class Zt extends ti{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function H_(t){return ue(t)&&t.name==="AuthSessionMissingError"}class Qs extends ti{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class jo extends ti{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Bo extends ti{constructor(e,i=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=i}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function q_(t){return ue(t)&&t.name==="AuthImplicitGrantRedirectError"}class Jm extends ti{constructor(e,i=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=i}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class V_ extends ti{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class Qc extends ti{constructor(e,i){super(e,"AuthRetryableFetchError",i,void 0)}}function Oc(t){return ue(t)&&t.name==="AuthRetryableFetchError"}class Km extends ti{constructor(e,i,r){super(e,"AuthWeakPasswordError",i,"weak_password"),this.reasons=r}}class Zc extends ti{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Ko="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Ym=` 	
\r=`.split(""),z_=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<Ym.length;e+=1)t[Ym[e].charCodeAt(0)]=-2;for(let e=0;e<Ko.length;e+=1)t[Ko[e].charCodeAt(0)]=e;return t})();function Xm(t,e,i){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;i(Ko[r]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;i(Ko[r]),e.queuedBits-=6}}function ev(t,e,i){const r=z_[t];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)i(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function Wm(t){const e=[],i=c=>{e.push(String.fromCodePoint(c))},r={utf8seq:0,codepoint:0},o={queue:0,queuedBits:0},l=c=>{J_(c,r,i)};for(let c=0;c<t.length;c+=1)ev(t.charCodeAt(c),o,l);return e.join("")}function F_(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function $_(t,e){for(let i=0;i<t.length;i+=1){let r=t.charCodeAt(i);if(r>55295&&r<=56319){const o=(r-55296)*1024&65535;r=(t.charCodeAt(i+1)-56320&65535|o)+65536,i+=1}F_(r,e)}}function J_(t,e,i){if(e.utf8seq===0){if(t<=127){i(t);return}for(let r=1;r<6;r+=1)if((t>>7-r&1)===0){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&i(e.codepoint)}}function cr(t){const e=[],i={queue:0,queuedBits:0},r=o=>{e.push(o)};for(let o=0;o<t.length;o+=1)ev(t.charCodeAt(o),i,r);return new Uint8Array(e)}function K_(t){const e=[];return $_(t,i=>e.push(i)),new Uint8Array(e)}function us(t){const e=[],i={queue:0,queuedBits:0},r=o=>{e.push(o)};return t.forEach(o=>Xm(o,i,r)),Xm(null,i,r),e.join("")}function Y_(t){return Math.round(Date.now()/1e3)+t}function X_(){return Symbol("auth-callback")}const Nt=()=>typeof window<"u"&&typeof document<"u",is={tested:!1,writable:!1},tv=()=>{if(!Nt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(is.tested)return is.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),is.tested=!0,is.writable=!0}catch{is.tested=!0,is.writable=!1}return is.writable};function W_(t){const e={},i=new URL(t);if(i.hash&&i.hash[0]==="#")try{new URLSearchParams(i.hash.substring(1)).forEach((o,l)=>{e[l]=o})}catch{}return i.searchParams.forEach((r,o)=>{e[o]=r}),e}const nv=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),Q_=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",rr=async(t,e,i)=>{await t.setItem(e,JSON.stringify(i))},ss=async(t,e)=>{const i=await t.getItem(e);if(!i)return null;try{return JSON.parse(i)}catch{return i}},Ct=async(t,e)=>{await t.removeItem(e)};class rl{constructor(){this.promise=new rl.promiseConstructor((e,i)=>{this.resolve=e,this.reject=i})}}rl.promiseConstructor=Promise;function Gc(t){const e=t.split(".");if(e.length!==3)throw new Zc("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!O_.test(e[r]))throw new Zc("JWT not in base64url format");return{header:JSON.parse(Wm(e[0])),payload:JSON.parse(Wm(e[1])),signature:cr(e[2]),raw:{header:e[0],payload:e[1]}}}async function Z_(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function ew(t,e){return new Promise((r,o)=>{(async()=>{for(let l=0;l<1/0;l++)try{const c=await t(l);if(!e(l,null,c)){r(c);return}}catch(c){if(!e(l,c)){o(c);return}}})()})}function tw(t){return("0"+t.toString(16)).substr(-2)}function nw(){const e=new Uint32Array(56);if(typeof crypto>"u"){const i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=i.length;let o="";for(let l=0;l<56;l++)o+=i.charAt(Math.floor(Math.random()*r));return o}return crypto.getRandomValues(e),Array.from(e,tw).join("")}async function iw(t){const i=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",i),o=new Uint8Array(r);return Array.from(o).map(l=>String.fromCharCode(l)).join("")}async function sw(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const i=await iw(t);return btoa(i).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Zs(t,e,i=!1){const r=nw();let o=r;i&&(o+="/PASSWORD_RECOVERY"),await rr(t,`${e}-code-verifier`,o);const l=await sw(r);return[l,r===l?"plain":"s256"]}const rw=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function aw(t){const e=t.headers.get(Wc);if(!e||!e.match(rw))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function ow(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function lw(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const uw=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function er(t){if(!uw.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function jc(){const t={};return new Proxy(t,{get:(e,i)=>{if(i==="__isUserNotAvailableProxy")return!0;if(typeof i=="symbol"){const r=i.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${i}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,i)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${i}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,i)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${i}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function cw(t,e){return new Proxy(t,{get:(i,r,o)=>{if(r==="__isInsecureUserWarningProxy")return!0;if(typeof r=="symbol"){const l=r.toString();if(l==="Symbol(Symbol.toPrimitive)"||l==="Symbol(Symbol.toStringTag)"||l==="Symbol(util.inspect.custom)"||l==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(i,r,o)}return!e.value&&typeof r=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(i,r,o)}})}function Qm(t){return JSON.parse(JSON.stringify(t))}const rs=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),dw=[502,503,504];async function Zm(t){var e;if(!Q_(t))throw new Qc(rs(t),0);if(dw.includes(t.status))throw new Qc(rs(t),t.status);let i;try{i=await t.json()}catch(l){throw new ls(rs(l),l)}let r;const o=aw(t);if(o&&o.getTime()>=Z0["2024-01-01"].timestamp&&typeof i=="object"&&i&&typeof i.code=="string"?r=i.code:typeof i=="object"&&i&&typeof i.error_code=="string"&&(r=i.error_code),r){if(r==="weak_password")throw new Km(rs(i),t.status,((e=i.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new Zt}else if(typeof i=="object"&&i&&typeof i.weak_password=="object"&&i.weak_password&&Array.isArray(i.weak_password.reasons)&&i.weak_password.reasons.length&&i.weak_password.reasons.reduce((l,c)=>l&&typeof c=="string",!0))throw new Km(rs(i),t.status,i.weak_password.reasons);throw new j_(rs(i),t.status||500,r)}const fw=(t,e,i,r)=>{const o={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?o:(o.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),o.body=JSON.stringify(r),Object.assign(Object.assign({},o),i))};async function he(t,e,i,r){var o;const l=Object.assign({},r==null?void 0:r.headers);l[Wc]||(l[Wc]=Z0["2024-01-01"].name),r!=null&&r.jwt&&(l.Authorization=`Bearer ${r.jwt}`);const c=(o=r==null?void 0:r.query)!==null&&o!==void 0?o:{};r!=null&&r.redirectTo&&(c.redirect_to=r.redirectTo);const h=Object.keys(c).length?"?"+new URLSearchParams(c).toString():"",v=await hw(t,e,i+h,{headers:l,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(v):{data:Object.assign({},v),error:null}}async function hw(t,e,i,r,o,l){const c=fw(e,r,o,l);let h;try{h=await t(i,Object.assign({},c))}catch(v){throw console.error(v),new Qc(rs(v),0)}if(h.ok||await Zm(h),r!=null&&r.noResolveJson)return h;try{return await h.json()}catch(v){await Zm(v)}}function Sn(t){var e;let i=null;gw(t)&&(i=Object.assign({},t),t.expires_at||(i.expires_at=Y_(t.expires_in)));const r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:i,user:r},error:null}}function eg(t){const e=Sn(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((i,r)=>i&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Di(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function pw(t){return{data:t,error:null}}function mw(t){const{action_link:e,email_otp:i,hashed_token:r,redirect_to:o,verification_type:l}=t,c=il(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),h={action_link:e,email_otp:i,hashed_token:r,redirect_to:o,verification_type:l},v=Object.assign({},c);return{data:{properties:h,user:v},error:null}}function tg(t){return t}function gw(t){return t.access_token&&t.refresh_token&&t.expires_in}const Bc=["global","local","others"];class vw{constructor({url:e="",headers:i={},fetch:r}){this.url=e,this.headers=i,this.fetch=nv(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,i=Bc[0]){if(Bc.indexOf(i)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Bc.join(", ")}`);try{return await he(this.fetch,"POST",`${this.url}/logout?scope=${i}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(ue(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,i={}){try{return await he(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:i.data},headers:this.headers,redirectTo:i.redirectTo,xform:Di})}catch(r){if(ue(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:i}=e,r=il(e,["options"]),o=Object.assign(Object.assign({},r),i);return"newEmail"in r&&(o.new_email=r==null?void 0:r.newEmail,delete o.newEmail),await he(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:o,headers:this.headers,xform:mw,redirectTo:i==null?void 0:i.redirectTo})}catch(i){if(ue(i))return{data:{properties:null,user:null},error:i};throw i}}async createUser(e){try{return await he(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Di})}catch(i){if(ue(i))return{data:{user:null},error:i};throw i}}async listUsers(e){var i,r,o,l,c,h,v;try{const m={nextPage:null,lastPage:0,total:0},x=await he(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(i=e==null?void 0:e.page)===null||i===void 0?void 0:i.toString())!==null&&r!==void 0?r:"",per_page:(l=(o=e==null?void 0:e.perPage)===null||o===void 0?void 0:o.toString())!==null&&l!==void 0?l:""},xform:tg});if(x.error)throw x.error;const b=await x.json(),_=(c=x.headers.get("x-total-count"))!==null&&c!==void 0?c:0,S=(v=(h=x.headers.get("link"))===null||h===void 0?void 0:h.split(","))!==null&&v!==void 0?v:[];return S.length>0&&(S.forEach(T=>{const N=parseInt(T.split(";")[0].split("=")[1].substring(0,1)),C=JSON.parse(T.split(";")[1].split("=")[1]);m[`${C}Page`]=N}),m.total=parseInt(_)),{data:Object.assign(Object.assign({},b),m),error:null}}catch(m){if(ue(m))return{data:{users:[]},error:m};throw m}}async getUserById(e){er(e);try{return await he(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Di})}catch(i){if(ue(i))return{data:{user:null},error:i};throw i}}async updateUserById(e,i){er(e);try{return await he(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:i,headers:this.headers,xform:Di})}catch(r){if(ue(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,i=!1){er(e);try{return await he(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:i},xform:Di})}catch(r){if(ue(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){er(e.userId);try{const{data:i,error:r}=await he(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:o=>({data:{factors:o},error:null})});return{data:i,error:r}}catch(i){if(ue(i))return{data:null,error:i};throw i}}async _deleteFactor(e){er(e.userId),er(e.id);try{return{data:await he(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(i){if(ue(i))return{data:null,error:i};throw i}}async _listOAuthClients(e){var i,r,o,l,c,h,v;try{const m={nextPage:null,lastPage:0,total:0},x=await he(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(i=e==null?void 0:e.page)===null||i===void 0?void 0:i.toString())!==null&&r!==void 0?r:"",per_page:(l=(o=e==null?void 0:e.perPage)===null||o===void 0?void 0:o.toString())!==null&&l!==void 0?l:""},xform:tg});if(x.error)throw x.error;const b=await x.json(),_=(c=x.headers.get("x-total-count"))!==null&&c!==void 0?c:0,S=(v=(h=x.headers.get("link"))===null||h===void 0?void 0:h.split(","))!==null&&v!==void 0?v:[];return S.length>0&&(S.forEach(T=>{const N=parseInt(T.split(";")[0].split("=")[1].substring(0,1)),C=JSON.parse(T.split(";")[1].split("=")[1]);m[`${C}Page`]=N}),m.total=parseInt(_)),{data:Object.assign(Object.assign({},b),m),error:null}}catch(m){if(ue(m))return{data:{clients:[]},error:m};throw m}}async _createOAuthClient(e){try{return await he(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:i=>({data:i,error:null})})}catch(i){if(ue(i))return{data:null,error:i};throw i}}async _getOAuthClient(e){try{return await he(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:i=>({data:i,error:null})})}catch(i){if(ue(i))return{data:null,error:i};throw i}}async _updateOAuthClient(e,i){try{return await he(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:i,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ue(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(e){try{return await he(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(i){if(ue(i))return{data:null,error:i};throw i}}async _regenerateOAuthClientSecret(e){try{return await he(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:i=>({data:i,error:null})})}catch(i){if(ue(i))return{data:null,error:i};throw i}}}function ng(t={}){return{getItem:e=>t[e]||null,setItem:(e,i)=>{t[e]=i},removeItem:e=>{delete t[e]}}}const tr={debug:!!(globalThis&&tv()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class iv extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class yw extends iv{}async function xw(t,e,i){tr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),tr.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async o=>{if(o){tr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,o.name);try{return await i()}finally{tr.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,o.name)}}else{if(e===0)throw tr.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new yw(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(tr.debug)try{const l=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(l,null,"  "))}catch(l){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",l)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await i()}}))}function bw(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function sv(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function _w(t){return parseInt(t,16)}function ww(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,r=>r.toString(16).padStart(2,"0")).join("")}function Sw(t){var e;const{chainId:i,domain:r,expirationTime:o,issuedAt:l=new Date,nonce:c,notBefore:h,requestId:v,resources:m,scheme:x,uri:b,version:_}=t;{if(!Number.isInteger(i))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${i}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(c&&c.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${c}`);if(!b)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(_!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${_}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const S=sv(t.address),T=x?`${x}://${r}`:r,N=t.statement?`${t.statement}
`:"",C=`${T} wants you to sign in with your Ethereum account:
${S}

${N}`;let D=`URI: ${b}
Version: ${_}
Chain ID: ${i}${c?`
Nonce: ${c}`:""}
Issued At: ${l.toISOString()}`;if(o&&(D+=`
Expiration Time: ${o.toISOString()}`),h&&(D+=`
Not Before: ${h.toISOString()}`),v&&(D+=`
Request ID: ${v}`),m){let B=`
Resources:`;for(const M of m){if(!M||typeof M!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${M}`);B+=`
- ${M}`}D+=B}return`${C}
${D}`}class ft extends Error{constructor({message:e,code:i,cause:r,name:o}){var l;super(e,{cause:r}),this.__isWebAuthnError=!0,this.name=(l=o??(r instanceof Error?r.name:void 0))!==null&&l!==void 0?l:"Unknown Error",this.code=i}}class Yo extends ft{constructor(e,i){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:i,message:e}),this.name="WebAuthnUnknownError",this.originalError=i}}function Ew({error:t,options:e}){var i,r,o;const{publicKey:l}=e;if(!l)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new ft({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((i=l.authenticatorSelection)===null||i===void 0?void 0:i.requireResidentKey)===!0)return new ft({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((r=l.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new ft({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((o=l.authenticatorSelection)===null||o===void 0?void 0:o.userVerification)==="required")return new ft({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new ft({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new ft({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return l.pubKeyCredParams.filter(h=>h.type==="public-key").length===0?new ft({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new ft({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const c=window.location.hostname;if(rv(c)){if(l.rp.id!==c)return new ft({message:`The RP ID "${l.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new ft({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(l.user.id.byteLength<1||l.user.id.byteLength>64)return new ft({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new ft({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new ft({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function Tw({error:t,options:e}){const{publicKey:i}=e;if(!i)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new ft({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new ft({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const r=window.location.hostname;if(rv(r)){if(i.rpId!==r)return new ft({message:`The RP ID "${i.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new ft({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new ft({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new ft({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class Aw{createNewAbortSignal(){if(this.controller){const i=new Error("Cancelling existing WebAuthn API call for new one");i.name="AbortError",this.controller.abort(i)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const Cw=new Aw;function Nw(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:i,excludeCredentials:r}=t,o=il(t,["challenge","user","excludeCredentials"]),l=cr(e).buffer,c=Object.assign(Object.assign({},i),{id:cr(i.id).buffer}),h=Object.assign(Object.assign({},o),{challenge:l,user:c});if(r&&r.length>0){h.excludeCredentials=new Array(r.length);for(let v=0;v<r.length;v++){const m=r[v];h.excludeCredentials[v]=Object.assign(Object.assign({},m),{id:cr(m.id).buffer,type:m.type||"public-key",transports:m.transports})}}return h}function Rw(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:i}=t,r=il(t,["challenge","allowCredentials"]),o=cr(e).buffer,l=Object.assign(Object.assign({},r),{challenge:o});if(i&&i.length>0){l.allowCredentials=new Array(i.length);for(let c=0;c<i.length;c++){const h=i[c];l.allowCredentials[c]=Object.assign(Object.assign({},h),{id:cr(h.id).buffer,type:h.type||"public-key",transports:h.transports})}}return l}function kw(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const i=t;return{id:t.id,rawId:t.id,response:{attestationObject:us(new Uint8Array(t.response.attestationObject)),clientDataJSON:us(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=i.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function Iw(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const i=t,r=t.getClientExtensionResults(),o=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:us(new Uint8Array(o.authenticatorData)),clientDataJSON:us(new Uint8Array(o.clientDataJSON)),signature:us(new Uint8Array(o.signature)),userHandle:o.userHandle?us(new Uint8Array(o.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(e=i.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function rv(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function ig(){var t,e;return!!(Nt()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.get)=="function")}async function Dw(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Yo("Browser returned unexpected credential type",e)}:{data:null,error:new Yo("Empty credential response",e)}}catch(e){return{data:null,error:Ew({error:e,options:t})}}}async function Mw(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Yo("Browser returned unexpected credential type",e)}:{data:null,error:new Yo("Empty credential response",e)}}catch(e){return{data:null,error:Tw({error:e,options:t})}}}const Uw={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},Pw={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Xo(...t){const e=o=>o!==null&&typeof o=="object"&&!Array.isArray(o),i=o=>o instanceof ArrayBuffer||ArrayBuffer.isView(o),r={};for(const o of t)if(o)for(const l in o){const c=o[l];if(c!==void 0)if(Array.isArray(c))r[l]=c;else if(i(c))r[l]=c;else if(e(c)){const h=r[l];e(h)?r[l]=Xo(h,c):r[l]=Xo(c)}else r[l]=c}return r}function Lw(t,e){return Xo(Uw,t,e||{})}function Ow(t,e){return Xo(Pw,t,e||{})}class Gw{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:i,friendlyName:r,signal:o},l){try{const{data:c,error:h}=await this.client.mfa.challenge({factorId:e,webauthn:i});if(!c)return{data:null,error:h};const v=o??Cw.createNewAbortSignal();if(c.webauthn.type==="create"){const{user:m}=c.webauthn.credential_options.publicKey;m.name||(m.name=`${m.id}:${r}`),m.displayName||(m.displayName=m.name)}switch(c.webauthn.type){case"create":{const m=Lw(c.webauthn.credential_options.publicKey,l==null?void 0:l.create),{data:x,error:b}=await Dw({publicKey:m,signal:v});return x?{data:{factorId:e,challengeId:c.id,webauthn:{type:c.webauthn.type,credential_response:x}},error:null}:{data:null,error:b}}case"request":{const m=Ow(c.webauthn.credential_options.publicKey,l==null?void 0:l.request),{data:x,error:b}=await Mw(Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:m,signal:v}));return x?{data:{factorId:e,challengeId:c.id,webauthn:{type:c.webauthn.type,credential_response:x}},error:null}:{data:null,error:b}}}}catch(c){return ue(c)?{data:null,error:c}:{data:null,error:new ls("Unexpected error in challenge",c)}}}async _verify({challengeId:e,factorId:i,webauthn:r}){return this.client.mfa.verify({factorId:i,challengeId:e,webauthn:r})}async _authenticate({factorId:e,webauthn:{rpId:i=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:o}={}},l){if(!i)return{data:null,error:new xa("rpId is required for WebAuthn authentication")};try{if(!ig())return{data:null,error:new ls("Browser does not support WebAuthn",null)};const{data:c,error:h}=await this.challenge({factorId:e,webauthn:{rpId:i,rpOrigins:r},signal:o},{request:l});if(!c)return{data:null,error:h};const{webauthn:v}=c;return this._verify({factorId:e,challengeId:c.challengeId,webauthn:{type:v.type,rpId:i,rpOrigins:r,credential_response:v.credential_response}})}catch(c){return ue(c)?{data:null,error:c}:{data:null,error:new ls("Unexpected error in authenticate",c)}}}async _register({friendlyName:e,webauthn:{rpId:i=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:o}={}},l){if(!i)return{data:null,error:new xa("rpId is required for WebAuthn registration")};try{if(!ig())return{data:null,error:new ls("Browser does not support WebAuthn",null)};const{data:c,error:h}=await this._enroll({friendlyName:e});if(!c)return await this.client.mfa.listFactors().then(x=>{var b;return(b=x.data)===null||b===void 0?void 0:b.all.find(_=>_.factor_type==="webauthn"&&_.friendly_name===e&&_.status!=="unverified")}).then(x=>x?this.client.mfa.unenroll({factorId:x==null?void 0:x.id}):void 0),{data:null,error:h};const{data:v,error:m}=await this._challenge({factorId:c.id,friendlyName:c.friendly_name,webauthn:{rpId:i,rpOrigins:r},signal:o},{create:l});return v?this._verify({factorId:c.id,challengeId:v.challengeId,webauthn:{rpId:i,rpOrigins:r,type:v.webauthn.type,credential_response:v.webauthn.credential_response}}):{data:null,error:m}}catch(c){return ue(c)?{data:null,error:c}:{data:null,error:new ls("Unexpected error in register",c)}}}}bw();const jw={url:U_,storageKey:P_,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:L_,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function sg(t,e,i){return await i()}const nr={};class ba{get jwks(){var e,i;return(i=(e=nr[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&i!==void 0?i:{keys:[]}}set jwks(e){nr[this.storageKey]=Object.assign(Object.assign({},nr[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,i;return(i=(e=nr[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&i!==void 0?i:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){nr[this.storageKey]=Object.assign(Object.assign({},nr[this.storageKey]),{cachedAt:e})}constructor(e){var i,r,o;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const l=Object.assign(Object.assign({},jw),e);if(this.storageKey=l.storageKey,this.instanceID=(i=ba.nextInstanceID[this.storageKey])!==null&&i!==void 0?i:0,ba.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!l.debug,typeof l.debug=="function"&&(this.logger=l.debug),this.instanceID>0&&Nt()){const c=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(c),this.logDebugMessages&&console.trace(c)}if(this.persistSession=l.persistSession,this.autoRefreshToken=l.autoRefreshToken,this.admin=new vw({url:l.url,headers:l.headers,fetch:l.fetch}),this.url=l.url,this.headers=l.headers,this.fetch=nv(l.fetch),this.lock=l.lock||sg,this.detectSessionInUrl=l.detectSessionInUrl,this.flowType=l.flowType,this.hasCustomAuthorizationHeader=l.hasCustomAuthorizationHeader,this.throwOnError=l.throwOnError,l.lock?this.lock=l.lock:this.persistSession&&Nt()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=xw:this.lock=sg,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new Gw(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(l.storage?this.storage=l.storage:tv()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=ng(this.memoryStorage)),l.userStorage&&(this.userStorage=l.userStorage)):(this.memoryStorage={},this.storage=ng(this.memoryStorage)),Nt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(c){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",c)}(o=this.broadcastChannel)===null||o===void 0||o.addEventListener("message",async c=>{this._debug("received broadcast notification from other tab or client",c),await this._notifyAllSubscribers(c.data.event,c.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${Q0}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let i={},r="none";if(Nt()&&(i=W_(window.location.href),this._isImplicitGrantCallback(i)?r="implicit":await this._isPKCECallback(i)&&(r="pkce")),Nt()&&this.detectSessionInUrl&&r!=="none"){const{data:o,error:l}=await this._getSessionFromURL(i,r);if(l){if(this._debug("#_initialize()","error detecting session from URL",l),q_(l)){const v=(e=l.details)===null||e===void 0?void 0:e.code;if(v==="identity_already_exists"||v==="identity_not_found"||v==="single_identity_not_deletable")return{error:l}}return await this._removeSession(),{error:l}}const{session:c,redirectType:h}=o;return this._debug("#_initialize()","detected session in URL",c,"redirect type",h),await this._saveSession(c),setTimeout(async()=>{h==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",c):await this._notifyAllSubscribers("SIGNED_IN",c)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(i){return ue(i)?this._returnResult({error:i}):this._returnResult({error:new ls("Unexpected error during initialization",i)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var i,r,o;try{const l=await he(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(i=e==null?void 0:e.options)===null||i===void 0?void 0:i.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(o=e==null?void 0:e.options)===null||o===void 0?void 0:o.captchaToken}},xform:Sn}),{data:c,error:h}=l;if(h||!c)return this._returnResult({data:{user:null,session:null},error:h});const v=c.session,m=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",v)),this._returnResult({data:{user:m,session:v},error:null})}catch(l){if(ue(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async signUp(e){var i,r,o;try{let l;if("email"in e){const{email:x,password:b,options:_}=e;let S=null,T=null;this.flowType==="pkce"&&([S,T]=await Zs(this.storage,this.storageKey)),l=await he(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:_==null?void 0:_.emailRedirectTo,body:{email:x,password:b,data:(i=_==null?void 0:_.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:_==null?void 0:_.captchaToken},code_challenge:S,code_challenge_method:T},xform:Sn})}else if("phone"in e){const{phone:x,password:b,options:_}=e;l=await he(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:x,password:b,data:(r=_==null?void 0:_.data)!==null&&r!==void 0?r:{},channel:(o=_==null?void 0:_.channel)!==null&&o!==void 0?o:"sms",gotrue_meta_security:{captcha_token:_==null?void 0:_.captchaToken}},xform:Sn})}else throw new jo("You must provide either an email or phone number and a password");const{data:c,error:h}=l;if(h||!c)return await Ct(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:h});const v=c.session,m=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",v)),this._returnResult({data:{user:m,session:v},error:null})}catch(l){if(await Ct(this.storage,`${this.storageKey}-code-verifier`),ue(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async signInWithPassword(e){try{let i;if("email"in e){const{email:l,password:c,options:h}=e;i=await he(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:l,password:c,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:eg})}else if("phone"in e){const{phone:l,password:c,options:h}=e;i=await he(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:l,password:c,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:eg})}else throw new jo("You must provide either an email or phone number and a password");const{data:r,error:o}=i;if(o)return this._returnResult({data:{user:null,session:null},error:o});if(!r||!r.session||!r.user){const l=new Qs;return this._returnResult({data:{user:null,session:null},error:l})}return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),this._returnResult({data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:o})}catch(i){if(ue(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithOAuth(e){var i,r,o,l;return await this._handleProviderSignIn(e.provider,{redirectTo:(i=e.options)===null||i===void 0?void 0:i.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(o=e.options)===null||o===void 0?void 0:o.queryParams,skipBrowserRedirect:(l=e.options)===null||l===void 0?void 0:l.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:i}=e;switch(i){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${i}"`)}}async signInWithEthereum(e){var i,r,o,l,c,h,v,m,x,b,_;let S,T;if("message"in e)S=e.message,T=e.signature;else{const{chain:N,wallet:C,statement:D,options:B}=e;let M;if(Nt())if(typeof C=="object")M=C;else{const Q=window;if("ethereum"in Q&&typeof Q.ethereum=="object"&&"request"in Q.ethereum&&typeof Q.ethereum.request=="function")M=Q.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof C!="object"||!(B!=null&&B.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");M=C}const J=new URL((i=B==null?void 0:B.url)!==null&&i!==void 0?i:window.location.href),X=await M.request({method:"eth_requestAccounts"}).then(Q=>Q).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!X||X.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const K=sv(X[0]);let H=(r=B==null?void 0:B.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!H){const Q=await M.request({method:"eth_chainId"});H=_w(Q)}const ae={domain:J.host,address:K,statement:D,uri:J.href,version:"1",chainId:H,nonce:(o=B==null?void 0:B.signInWithEthereum)===null||o===void 0?void 0:o.nonce,issuedAt:(c=(l=B==null?void 0:B.signInWithEthereum)===null||l===void 0?void 0:l.issuedAt)!==null&&c!==void 0?c:new Date,expirationTime:(h=B==null?void 0:B.signInWithEthereum)===null||h===void 0?void 0:h.expirationTime,notBefore:(v=B==null?void 0:B.signInWithEthereum)===null||v===void 0?void 0:v.notBefore,requestId:(m=B==null?void 0:B.signInWithEthereum)===null||m===void 0?void 0:m.requestId,resources:(x=B==null?void 0:B.signInWithEthereum)===null||x===void 0?void 0:x.resources};S=Sw(ae),T=await M.request({method:"personal_sign",params:[ww(S),K]})}try{const{data:N,error:C}=await he(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:S,signature:T},!((b=e.options)===null||b===void 0)&&b.captchaToken?{gotrue_meta_security:{captcha_token:(_=e.options)===null||_===void 0?void 0:_.captchaToken}}:null),xform:Sn});if(C)throw C;if(!N||!N.session||!N.user){const D=new Qs;return this._returnResult({data:{user:null,session:null},error:D})}return N.session&&(await this._saveSession(N.session),await this._notifyAllSubscribers("SIGNED_IN",N.session)),this._returnResult({data:Object.assign({},N),error:C})}catch(N){if(ue(N))return this._returnResult({data:{user:null,session:null},error:N});throw N}}async signInWithSolana(e){var i,r,o,l,c,h,v,m,x,b,_,S;let T,N;if("message"in e)T=e.message,N=e.signature;else{const{chain:C,wallet:D,statement:B,options:M}=e;let J;if(Nt())if(typeof D=="object")J=D;else{const K=window;if("solana"in K&&typeof K.solana=="object"&&("signIn"in K.solana&&typeof K.solana.signIn=="function"||"signMessage"in K.solana&&typeof K.solana.signMessage=="function"))J=K.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof D!="object"||!(M!=null&&M.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");J=D}const X=new URL((i=M==null?void 0:M.url)!==null&&i!==void 0?i:window.location.href);if("signIn"in J&&J.signIn){const K=await J.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},M==null?void 0:M.signInWithSolana),{version:"1",domain:X.host,uri:X.href}),B?{statement:B}:null));let H;if(Array.isArray(K)&&K[0]&&typeof K[0]=="object")H=K[0];else if(K&&typeof K=="object"&&"signedMessage"in K&&"signature"in K)H=K;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in H&&"signature"in H&&(typeof H.signedMessage=="string"||H.signedMessage instanceof Uint8Array)&&H.signature instanceof Uint8Array)T=typeof H.signedMessage=="string"?H.signedMessage:new TextDecoder().decode(H.signedMessage),N=H.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in J)||typeof J.signMessage!="function"||!("publicKey"in J)||typeof J!="object"||!J.publicKey||!("toBase58"in J.publicKey)||typeof J.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");T=[`${X.host} wants you to sign in with your Solana account:`,J.publicKey.toBase58(),...B?["",B,""]:[""],"Version: 1",`URI: ${X.href}`,`Issued At: ${(o=(r=M==null?void 0:M.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&o!==void 0?o:new Date().toISOString()}`,...!((l=M==null?void 0:M.signInWithSolana)===null||l===void 0)&&l.notBefore?[`Not Before: ${M.signInWithSolana.notBefore}`]:[],...!((c=M==null?void 0:M.signInWithSolana)===null||c===void 0)&&c.expirationTime?[`Expiration Time: ${M.signInWithSolana.expirationTime}`]:[],...!((h=M==null?void 0:M.signInWithSolana)===null||h===void 0)&&h.chainId?[`Chain ID: ${M.signInWithSolana.chainId}`]:[],...!((v=M==null?void 0:M.signInWithSolana)===null||v===void 0)&&v.nonce?[`Nonce: ${M.signInWithSolana.nonce}`]:[],...!((m=M==null?void 0:M.signInWithSolana)===null||m===void 0)&&m.requestId?[`Request ID: ${M.signInWithSolana.requestId}`]:[],...!((b=(x=M==null?void 0:M.signInWithSolana)===null||x===void 0?void 0:x.resources)===null||b===void 0)&&b.length?["Resources",...M.signInWithSolana.resources.map(H=>`- ${H}`)]:[]].join(`
`);const K=await J.signMessage(new TextEncoder().encode(T),"utf8");if(!K||!(K instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");N=K}}try{const{data:C,error:D}=await he(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:T,signature:us(N)},!((_=e.options)===null||_===void 0)&&_.captchaToken?{gotrue_meta_security:{captcha_token:(S=e.options)===null||S===void 0?void 0:S.captchaToken}}:null),xform:Sn});if(D)throw D;if(!C||!C.session||!C.user){const B=new Qs;return this._returnResult({data:{user:null,session:null},error:B})}return C.session&&(await this._saveSession(C.session),await this._notifyAllSubscribers("SIGNED_IN",C.session)),this._returnResult({data:Object.assign({},C),error:D})}catch(C){if(ue(C))return this._returnResult({data:{user:null,session:null},error:C});throw C}}async _exchangeCodeForSession(e){const i=await ss(this.storage,`${this.storageKey}-code-verifier`),[r,o]=(i??"").split("/");try{if(!r&&this.flowType==="pkce")throw new V_;const{data:l,error:c}=await he(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:Sn});if(await Ct(this.storage,`${this.storageKey}-code-verifier`),c)throw c;if(!l||!l.session||!l.user){const h=new Qs;return this._returnResult({data:{user:null,session:null,redirectType:null},error:h})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:Object.assign(Object.assign({},l),{redirectType:o??null}),error:c})}catch(l){if(await Ct(this.storage,`${this.storageKey}-code-verifier`),ue(l))return this._returnResult({data:{user:null,session:null,redirectType:null},error:l});throw l}}async signInWithIdToken(e){try{const{options:i,provider:r,token:o,access_token:l,nonce:c}=e,h=await he(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:o,access_token:l,nonce:c,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},xform:Sn}),{data:v,error:m}=h;if(m)return this._returnResult({data:{user:null,session:null},error:m});if(!v||!v.session||!v.user){const x=new Qs;return this._returnResult({data:{user:null,session:null},error:x})}return v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("SIGNED_IN",v.session)),this._returnResult({data:v,error:m})}catch(i){if(ue(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithOtp(e){var i,r,o,l,c;try{if("email"in e){const{email:h,options:v}=e;let m=null,x=null;this.flowType==="pkce"&&([m,x]=await Zs(this.storage,this.storageKey));const{error:b}=await he(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:h,data:(i=v==null?void 0:v.data)!==null&&i!==void 0?i:{},create_user:(r=v==null?void 0:v.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:v==null?void 0:v.captchaToken},code_challenge:m,code_challenge_method:x},redirectTo:v==null?void 0:v.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:b})}if("phone"in e){const{phone:h,options:v}=e,{data:m,error:x}=await he(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:h,data:(o=v==null?void 0:v.data)!==null&&o!==void 0?o:{},create_user:(l=v==null?void 0:v.shouldCreateUser)!==null&&l!==void 0?l:!0,gotrue_meta_security:{captcha_token:v==null?void 0:v.captchaToken},channel:(c=v==null?void 0:v.channel)!==null&&c!==void 0?c:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:m==null?void 0:m.message_id},error:x})}throw new jo("You must provide either an email or phone number.")}catch(h){if(await Ct(this.storage,`${this.storageKey}-code-verifier`),ue(h))return this._returnResult({data:{user:null,session:null},error:h});throw h}}async verifyOtp(e){var i,r;try{let o,l;"options"in e&&(o=(i=e.options)===null||i===void 0?void 0:i.redirectTo,l=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:c,error:h}=await he(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:l}}),redirectTo:o,xform:Sn});if(h)throw h;if(!c)throw new Error("An error occurred on token verification.");const v=c.session,m=c.user;return v!=null&&v.access_token&&(await this._saveSession(v),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",v)),this._returnResult({data:{user:m,session:v},error:null})}catch(o){if(ue(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signInWithSSO(e){var i,r,o,l,c;try{let h=null,v=null;this.flowType==="pkce"&&([h,v]=await Zs(this.storage,this.storageKey));const m=await he(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(i=e.options)===null||i===void 0?void 0:i.redirectTo)!==null&&r!==void 0?r:void 0}),!((o=e==null?void 0:e.options)===null||o===void 0)&&o.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:h,code_challenge_method:v}),headers:this.headers,xform:pw});return!((l=m.data)===null||l===void 0)&&l.url&&Nt()&&!(!((c=e.options)===null||c===void 0)&&c.skipBrowserRedirect)&&window.location.assign(m.data.url),this._returnResult(m)}catch(h){if(await Ct(this.storage,`${this.storageKey}-code-verifier`),ue(h))return this._returnResult({data:null,error:h});throw h}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:i},error:r}=e;if(r)throw r;if(!i)throw new Zt;const{error:o}=await he(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:i.access_token});return this._returnResult({data:{user:null,session:null},error:o})})}catch(e){if(ue(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const i=`${this.url}/resend`;if("email"in e){const{email:r,type:o,options:l}=e,{error:c}=await he(this.fetch,"POST",i,{headers:this.headers,body:{email:r,type:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},redirectTo:l==null?void 0:l.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:c})}else if("phone"in e){const{phone:r,type:o,options:l}=e,{data:c,error:h}=await he(this.fetch,"POST",i,{headers:this.headers,body:{phone:r,type:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:h})}throw new jo("You must provide either an email or phone number and a type")}catch(i){if(ue(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async i=>i))}async _acquireLock(e,i){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),o=(async()=>(await r,await i()))();return this.pendingInLock.push((async()=>{try{await o}catch{}})()),o}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=i();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const o=[...this.pendingInLock];await Promise.all(o),this.pendingInLock.splice(0,o.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const i=await this.__loadSession();return await e(i)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const i=await ss(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",i),i!==null&&(this._isValidSession(i)?e=i:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<Lc:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.userStorage){const c=await ss(this.userStorage,this.storageKey+"-user");c!=null&&c.user?e.user=c.user:e.user=jc()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const c={value:this.suppressGetSessionWarning};e.user=cw(e.user,c),c.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:o,error:l}=await this._callRefreshToken(e.refresh_token);return l?this._returnResult({data:{session:null},error:l}):this._returnResult({data:{session:o},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;const i=await this._acquireLock(-1,async()=>await this._getUser());return i.data.user&&(this.suppressGetSessionWarning=!0),i}async _getUser(e){try{return e?await he(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Di}):await this._useSession(async i=>{var r,o,l;const{data:c,error:h}=i;if(h)throw h;return!(!((r=c.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Zt}:await he(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(l=(o=c.session)===null||o===void 0?void 0:o.access_token)!==null&&l!==void 0?l:void 0,xform:Di})})}catch(i){if(ue(i))return H_(i)&&(await this._removeSession(),await Ct(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:i});throw i}}async updateUser(e,i={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,i))}async _updateUser(e,i={}){try{return await this._useSession(async r=>{const{data:o,error:l}=r;if(l)throw l;if(!o.session)throw new Zt;const c=o.session;let h=null,v=null;this.flowType==="pkce"&&e.email!=null&&([h,v]=await Zs(this.storage,this.storageKey));const{data:m,error:x}=await he(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:i==null?void 0:i.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:h,code_challenge_method:v}),jwt:c.access_token,xform:Di});if(x)throw x;return c.user=m.user,await this._saveSession(c),await this._notifyAllSubscribers("USER_UPDATED",c),this._returnResult({data:{user:c.user},error:null})})}catch(r){if(await Ct(this.storage,`${this.storageKey}-code-verifier`),ue(r))return this._returnResult({data:{user:null},error:r});throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Zt;const i=Date.now()/1e3;let r=i,o=!0,l=null;const{payload:c}=Gc(e.access_token);if(c.exp&&(r=c.exp,o=r<=i),o){const{data:h,error:v}=await this._callRefreshToken(e.refresh_token);if(v)return this._returnResult({data:{user:null,session:null},error:v});if(!h)return{data:{user:null,session:null},error:null};l=h}else{const{data:h,error:v}=await this._getUser(e.access_token);if(v)throw v;l={access_token:e.access_token,refresh_token:e.refresh_token,user:h.user,token_type:"bearer",expires_in:r-i,expires_at:r},await this._saveSession(l),await this._notifyAllSubscribers("SIGNED_IN",l)}return this._returnResult({data:{user:l.user,session:l},error:null})}catch(i){if(ue(i))return this._returnResult({data:{session:null,user:null},error:i});throw i}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async i=>{var r;if(!e){const{data:c,error:h}=i;if(h)throw h;e=(r=c.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new Zt;const{data:o,error:l}=await this._callRefreshToken(e.refresh_token);return l?this._returnResult({data:{user:null,session:null},error:l}):o?this._returnResult({data:{user:o.user,session:o},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(i){if(ue(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async _getSessionFromURL(e,i){try{if(!Nt())throw new Bo("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Bo(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(i){case"implicit":if(this.flowType==="pkce")throw new Jm("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Bo("Not a valid implicit grant flow url.");break;default:}if(i==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Jm("No code detected.");const{data:B,error:M}=await this._exchangeCodeForSession(e.code);if(M)throw M;const J=new URL(window.location.href);return J.searchParams.delete("code"),window.history.replaceState(window.history.state,"",J.toString()),{data:{session:B.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:o,access_token:l,refresh_token:c,expires_in:h,expires_at:v,token_type:m}=e;if(!l||!h||!c||!m)throw new Bo("No session defined in URL");const x=Math.round(Date.now()/1e3),b=parseInt(h);let _=x+b;v&&(_=parseInt(v));const S=_-x;S*1e3<=sr&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${S}s, should have been closer to ${b}s`);const T=_-b;x-T>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",T,_,x):x-T<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",T,_,x);const{data:N,error:C}=await this._getUser(l);if(C)throw C;const D={provider_token:r,provider_refresh_token:o,access_token:l,expires_in:b,expires_at:_,refresh_token:c,token_type:m,user:N.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:D,redirectType:e.type},error:null})}catch(r){if(ue(r))return this._returnResult({data:{session:null,redirectType:null},error:r});throw r}}_isImplicitGrantCallback(e){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),e):!!(e.access_token||e.error_description)}async _isPKCECallback(e){const i=await ss(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&i)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async i=>{var r;const{data:o,error:l}=i;if(l)return this._returnResult({error:l});const c=(r=o.session)===null||r===void 0?void 0:r.access_token;if(c){const{error:h}=await this.admin.signOut(c,e);if(h&&!(B_(h)&&(h.status===404||h.status===401||h.status===403)))return this._returnResult({error:h})}return e!=="others"&&(await this._removeSession(),await Ct(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const i=X_(),r={id:i,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",i),this.stateChangeEmitters.delete(i)}};return this._debug("#onAuthStateChange()","registered callback with id",i),this.stateChangeEmitters.set(i,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(i)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async i=>{var r,o;try{const{data:{session:l},error:c}=i;if(c)throw c;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",l)),this._debug("INITIAL_SESSION","callback id",e,"session",l)}catch(l){await((o=this.stateChangeEmitters.get(e))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",l),console.error(l)}})}async resetPasswordForEmail(e,i={}){let r=null,o=null;this.flowType==="pkce"&&([r,o]=await Zs(this.storage,this.storageKey,!0));try{return await he(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:o,gotrue_meta_security:{captcha_token:i.captchaToken}},headers:this.headers,redirectTo:i.redirectTo})}catch(l){if(await Ct(this.storage,`${this.storageKey}-code-verifier`),ue(l))return this._returnResult({data:null,error:l});throw l}}async getUserIdentities(){var e;try{const{data:i,error:r}=await this.getUser();if(r)throw r;return this._returnResult({data:{identities:(e=i.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(i){if(ue(i))return this._returnResult({data:null,error:i});throw i}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var i;try{const{data:r,error:o}=await this._useSession(async l=>{var c,h,v,m,x;const{data:b,error:_}=l;if(_)throw _;const S=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(c=e.options)===null||c===void 0?void 0:c.redirectTo,scopes:(h=e.options)===null||h===void 0?void 0:h.scopes,queryParams:(v=e.options)===null||v===void 0?void 0:v.queryParams,skipBrowserRedirect:!0});return await he(this.fetch,"GET",S,{headers:this.headers,jwt:(x=(m=b.session)===null||m===void 0?void 0:m.access_token)!==null&&x!==void 0?x:void 0})});if(o)throw o;return Nt()&&!(!((i=e.options)===null||i===void 0)&&i.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),this._returnResult({data:{provider:e.provider,url:r==null?void 0:r.url},error:null})}catch(r){if(ue(r))return this._returnResult({data:{provider:e.provider,url:null},error:r});throw r}}async linkIdentityIdToken(e){return await this._useSession(async i=>{var r;try{const{error:o,data:{session:l}}=i;if(o)throw o;const{options:c,provider:h,token:v,access_token:m,nonce:x}=e,b=await he(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=l==null?void 0:l.access_token)!==null&&r!==void 0?r:void 0,body:{provider:h,id_token:v,access_token:m,nonce:x,link_identity:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}},xform:Sn}),{data:_,error:S}=b;return S?this._returnResult({data:{user:null,session:null},error:S}):!_||!_.session||!_.user?this._returnResult({data:{user:null,session:null},error:new Qs}):(_.session&&(await this._saveSession(_.session),await this._notifyAllSubscribers("USER_UPDATED",_.session)),this._returnResult({data:_,error:S}))}catch(o){if(await Ct(this.storage,`${this.storageKey}-code-verifier`),ue(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}})}async unlinkIdentity(e){try{return await this._useSession(async i=>{var r,o;const{data:l,error:c}=i;if(c)throw c;return await he(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(o=(r=l.session)===null||r===void 0?void 0:r.access_token)!==null&&o!==void 0?o:void 0})})}catch(i){if(ue(i))return this._returnResult({data:null,error:i});throw i}}async _refreshAccessToken(e){const i=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(i,"begin");try{const r=Date.now();return await ew(async o=>(o>0&&await Z_(200*Math.pow(2,o-1)),this._debug(i,"refreshing attempt",o),await he(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Sn})),(o,l)=>{const c=200*Math.pow(2,o);return l&&Oc(l)&&Date.now()+c-r<sr})}catch(r){if(this._debug(i,"error",r),ue(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}finally{this._debug(i,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,i){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:i.redirectTo,scopes:i.scopes,queryParams:i.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",i,"url",r),Nt()&&!i.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e,i;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const o=await ss(this.storage,this.storageKey);if(o&&this.userStorage){let c=await ss(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!c&&(c={user:o.user},await rr(this.userStorage,this.storageKey+"-user",c)),o.user=(e=c==null?void 0:c.user)!==null&&e!==void 0?e:jc()}else if(o&&!o.user&&!o.user){const c=await ss(this.storage,this.storageKey+"-user");c&&(c!=null&&c.user)?(o.user=c.user,await Ct(this.storage,this.storageKey+"-user"),await rr(this.storage,this.storageKey,o)):o.user=jc()}if(this._debug(r,"session from storage",o),!this._isValidSession(o)){this._debug(r,"session is not valid"),o!==null&&await this._removeSession();return}const l=((i=o.expires_at)!==null&&i!==void 0?i:1/0)*1e3-Date.now()<Lc;if(this._debug(r,`session has${l?"":" not"} expired with margin of ${Lc}s`),l){if(this.autoRefreshToken&&o.refresh_token){const{error:c}=await this._callRefreshToken(o.refresh_token);c&&(console.error(c),Oc(c)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",c),await this._removeSession()))}}else if(o.user&&o.user.__isUserNotAvailableProxy===!0)try{const{data:c,error:h}=await this._getUser(o.access_token);!h&&(c!=null&&c.user)?(o.user=c.user,await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(c){console.error("Error getting user data:",c),this._debug(r,"error getting user data, skipping SIGNED_IN notification",c)}else await this._notifyAllSubscribers("SIGNED_IN",o)}catch(o){this._debug(r,"error",o),console.error(o);return}finally{this._debug(r,"end")}}async _callRefreshToken(e){var i,r;if(!e)throw new Zt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const o=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(o,"begin");try{this.refreshingDeferred=new rl;const{data:l,error:c}=await this._refreshAccessToken(e);if(c)throw c;if(!l.session)throw new Zt;await this._saveSession(l.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",l.session);const h={data:l.session,error:null};return this.refreshingDeferred.resolve(h),h}catch(l){if(this._debug(o,"error",l),ue(l)){const c={data:null,error:l};return Oc(l)||await this._removeSession(),(i=this.refreshingDeferred)===null||i===void 0||i.resolve(c),c}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(l),l}finally{this.refreshingDeferred=null,this._debug(o,"end")}}async _notifyAllSubscribers(e,i,r=!0){const o=`#_notifyAllSubscribers(${e})`;this._debug(o,"begin",i,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:i});const l=[],c=Array.from(this.stateChangeEmitters.values()).map(async h=>{try{await h.callback(e,i)}catch(v){l.push(v)}});if(await Promise.all(c),l.length>0){for(let h=0;h<l.length;h+=1)console.error(l[h]);throw l[0]}}finally{this._debug(o,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await Ct(this.storage,`${this.storageKey}-code-verifier`);const i=Object.assign({},e),r=i.user&&i.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&i.user&&await rr(this.userStorage,this.storageKey+"-user",{user:i.user});const o=Object.assign({},i);delete o.user;const l=Qm(o);await rr(this.storage,this.storageKey,l)}else{const o=Qm(i);await rr(this.storage,this.storageKey,o)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await Ct(this.storage,this.storageKey),await Ct(this.storage,this.storageKey+"-code-verifier"),await Ct(this.storage,this.storageKey+"-user"),this.userStorage&&await Ct(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Nt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(i){console.error("removing visibilitychange callback failed",i)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),sr);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async i=>{const{data:{session:r}}=i;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const o=Math.floor((r.expires_at*1e3-e)/sr);this._debug("#_autoRefreshTokenTick()",`access token expires in ${o} ticks, a tick lasts ${sr}ms, refresh threshold is ${Xc} ticks`),o<=Xc&&await this._callRefreshToken(r.refresh_token)})}catch(i){console.error("Auto refresh tick failed with error. This is likely a transient error.",i)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof iv)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Nt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const i=`#_onVisibilityChanged(${e})`;this._debug(i,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(i,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,i,r){const o=[`provider=${encodeURIComponent(i)}`];if(r!=null&&r.redirectTo&&o.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&o.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[l,c]=await Zs(this.storage,this.storageKey),h=new URLSearchParams({code_challenge:`${encodeURIComponent(l)}`,code_challenge_method:`${encodeURIComponent(c)}`});o.push(h.toString())}if(r!=null&&r.queryParams){const l=new URLSearchParams(r.queryParams);o.push(l.toString())}return r!=null&&r.skipBrowserRedirect&&o.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${o.join("&")}`}async _unenroll(e){try{return await this._useSession(async i=>{var r;const{data:o,error:l}=i;return l?this._returnResult({data:null,error:l}):await he(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=o==null?void 0:o.session)===null||r===void 0?void 0:r.access_token})})}catch(i){if(ue(i))return this._returnResult({data:null,error:i});throw i}}async _enroll(e){try{return await this._useSession(async i=>{var r,o;const{data:l,error:c}=i;if(c)return this._returnResult({data:null,error:c});const h=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:v,error:m}=await he(this.fetch,"POST",`${this.url}/factors`,{body:h,headers:this.headers,jwt:(r=l==null?void 0:l.session)===null||r===void 0?void 0:r.access_token});return m?this._returnResult({data:null,error:m}):(e.factorType==="totp"&&v.type==="totp"&&(!((o=v==null?void 0:v.totp)===null||o===void 0)&&o.qr_code)&&(v.totp.qr_code=`data:image/svg+xml;utf-8,${v.totp.qr_code}`),this._returnResult({data:v,error:null}))})}catch(i){if(ue(i))return this._returnResult({data:null,error:i});throw i}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async i=>{var r;const{data:o,error:l}=i;if(l)return this._returnResult({data:null,error:l});const c=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?kw(e.webauthn.credential_response):Iw(e.webauthn.credential_response)})}:{code:e.code}),{data:h,error:v}=await he(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:c,headers:this.headers,jwt:(r=o==null?void 0:o.session)===null||r===void 0?void 0:r.access_token});return v?this._returnResult({data:null,error:v}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+h.expires_in},h)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",h),this._returnResult({data:h,error:v}))})}catch(i){if(ue(i))return this._returnResult({data:null,error:i});throw i}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async i=>{var r;const{data:o,error:l}=i;if(l)return this._returnResult({data:null,error:l});const c=await he(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(r=o==null?void 0:o.session)===null||r===void 0?void 0:r.access_token});if(c.error)return c;const{data:h}=c;if(h.type!=="webauthn")return{data:h,error:null};switch(h.webauthn.type){case"create":return{data:Object.assign(Object.assign({},h),{webauthn:Object.assign(Object.assign({},h.webauthn),{credential_options:Object.assign(Object.assign({},h.webauthn.credential_options),{publicKey:Nw(h.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},h),{webauthn:Object.assign(Object.assign({},h.webauthn),{credential_options:Object.assign(Object.assign({},h.webauthn.credential_options),{publicKey:Rw(h.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(i){if(ue(i))return this._returnResult({data:null,error:i});throw i}})}async _challengeAndVerify(e){const{data:i,error:r}=await this._challenge({factorId:e.factorId});return r?this._returnResult({data:null,error:r}):await this._verify({factorId:e.factorId,challengeId:i.id,code:e.code})}async _listFactors(){var e;const{data:{user:i},error:r}=await this.getUser();if(r)return{data:null,error:r};const o={all:[],phone:[],totp:[],webauthn:[]};for(const l of(e=i==null?void 0:i.factors)!==null&&e!==void 0?e:[])o.all.push(l),l.status==="verified"&&o[l.factor_type].push(l);return{data:o,error:null}}async _getAuthenticatorAssuranceLevel(){var e,i;const{data:{session:r},error:o}=await this.getSession();if(o)return this._returnResult({data:null,error:o});if(!r)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:l}=Gc(r.access_token);let c=null;l.aal&&(c=l.aal);let h=c;((i=(e=r.user.factors)===null||e===void 0?void 0:e.filter(x=>x.status==="verified"))!==null&&i!==void 0?i:[]).length>0&&(h="aal2");const m=l.amr||[];return{data:{currentLevel:c,nextLevel:h,currentAuthenticationMethods:m},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async i=>{const{data:{session:r},error:o}=i;return o?this._returnResult({data:null,error:o}):r?await he(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:r.access_token,xform:l=>({data:l,error:null})}):this._returnResult({data:null,error:new Zt})})}catch(i){if(ue(i))return this._returnResult({data:null,error:i});throw i}}async _approveAuthorization(e,i){try{return await this._useSession(async r=>{const{data:{session:o},error:l}=r;if(l)return this._returnResult({data:null,error:l});if(!o)return this._returnResult({data:null,error:new Zt});const c=await he(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:o.access_token,body:{action:"approve"},xform:h=>({data:h,error:null})});return c.data&&c.data.redirect_url&&Nt()&&!(i!=null&&i.skipBrowserRedirect)&&window.location.assign(c.data.redirect_url),c})}catch(r){if(ue(r))return this._returnResult({data:null,error:r});throw r}}async _denyAuthorization(e,i){try{return await this._useSession(async r=>{const{data:{session:o},error:l}=r;if(l)return this._returnResult({data:null,error:l});if(!o)return this._returnResult({data:null,error:new Zt});const c=await he(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:o.access_token,body:{action:"deny"},xform:h=>({data:h,error:null})});return c.data&&c.data.redirect_url&&Nt()&&!(i!=null&&i.skipBrowserRedirect)&&window.location.assign(c.data.redirect_url),c})}catch(r){if(ue(r))return this._returnResult({data:null,error:r});throw r}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:i},error:r}=e;return r?this._returnResult({data:null,error:r}):i?await he(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:i.access_token,xform:o=>({data:o,error:null})}):this._returnResult({data:null,error:new Zt})})}catch(e){if(ue(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async i=>{const{data:{session:r},error:o}=i;return o?this._returnResult({data:null,error:o}):r?(await he(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,query:{client_id:e.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Zt})})}catch(i){if(ue(i))return this._returnResult({data:null,error:i});throw i}}async fetchJwk(e,i={keys:[]}){let r=i.keys.find(h=>h.kid===e);if(r)return r;const o=Date.now();if(r=this.jwks.keys.find(h=>h.kid===e),r&&this.jwks_cached_at+G_>o)return r;const{data:l,error:c}=await he(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(c)throw c;return!l.keys||l.keys.length===0||(this.jwks=l,this.jwks_cached_at=o,r=l.keys.find(h=>h.kid===e),!r)?null:r}async getClaims(e,i={}){try{let r=e;if(!r){const{data:S,error:T}=await this.getSession();if(T||!S.session)return this._returnResult({data:null,error:T});r=S.session.access_token}const{header:o,payload:l,signature:c,raw:{header:h,payload:v}}=Gc(r);i!=null&&i.allowExpired||ow(l.exp);const m=!o.alg||o.alg.startsWith("HS")||!o.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(o.kid,i!=null&&i.keys?{keys:i.keys}:i==null?void 0:i.jwks);if(!m){const{error:S}=await this.getUser(r);if(S)throw S;return{data:{claims:l,header:o,signature:c},error:null}}const x=lw(o.alg),b=await crypto.subtle.importKey("jwk",m,x,!0,["verify"]);if(!await crypto.subtle.verify(x,b,c,K_(`${h}.${v}`)))throw new Zc("Invalid JWT signature");return{data:{claims:l,header:o,signature:c},error:null}}catch(r){if(ue(r))return this._returnResult({data:null,error:r});throw r}}}ba.nextInstanceID={};const Bw=ba,Hw="2.89.0";let fa="";typeof Deno<"u"?fa="deno":typeof document<"u"?fa="web":typeof navigator<"u"&&navigator.product==="ReactNative"?fa="react-native":fa="node";const qw={"X-Client-Info":`supabase-js-${fa}/${Hw}`},Vw={headers:qw},zw={schema:"public"},Fw={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},$w={};function _a(t){"@babel/helpers - typeof";return _a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_a(t)}function Jw(t,e){if(_a(t)!="object"||!t)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var r=i.call(t,e);if(_a(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Kw(t){var e=Jw(t,"string");return _a(e)=="symbol"?e:e+""}function Yw(t,e,i){return(e=Kw(e))in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function rg(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),i.push.apply(i,r)}return i}function nt(t){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?arguments[e]:{};e%2?rg(Object(i),!0).forEach(function(r){Yw(t,r,i[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):rg(Object(i)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(i,r))})}return t}const Xw=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),Ww=()=>Headers,Qw=(t,e,i)=>{const r=Xw(i),o=Ww();return async(l,c)=>{var h;const v=(h=await e())!==null&&h!==void 0?h:t;let m=new o(c==null?void 0:c.headers);return m.has("apikey")||m.set("apikey",t),m.has("Authorization")||m.set("Authorization",`Bearer ${v}`),r(l,nt(nt({},c),{},{headers:m}))}};function Zw(t){return t.endsWith("/")?t:t+"/"}function eS(t,e){var i,r;const{db:o,auth:l,realtime:c,global:h}=t,{db:v,auth:m,realtime:x,global:b}=e,_={db:nt(nt({},v),o),auth:nt(nt({},m),l),realtime:nt(nt({},x),c),storage:{},global:nt(nt(nt({},b),h),{},{headers:nt(nt({},(i=b==null?void 0:b.headers)!==null&&i!==void 0?i:{}),(r=h==null?void 0:h.headers)!==null&&r!==void 0?r:{})}),accessToken:async()=>""};return t.accessToken?_.accessToken=t.accessToken:delete _.accessToken,_}function tS(t){const e=t==null?void 0:t.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(Zw(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var nS=class extends Bw{constructor(t){super(t)}},iS=class{constructor(t,e,i){var r,o;this.supabaseUrl=t,this.supabaseKey=e;const l=tS(t);if(!e)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const c=`sb-${l.hostname.split(".")[0]}-auth-token`,h={db:zw,realtime:$w,auth:nt(nt({},Fw),{},{storageKey:c}),global:Vw},v=eS(i??{},h);if(this.storageKey=(r=v.auth.storageKey)!==null&&r!==void 0?r:"",this.headers=(o=v.global.headers)!==null&&o!==void 0?o:{},v.accessToken)this.accessToken=v.accessToken,this.auth=new Proxy({},{get:(x,b)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(b)} is not possible`)}});else{var m;this.auth=this._initSupabaseAuthClient((m=v.auth)!==null&&m!==void 0?m:{},this.headers,v.global.fetch)}this.fetch=Qw(e,this._getAccessToken.bind(this),v.global.fetch),this.realtime=this._initRealtimeClient(nt({headers:this.headers,accessToken:this._getAccessToken.bind(this)},v.realtime)),this.accessToken&&this.accessToken().then(x=>this.realtime.setAuth(x)).catch(x=>console.warn("Failed to set initial Realtime auth token:",x)),this.rest=new Lb(new URL("rest/v1",l).href,{headers:this.headers,schema:v.db.schema,fetch:this.fetch}),this.storage=new M_(this.storageUrl.href,this.headers,this.fetch,i==null?void 0:i.storage),v.accessToken||this._listenForAuthEvents()}get functions(){return new Ib(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,e={},i={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,e,i)}channel(t,e={config:{}}){return this.realtime.channel(t,e)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t=this,e,i;if(t.accessToken)return await t.accessToken();const{data:r}=await t.auth.getSession();return(e=(i=r.session)===null||i===void 0?void 0:i.access_token)!==null&&e!==void 0?e:t.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:e,detectSessionInUrl:i,storage:r,userStorage:o,storageKey:l,flowType:c,lock:h,debug:v,throwOnError:m},x,b){const _={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new nS({url:this.authUrl.href,headers:nt(nt({},_),x),storageKey:l,autoRefreshToken:t,persistSession:e,detectSessionInUrl:i,storage:r,userStorage:o,flowType:c,lock:h,debug:v,throwOnError:m,fetch:b,hasCustomAuthorizationHeader:Object.keys(this.headers).some(S=>S.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new Zb(this.realtimeUrl.href,nt(nt({},t),{},{params:nt(nt({},{apikey:this.supabaseKey}),t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,e)=>{this._handleTokenChanged(t,"CLIENT",e==null?void 0:e.access_token)})}_handleTokenChanged(t,e,i){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==i?(this.changedAccessToken=i,this.realtime.setAuth(i)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),e=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const sS=(t,e,i)=>new iS(t,e,i);function rS(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}rS()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const aS="https://vdrkcknjrnbtgoxgmffp.supabase.co",oS="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InZkcmtja25qcm5idGdveGdtZmZwIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjY1NDY1OTQsImV4cCI6MjA4MjEyMjU5NH0._QG63TraAicBoJB_Gmdv6KYpuBcRAmBPKzlvRcDUJcg",lS="GondwanaNoteProDB_v2",uS=3,Je={STAFF:"staff",NOTES:"notes",DEPARTMENTS:"departments",SETTINGS:"settings"};class cS{constructor(){this.db=null,this.subscribers=[],this.supabase=sS(aS,oS)}async init(){return new Promise((e,i)=>{const r=indexedDB.open(lS,uS);r.onupgradeneeded=o=>{const l=o.target.result;Object.values(Je).forEach(c=>{l.objectStoreNames.contains(c)||l.createObjectStore(c,{keyPath:"id"})}),l.objectStoreNames.contains("departments_list")||l.createObjectStore("departments_list",{keyPath:"id"})},r.onsuccess=o=>{this.db=o.target.result,console.log("Gondwana Cloud Registry: CONNECTED"),this.initRealtimeSync(),e()},r.onerror=o=>{console.error("Registry database error:",o),i("Database initialization failed.")}})}initRealtimeSync(){this.supabase.channel("statutory-global-sync").on("postgres_changes",{event:"*",schema:"public",table:"notes"},async e=>{console.log("Cloud Change Detected:",e.eventType);const i=await this.getAllFromCloud(Je.NOTES);this.notifySubscribers({store:Je.NOTES,action:"SYNC",data:i})}).on("postgres_changes",{event:"*",schema:"public",table:"staff"},async e=>{const i=await this.getAllFromCloud(Je.STAFF);this.notifySubscribers({store:Je.STAFF,action:"SYNC",data:i})}).subscribe()}onSync(e){return this.subscribers.push(e),()=>{this.subscribers=this.subscribers.filter(i=>i!==e)}}notifySubscribers(e){this.subscribers.forEach(i=>i(e))}async putLocal(e,i){return new Promise(r=>{if(!this.db)return r();const o=e===Je.DEPARTMENTS,l=o?"departments_list":e,c=this.db.transaction(l,"readwrite"),h=c.objectStore(l),v=o?{id:i,name:i}:i.id?i:{...i,id:"temp"};h.put(v),c.oncomplete=()=>r()})}async getAllFromCloud(e){try{if(e===Je.NOTES){const{data:i,error:r}=await this.supabase.from("notes").select("*, creator:staff!creator_id (*), currentHandler:staff!current_handler_id (*)").order("date_initiated",{ascending:!1});if(r)throw r;return(i||[]).map(o=>({...o,referenceNo:o.reference_no,dateInitiated:o.date_initiated,attachments:o.attachments||[]}))}else{const{data:i,error:r}=await this.supabase.from(e).select("*");if(r)throw r;return i||[]}}catch(i){return console.error(`Cloud fetch failed for ${e}`,i),[]}}async getAll(e){const i=await this.getAllFromCloud(e),r=e===Je.DEPARTMENTS?i.map(o=>o.name):i;for(const o of r)await this.putLocal(e,o);return r}async put(e,i){try{let r={...i};e===Je.NOTES?r={id:i.id,subject:i.subject,content:i.content,reference_no:i.referenceNo,status:i.status,creator_id:i.creator.id,current_handler_id:i.currentHandler.id,history:i.history,attachments:i.attachments||[],date_initiated:i.dateInitiated}:e===Je.DEPARTMENTS&&(r={id:i,name:i});const{error:o}=await this.supabase.from(e).upsert(r);if(o)throw o}catch(r){console.error("Cloud Write Error:",r)}await this.putLocal(e,i)}async delete(e,i){try{await this.supabase.from(e).delete().eq("id",i)}catch{}return new Promise(r=>{if(!this.db)return r();const o=e===Je.DEPARTMENTS?"departments_list":e,l=this.db.transaction(o,"readwrite");l.objectStore(o).delete(i),l.oncomplete=()=>r()})}async saveAllDepartments(e){try{const o=e.map(l=>({id:l,name:l}));await this.supabase.from("departments").upsert(o)}catch{}if(!this.db)return;const r=this.db.transaction("departments_list","readwrite").objectStore("departments_list");r.clear();for(const o of e)r.put({id:o,name:o})}async get(e,i){return new Promise(r=>{if(!this.db)return r(null);const l=this.db.transaction(e,"readonly").objectStore(e).get(i);l.onsuccess=()=>r(l.result||null)})}}const vt=new cS,dS=({staffList:t,notes:e,departments:i,universityLogo:r,onUpdateLogo:o,onAddStaff:l,onUpdateStaff:c,onDeleteStaff:h,onAddDepartment:v,onDeleteDepartment:m,onClose:x,currentUserId:b,dbStatus:_})=>{const[S,T]=Z.useState("OVERVIEW"),[N,C]=Z.useState(null),[D,B]=Z.useState(null),M=Z.useRef(null),J=Z.useRef(null),[X,K]=Z.useState({isOpen:!1,message:"",onConfirm:()=>{}}),[H,ae]=Z.useState(""),[Q,ve]=Z.useState(""),[_e,De]=Z.useState(""),[Ae,Le]=Z.useState(""),[it,O]=Z.useState(""),[Y,oe]=Z.useState(void 0),[Se,Re]=Z.useState(""),[R,z]=Z.useState(i[0]||""),[W,te]=Z.useState(le.STAFF),[ce,xe]=Z.useState(null),[we,Ke]=Z.useState(""),[Be,Ft]=Z.useState("");Z.useEffect(()=>{!ce&&i.length>0&&!R&&z(i[0])},[i,ce,R]);const Rt=V=>{C(V),setTimeout(()=>C(null),3e3)},Ot=V=>{B(V),setTimeout(()=>B(null),5e3)},Rn=()=>{ae(""),ve(""),De(""),Le(""),O(""),oe(void 0),Re(""),z(i[0]||""),te(le.STAFF),xe(null)},yn=V=>{var ke;ae(V.name),ve(V.id),De(V.password||""),Le(V.email||""),O(V.phone||""),oe(V.photo),Re(V.designation),z(V.department),te(V.role),xe(V.id),T("STAFF"),(ke=document.getElementById("admin-content-area"))==null||ke.scrollTo({top:0,behavior:"smooth"})},at=V=>{var ot;const ke=(ot=V.target.files)==null?void 0:ot[0];if(ke){const ht=new FileReader;ht.onloadend=()=>oe(ht.result),ht.readAsDataURL(ke)}},si=V=>{var ot;const ke=(ot=V.target.files)==null?void 0:ot[0];if(ke){const ht=new FileReader;ht.onloadend=()=>{o(ht.result),Rt("Seal synchronized.")},ht.readAsDataURL(ke)}},Pi=V=>{if(V.preventDefault(),!H||!Se||!Q||!_e){Ot("Mandatory fields required.");return}const ke={id:Q.toUpperCase().trim(),name:H.trim(),designation:Se.trim(),department:R||i[0]||"Administration",role:W,password:_e.trim(),email:Ae.trim(),phone:it.trim(),photo:Y};if(ce)xn(`Update ${ke.name}?`,()=>{c(ke),Rt("Profile updated."),Rn()});else{if(t.some(ot=>ot.id.toUpperCase()===ke.id)){Ot("ID already registered.");return}l(ke),Rt("Personnel enrolled."),Rn()}},ds=V=>{V.preventDefault();const ke=we.trim();if(ke){if(i.includes(ke)){Ot("Unit exists.");return}v(ke),Ke(""),Rt("Unit registered.")}},xn=(V,ke)=>{K({isOpen:!0,message:V,onConfirm:()=>{ke(),K(ot=>({...ot,isOpen:!1}))}})},ri=()=>{const V={version:"2.6.0",staff:t,notes:e,departments:i,logo:r},ke=new Blob([JSON.stringify(V,null,2)],{type:"application/json"}),ot=URL.createObjectURL(ke),ht=document.createElement("a");ht.href=ot,ht.download="GU_BACKUP.json",ht.click(),URL.revokeObjectURL(ot),Rt("Archive exported.")},Li=V=>{var ht;const ke=(ht=V.target.files)==null?void 0:ht[0];if(!ke)return;const ot=new FileReader;ot.onload=async ai=>{var fs;try{const Mt=JSON.parse((fs=ai.target)==null?void 0:fs.result);Mt.staff&&Mt.notes&&Mt.departments&&xn("Proceed with Master Sync? Existing data will be purged.",async()=>{for(const Gi of Mt.staff)await vt.put(Je.STAFF,Gi);for(const Gi of Mt.notes)await vt.put(Je.NOTES,Gi);await vt.saveAllDepartments(Mt.departments),Mt.logo&&o(Mt.logo),Rt("Sync Complete."),setTimeout(()=>window.location.reload(),1e3)})}catch{Ot("Archive Integrity Failed.")}},ot.readAsText(ke),V.target.value=""},Oi={pending:e.filter(V=>V.status===tt.PENDING).length,approved:e.filter(V=>V.status===tt.APPROVED).length,rejected:e.filter(V=>V.status===tt.REJECTED).length,total:e.length},gr=Z.useMemo(()=>{if(!Be.trim())return t;const V=Be.toLowerCase();return t.filter(ke=>ke.name.toLowerCase().includes(V)||ke.id.toLowerCase().includes(V)||ke.designation.toLowerCase().includes(V)||ke.department.toLowerCase().includes(V))},[t,Be]);return g.jsxs("div",{className:"bg-white animate-in fade-in duration-700 w-screen h-screen flex flex-col relative overflow-hidden selection:bg-indigo-100 selection:text-indigo-900 font-sans",children:[X.isOpen&&g.jsx("div",{className:"fixed inset-0 z-[600] bg-slate-950/80 backdrop-blur-md flex items-center justify-center p-4",children:g.jsxs("div",{className:"bg-white rounded-3xl p-6 lg:p-8 max-w-sm w-full shadow-2xl animate-in zoom-in-95 border border-slate-100",children:[g.jsx("h4",{className:"text-slate-900 font-black text-[10px] mb-2 uppercase tracking-widest text-center",children:"Authorization"}),g.jsx("p",{className:"text-slate-500 text-[11px] mb-8 leading-relaxed text-center",children:X.message}),g.jsxs("div",{className:"flex gap-3",children:[g.jsx("button",{onClick:()=>K(V=>({...V,isOpen:!1})),className:"flex-1 py-3 bg-slate-100 text-slate-500 rounded-xl font-black text-[9px] uppercase tracking-widest transition-all",children:"Abort"}),g.jsx("button",{onClick:X.onConfirm,className:"flex-1 py-3 bg-indigo-900 text-white rounded-xl font-black text-[9px] uppercase tracking-widest shadow-xl transition-all",children:"Confirm"})]})]})}),g.jsxs("header",{className:"bg-slate-950 px-4 lg:px-8 py-3 lg:py-4 flex justify-between items-center gap-4 shrink-0 relative border-b border-white/5",children:[g.jsxs("div",{className:"flex items-center gap-3 lg:gap-4",children:[g.jsx("div",{className:"w-10 h-10 lg:w-12 lg:h-12 bg-indigo-600 rounded-xl flex items-center justify-center text-white shadow-lg",children:g.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2.5,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})})}),g.jsxs("div",{children:[g.jsx("h2",{className:"text-sm lg:text-xl font-black text-white uppercase leading-none",children:"Console"}),g.jsx("p",{className:"text-[7px] lg:text-[8px] font-black text-indigo-400 uppercase tracking-widest opacity-80 mt-1",children:"Registry Control"})]})]}),g.jsxs("div",{className:"flex items-center gap-3 lg:gap-4",children:[g.jsxs("button",{onClick:ri,className:"hidden sm:flex px-4 py-2 bg-white/5 text-white border border-white/10 rounded-lg text-[8px] font-black uppercase tracking-widest hover:bg-indigo-600 transition-all items-center gap-2",children:[g.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2.5,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})}),"Export"]}),g.jsx("button",{onClick:x,className:"w-9 h-9 lg:w-10 lg:h-10 flex items-center justify-center bg-white/5 border border-white/10 rounded-xl hover:bg-rose-600 text-white transition-all",children:g.jsx("svg",{className:"w-4 h-4 lg:w-5 lg:h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M6 18L18 6M6 6l12 12"})})})]})]}),g.jsx("nav",{className:"flex bg-slate-50 border-b border-slate-200 p-1.5 lg:p-2 gap-1.5 lg:gap-2 shrink-0 overflow-x-auto no-scrollbar",children:[{id:"OVERVIEW",label:"Dashboard",color:"blue"},{id:"STAFF",label:"Personnel",color:"indigo"},{id:"DEPARTMENTS",label:"Units",color:"slate"},{id:"BRANDING",label:"Seal",color:"amber"},{id:"DATABASE",label:"System",color:"purple"},{id:"NODE",label:"Node.js",color:"blue"}].map(V=>g.jsxs("button",{onClick:()=>T(V.id),className:`flex-1 min-w-[80px] py-2.5 lg:py-3 px-3 lg:px-4 rounded-lg lg:rounded-xl text-[8px] lg:text-[9px] font-black uppercase tracking-widest transition-all relative ${S===V.id?"bg-white text-slate-950 shadow-md ring-1 ring-slate-200":"text-slate-400 hover:text-slate-600"}`,children:[V.label,S===V.id&&g.jsx("div",{className:`absolute bottom-0 left-3 right-3 h-0.5 bg-${V.color}-600 rounded-t-full`})]},V.id))}),g.jsxs("div",{className:"relative z-[250]",children:[N&&g.jsx("div",{className:"absolute top-0 left-0 right-0 bg-emerald-600 py-2 text-center text-white text-[8px] font-black uppercase tracking-widest animate-in slide-in-from-top-4",children:N}),D&&g.jsx("div",{className:"absolute top-0 left-0 right-0 bg-rose-600 py-2 text-center text-white text-[8px] font-black uppercase tracking-widest animate-in slide-in-from-top-4",children:D})]}),g.jsxs("div",{id:"admin-content-area",className:"flex-1 overflow-y-auto p-4 lg:p-10 bg-slate-50/40 custom-scrollbar scroll-smooth",children:[S==="OVERVIEW"&&g.jsx("div",{className:"max-w-full mx-auto space-y-4 lg:space-y-6",children:g.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 lg:gap-6",children:[{label:"Sanctioned",val:Oi.approved,bg:"emerald"},{label:"Active Dispatches",val:Oi.pending,bg:"indigo"},{label:"Registry Size",val:Oi.total,bg:"slate-950",dark:!0}].map((V,ke)=>g.jsxs("div",{className:`p-6 lg:p-10 ${V.dark?"bg-slate-950 text-white":`bg-${V.bg}-50 border-${V.bg}-100`} border rounded-3xl flex flex-col justify-between h-40 lg:h-48 shadow-sm group hover:shadow-xl transition-all`,children:[g.jsx("h4",{className:`text-[8px] lg:text-[9px] font-black ${V.dark?"text-slate-500":`text-${V.bg}-600`} uppercase tracking-widest`,children:V.label}),g.jsx("p",{className:"text-4xl lg:text-6xl font-black tracking-tighter tabular-nums leading-none",children:V.val})]},ke))})}),S==="NODE"&&g.jsx("div",{className:"max-w-4xl mx-auto space-y-10 animate-in fade-in pb-20 pt-4",children:g.jsxs("div",{className:"bg-[#0c2340] p-10 lg:p-16 rounded-[3rem] text-white shadow-2xl border border-white/10 overflow-hidden relative",children:[g.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-blue-600/10 rounded-full blur-3xl"}),g.jsx("h3",{className:"text-3xl font-black uppercase tracking-tighter mb-6",children:"Node.js statutory Bridge"}),g.jsx("p",{className:"text-blue-200/60 font-medium leading-relaxed mb-10 text-lg",children:"Establish a dedicated Node.js backend for statutory document processing, multi-device synchronization, and automated administrative reporting."}),g.jsxs("div",{className:"space-y-6",children:[g.jsxs("div",{className:"p-6 bg-white/5 border border-white/10 rounded-2xl",children:[g.jsx("h4",{className:"text-amber-500 text-[10px] font-black uppercase tracking-widest mb-4",children:"Connection Checklist"}),g.jsxs("ul",{className:"space-y-4",children:[g.jsxs("li",{className:"flex items-center gap-4",children:[g.jsx("div",{className:"w-5 h-5 bg-blue-500 rounded flex items-center justify-center text-slate-950",children:g.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:4,d:"M5 13l4 4L19 7"})})}),g.jsx("span",{className:"text-[11px] font-bold uppercase tracking-wider",children:"Deploy 'server.js' to a Node.js Environment"})]}),g.jsxs("li",{className:"flex items-center gap-4",children:[g.jsx("div",{className:"w-5 h-5 bg-blue-500 rounded flex items-center justify-center text-slate-950",children:g.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:4,d:"M5 13l4 4L19 7"})})}),g.jsx("span",{className:"text-[11px] font-bold uppercase tracking-wider",children:"Configure NODE_SERVER_URL in Environment"})]}),g.jsxs("li",{className:"flex items-center gap-4 opacity-50",children:[g.jsx("div",{className:"w-5 h-5 border-2 border-white/20 rounded"}),g.jsx("span",{className:"text-[11px] font-bold uppercase tracking-wider",children:"Activate Statutory Proxy Mode"})]})]})]}),g.jsxs("div",{className:"bg-black/40 p-8 rounded-2xl border border-white/5 font-mono text-[10px] leading-relaxed text-blue-300",children:[g.jsx("p",{className:"text-white/40 mb-2",children:"// Setup Command"}),g.jsx("p",{children:"npm install express cors @supabase/supabase-js"}),g.jsx("p",{className:"mt-4 text-white/40 mb-2",children:"// Launch Server"}),g.jsx("p",{children:"node server.js"})]})]})]})}),S==="STAFF"&&g.jsxs("div",{className:"max-w-full mx-auto space-y-10 lg:space-y-12 animate-in fade-in pb-20",children:[g.jsxs("div",{className:"bg-white rounded-3xl border border-slate-200 shadow-xl overflow-hidden",children:[g.jsxs("div",{className:"p-6 lg:p-10 bg-slate-950 flex flex-col md:flex-row justify-between items-center gap-6",children:[g.jsxs("div",{className:"flex items-center gap-4 lg:gap-6",children:[g.jsx("div",{className:"w-10 h-10 lg:w-12 lg:h-12 bg-indigo-600 rounded-xl flex items-center justify-center text-white shadow-xl",children:g.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2.5,d:"M18 9v3m0 0v3m0-3h3m-3 0H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})})}),g.jsxs("div",{children:[g.jsx("h3",{className:"text-lg lg:text-xl font-black text-white uppercase tracking-tight leading-none",children:ce?"Synchronize Node":"Enroll Personnel"}),g.jsx("p",{className:"text-[7px] lg:text-[8px] font-black text-indigo-400 uppercase tracking-widest opacity-80 mt-1",children:"Registry Interface"})]})]}),ce&&g.jsx("button",{onClick:Rn,className:"w-full md:w-auto px-6 py-2 bg-rose-600 text-white rounded-xl font-black text-[9px] uppercase tracking-widest active:scale-95 transition-all",children:"Discard Mod"})]}),g.jsx("form",{onSubmit:Pi,className:"p-6 lg:p-14 space-y-10 lg:space-y-12",children:g.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8 lg:gap-12 items-start",children:[g.jsxs("div",{className:"flex flex-col items-center gap-6",children:[g.jsx("div",{onClick:()=>{var V;return(V=M.current)==null?void 0:V.click()},className:"w-40 h-40 lg:w-48 lg:h-48 rounded-3xl bg-slate-50 border-2 border-dashed border-slate-200 flex items-center justify-center overflow-hidden cursor-pointer group shadow-inner",children:Y?g.jsx("img",{src:Y,className:"w-full h-full object-cover"}):g.jsxs("div",{className:"text-center space-y-2 opacity-30 group-hover:opacity-100 transition-opacity",children:[g.jsxs("svg",{className:"w-10 h-10 text-slate-400 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[g.jsx("path",{d:"M15 13a3 3 0 11-6 0 3 3 0 016 0z"}),g.jsx("path",{d:"M3 9a2 2 0 012-2h.93a2 2 0 001.664-.89l.812-1.22A2 2 0 0110.07 4h3.86a2 2 0 011.664.89l.812 1.22A2 2 0 0018.07 7H19a2 2 0 012 2v9a2 2 0 01-2 2H5a2 2 0 01-2-2V9z"})]}),g.jsx("p",{className:"text-[7px] font-black text-slate-500 uppercase tracking-widest",children:"Enroll Snapshot"})]})}),g.jsx("input",{type:"file",ref:M,className:"hidden",accept:"image/*",onChange:at})]}),g.jsxs("div",{className:"lg:col-span-3 space-y-8 lg:space-y-10",children:[g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 lg:gap-8",children:[g.jsxs("div",{className:"space-y-2 lg:space-y-3",children:[g.jsx("label",{className:"text-[8px] lg:text-[9px] font-black text-slate-400 uppercase tracking-widest block ml-1",children:"Full Statutory Name"}),g.jsx("input",{type:"text",value:H,onChange:V=>ae(V.target.value),className:"w-full px-5 lg:px-6 py-3 lg:py-4 bg-slate-50 border border-slate-100 rounded-xl lg:rounded-2xl outline-none focus:border-indigo-600 font-black text-sm lg:text-lg uppercase shadow-sm",placeholder:"e.g. DR. VIKAS S. MESHRAM"})]}),g.jsxs("div",{className:"grid grid-cols-2 gap-4 lg:gap-6",children:[g.jsxs("div",{className:"space-y-2 lg:space-y-3",children:[g.jsx("label",{className:"text-[8px] lg:text-[9px] font-black text-slate-400 uppercase tracking-widest block ml-1",children:"Staff ID"}),g.jsx("input",{type:"text",value:Q,onChange:V=>ve(V.target.value),disabled:!!ce,className:"w-full px-5 lg:px-6 py-3 lg:py-4 bg-slate-50 border border-slate-100 rounded-xl lg:rounded-2xl outline-none focus:border-indigo-600 font-black text-[10px] lg:text-xs disabled:opacity-50 uppercase shadow-sm",placeholder:"GU/2025/..."})]}),g.jsxs("div",{className:"space-y-2 lg:space-y-3",children:[g.jsx("label",{className:"text-[8px] lg:text-[9px] font-black text-slate-400 uppercase tracking-widest block ml-1",children:"Security Pass"}),g.jsx("input",{type:"password",value:_e,onChange:V=>De(V.target.value),className:"w-full px-5 lg:px-6 py-3 lg:py-4 bg-slate-50 border border-slate-100 rounded-xl lg:rounded-2xl outline-none focus:border-indigo-600 font-black text-sm lg:text-lg shadow-sm",placeholder:""})]})]})]}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 lg:gap-8 pt-2",children:[g.jsxs("div",{className:"space-y-2 lg:space-y-3",children:[g.jsx("label",{className:"text-[8px] lg:text-[9px] font-black text-slate-400 uppercase tracking-widest block ml-1",children:"Institutional Email"}),g.jsx("input",{type:"email",value:Ae,onChange:V=>Le(V.target.value),className:"w-full px-5 lg:px-6 py-3 lg:py-4 bg-slate-50 border border-slate-100 rounded-xl lg:rounded-2xl outline-none focus:border-indigo-600 font-bold text-xs shadow-sm",placeholder:"e.g. name@gondwana.ac.in"})]}),g.jsxs("div",{className:"space-y-2 lg:space-y-3",children:[g.jsx("label",{className:"text-[8px] lg:text-[9px] font-black text-slate-400 uppercase tracking-widest block ml-1",children:"Mobile Identifier (SMS)"}),g.jsx("input",{type:"tel",value:it,onChange:V=>O(V.target.value),className:"w-full px-5 lg:px-6 py-3 lg:py-4 bg-slate-50 border border-slate-100 rounded-xl lg:rounded-2xl outline-none focus:border-indigo-600 font-bold text-xs shadow-sm",placeholder:"10 Digit Number"})]})]}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 lg:gap-8",children:[g.jsxs("div",{className:"space-y-2 lg:space-y-3",children:[g.jsx("label",{className:"text-[8px] lg:text-[9px] font-black text-slate-400 uppercase tracking-widest block ml-1",children:"Designation"}),g.jsx("input",{type:"text",value:Se,onChange:V=>Re(V.target.value),className:"w-full px-5 lg:px-6 py-3 lg:py-4 bg-slate-50 border border-slate-100 rounded-xl lg:rounded-2xl outline-none focus:border-indigo-600 text-[11px] lg:text-[12px] font-black uppercase shadow-sm",placeholder:"TITLE"})]}),g.jsxs("div",{className:"space-y-2 lg:space-y-3",children:[g.jsx("label",{className:"text-[8px] lg:text-[9px] font-black text-slate-400 uppercase tracking-widest block ml-1",children:"Administrative Unit"}),g.jsx("select",{value:R,onChange:V=>z(V.target.value),className:"w-full px-5 lg:px-6 py-3 lg:py-4 bg-slate-50 border border-slate-100 rounded-xl lg:rounded-2xl outline-none focus:border-indigo-600 text-[11px] lg:text-[12px] font-black uppercase appearance-none shadow-sm cursor-pointer",children:i.map(V=>g.jsx("option",{value:V,children:V},V))})]})]}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 pt-6 border-t border-slate-100 items-end",children:[g.jsxs("div",{className:"space-y-2 lg:space-y-3",children:[g.jsx("label",{className:"text-[8px] lg:text-[9px] font-black text-slate-400 uppercase tracking-widest block ml-1",children:"Authorization Tier"}),g.jsxs("select",{value:W,onChange:V=>te(V.target.value),className:"w-full px-5 lg:px-6 py-3 lg:py-4 bg-white border border-slate-200 rounded-xl lg:rounded-2xl outline-none focus:border-indigo-600 font-black uppercase text-[10px] appearance-none shadow-sm cursor-pointer",children:[g.jsx("option",{value:le.STAFF,children:"Registry Personnel (Level 01)"}),g.jsx("option",{value:le.ADMIN,children:"Statutory Admin (Master)"})]})]}),g.jsx("button",{type:"submit",className:"px-8 lg:px-12 py-4 lg:py-5 bg-indigo-950 text-amber-500 rounded-xl lg:rounded-2xl font-black text-[10px] lg:text-xs uppercase tracking-widest shadow-xl hover:bg-indigo-900 transition-all active:scale-95 border border-amber-500/10",children:ce?"Synchronize Node ":"Provision Node "})]})]})]})})]}),g.jsxs("div",{className:"space-y-6",children:[g.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center px-4 gap-6",children:[g.jsx("h3",{className:"text-2xl lg:text-3xl font-black text-slate-900 tracking-tighter uppercase leading-none shrink-0",children:"Registry Directory"}),g.jsxs("div",{className:"relative flex-1 max-w-2xl w-full group",children:[g.jsx("input",{type:"text",value:Be,onChange:V=>Ft(V.target.value),placeholder:"SEARCH REGISTRY...",className:"relative w-full pl-10 pr-4 py-3 bg-white border border-slate-100 rounded-xl text-[10px] lg:text-[11px] font-black uppercase tracking-widest focus:border-indigo-600 outline-none shadow-sm"}),g.jsx("svg",{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})]})]}),g.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4 lg:gap-6",children:gr.map(V=>g.jsxs("article",{className:"bg-white border border-slate-100 rounded-3xl hover:border-indigo-500 hover:shadow-2xl transition-all group flex flex-col h-full overflow-hidden animate-in fade-in",children:[g.jsxs("div",{className:"p-5 lg:p-6 flex items-center gap-4 bg-slate-50/80 border-b border-slate-100 shrink-0",children:[g.jsx("div",{className:"w-10 h-10 lg:w-12 lg:h-12 rounded-xl overflow-hidden bg-white border border-slate-100 flex items-center justify-center shrink-0 shadow-inner",children:V.photo?g.jsx("img",{src:V.photo,className:"w-full h-full object-cover"}):g.jsx("span",{className:"text-slate-300 font-black text-xl",children:V.name.charAt(0)})}),g.jsxs("div",{className:"min-w-0",children:[g.jsx("h4",{className:"text-[13px] lg:text-sm font-black text-slate-900 uppercase tracking-tight truncate mb-1",children:V.name}),g.jsx("span",{className:`text-[7px] font-black px-2 py-0.5 rounded-lg uppercase tracking-widest inline-block ${V.role===le.ADMIN?"bg-indigo-950 text-indigo-400 shadow-sm":"bg-white text-slate-500 border border-slate-200"}`,children:V.role})]})]}),g.jsxs("div",{className:"p-5 lg:p-6 flex-1 space-y-4",children:[g.jsxs("div",{className:"space-y-1",children:[g.jsx("p",{className:"text-[8px] font-black text-indigo-600 uppercase tracking-widest opacity-60",children:"Node Positioning"}),g.jsx("p",{className:"text-[11px] lg:text-xs font-bold text-slate-800 uppercase leading-tight",children:V.designation}),g.jsx("p",{className:"text-[9px] lg:text-[10px] font-black text-slate-400 uppercase truncate mt-0.5",children:V.department})]}),g.jsx("div",{className:"space-y-3 pt-4 border-t border-slate-50",children:g.jsx("div",{className:"flex flex-col gap-2",children:g.jsxs("div",{className:"flex items-center gap-3 text-[10px] font-black text-slate-950 bg-slate-50 p-2.5 rounded-xl border border-slate-100 uppercase tracking-widest",children:[g.jsx("svg",{className:"w-3 h-3 text-indigo-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:g.jsx("path",{d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})}),"ID: ",V.id]})})})]}),g.jsxs("div",{className:"px-5 lg:px-6 py-4 bg-slate-50 border-t border-slate-100 flex gap-3",children:[g.jsx("button",{onClick:()=>yn(V),className:"flex-1 py-2.5 bg-white border border-indigo-200 text-indigo-600 rounded-xl font-black text-[9px] uppercase tracking-widest hover:bg-indigo-600 hover:text-white transition-all shadow-sm",children:"Modify Node"}),V.id!==b&&g.jsx("button",{onClick:()=>xn(`Permanently purge node for ${V.name}?`,()=>h(V.id)),className:"w-10 h-10 flex items-center justify-center bg-rose-50 text-rose-600 rounded-xl border border-rose-100 hover:bg-rose-600 hover:text-white transition-all active:scale-90 shadow-sm",children:g.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M6 18L18 6M6 6l12 12"})})})]})]},V.id))})]})]}),S==="DEPARTMENTS"&&g.jsxs("div",{className:"max-w-4xl mx-auto space-y-8 lg:space-y-12 animate-in fade-in pb-20",children:[g.jsx("div",{className:"bg-white p-6 lg:p-10 rounded-3xl border border-slate-200 shadow-xl relative overflow-hidden group/unit",children:g.jsxs("div",{className:"relative z-10",children:[g.jsx("h3",{className:"text-xl lg:text-2xl font-black text-slate-900 uppercase tracking-tighter mb-6 lg:mb-8",children:"Establish Unit"}),g.jsxs("form",{onSubmit:ds,className:"flex flex-col md:flex-row gap-4 lg:gap-6",children:[g.jsx("input",{type:"text",value:we,onChange:V=>Ke(V.target.value),placeholder:"UNIT TITLE (e.g. EXAM SECTION)...",className:"flex-1 px-6 lg:px-8 py-4 lg:py-5 bg-slate-50 border border-slate-100 rounded-xl lg:rounded-2xl outline-none focus:border-indigo-600 font-black uppercase text-xs lg:text-sm shadow-inner"}),g.jsx("button",{type:"submit",className:"px-10 py-4 lg:py-5 bg-slate-950 text-white rounded-xl lg:rounded-2xl font-black text-[10px] lg:text-[12px] uppercase tracking-widest shadow-xl active:scale-95 transition-all",children:"Establish Node"})]})]})}),g.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 lg:gap-6",children:i.map(V=>g.jsxs("div",{className:"p-5 lg:p-6 bg-white border border-slate-100 rounded-2xl flex justify-between items-center group hover:border-indigo-500 transition-all shadow-sm",children:[g.jsxs("div",{className:"min-w-0",children:[g.jsx("p",{className:"text-[8px] font-black text-indigo-600 uppercase tracking-widest opacity-60 mb-0.5 lg:mb-1",children:"Institutional Unit"}),g.jsx("h4",{className:"text-[13px] lg:text-sm font-black text-slate-900 uppercase tracking-tight truncate pr-6",children:V})]}),g.jsx("button",{onClick:()=>xn(`Terminate unit ${V}?`,()=>m(V)),className:"w-9 h-9 bg-rose-50 text-rose-600 rounded-lg opacity-0 group-hover:opacity-100 transition-all border border-rose-100 hover:bg-rose-600 hover:text-white flex items-center justify-center active:scale-90",children:g.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M6 18L18 6M6 6l12 12"})})})]},V))})]}),S==="BRANDING"&&g.jsx("div",{className:"max-w-2xl mx-auto space-y-10 lg:space-y-12 animate-in fade-in pb-20 pt-4",children:g.jsxs("div",{className:"bg-white p-8 lg:p-16 rounded-[2.5rem] lg:rounded-[4rem] border border-slate-200 shadow-2xl text-center relative overflow-hidden",children:[g.jsx("div",{className:"absolute top-0 left-0 w-full h-1.5 bg-gradient-to-r from-amber-200 via-amber-500 to-amber-200 shadow-sm"}),g.jsx("h3",{className:"text-2xl lg:text-3xl font-black text-slate-950 uppercase tracking-tighter mb-4",children:"Statutory Mark"}),g.jsx("p",{className:"text-[10px] lg:text-[11px] font-bold text-slate-400 uppercase tracking-[0.6em] mb-12 lg:mb-16",children:"Digital Identity Management"}),g.jsxs("div",{className:"flex flex-col items-center gap-10 lg:gap-12",children:[g.jsx("div",{className:"relative group/logo",children:g.jsxs("div",{className:"relative w-48 h-48 lg:w-56 lg:h-56 bg-white rounded-3xl lg:rounded-[3rem] border border-slate-100 shadow-2xl flex items-center justify-center p-8 lg:p-12 overflow-hidden group-hover/logo:scale-105 transition-transform duration-700",children:[r?g.jsx("img",{src:r,className:"w-full h-full object-contain"}):g.jsx("div",{className:"text-[80px] lg:text-[120px] font-black text-slate-950 italic select-none",children:"G"}),g.jsxs("div",{className:"absolute inset-0 bg-slate-950/90 opacity-0 group-hover/logo:opacity-100 flex flex-col items-center justify-center transition-all backdrop-blur-xl gap-4 lg:gap-6",children:[g.jsx("button",{onClick:()=>{var V;return(V=J.current)==null?void 0:V.click()},className:"px-6 lg:px-8 py-2.5 lg:py-3.5 bg-white text-slate-950 rounded-xl lg:rounded-2xl font-black text-[9px] lg:text-[10px] uppercase tracking-widest shadow-xl hover:bg-amber-500 active:scale-95 transition-all",children:"Modify Seal"}),g.jsx("p",{className:"text-[7px] lg:text-[9px] text-white/50 font-black uppercase tracking-widest",children:"Digital Auth Update"})]})]})}),g.jsx("input",{type:"file",ref:J,className:"hidden",accept:"image/*",onChange:si}),g.jsx("div",{className:"max-w-xs lg:max-w-md space-y-4 lg:space-y-6",children:g.jsx("p",{className:"text-[11px] lg:text-[12px] font-bold text-slate-500 uppercase tracking-[0.2em] leading-relaxed italic",children:"The statutory seal serves as the digital watermark for all correspondence within the system."})})]})]})}),S==="DATABASE"&&g.jsx("div",{className:"max-w-5xl mx-auto animate-in fade-in pb-20 pt-4",children:g.jsxs("div",{className:"bg-slate-950 p-10 lg:p-24 rounded-3xl lg:rounded-[4rem] text-center space-y-12 lg:space-y-16 shadow-2xl relative overflow-hidden",children:[g.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_50%_50%,rgba(79,70,229,0.1)_0%,transparent_100%)]"}),g.jsxs("div",{className:"relative z-10 space-y-4 lg:space-y-6",children:[g.jsx("h3",{className:"text-3xl lg:text-5xl font-black text-white uppercase tracking-tighter leading-none",children:"Node Deployment"}),g.jsx("p",{className:"text-[10px] lg:text-[12px] font-black text-indigo-400 uppercase tracking-[0.8em]",children:"Registry Sync Engine"})]}),g.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 lg:gap-10 relative z-10",children:[g.jsxs("div",{onClick:ri,className:"p-8 lg:p-12 bg-white/5 border border-white/10 rounded-[2rem] lg:rounded-[2.5rem] text-left group hover:bg-indigo-600/10 cursor-pointer transition-all border-dashed shadow-xl",children:[g.jsx("div",{className:"w-12 h-12 lg:w-14 lg:h-14 bg-indigo-500/20 text-indigo-400 rounded-xl lg:rounded-2xl flex items-center justify-center mb-6 lg:mb-8 group-hover:scale-110 transition-transform",children:g.jsx("svg",{className:"w-7 h-7",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2.5,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})})}),g.jsx("h4",{className:"text-white text-xl lg:text-2xl font-black uppercase mb-3 lg:mb-4 tracking-tighter",children:"Memory Backup"}),g.jsx("p",{className:"text-[10px] lg:text-[11px] text-slate-500 font-bold uppercase tracking-[0.2em] leading-relaxed",children:"Encapsulate institutional memory as a statutory package."})]}),g.jsxs("div",{className:"p-8 lg:p-12 bg-white/5 border border-white/10 rounded-[2rem] lg:rounded-[2.5rem] text-left group hover:bg-amber-600/10 cursor-pointer transition-all border-dashed relative shadow-xl",children:[g.jsx("input",{type:"file",className:"absolute inset-0 opacity-0 cursor-pointer",accept:"application/json",onChange:Li}),g.jsx("div",{className:"w-12 h-12 lg:w-14 lg:h-14 bg-amber-500/20 text-amber-400 rounded-xl lg:rounded-2xl flex items-center justify-center mb-6 lg:mb-8 group-hover:scale-110 transition-transform",children:g.jsx("svg",{className:"w-7 h-7",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2.5,d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})})}),g.jsx("h4",{className:"text-white text-xl lg:text-2xl font-black uppercase mb-3 lg:mb-4 tracking-tighter",children:"Recovery Sync"}),g.jsx("p",{className:"text-[10px] lg:text-[11px] text-slate-500 font-bold uppercase tracking-[0.2em] leading-relaxed",children:"Re-provision records from a master backup."})]})]}),g.jsx("div",{className:"pt-12 lg:pt-20 border-t border-white/10 relative z-10",children:g.jsxs("button",{onClick:()=>xn("TERMINAL PROTOCOL: Complete deletion of all local records. Action immutable.",()=>{indexedDB.deleteDatabase("GondwanaNoteFlowDB"),window.location.reload()}),className:"w-full sm:w-auto px-10 lg:px-16 py-6 lg:py-8 border-2 border-rose-950 text-rose-500 rounded-2xl lg:rounded-[3rem] font-black text-[9px] lg:text-[10px] uppercase tracking-[0.5em] hover:bg-rose-950 hover:text-white transition-all active:scale-95 group",children:["Registry Factory Purge ",g.jsx("span",{className:"ml-4 opacity-40 group-hover:opacity-100 transition-opacity",children:""})]})})]})})]}),g.jsxs("footer",{className:"p-4 lg:p-6 bg-white border-t border-slate-100 text-center shrink-0 shadow-sm relative z-[400]",children:[g.jsx("p",{className:"text-[9px] lg:text-[10px] font-black text-slate-400 uppercase tracking-[0.5em] mb-1.5 lg:mb-2 leading-none",children:"Institutional Infrastructure Node  Deployment 2025"}),g.jsxs("div",{className:"flex justify-center items-center gap-4 lg:gap-8 opacity-60",children:[g.jsx("p",{className:"text-[8px] font-black text-slate-500 uppercase tracking-widest",children:"Interface v3.1.8"}),g.jsx("div",{className:"w-1 h-1 bg-slate-200 rounded-full"}),g.jsx("p",{className:"text-[8px] font-black text-slate-500 uppercase tracking-widest",children:"Admin Authorization Node"})]})]})]})},fS=({history:t})=>g.jsxs("div",{className:"bg-white rounded-2xl shadow-xl border border-slate-200 p-6 lg:p-8",children:[g.jsxs("h3",{className:"text-base lg:text-lg font-black text-slate-900 mb-8 flex items-center tracking-tight",children:[g.jsx("div",{className:"w-8 h-8 bg-indigo-50 text-indigo-600 rounded-lg flex items-center justify-center mr-3",children:g.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2.5,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})}),"Decision Timeline & Remarks"]}),g.jsx("div",{className:"flow-root",children:g.jsx("ul",{className:"-mb-8",children:t.map((e,i)=>g.jsx("li",{children:g.jsxs("div",{className:"relative pb-8",children:[i!==t.length-1?g.jsx("span",{className:"absolute top-4 left-4 -ml-px h-full w-0.5 bg-slate-100","aria-hidden":"true"}):null,g.jsxs("div",{className:"relative flex items-start space-x-4",children:[g.jsx("div",{className:"relative",children:g.jsxs("span",{className:`h-8 w-8 rounded-xl flex items-center justify-center ring-6 ring-white shadow-sm transition-transform hover:scale-110 ${e.action===Fe.FORWARD?"bg-emerald-500":e.action===Fe.RETURN?"bg-amber-500":e.action===Fe.REJECT?"bg-rose-500":e.action===Fe.APPROVE?"bg-indigo-600":"bg-slate-500"}`,children:[e.action===Fe.FORWARD&&g.jsx("svg",{className:"h-4 w-4 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2.5,d:"M5 13l4 4L19 7"})}),e.action===Fe.RETURN&&g.jsx("svg",{className:"h-4 w-4 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2.5,d:"M10 19l-7-7m0 0l7-7"})}),e.action===Fe.INITIATE&&g.jsx("svg",{className:"h-4 w-4 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2.5,d:"M12 4v16m8-8H4"})}),e.action===Fe.APPROVE&&g.jsx("svg",{className:"h-4 w-4 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2.5,d:"M5 13l4 4L19 7"})}),e.action===Fe.REJECT&&g.jsx("svg",{className:"h-4 w-4 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2.5,d:"M6 18L18 6"})})]})}),g.jsxs("div",{className:"flex-1 min-w-0",children:[g.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center gap-1.5 mb-1.5",children:[g.jsxs("div",{className:"text-[12px]",children:[g.jsx("span",{className:"font-black text-slate-900",children:e.from.name}),g.jsx("span",{className:"text-slate-400 font-bold mx-1.5",children:""}),g.jsx("span",{className:"font-black text-slate-900",children:e.to.name})]}),g.jsxs("div",{className:"flex items-center gap-4",children:[e.notificationsSent&&g.jsxs("div",{className:"flex items-center gap-1.5",children:[e.notificationsSent.email&&g.jsx("div",{title:"Email Sent",className:"w-4 h-4 rounded bg-blue-100 text-blue-600 flex items-center justify-center",children:g.jsx("svg",{className:"w-2.5 h-2.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})})}),e.notificationsSent.sms&&g.jsx("div",{title:"SMS Sent",className:"w-4 h-4 rounded bg-amber-100 text-amber-600 flex items-center justify-center",children:g.jsx("svg",{className:"w-2.5 h-2.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M8 10h.01M12 10h.01M16 10h.01M9 16H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-5l-5 5v-5z"})})})]}),g.jsx("span",{className:"text-[9px] font-black text-slate-300 uppercase tracking-widest tabular-nums",children:new Date(e.timestamp).toLocaleString("en-IN",{hour:"2-digit",minute:"2-digit",day:"2-digit",month:"short"})})]})]}),g.jsxs("div",{className:"flex items-center gap-1.5 mb-3",children:[g.jsx("span",{className:`text-[7px] px-1.5 py-0.5 rounded font-black uppercase tracking-widest ${e.action===Fe.FORWARD?"bg-emerald-50 text-emerald-600":e.action===Fe.RETURN?"bg-amber-50 text-amber-600":e.action===Fe.REJECT?"bg-rose-50 text-rose-600":e.action===Fe.APPROVE?"bg-indigo-50 text-indigo-600":"bg-slate-50 text-slate-600"}`,children:e.action}),g.jsx("span",{className:"text-[8px] font-bold text-slate-400 uppercase tracking-tighter",children:e.from.designation})]}),e.remark&&g.jsxs("div",{className:"text-[12px] text-slate-700 bg-slate-50/80 p-4 rounded-xl border border-slate-100 leading-relaxed font-medium italic relative",children:[g.jsx("div",{className:"absolute top-3 left-[-6px] w-1.5 h-1.5 bg-slate-50 border-l border-t border-slate-100 rotate-[-45deg]"}),'"',e.remark,'"']})]})]})]})},e.id))})})]}),hS=({onBack:t})=>g.jsxs("div",{className:"min-h-screen bg-[#020617] text-white flex flex-col font-sans",children:[g.jsxs("header",{className:"sticky top-0 z-[100] bg-[#0c2340]/80 backdrop-blur-xl border-b border-white/10 px-8 py-6 flex justify-between items-center",children:[g.jsxs("div",{className:"flex items-center gap-4",children:[g.jsx("div",{className:"w-10 h-10 bg-amber-500 rounded-xl flex items-center justify-center text-[#0c2340] font-black text-xl shadow-xl rotate-3",children:"G"}),g.jsxs("div",{children:[g.jsx("h1",{className:"text-lg font-black uppercase tracking-tight",children:"Institutional Workspace Protocol"}),g.jsx("p",{className:"text-[10px] font-black text-amber-500 uppercase tracking-[0.3em]",children:"Operational Manual v1.5  Statutory Grade"})]})]}),g.jsxs("button",{onClick:t,className:"px-6 py-2.5 bg-white/5 border border-white/10 rounded-xl text-[9px] font-black uppercase tracking-widest hover:bg-white/10 transition-all flex items-center gap-2 group",children:[g.jsx("svg",{className:"w-4 h-4 group-hover:-translate-x-1 transition-transform",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),"Exit Manual"]})]}),g.jsx("main",{className:"flex-1 max-w-5xl mx-auto w-full px-6 py-20",children:g.jsxs("div",{className:"space-y-32",children:[g.jsxs("section",{className:"relative group",children:[g.jsx("div",{className:"absolute -left-12 top-0 text-[100px] font-black text-white/5 leading-none select-none",children:"01"}),g.jsxs("div",{className:"relative pt-12",children:[g.jsx("h2",{className:"text-shine text-3xl font-black uppercase tracking-tighter mb-8",children:"Statutory Authentication"}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-12",children:[g.jsxs("div",{className:"space-y-6",children:[g.jsxs("p",{className:"text-blue-100/70 text-base leading-relaxed font-medium",children:["Access to the NotePro ecosystem is strictly governed by institutional credentials. Each statutory officer is assigned a unique ",g.jsx("span",{className:"text-white font-black",children:"Staff Identifier"})," linked to their designated office."]}),g.jsxs("ul",{className:"space-y-4",children:[g.jsxs("li",{className:"flex gap-4",children:[g.jsx("div",{className:"w-8 h-8 rounded-lg bg-blue-500/10 flex items-center justify-center text-blue-400 shrink-0",children:"1"}),g.jsx("p",{className:"text-[11px] font-bold text-slate-400 uppercase tracking-wide leading-relaxed",children:"Officials must use the 'Staff' tab to enter their secure passphrase and ID."})]}),g.jsxs("li",{className:"flex gap-4",children:[g.jsx("div",{className:"w-8 h-8 rounded-lg bg-blue-500/10 flex items-center justify-center text-blue-400 shrink-0",children:"2"}),g.jsx("p",{className:"text-[11px] font-bold text-slate-400 uppercase tracking-wide leading-relaxed",children:"The 'Public' tab allows external stakeholders to verify documents using the statutory Reference Number."})]})]})]}),g.jsx("div",{className:"bg-white/5 border border-white/10 rounded-[2.5rem] p-10 flex items-center justify-center",children:g.jsxs("div",{className:"w-full max-w-xs space-y-4",children:[g.jsx("div",{className:"h-2 w-1/3 bg-blue-500/20 rounded-full"}),g.jsx("div",{className:"h-12 w-full bg-white/5 rounded-2xl border border-white/10"}),g.jsx("div",{className:"h-12 w-full bg-white/5 rounded-2xl border border-white/10"}),g.jsx("div",{className:"h-12 w-full bg-blue-600 rounded-2xl flex items-center justify-center text-[10px] font-black uppercase tracking-widest",children:"Verify Identity"})]})})]})]})]}),g.jsxs("section",{className:"relative group",children:[g.jsx("div",{className:"absolute -left-12 top-0 text-[100px] font-black text-white/5 leading-none select-none",children:"02"}),g.jsxs("div",{className:"relative pt-12",children:[g.jsx("h2",{className:"text-shine text-3xl font-black uppercase tracking-tighter mb-8",children:"Drafting The Green Sheet"}),g.jsx("div",{className:"bg-emerald-500/5 border border-emerald-500/20 rounded-[3rem] p-12 lg:p-16",children:g.jsxs("div",{className:"flex flex-col lg:flex-row gap-16",children:[g.jsxs("div",{className:"flex-1 space-y-8",children:[g.jsxs("div",{children:[g.jsx("h4",{className:"text-emerald-400 text-xs font-black uppercase tracking-[0.3em] mb-4",children:"Statutory Drafting"}),g.jsx("p",{className:"text-emerald-100/60 leading-relaxed font-medium",children:"The 'Green Sheet' is the cornerstone of university administration. When initiating a note:"})]}),g.jsxs("div",{className:"space-y-4",children:[g.jsxs("div",{className:"p-6 bg-emerald-500/10 rounded-2xl border border-emerald-500/10",children:[g.jsx("h5",{className:"text-white text-xs font-black uppercase mb-2",children:"Subject Precision"}),g.jsx("p",{className:"text-[10px] text-emerald-100/40 uppercase font-bold tracking-widest",children:"The subject should be in block capitals, clearly identifying the department and core request."})]}),g.jsxs("div",{className:"p-6 bg-indigo-500/10 rounded-2xl border border-indigo-500/10",children:[g.jsx("h5",{className:"text-indigo-400 text-xs font-black uppercase mb-2",children:"AI-Assisted Refinement"}),g.jsx("p",{className:"text-[10px] text-indigo-100/40 uppercase font-bold tracking-widest",children:'Utilize the "Refine with AI" tool to transform rough notes into statutory grade administrative prose.'})]})]})]}),g.jsx("div",{className:"flex-1 flex items-center justify-center",children:g.jsxs("div",{className:"relative w-full max-w-sm aspect-[4/5] bg-[#e8f5e9] rounded-[2rem] shadow-2xl p-10",children:[g.jsx("div",{className:"absolute top-0 left-12 bottom-0 w-[1.5px] bg-rose-500/10"}),g.jsxs("div",{className:"space-y-4 pt-10",children:[g.jsx("div",{className:"h-2 w-3/4 bg-slate-900/10 rounded-full"}),g.jsx("div",{className:"h-2 w-full bg-slate-900/5 rounded-full"}),g.jsx("div",{className:"h-2 w-full bg-slate-900/5 rounded-full"}),g.jsx("div",{className:"h-2 w-2/3 bg-slate-900/5 rounded-full"})]})]})})]})})]})]}),g.jsxs("section",{className:"relative group",children:[g.jsx("div",{className:"absolute -left-12 top-0 text-[100px] font-black text-white/5 leading-none select-none",children:"03"}),g.jsxs("div",{className:"relative pt-12",children:[g.jsx("h2",{className:"text-shine text-3xl font-black uppercase tracking-tighter mb-8",children:"Statutory Workflow Actions"}),g.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[{label:"Forward",color:"blue",desc:"Routes the file to the next statutory level for perusal."},{label:"Return",color:"amber",desc:"Dispatches the file back to the initiator for corrections."},{label:"Approve",color:"emerald",desc:"Finalizes the proposal and applies the Digital Seal."},{label:"Reject",color:"rose",desc:"Terminates the proposal and archives the dispatch."}].map((e,i)=>g.jsxs("div",{className:"p-8 bg-white/5 border border-white/10 rounded-3xl hover:border-white/20 transition-all",children:[g.jsx("div",{className:`w-10 h-10 rounded-xl mb-6 flex items-center justify-center bg-${e.color}-500/20 text-${e.color}-400`,children:g.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M5 13l4 4L19 7"})})}),g.jsx("h4",{className:"text-white text-sm font-black uppercase tracking-widest mb-2",children:e.label}),g.jsx("p",{className:"text-[10px] font-bold text-slate-500 uppercase leading-relaxed tracking-widest",children:e.desc})]},i))})]})]}),g.jsxs("section",{className:"relative group",children:[g.jsx("div",{className:"absolute -left-12 top-0 text-[100px] font-black text-white/5 leading-none select-none",children:"04"}),g.jsxs("div",{className:"relative pt-12",children:[g.jsx("h2",{className:"text-shine text-3xl font-black uppercase tracking-tighter mb-8",children:"Administrative Registry"}),g.jsxs("div",{className:"p-12 bg-[#0c2340] rounded-[3rem] border border-white/10 flex flex-col lg:flex-row gap-12 items-center",children:[g.jsxs("div",{className:"flex-1 space-y-6",children:[g.jsx("h4",{className:"text-amber-500 text-xs font-black uppercase tracking-[0.3em]",children:"Institutional Control"}),g.jsx("p",{className:"text-blue-100/70 leading-relaxed font-medium",children:"Administrators have sovereign control over the university registry:"}),g.jsxs("ul",{className:"space-y-4",children:[g.jsxs("li",{className:"flex items-center gap-4 group/li",children:[g.jsx("div",{className:"w-2 h-2 rounded-full bg-amber-500"}),g.jsx("span",{className:"text-[11px] font-black text-white uppercase tracking-widest group-hover/li:translate-x-2 transition-transform",children:"Enroll Statutory Personnel with ID/Photo"})]}),g.jsxs("li",{className:"flex items-center gap-4 group/li",children:[g.jsx("div",{className:"w-2 h-2 rounded-full bg-amber-500"}),g.jsx("span",{className:"text-[11px] font-black text-white uppercase tracking-widest group-hover/li:translate-x-2 transition-transform",children:"Define Institutional Department Units"})]}),g.jsxs("li",{className:"flex items-center gap-4 group/li",children:[g.jsx("div",{className:"w-2 h-2 rounded-full bg-amber-500"}),g.jsx("span",{className:"text-[11px] font-black text-white uppercase tracking-widest group-hover/li:translate-x-2 transition-transform",children:"Update Official University Seal (Logo)"})]})]})]}),g.jsx("div",{className:"w-64 h-64 bg-white/5 rounded-[2.5rem] border border-white/10 flex items-center justify-center group-hover:rotate-12 transition-transform duration-1000",children:g.jsx("svg",{className:"w-24 h-24 text-amber-500/20",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M12 6V4m0 2a2 2 0 100 4m0-4a2 2 0 110 4m-6 8a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4m6 6v10m6-2a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4"})})})]})]})]})]})}),g.jsx("footer",{className:"py-20 border-t border-white/5 bg-black/40",children:g.jsxs("div",{className:"max-w-5xl mx-auto px-6 text-center space-y-4",children:[g.jsx("p",{className:"text-[10px] font-black text-slate-600 uppercase tracking-[0.5em]",children:"End of Manual"}),g.jsxs("div",{className:"text-[10px] font-bold text-slate-500 uppercase tracking-widest leading-relaxed",children:["Statutory Compliance Issued by ",g.jsx("span",{className:"text-shine font-black",children:"Dr. Krishna Karoo"}),g.jsx("br",{}),"Computer Science Department  Gondwana University, Gadchiroli"]}),g.jsx("button",{onClick:t,className:"mt-12 px-12 py-5 bg-white text-slate-900 rounded-2xl font-black text-[10px] uppercase tracking-[0.3em] hover:bg-amber-500 transition-all shadow-2xl active:scale-95",children:"Acknowledge & Exit"})]})})]}),pS=({onBack:t})=>{var h,v,m,x;const[e,i]=Z.useState(0),r=[{type:"HERO",title:"Statutory Evolution",subtitle:"THE DIGITAL SECRETARIAT MISSION",tagline:"Transitioning Gondwana University to a Zero-Transit, 100% Transparent Governance Model.",image:"https://images.unsplash.com/photo-1497366216548-37526070297c?auto=format&fit=crop&q=80&w=1600",points:["Sovereign Infrastructure","Institutional Memory","Zero Paper Waste"]},{type:"EXPLAINER",title:"Why NotePro?",subtitle:"SOLVING ADMINISTRATIVE LATENCY",content:"Traditional paper-based file movement suffers from physical transit delays and tracking gaps. NotePro eliminates these bottlenecks while maintaining the legal sanctity of the process.",image:"https://images.unsplash.com/photo-1497215842964-222b430dc094?auto=format&fit=crop&q=80&w=1200",stats:[{label:"Transit Time",val:"Instant",icon:""},{label:"Traceability",val:"100%",icon:""},{label:"Data Safety",val:"Secure",icon:""}]},{type:"SPLIT",title:"Advanced Tech Stack",subtitle:"ENGINEERED FOR EXCELLENCE",content:"NotePro is built using a world-class technology stack, ensuring high performance, security, and institutional scalability without the need for expensive external servers.",points:["React 19 & TypeScript: Modern UI & Type-Safe Code","Tailwind CSS: High-Performance Visual Architecture","IndexedDB: Local-First Encrypted Data Storage","Google Gemini AI: Statutory Drafting Intelligence"],image:"https://images.unsplash.com/photo-1555066931-4365d14bab8c?auto=format&fit=crop&q=80&w=1200"},{type:"EXPLAINER",title:"Built For Sovereignty",subtitle:"SECURE LOCAL ARCHITECTURE",content:"Engineered by Dr. Krishna Karoo, NotePro uses 'Local-First' encryption. Your data stays within the university's ecosystem, protected by industrial-grade security protocols.",image:"https://images.unsplash.com/photo-1550751827-4bd374c3f58b?auto=format&fit=crop&q=80&w=1200",stats:[{label:"Encryption",val:"AES-256",icon:""},{label:"Storage",val:"IndexedDB",icon:""},{label:"Access",val:"Bi-Level",icon:""}]},{type:"SPLIT",title:"Deployment Roadmap",subtitle:"PHASE-WISE INSTITUTIONAL ROLLOUT",content:"A systematic 3-phase strategy ensures a smooth transition from traditional files to the NotePro Digital Secretariat across the entire university.",points:["Phase I: Pilot (PGTD CS & Digital Cell)","Phase II: Integration (Registrar, Finance & Exams)","Phase III: Saturation (All Depts & Affiliated Units)"],image:"https://images.unsplash.com/photo-1504384308090-c89e1227a15f?auto=format&fit=crop&q=80&w=1200"},{type:"HERO",title:"Sustainability Goals",subtitle:"ECONOMIC & ENVIRONMENTAL IMPACT",tagline:"Reducing the University's carbon footprint and recurring administrative costs by over 90% per annum.",image:"https://images.unsplash.com/photo-1473341304170-971dccb5ac1e?auto=format&fit=crop&q=80&w=1600",points:["90% Paper Reduction","Zero Toner Waste","Digital Archiving"]},{type:"CREDITS",title:"Statutory Leadership",subtitle:"VISION & EXECUTION",tagline:"NotePro is the result of visionary governance meeting high-end technical engineering.",image:"https://images.unsplash.com/photo-1521737604893-d14cc237f11d?auto=format&fit=crop&q=80&w=1600",leaders:[{role:"Digital Architect",name:"Dr. Krishna Karoo",title:"Assistant Professor, PG Dept. of CS",desc:"Lead Engineer and Architect of the NotePro Digital Governance Core."}]}],o=()=>{e<r.length-1?i(b=>b+1):t()},l=()=>{e>0&&i(b=>b-1)},c=r[e];return g.jsxs("div",{className:"fixed inset-0 bg-slate-950 text-white flex flex-col font-sans overflow-hidden z-[1000] selection:bg-blue-500 selection:text-white",children:[g.jsxs("div",{className:"absolute inset-0 pointer-events-none z-0",children:[g.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_50%_50%,rgba(37,99,235,0.05)_0%,transparent_100%)]"}),g.jsx("div",{className:"absolute inset-0 opacity-10 bg-[url('https://www.transparenttextures.com/patterns/carbon-fibre.png')]"})]}),g.jsx("div",{className:"fixed top-0 left-0 w-full h-1.5 bg-white/5 z-[200]",children:g.jsx("div",{className:"h-full bg-blue-500 transition-all duration-1000 ease-out shadow-[0_0_20px_rgba(59,130,246,0.5)]",style:{width:`${(e+1)/r.length*100}%`}})}),g.jsx("button",{onClick:t,className:"fixed top-6 right-6 z-[200] w-10 h-10 bg-white/5 border border-white/10 rounded-full flex items-center justify-center hover:bg-rose-600 hover:border-rose-500 transition-all active:scale-90 group shadow-2xl",title:"Exit Presentation",children:g.jsx("svg",{className:"w-5 h-5 text-white/40 group-hover:text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M6 18L18 6M6 6l12 12"})})}),g.jsx("main",{className:"flex-1 relative z-10 w-full h-full",children:g.jsxs("div",{className:"w-full h-full animate-in fade-in zoom-in-95 duration-700 flex items-center justify-center",children:[c.type==="HERO"&&g.jsxs("div",{className:"w-full h-full relative flex items-center justify-center text-center px-12",children:[g.jsxs("div",{className:"absolute inset-0",children:[g.jsx("img",{src:c.image,className:"w-full h-full object-cover opacity-40 grayscale",alt:"Visual"}),g.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-slate-950 via-slate-950/60 to-slate-950"})]}),g.jsxs("div",{className:"relative z-10 max-w-6xl space-y-12",children:[g.jsx("div",{className:"inline-flex items-center gap-4 px-6 py-2 bg-blue-500/10 border border-blue-500/20 rounded-full w-fit mx-auto backdrop-blur-md",children:g.jsx("span",{className:"text-[10px] font-black text-blue-400 uppercase tracking-[0.5em]",children:c.subtitle})}),g.jsx("h2",{className:"text-6xl lg:text-9xl font-black uppercase tracking-tighter leading-none text-white drop-shadow-2xl",children:c.title}),g.jsx("p",{className:"text-xl lg:text-3xl text-slate-400 font-medium italic max-w-4xl mx-auto leading-relaxed",children:c.tagline}),g.jsx("div",{className:"flex justify-center gap-10 pt-10",children:(h=c.points)==null?void 0:h.map((b,_)=>g.jsxs("div",{className:"flex flex-col items-center gap-4",children:[g.jsx("div",{className:"h-0.5 w-12 bg-blue-500 rounded-full"}),g.jsx("span",{className:"text-[9px] font-black uppercase tracking-[0.2em] text-white/50",children:b})]},_))})]})]}),c.type==="EXPLAINER"&&g.jsxs("div",{className:"w-full h-full grid grid-cols-1 lg:grid-cols-2",children:[g.jsxs("div",{className:"flex flex-col justify-center px-12 lg:px-24 xl:px-40 space-y-12 z-10 bg-slate-950/40 backdrop-blur-sm",children:[g.jsxs("div",{className:"space-y-6",children:[g.jsx("span",{className:"text-[10px] font-black text-blue-400 uppercase tracking-[0.5em]",children:c.subtitle}),g.jsx("h2",{className:"text-5xl lg:text-7xl font-black uppercase tracking-tighter leading-none text-white",children:c.title})]}),g.jsx("p",{className:"text-lg lg:text-2xl text-slate-300 leading-relaxed font-medium italic border-l-4 border-blue-500/30 pl-10 py-2",children:c.content}),g.jsx("div",{className:"grid grid-cols-3 gap-6",children:(v=c.stats)==null?void 0:v.map((b,_)=>g.jsxs("div",{className:"p-6 bg-white/5 border border-white/10 rounded-2xl text-center space-y-3",children:[g.jsx("div",{className:"text-3xl",children:b.icon}),g.jsx("h4",{className:"text-xl font-black text-white leading-none",children:b.val}),g.jsx("p",{className:"text-[8px] font-black text-slate-500 uppercase tracking-widest",children:b.label})]},_))})]}),g.jsxs("div",{className:"relative h-full overflow-hidden bg-slate-900 hidden lg:block",children:[g.jsx("img",{src:c.image,className:"w-full h-full object-cover opacity-60",alt:"Visual"}),g.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-slate-950 via-transparent to-transparent"})]})]}),c.type==="SPLIT"&&g.jsxs("div",{className:"w-full h-full grid grid-cols-1 lg:grid-cols-2",children:[g.jsxs("div",{className:"relative h-full overflow-hidden bg-slate-900 hidden lg:block",children:[g.jsx("img",{src:c.image,className:"w-full h-full object-cover opacity-60",alt:"Visual"}),g.jsx("div",{className:"absolute inset-0 bg-gradient-to-l from-slate-950 via-transparent to-transparent"})]}),g.jsxs("div",{className:"flex flex-col justify-center px-12 lg:px-24 xl:px-40 space-y-12 z-10 bg-slate-950/40 backdrop-blur-sm",children:[g.jsxs("div",{className:"space-y-6",children:[g.jsx("span",{className:"text-[10px] font-black text-emerald-400 uppercase tracking-[0.5em]",children:c.subtitle}),g.jsx("h2",{className:"text-5xl lg:text-7xl font-black uppercase tracking-tighter leading-none text-white",children:c.title})]}),g.jsx("p",{className:"text-lg lg:text-2xl text-slate-300 leading-relaxed font-medium italic border-l-4 border-emerald-500/30 pl-10 py-2",children:c.content}),g.jsx("div",{className:"space-y-4",children:(m=c.points)==null?void 0:m.map((b,_)=>g.jsxs("div",{className:"flex items-center gap-5",children:[g.jsx("div",{className:"w-8 h-8 rounded-lg bg-emerald-500/20 text-emerald-400 flex items-center justify-center shrink-0",children:g.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M5 13l4 4L19 7"})})}),g.jsx("span",{className:"text-sm lg:text-lg font-bold text-slate-400 uppercase tracking-widest",children:b})]},_))})]})]}),c.type==="CREDITS"&&g.jsxs("div",{className:"w-full h-full relative flex items-center justify-center text-center px-12",children:[g.jsxs("div",{className:"absolute inset-0",children:[g.jsx("img",{src:c.image,className:"w-full h-full object-cover opacity-30 grayscale",alt:"Conclusion"}),g.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-slate-950 via-slate-950/40 to-slate-950"})]}),g.jsxs("div",{className:"relative z-10 space-y-16 max-w-6xl",children:[g.jsxs("div",{className:"space-y-4",children:[g.jsx("h2",{className:"text-4xl lg:text-7xl font-black uppercase tracking-tighter leading-none text-white",children:c.title}),g.jsx("p",{className:"text-[10px] lg:text-xs font-black text-blue-500 uppercase tracking-[0.5em]",children:c.subtitle}),g.jsx("p",{className:"text-lg lg:text-2xl text-slate-400 font-medium italic leading-relaxed max-w-2xl mx-auto",children:c.tagline})]}),g.jsx("div",{className:"flex flex-col lg:flex-row gap-8 items-stretch justify-center pt-8",children:(x=c.leaders)==null?void 0:x.map((b,_)=>g.jsxs("div",{className:"flex-1 p-10 bg-white/5 border border-white/10 rounded-[2.5rem] backdrop-blur-xl text-left space-y-4 hover:border-blue-500/40 hover:bg-white/10 transition-all duration-500 group",children:[g.jsx("p",{className:"text-[8px] font-black text-blue-500 uppercase tracking-[0.4em] mb-4",children:b.role}),g.jsx("h4",{className:"text-2xl lg:text-4xl font-black text-white uppercase tracking-tight group-hover:text-blue-400 transition-colors",children:b.name}),g.jsx("p",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-[0.1em]",children:b.title}),g.jsx("div",{className:"h-[1px] w-12 bg-white/10 group-hover:w-full transition-all duration-700"}),g.jsx("p",{className:"text-xs font-medium text-slate-500 leading-relaxed italic",children:b.desc})]},_))}),g.jsxs("div",{className:"pt-10 flex flex-col items-center gap-4",children:[g.jsx("div",{className:"w-12 h-12 bg-blue-600 rounded-2xl flex items-center justify-center text-slate-950 font-black text-2xl shadow-2xl",children:"G"}),g.jsx("p",{className:"text-[8px] font-black text-white/30 uppercase tracking-[0.8em]",children:"Gondwana University  Digital Governance Initiative"})]})]})]})]},e)}),g.jsxs("div",{className:"fixed bottom-8 right-8 z-[150] flex items-center gap-4 bg-slate-950/80 backdrop-blur-3xl border border-white/10 p-2 rounded-2xl shadow-2xl",children:[g.jsx("button",{onClick:l,disabled:e===0,className:`w-10 h-10 rounded-xl bg-white/5 border border-white/10 flex items-center justify-center hover:bg-white hover:text-slate-950 transition-all active:scale-90 ${e===0?"opacity-10 cursor-not-allowed":"opacity-100"}`,title:"Previous",children:g.jsx("svg",{className:"w-5 h-5 -rotate-180",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M9 5l7 7-7 7"})})}),g.jsx("div",{className:"px-1 text-center select-none",children:g.jsxs("span",{className:"text-[9px] font-black tabular-nums tracking-widest text-slate-500",children:[e+1," / ",r.length]})}),g.jsx("button",{onClick:o,className:"w-12 h-12 rounded-xl bg-blue-600 text-white flex items-center justify-center hover:bg-white hover:text-slate-950 transition-all active:scale-90 shadow-xl group",title:e>=r.length-1?"Finish":"Next",children:g.jsx("svg",{className:`w-6 h-6 group-hover:translate-x-0.5 transition-transform ${e>=r.length-1?"-rotate-45":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:4,d:"M9 5l7 7-7 7"})})})]})]})};var mS={};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let gS,vS;function yS(){return{geminiUrl:gS,vertexUrl:vS}}function xS(t,e,i,r){var o,l;if(!(t!=null&&t.baseUrl)){const c=yS();return e?(o=c.vertexUrl)!==null&&o!==void 0?o:i:(l=c.geminiUrl)!==null&&l!==void 0?l:r}return t.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ni{}function ee(t,e){const i=/\{([^}]+)\}/g;return t.replace(i,(r,o)=>{if(Object.prototype.hasOwnProperty.call(e,o)){const l=e[o];return l!=null?String(l):""}else throw new Error(`Key '${o}' not found in valueMap.`)})}function f(t,e,i){for(let l=0;l<e.length-1;l++){const c=e[l];if(c.endsWith("[]")){const h=c.slice(0,-2);if(!(h in t))if(Array.isArray(i))t[h]=Array.from({length:i.length},()=>({}));else throw new Error(`Value must be a list given an array path ${c}`);if(Array.isArray(t[h])){const v=t[h];if(Array.isArray(i))for(let m=0;m<v.length;m++){const x=v[m];f(x,e.slice(l+1),i[m])}else for(const m of v)f(m,e.slice(l+1),i)}return}else if(c.endsWith("[0]")){const h=c.slice(0,-3);h in t||(t[h]=[{}]);const v=t[h];f(v[0],e.slice(l+1),i);return}(!t[c]||typeof t[c]!="object")&&(t[c]={}),t=t[c]}const r=e[e.length-1],o=t[r];if(o!==void 0){if(!i||typeof i=="object"&&Object.keys(i).length===0||i===o)return;if(typeof o=="object"&&typeof i=="object"&&o!==null&&i!==null)Object.assign(o,i);else throw new Error(`Cannot set value for an existing key. Key: ${r}`)}else r==="_self"&&typeof i=="object"&&i!==null&&!Array.isArray(i)?Object.assign(t,i):t[r]=i}function d(t,e,i=void 0){try{if(e.length===1&&e[0]==="_self")return t;for(let r=0;r<e.length;r++){if(typeof t!="object"||t===null)return i;const o=e[r];if(o.endsWith("[]")){const l=o.slice(0,-2);if(l in t){const c=t[l];return Array.isArray(c)?c.map(h=>d(h,e.slice(r+1),i)):i}else return i}else t=t[o]}return t}catch(r){if(r instanceof TypeError)return i;throw r}}function bS(t,e){for(const[i,r]of Object.entries(e)){const o=i.split("."),l=r.split("."),c=new Set;let h=-1;for(let v=0;v<o.length;v++)if(o[v]==="*"){h=v;break}if(h!==-1&&l.length>h)for(let v=h;v<l.length;v++){const m=l[v];m!=="*"&&!m.endsWith("[]")&&!m.endsWith("[0]")&&c.add(m)}ed(t,o,l,0,c)}}function ed(t,e,i,r,o){if(r>=e.length||typeof t!="object"||t===null)return;const l=e[r];if(l.endsWith("[]")){const c=l.slice(0,-2),h=t;if(c in h&&Array.isArray(h[c]))for(const v of h[c])ed(v,e,i,r+1,o)}else if(l==="*"){if(typeof t=="object"&&t!==null&&!Array.isArray(t)){const c=t,h=Object.keys(c).filter(m=>!m.startsWith("_")&&!o.has(m)),v={};for(const m of h)v[m]=c[m];for(const[m,x]of Object.entries(v)){const b=[];for(const _ of i.slice(r))_==="*"?b.push(m):b.push(_);f(c,b,x)}for(const m of h)delete c[m]}}else{const c=t;l in c&&ed(c[l],e,i,r+1,o)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function bd(t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function _S(t){const e={},i=d(t,["operationName"]);i!=null&&f(e,["operationName"],i);const r=d(t,["resourceName"]);return r!=null&&f(e,["_url","resourceName"],r),e}function wS(t){const e={},i=d(t,["name"]);i!=null&&f(e,["name"],i);const r=d(t,["metadata"]);r!=null&&f(e,["metadata"],r);const o=d(t,["done"]);o!=null&&f(e,["done"],o);const l=d(t,["error"]);l!=null&&f(e,["error"],l);const c=d(t,["response","generateVideoResponse"]);return c!=null&&f(e,["response"],ES(c)),e}function SS(t){const e={},i=d(t,["name"]);i!=null&&f(e,["name"],i);const r=d(t,["metadata"]);r!=null&&f(e,["metadata"],r);const o=d(t,["done"]);o!=null&&f(e,["done"],o);const l=d(t,["error"]);l!=null&&f(e,["error"],l);const c=d(t,["response"]);return c!=null&&f(e,["response"],TS(c)),e}function ES(t){const e={},i=d(t,["generatedSamples"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(c=>AS(c))),f(e,["generatedVideos"],l)}const r=d(t,["raiMediaFilteredCount"]);r!=null&&f(e,["raiMediaFilteredCount"],r);const o=d(t,["raiMediaFilteredReasons"]);return o!=null&&f(e,["raiMediaFilteredReasons"],o),e}function TS(t){const e={},i=d(t,["videos"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(c=>CS(c))),f(e,["generatedVideos"],l)}const r=d(t,["raiMediaFilteredCount"]);r!=null&&f(e,["raiMediaFilteredCount"],r);const o=d(t,["raiMediaFilteredReasons"]);return o!=null&&f(e,["raiMediaFilteredReasons"],o),e}function AS(t){const e={},i=d(t,["video"]);return i!=null&&f(e,["video"],MS(i)),e}function CS(t){const e={},i=d(t,["_self"]);return i!=null&&f(e,["video"],US(i)),e}function NS(t){const e={},i=d(t,["operationName"]);return i!=null&&f(e,["_url","operationName"],i),e}function RS(t){const e={},i=d(t,["operationName"]);return i!=null&&f(e,["_url","operationName"],i),e}function kS(t){const e={},i=d(t,["name"]);i!=null&&f(e,["name"],i);const r=d(t,["metadata"]);r!=null&&f(e,["metadata"],r);const o=d(t,["done"]);o!=null&&f(e,["done"],o);const l=d(t,["error"]);l!=null&&f(e,["error"],l);const c=d(t,["response"]);return c!=null&&f(e,["response"],IS(c)),e}function IS(t){const e={},i=d(t,["sdkHttpResponse"]);i!=null&&f(e,["sdkHttpResponse"],i);const r=d(t,["parent"]);r!=null&&f(e,["parent"],r);const o=d(t,["documentName"]);return o!=null&&f(e,["documentName"],o),e}function av(t){const e={},i=d(t,["name"]);i!=null&&f(e,["name"],i);const r=d(t,["metadata"]);r!=null&&f(e,["metadata"],r);const o=d(t,["done"]);o!=null&&f(e,["done"],o);const l=d(t,["error"]);l!=null&&f(e,["error"],l);const c=d(t,["response"]);return c!=null&&f(e,["response"],DS(c)),e}function DS(t){const e={},i=d(t,["sdkHttpResponse"]);i!=null&&f(e,["sdkHttpResponse"],i);const r=d(t,["parent"]);r!=null&&f(e,["parent"],r);const o=d(t,["documentName"]);return o!=null&&f(e,["documentName"],o),e}function MS(t){const e={},i=d(t,["uri"]);i!=null&&f(e,["uri"],i);const r=d(t,["encodedVideo"]);r!=null&&f(e,["videoBytes"],bd(r));const o=d(t,["encoding"]);return o!=null&&f(e,["mimeType"],o),e}function US(t){const e={},i=d(t,["gcsUri"]);i!=null&&f(e,["uri"],i);const r=d(t,["bytesBase64Encoded"]);r!=null&&f(e,["videoBytes"],bd(r));const o=d(t,["mimeType"]);return o!=null&&f(e,["mimeType"],o),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var ag;(function(t){t.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",t.OUTCOME_OK="OUTCOME_OK",t.OUTCOME_FAILED="OUTCOME_FAILED",t.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(ag||(ag={}));var og;(function(t){t.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",t.PYTHON="PYTHON"})(og||(og={}));var lg;(function(t){t.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",t.SILENT="SILENT",t.WHEN_IDLE="WHEN_IDLE",t.INTERRUPT="INTERRUPT"})(lg||(lg={}));var Mi;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT",t.NULL="NULL"})(Mi||(Mi={}));var ug;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(ug||(ug={}));var cg;(function(t){t.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",t.SIMPLE_SEARCH="SIMPLE_SEARCH",t.ELASTIC_SEARCH="ELASTIC_SEARCH"})(cg||(cg={}));var dg;(function(t){t.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",t.NO_AUTH="NO_AUTH",t.API_KEY_AUTH="API_KEY_AUTH",t.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",t.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",t.OAUTH="OAUTH",t.OIDC_AUTH="OIDC_AUTH"})(dg||(dg={}));var fg;(function(t){t.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",t.HTTP_IN_QUERY="HTTP_IN_QUERY",t.HTTP_IN_HEADER="HTTP_IN_HEADER",t.HTTP_IN_PATH="HTTP_IN_PATH",t.HTTP_IN_BODY="HTTP_IN_BODY",t.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(fg||(fg={}));var hg;(function(t){t.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",t.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",t.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",t.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(hg||(hg={}));var pg;(function(t){t.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH",t.MINIMAL="MINIMAL"})(pg||(pg={}));var mg;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",t.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",t.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",t.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",t.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(mg||(mg={}));var gg;(function(t){t.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",t.SEVERITY="SEVERITY",t.PROBABILITY="PROBABILITY"})(gg||(gg={}));var vg;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE",t.OFF="OFF"})(vg||(vg={}));var yg;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.IMAGE_SAFETY="IMAGE_SAFETY",t.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",t.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",t.NO_IMAGE="NO_IMAGE",t.IMAGE_RECITATION="IMAGE_RECITATION",t.IMAGE_OTHER="IMAGE_OTHER"})(yg||(yg={}));var xg;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(xg||(xg={}));var bg;(function(t){t.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",t.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",t.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",t.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",t.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(bg||(bg={}));var _g;(function(t){t.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",t.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",t.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",t.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",t.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(_g||(_g={}));var wg;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.IMAGE_SAFETY="IMAGE_SAFETY",t.MODEL_ARMOR="MODEL_ARMOR",t.JAILBREAK="JAILBREAK"})(wg||(wg={}));var Sg;(function(t){t.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",t.ON_DEMAND="ON_DEMAND",t.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(Sg||(Sg={}));var Wo;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO"})(Wo||(Wo={}));var Eg;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(Eg||(Eg={}));var Tg;(function(t){t.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",t.TUNING_MODE_FULL="TUNING_MODE_FULL",t.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(Tg||(Tg={}));var Ag;(function(t){t.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",t.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",t.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",t.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",t.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",t.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",t.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(Ag||(Ag={}));var td;(function(t){t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(td||(td={}));var Cg;(function(t){t.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",t.TUNING_TASK_I2V="TUNING_TASK_I2V",t.TUNING_TASK_T2V="TUNING_TASK_T2V",t.TUNING_TASK_R2V="TUNING_TASK_R2V"})(Cg||(Cg={}));var Ng;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH",t.MEDIA_RESOLUTION_ULTRA_HIGH="MEDIA_RESOLUTION_ULTRA_HIGH"})(Ng||(Ng={}));var Rg;(function(t){t.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",t.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",t.BALANCED="BALANCED",t.PRIORITIZE_COST="PRIORITIZE_COST"})(Rg||(Rg={}));var kg;(function(t){t.UNSPECIFIED="UNSPECIFIED",t.BLOCKING="BLOCKING",t.NON_BLOCKING="NON_BLOCKING"})(kg||(kg={}));var Ig;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(Ig||(Ig={}));var Dg;(function(t){t.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",t.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(Dg||(Dg={}));var Mg;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE",t.VALIDATED="VALIDATED"})(Mg||(Mg={}));var Ug;(function(t){t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(Ug||(Ug={}));var Pg;(function(t){t.DONT_ALLOW="DONT_ALLOW",t.ALLOW_ADULT="ALLOW_ADULT",t.ALLOW_ALL="ALLOW_ALL"})(Pg||(Pg={}));var Lg;(function(t){t.auto="auto",t.en="en",t.ja="ja",t.ko="ko",t.hi="hi",t.zh="zh",t.pt="pt",t.es="es"})(Lg||(Lg={}));var Og;(function(t){t.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",t.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",t.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",t.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",t.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(Og||(Og={}));var Gg;(function(t){t.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",t.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",t.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",t.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(Gg||(Gg={}));var jg;(function(t){t.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",t.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",t.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",t.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(jg||(jg={}));var Bg;(function(t){t.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",t.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",t.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",t.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",t.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",t.EDIT_MODE_STYLE="EDIT_MODE_STYLE",t.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",t.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(Bg||(Bg={}));var Hg;(function(t){t.FOREGROUND="FOREGROUND",t.BACKGROUND="BACKGROUND",t.PROMPT="PROMPT",t.SEMANTIC="SEMANTIC",t.INTERACTIVE="INTERACTIVE"})(Hg||(Hg={}));var qg;(function(t){t.ASSET="ASSET",t.STYLE="STYLE"})(qg||(qg={}));var Vg;(function(t){t.INSERT="INSERT",t.REMOVE="REMOVE",t.REMOVE_STATIC="REMOVE_STATIC",t.OUTPAINT="OUTPAINT"})(Vg||(Vg={}));var zg;(function(t){t.OPTIMIZED="OPTIMIZED",t.LOSSLESS="LOSSLESS"})(zg||(zg={}));var Fg;(function(t){t.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",t.PREFERENCE_TUNING="PREFERENCE_TUNING"})(Fg||(Fg={}));var $g;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.STATE_PENDING="STATE_PENDING",t.STATE_ACTIVE="STATE_ACTIVE",t.STATE_FAILED="STATE_FAILED"})($g||($g={}));var Jg;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.PROCESSING="PROCESSING",t.ACTIVE="ACTIVE",t.FAILED="FAILED"})(Jg||(Jg={}));var Kg;(function(t){t.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",t.UPLOADED="UPLOADED",t.GENERATED="GENERATED"})(Kg||(Kg={}));var Yg;(function(t){t.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.RESPONSE_REJECTED="RESPONSE_REJECTED",t.NEED_MORE_INPUT="NEED_MORE_INPUT"})(Yg||(Yg={}));var Xg;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.VIDEO="VIDEO",t.AUDIO="AUDIO",t.DOCUMENT="DOCUMENT"})(Xg||(Xg={}));var Wg;(function(t){t.VAD_SIGNAL_TYPE_UNSPECIFIED="VAD_SIGNAL_TYPE_UNSPECIFIED",t.VAD_SIGNAL_TYPE_SOS="VAD_SIGNAL_TYPE_SOS",t.VAD_SIGNAL_TYPE_EOS="VAD_SIGNAL_TYPE_EOS"})(Wg||(Wg={}));var Qg;(function(t){t.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",t.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",t.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(Qg||(Qg={}));var Zg;(function(t){t.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",t.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",t.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(Zg||(Zg={}));var e0;(function(t){t.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",t.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",t.NO_INTERRUPTION="NO_INTERRUPTION"})(e0||(e0={}));var t0;(function(t){t.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",t.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",t.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(t0||(t0={}));var n0;(function(t){t.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",t.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",t.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",t.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",t.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",t.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",t.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",t.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",t.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",t.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",t.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",t.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",t.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(n0||(n0={}));var i0;(function(t){t.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",t.QUALITY="QUALITY",t.DIVERSITY="DIVERSITY",t.VOCALIZATION="VOCALIZATION"})(i0||(i0={}));var lr;(function(t){t.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",t.PLAY="PLAY",t.PAUSE="PAUSE",t.STOP="STOP",t.RESET_CONTEXT="RESET_CONTEXT"})(lr||(lr={}));class nd{constructor(e){const i={};for(const r of e.headers.entries())i[r[0]]=r[1];this.headers=i,this.responseInternal=e}json(){return this.responseInternal.json()}}class ca{get text(){var e,i,r,o,l,c,h,v;if(((o=(r=(i=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||i===void 0?void 0:i.content)===null||r===void 0?void 0:r.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let m="",x=!1;const b=[];for(const _ of(v=(h=(c=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||c===void 0?void 0:c.content)===null||h===void 0?void 0:h.parts)!==null&&v!==void 0?v:[]){for(const[S,T]of Object.entries(_))S!=="text"&&S!=="thought"&&S!=="thoughtSignature"&&(T!==null||T!==void 0)&&b.push(S);if(typeof _.text=="string"){if(typeof _.thought=="boolean"&&_.thought)continue;x=!0,m+=_.text}}return b.length>0&&console.warn(`there are non-text parts ${b} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),x?m:void 0}get data(){var e,i,r,o,l,c,h,v;if(((o=(r=(i=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||i===void 0?void 0:i.content)===null||r===void 0?void 0:r.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let m="";const x=[];for(const b of(v=(h=(c=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||c===void 0?void 0:c.content)===null||h===void 0?void 0:h.parts)!==null&&v!==void 0?v:[]){for(const[_,S]of Object.entries(b))_!=="inlineData"&&(S!==null||S!==void 0)&&x.push(_);b.inlineData&&typeof b.inlineData.data=="string"&&(m+=atob(b.inlineData.data))}return x.length>0&&console.warn(`there are non-data parts ${x} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),m.length>0?btoa(m):void 0}get functionCalls(){var e,i,r,o,l,c,h,v;if(((o=(r=(i=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||i===void 0?void 0:i.content)===null||r===void 0?void 0:r.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const m=(v=(h=(c=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||c===void 0?void 0:c.content)===null||h===void 0?void 0:h.parts)===null||v===void 0?void 0:v.filter(x=>x.functionCall).map(x=>x.functionCall).filter(x=>x!==void 0);if((m==null?void 0:m.length)!==0)return m}get executableCode(){var e,i,r,o,l,c,h,v,m;if(((o=(r=(i=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||i===void 0?void 0:i.content)===null||r===void 0?void 0:r.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const x=(v=(h=(c=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||c===void 0?void 0:c.content)===null||h===void 0?void 0:h.parts)===null||v===void 0?void 0:v.filter(b=>b.executableCode).map(b=>b.executableCode).filter(b=>b!==void 0);if((x==null?void 0:x.length)!==0)return(m=x==null?void 0:x[0])===null||m===void 0?void 0:m.code}get codeExecutionResult(){var e,i,r,o,l,c,h,v,m;if(((o=(r=(i=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||i===void 0?void 0:i.content)===null||r===void 0?void 0:r.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const x=(v=(h=(c=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||c===void 0?void 0:c.content)===null||h===void 0?void 0:h.parts)===null||v===void 0?void 0:v.filter(b=>b.codeExecutionResult).map(b=>b.codeExecutionResult).filter(b=>b!==void 0);if((x==null?void 0:x.length)!==0)return(m=x==null?void 0:x[0])===null||m===void 0?void 0:m.output}}class s0{}class r0{}class PS{}class LS{}class OS{}class GS{}class a0{}class o0{}class l0{}class jS{}class Qo{_fromAPIResponse({apiResponse:e,_isVertexAI:i}){const r=new Qo;let o;const l=e;return i?o=SS(l):o=wS(l),Object.assign(r,o),r}}class u0{}class c0{}class d0{}class f0{}class BS{}class HS{}class qS{}class _d{_fromAPIResponse({apiResponse:e,_isVertexAI:i}){const r=new _d,l=kS(e);return Object.assign(r,l),r}}class VS{}class zS{}class FS{}class h0{}class $S{get text(){var e,i,r;let o="",l=!1;const c=[];for(const h of(r=(i=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||i===void 0?void 0:i.parts)!==null&&r!==void 0?r:[]){for(const[v,m]of Object.entries(h))v!=="text"&&v!=="thought"&&m!==null&&c.push(v);if(typeof h.text=="string"){if(typeof h.thought=="boolean"&&h.thought)continue;l=!0,o+=h.text}}return c.length>0&&console.warn(`there are non-text parts ${c} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),l?o:void 0}get data(){var e,i,r;let o="";const l=[];for(const c of(r=(i=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||i===void 0?void 0:i.parts)!==null&&r!==void 0?r:[]){for(const[h,v]of Object.entries(c))h!=="inlineData"&&v!==null&&l.push(h);c.inlineData&&typeof c.inlineData.data=="string"&&(o+=atob(c.inlineData.data))}return l.length>0&&console.warn(`there are non-data parts ${l} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),o.length>0?btoa(o):void 0}}class JS{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class wd{_fromAPIResponse({apiResponse:e,_isVertexAI:i}){const r=new wd,l=av(e);return Object.assign(r,l),r}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Pe(t,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(e.includes("..")||e.includes("?")||e.includes("&"))throw new Error("invalid model parameter");if(t.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const i=e.split("/",2);return`publishers/${i[0]}/models/${i[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function ov(t,e){const i=Pe(t,e);return i?i.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${i}`:i.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${i}`:i:""}function lv(t){return Array.isArray(t)?t.map(e=>Zo(e)):[Zo(t)]}function Zo(t){if(typeof t=="object"&&t!==null)return t;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof t}`)}function uv(t){const e=Zo(t);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function cv(t){const e=Zo(t);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function p0(t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function dv(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(e=>p0(e)):[p0(t)]}function id(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function m0(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function g0(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function Dt(t){if(t==null)throw new Error("ContentUnion is required");return id(t)?t:{role:"user",parts:dv(t)}}function Sd(t,e){if(!e)return[];if(t.isVertexAI()&&Array.isArray(e))return e.flatMap(i=>{const r=Dt(i);return r.parts&&r.parts.length>0&&r.parts[0].text!==void 0?[r.parts[0].text]:[]});if(t.isVertexAI()){const i=Dt(e);return i.parts&&i.parts.length>0&&i.parts[0].text!==void 0?[i.parts[0].text]:[]}return Array.isArray(e)?e.map(i=>Dt(i)):[Dt(e)]}function gn(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t)){if(m0(t)||g0(t))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[Dt(t)]}const e=[],i=[],r=id(t[0]);for(const o of t){const l=id(o);if(l!=r)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(l)e.push(o);else{if(m0(o)||g0(o))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");i.push(o)}}return r||e.push({role:"user",parts:dv(i)}),e}function KS(t,e){t.includes("null")&&(e.nullable=!0);const i=t.filter(r=>r!=="null");if(i.length===1)e.type=Object.values(Mi).includes(i[0].toUpperCase())?i[0].toUpperCase():Mi.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const r of i)e.anyOf.push({type:Object.values(Mi).includes(r.toUpperCase())?r.toUpperCase():Mi.TYPE_UNSPECIFIED})}}function dr(t){const e={},i=["items"],r=["anyOf"],o=["properties"];if(t.type&&t.anyOf)throw new Error("type and anyOf cannot be both populated.");const l=t.anyOf;l!=null&&l.length==2&&(l[0].type==="null"?(e.nullable=!0,t=l[1]):l[1].type==="null"&&(e.nullable=!0,t=l[0])),t.type instanceof Array&&KS(t.type,e);for(const[c,h]of Object.entries(t))if(h!=null)if(c=="type"){if(h==="null")throw new Error("type: null can not be the only possible type for the field.");if(h instanceof Array)continue;e.type=Object.values(Mi).includes(h.toUpperCase())?h.toUpperCase():Mi.TYPE_UNSPECIFIED}else if(i.includes(c))e[c]=dr(h);else if(r.includes(c)){const v=[];for(const m of h){if(m.type=="null"){e.nullable=!0;continue}v.push(dr(m))}e[c]=v}else if(o.includes(c)){const v={};for(const[m,x]of Object.entries(h))v[m]=dr(x);e[c]=v}else{if(c==="additionalProperties")continue;e[c]=h}return e}function Ed(t){return dr(t)}function Td(t){if(typeof t=="object")return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function Ad(t){if("multiSpeakerVoiceConfig"in t)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return t}function hr(t){if(t.functionDeclarations)for(const e of t.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=dr(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=dr(e.response));return t}function pr(t){if(t==null)throw new Error("tools is required");if(!Array.isArray(t))throw new Error("tools is required and must be an array of Tools");const e=[];for(const i of t)e.push(i);return e}function YS(t,e,i,r=1){const o=!e.startsWith(`${i}/`)&&e.split("/").length===r;return t.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${t.getProject()}/${e}`:e.startsWith(`${i}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}`:o?`projects/${t.getProject()}/locations/${t.getLocation()}/${i}/${e}`:e:o?`${i}/${e}`:e}function ii(t,e){if(typeof e!="string")throw new Error("name must be a string");return YS(t,e,"cachedContents")}function fv(t){switch(t){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return t}}function Ui(t){return bd(t)}function XS(t){return t!=null&&typeof t=="object"&&"name"in t}function WS(t){return t!=null&&typeof t=="object"&&"video"in t}function QS(t){return t!=null&&typeof t=="object"&&"uri"in t}function hv(t){var e;let i;if(XS(t)&&(i=t.name),!(QS(t)&&(i=t.uri,i===void 0))&&!(WS(t)&&(i=(e=t.video)===null||e===void 0?void 0:e.uri,i===void 0))){if(typeof t=="string"&&(i=t),i===void 0)throw new Error("Could not extract file name from the provided input.");if(i.startsWith("https://")){const o=i.split("files/")[1].match(/[a-z0-9]+/);if(o===null)throw new Error(`Could not extract file name from URI ${i}`);i=o[0]}else i.startsWith("files/")&&(i=i.split("files/")[1]);return i}}function pv(t,e){let i;return t.isVertexAI()?i=e?"publishers/google/models":"models":i=e?"models":"tunedModels",i}function mv(t){for(const e of["models","tunedModels","publisherModels"])if(ZS(t,e))return t[e];return[]}function ZS(t,e){return t!==null&&typeof t=="object"&&e in t}function eE(t,e={}){const i=t,r={name:i.name,description:i.description,parametersJsonSchema:i.inputSchema};return i.outputSchema&&(r.responseJsonSchema=i.outputSchema),e.behavior&&(r.behavior=e.behavior),{functionDeclarations:[r]}}function tE(t,e={}){const i=[],r=new Set;for(const o of t){const l=o.name;if(r.has(l))throw new Error(`Duplicate function name ${l} found in MCP tools. Please ensure function names are unique.`);r.add(l);const c=eE(o,e);c.functionDeclarations&&i.push(...c.functionDeclarations)}return{functionDeclarations:i}}function gv(t,e){let i;if(typeof e=="string")if(t.isVertexAI())if(e.startsWith("gs://"))i={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))i={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))i={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(t.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");i={inlinedRequests:e}}else i=e;const r=[i.gcsUri,i.bigqueryUri].filter(Boolean).length,o=[i.inlinedRequests,i.fileName].filter(Boolean).length;if(t.isVertexAI()){if(o>0||r!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(r>0||o!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return i}function nE(t){if(typeof t!="string")return t;const e=t;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function vv(t){if(typeof t!="object"||t===null)return{};const e=t,i=e.inlinedResponses;if(typeof i!="object"||i===null)return t;const o=i.inlinedResponses;if(!Array.isArray(o)||o.length===0)return t;let l=!1;for(const c of o){if(typeof c!="object"||c===null)continue;const v=c.response;if(typeof v!="object"||v===null)continue;if(v.embedding!==void 0){l=!0;break}}return l&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),t}function mr(t,e){const i=e;if(!t.isVertexAI()){if(/batches\/[^/]+$/.test(i))return i.split("/").pop();throw new Error(`Invalid batch job name: ${i}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(i))return i.split("/").pop();if(/^\d+$/.test(i))return i;throw new Error(`Invalid batch job name: ${i}.`)}function yv(t){const e=t;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function iE(t){const e={},i=d(t,["responsesFile"]);i!=null&&f(e,["fileName"],i);const r=d(t,["inlinedResponses","inlinedResponses"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(c=>OE(c))),f(e,["inlinedResponses"],l)}const o=d(t,["inlinedEmbedContentResponses","inlinedResponses"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(c=>c)),f(e,["inlinedEmbedContentResponses"],l)}return e}function sE(t){const e={},i=d(t,["predictionsFormat"]);i!=null&&f(e,["format"],i);const r=d(t,["gcsDestination","outputUriPrefix"]);r!=null&&f(e,["gcsUri"],r);const o=d(t,["bigqueryDestination","outputUri"]);return o!=null&&f(e,["bigqueryUri"],o),e}function rE(t){const e={},i=d(t,["format"]);i!=null&&f(e,["predictionsFormat"],i);const r=d(t,["gcsUri"]);r!=null&&f(e,["gcsDestination","outputUriPrefix"],r);const o=d(t,["bigqueryUri"]);if(o!=null&&f(e,["bigqueryDestination","outputUri"],o),d(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(d(t,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(d(t,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function $o(t){const e={},i=d(t,["name"]);i!=null&&f(e,["name"],i);const r=d(t,["metadata","displayName"]);r!=null&&f(e,["displayName"],r);const o=d(t,["metadata","state"]);o!=null&&f(e,["state"],yv(o));const l=d(t,["metadata","createTime"]);l!=null&&f(e,["createTime"],l);const c=d(t,["metadata","endTime"]);c!=null&&f(e,["endTime"],c);const h=d(t,["metadata","updateTime"]);h!=null&&f(e,["updateTime"],h);const v=d(t,["metadata","model"]);v!=null&&f(e,["model"],v);const m=d(t,["metadata","output"]);return m!=null&&f(e,["dest"],iE(vv(m))),e}function sd(t){const e={},i=d(t,["name"]);i!=null&&f(e,["name"],i);const r=d(t,["displayName"]);r!=null&&f(e,["displayName"],r);const o=d(t,["state"]);o!=null&&f(e,["state"],yv(o));const l=d(t,["error"]);l!=null&&f(e,["error"],l);const c=d(t,["createTime"]);c!=null&&f(e,["createTime"],c);const h=d(t,["startTime"]);h!=null&&f(e,["startTime"],h);const v=d(t,["endTime"]);v!=null&&f(e,["endTime"],v);const m=d(t,["updateTime"]);m!=null&&f(e,["updateTime"],m);const x=d(t,["model"]);x!=null&&f(e,["model"],x);const b=d(t,["inputConfig"]);b!=null&&f(e,["src"],aE(b));const _=d(t,["outputConfig"]);_!=null&&f(e,["dest"],sE(vv(_)));const S=d(t,["completionStats"]);return S!=null&&f(e,["completionStats"],S),e}function aE(t){const e={},i=d(t,["instancesFormat"]);i!=null&&f(e,["format"],i);const r=d(t,["gcsSource","uris"]);r!=null&&f(e,["gcsUri"],r);const o=d(t,["bigquerySource","inputUri"]);return o!=null&&f(e,["bigqueryUri"],o),e}function oE(t,e){const i={};if(d(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(d(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(d(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const r=d(e,["fileName"]);r!=null&&f(i,["fileName"],r);const o=d(e,["inlinedRequests"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(c=>LE(t,c))),f(i,["requests","requests"],l)}return i}function lE(t){const e={},i=d(t,["format"]);i!=null&&f(e,["instancesFormat"],i);const r=d(t,["gcsUri"]);r!=null&&f(e,["gcsSource","uris"],r);const o=d(t,["bigqueryUri"]);if(o!=null&&f(e,["bigquerySource","inputUri"],o),d(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(d(t,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function uE(t){const e={},i=d(t,["data"]);if(i!=null&&f(e,["data"],i),d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=d(t,["mimeType"]);return r!=null&&f(e,["mimeType"],r),e}function cE(t,e){const i={},r=d(e,["name"]);return r!=null&&f(i,["_url","name"],mr(t,r)),i}function dE(t,e){const i={},r=d(e,["name"]);return r!=null&&f(i,["_url","name"],mr(t,r)),i}function fE(t){const e={},i=d(t,["content"]);i!=null&&f(e,["content"],i);const r=d(t,["citationMetadata"]);r!=null&&f(e,["citationMetadata"],hE(r));const o=d(t,["tokenCount"]);o!=null&&f(e,["tokenCount"],o);const l=d(t,["finishReason"]);l!=null&&f(e,["finishReason"],l);const c=d(t,["avgLogprobs"]);c!=null&&f(e,["avgLogprobs"],c);const h=d(t,["groundingMetadata"]);h!=null&&f(e,["groundingMetadata"],h);const v=d(t,["index"]);v!=null&&f(e,["index"],v);const m=d(t,["logprobsResult"]);m!=null&&f(e,["logprobsResult"],m);const x=d(t,["safetyRatings"]);if(x!=null){let _=x;Array.isArray(_)&&(_=_.map(S=>S)),f(e,["safetyRatings"],_)}const b=d(t,["urlContextMetadata"]);return b!=null&&f(e,["urlContextMetadata"],b),e}function hE(t){const e={},i=d(t,["citationSources"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(o=>o)),f(e,["citations"],r)}return e}function xv(t){const e={},i=d(t,["parts"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>zE(l))),f(e,["parts"],o)}const r=d(t,["role"]);return r!=null&&f(e,["role"],r),e}function pE(t,e){const i={},r=d(t,["displayName"]);if(e!==void 0&&r!=null&&f(e,["batch","displayName"],r),d(t,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return i}function mE(t,e){const i={},r=d(t,["displayName"]);e!==void 0&&r!=null&&f(e,["displayName"],r);const o=d(t,["dest"]);return e!==void 0&&o!=null&&f(e,["outputConfig"],rE(nE(o))),i}function v0(t,e){const i={},r=d(e,["model"]);r!=null&&f(i,["_url","model"],Pe(t,r));const o=d(e,["src"]);o!=null&&f(i,["batch","inputConfig"],oE(t,gv(t,o)));const l=d(e,["config"]);return l!=null&&pE(l,i),i}function gE(t,e){const i={},r=d(e,["model"]);r!=null&&f(i,["model"],Pe(t,r));const o=d(e,["src"]);o!=null&&f(i,["inputConfig"],lE(gv(t,o)));const l=d(e,["config"]);return l!=null&&mE(l,i),i}function vE(t,e){const i={},r=d(t,["displayName"]);return e!==void 0&&r!=null&&f(e,["batch","displayName"],r),i}function yE(t,e){const i={},r=d(e,["model"]);r!=null&&f(i,["_url","model"],Pe(t,r));const o=d(e,["src"]);o!=null&&f(i,["batch","inputConfig"],TE(t,o));const l=d(e,["config"]);return l!=null&&vE(l,i),i}function xE(t,e){const i={},r=d(e,["name"]);return r!=null&&f(i,["_url","name"],mr(t,r)),i}function bE(t,e){const i={},r=d(e,["name"]);return r!=null&&f(i,["_url","name"],mr(t,r)),i}function _E(t){const e={},i=d(t,["sdkHttpResponse"]);i!=null&&f(e,["sdkHttpResponse"],i);const r=d(t,["name"]);r!=null&&f(e,["name"],r);const o=d(t,["done"]);o!=null&&f(e,["done"],o);const l=d(t,["error"]);return l!=null&&f(e,["error"],l),e}function wE(t){const e={},i=d(t,["sdkHttpResponse"]);i!=null&&f(e,["sdkHttpResponse"],i);const r=d(t,["name"]);r!=null&&f(e,["name"],r);const o=d(t,["done"]);o!=null&&f(e,["done"],o);const l=d(t,["error"]);return l!=null&&f(e,["error"],l),e}function SE(t,e){const i={},r=d(e,["contents"]);if(r!=null){let l=Sd(t,r);Array.isArray(l)&&(l=l.map(c=>c)),f(i,["requests[]","request","content"],l)}const o=d(e,["config"]);return o!=null&&(f(i,["_self"],EE(o,i)),bS(i,{"requests[].*":"requests[].request.*"})),i}function EE(t,e){const i={},r=d(t,["taskType"]);e!==void 0&&r!=null&&f(e,["requests[]","taskType"],r);const o=d(t,["title"]);e!==void 0&&o!=null&&f(e,["requests[]","title"],o);const l=d(t,["outputDimensionality"]);if(e!==void 0&&l!=null&&f(e,["requests[]","outputDimensionality"],l),d(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(d(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return i}function TE(t,e){const i={},r=d(e,["fileName"]);r!=null&&f(i,["file_name"],r);const o=d(e,["inlinedRequests"]);return o!=null&&f(i,["requests"],SE(t,o)),i}function AE(t){const e={};if(d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=d(t,["fileUri"]);i!=null&&f(e,["fileUri"],i);const r=d(t,["mimeType"]);return r!=null&&f(e,["mimeType"],r),e}function CE(t){const e={},i=d(t,["id"]);i!=null&&f(e,["id"],i);const r=d(t,["args"]);r!=null&&f(e,["args"],r);const o=d(t,["name"]);if(o!=null&&f(e,["name"],o),d(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(d(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function NE(t){const e={},i=d(t,["mode"]);i!=null&&f(e,["mode"],i);const r=d(t,["allowedFunctionNames"]);if(r!=null&&f(e,["allowedFunctionNames"],r),d(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function RE(t,e,i){const r={},o=d(e,["systemInstruction"]);i!==void 0&&o!=null&&f(i,["systemInstruction"],xv(Dt(o)));const l=d(e,["temperature"]);l!=null&&f(r,["temperature"],l);const c=d(e,["topP"]);c!=null&&f(r,["topP"],c);const h=d(e,["topK"]);h!=null&&f(r,["topK"],h);const v=d(e,["candidateCount"]);v!=null&&f(r,["candidateCount"],v);const m=d(e,["maxOutputTokens"]);m!=null&&f(r,["maxOutputTokens"],m);const x=d(e,["stopSequences"]);x!=null&&f(r,["stopSequences"],x);const b=d(e,["responseLogprobs"]);b!=null&&f(r,["responseLogprobs"],b);const _=d(e,["logprobs"]);_!=null&&f(r,["logprobs"],_);const S=d(e,["presencePenalty"]);S!=null&&f(r,["presencePenalty"],S);const T=d(e,["frequencyPenalty"]);T!=null&&f(r,["frequencyPenalty"],T);const N=d(e,["seed"]);N!=null&&f(r,["seed"],N);const C=d(e,["responseMimeType"]);C!=null&&f(r,["responseMimeType"],C);const D=d(e,["responseSchema"]);D!=null&&f(r,["responseSchema"],Ed(D));const B=d(e,["responseJsonSchema"]);if(B!=null&&f(r,["responseJsonSchema"],B),d(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(d(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const M=d(e,["safetySettings"]);if(i!==void 0&&M!=null){let Ae=M;Array.isArray(Ae)&&(Ae=Ae.map(Le=>FE(Le))),f(i,["safetySettings"],Ae)}const J=d(e,["tools"]);if(i!==void 0&&J!=null){let Ae=pr(J);Array.isArray(Ae)&&(Ae=Ae.map(Le=>JE(hr(Le)))),f(i,["tools"],Ae)}const X=d(e,["toolConfig"]);if(i!==void 0&&X!=null&&f(i,["toolConfig"],$E(X)),d(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const K=d(e,["cachedContent"]);i!==void 0&&K!=null&&f(i,["cachedContent"],ii(t,K));const H=d(e,["responseModalities"]);H!=null&&f(r,["responseModalities"],H);const ae=d(e,["mediaResolution"]);ae!=null&&f(r,["mediaResolution"],ae);const Q=d(e,["speechConfig"]);if(Q!=null&&f(r,["speechConfig"],Td(Q)),d(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const ve=d(e,["thinkingConfig"]);ve!=null&&f(r,["thinkingConfig"],ve);const _e=d(e,["imageConfig"]);_e!=null&&f(r,["imageConfig"],PE(_e));const De=d(e,["enableEnhancedCivicAnswers"]);return De!=null&&f(r,["enableEnhancedCivicAnswers"],De),r}function kE(t){const e={},i=d(t,["sdkHttpResponse"]);i!=null&&f(e,["sdkHttpResponse"],i);const r=d(t,["candidates"]);if(r!=null){let v=r;Array.isArray(v)&&(v=v.map(m=>fE(m))),f(e,["candidates"],v)}const o=d(t,["modelVersion"]);o!=null&&f(e,["modelVersion"],o);const l=d(t,["promptFeedback"]);l!=null&&f(e,["promptFeedback"],l);const c=d(t,["responseId"]);c!=null&&f(e,["responseId"],c);const h=d(t,["usageMetadata"]);return h!=null&&f(e,["usageMetadata"],h),e}function IE(t,e){const i={},r=d(e,["name"]);return r!=null&&f(i,["_url","name"],mr(t,r)),i}function DE(t,e){const i={},r=d(e,["name"]);return r!=null&&f(i,["_url","name"],mr(t,r)),i}function ME(t){const e={};if(d(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const i=d(t,["enableWidget"]);return i!=null&&f(e,["enableWidget"],i),e}function UE(t){const e={};if(d(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(d(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const i=d(t,["timeRangeFilter"]);return i!=null&&f(e,["timeRangeFilter"],i),e}function PE(t){const e={},i=d(t,["aspectRatio"]);i!=null&&f(e,["aspectRatio"],i);const r=d(t,["imageSize"]);if(r!=null&&f(e,["imageSize"],r),d(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(d(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function LE(t,e){const i={},r=d(e,["model"]);r!=null&&f(i,["request","model"],Pe(t,r));const o=d(e,["contents"]);if(o!=null){let h=gn(o);Array.isArray(h)&&(h=h.map(v=>xv(v))),f(i,["request","contents"],h)}const l=d(e,["metadata"]);l!=null&&f(i,["metadata"],l);const c=d(e,["config"]);return c!=null&&f(i,["request","generationConfig"],RE(t,c,d(i,["request"],{}))),i}function OE(t){const e={},i=d(t,["response"]);i!=null&&f(e,["response"],kE(i));const r=d(t,["error"]);return r!=null&&f(e,["error"],r),e}function GE(t,e){const i={},r=d(t,["pageSize"]);e!==void 0&&r!=null&&f(e,["_query","pageSize"],r);const o=d(t,["pageToken"]);if(e!==void 0&&o!=null&&f(e,["_query","pageToken"],o),d(t,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return i}function jE(t,e){const i={},r=d(t,["pageSize"]);e!==void 0&&r!=null&&f(e,["_query","pageSize"],r);const o=d(t,["pageToken"]);e!==void 0&&o!=null&&f(e,["_query","pageToken"],o);const l=d(t,["filter"]);return e!==void 0&&l!=null&&f(e,["_query","filter"],l),i}function BE(t){const e={},i=d(t,["config"]);return i!=null&&GE(i,e),e}function HE(t){const e={},i=d(t,["config"]);return i!=null&&jE(i,e),e}function qE(t){const e={},i=d(t,["sdkHttpResponse"]);i!=null&&f(e,["sdkHttpResponse"],i);const r=d(t,["nextPageToken"]);r!=null&&f(e,["nextPageToken"],r);const o=d(t,["operations"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(c=>$o(c))),f(e,["batchJobs"],l)}return e}function VE(t){const e={},i=d(t,["sdkHttpResponse"]);i!=null&&f(e,["sdkHttpResponse"],i);const r=d(t,["nextPageToken"]);r!=null&&f(e,["nextPageToken"],r);const o=d(t,["batchPredictionJobs"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(c=>sd(c))),f(e,["batchJobs"],l)}return e}function zE(t){const e={},i=d(t,["mediaResolution"]);i!=null&&f(e,["mediaResolution"],i);const r=d(t,["codeExecutionResult"]);r!=null&&f(e,["codeExecutionResult"],r);const o=d(t,["executableCode"]);o!=null&&f(e,["executableCode"],o);const l=d(t,["fileData"]);l!=null&&f(e,["fileData"],AE(l));const c=d(t,["functionCall"]);c!=null&&f(e,["functionCall"],CE(c));const h=d(t,["functionResponse"]);h!=null&&f(e,["functionResponse"],h);const v=d(t,["inlineData"]);v!=null&&f(e,["inlineData"],uE(v));const m=d(t,["text"]);m!=null&&f(e,["text"],m);const x=d(t,["thought"]);x!=null&&f(e,["thought"],x);const b=d(t,["thoughtSignature"]);b!=null&&f(e,["thoughtSignature"],b);const _=d(t,["videoMetadata"]);return _!=null&&f(e,["videoMetadata"],_),e}function FE(t){const e={},i=d(t,["category"]);if(i!=null&&f(e,["category"],i),d(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=d(t,["threshold"]);return r!=null&&f(e,["threshold"],r),e}function $E(t){const e={},i=d(t,["functionCallingConfig"]);i!=null&&f(e,["functionCallingConfig"],NE(i));const r=d(t,["retrievalConfig"]);return r!=null&&f(e,["retrievalConfig"],r),e}function JE(t){const e={},i=d(t,["functionDeclarations"]);if(i!=null){let x=i;Array.isArray(x)&&(x=x.map(b=>b)),f(e,["functionDeclarations"],x)}if(d(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=d(t,["googleSearchRetrieval"]);r!=null&&f(e,["googleSearchRetrieval"],r);const o=d(t,["computerUse"]);o!=null&&f(e,["computerUse"],o);const l=d(t,["fileSearch"]);l!=null&&f(e,["fileSearch"],l);const c=d(t,["codeExecution"]);if(c!=null&&f(e,["codeExecution"],c),d(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const h=d(t,["googleMaps"]);h!=null&&f(e,["googleMaps"],ME(h));const v=d(t,["googleSearch"]);v!=null&&f(e,["googleSearch"],UE(v));const m=d(t,["urlContext"]);return m!=null&&f(e,["urlContext"],m),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var ei;(function(t){t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents",t.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",t.PAGED_ITEM_DOCUMENTS="documents"})(ei||(ei={}));class cs{constructor(e,i,r,o){this.pageInternal=[],this.paramsInternal={},this.requestInternal=i,this.init(e,r,o)}init(e,i,r){var o,l;this.nameInternal=e,this.pageInternal=i[this.nameInternal]||[],this.sdkHttpResponseInternal=i==null?void 0:i.sdkHttpResponse,this.idxInternal=0;let c={config:{}};!r||Object.keys(r).length===0?c={config:{}}:typeof r=="object"?c=Object.assign({},r):c=r,c.config&&(c.config.pageToken=i.nextPageToken),this.paramsInternal=c,this.pageInternalSize=(l=(o=c.config)===null||o===void 0?void 0:o.pageSize)!==null&&l!==void 0?l:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class KE extends ni{constructor(e){super(),this.apiClient=e,this.list=async(i={})=>new cs(ei.PAGED_ITEM_BATCH_JOBS,r=>this.listInternal(r),await this.listInternal(i),i),this.create=async i=>(this.apiClient.isVertexAI()&&(i.config=this.formatDestination(i.src,i.config)),this.createInternal(i)),this.createEmbeddings=async i=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(i)}}createInlinedGenerateContentRequest(e){const i=v0(this.apiClient,e),r=i._url,o=ee("{model}:batchGenerateContent",r),h=i.batch.inputConfig.requests,v=h.requests,m=[];for(const x of v){const b=Object.assign({},x);if(b.systemInstruction){const _=b.systemInstruction;delete b.systemInstruction;const S=b.request;S.systemInstruction=_,b.request=S}m.push(b)}return h.requests=m,delete i.config,delete i._url,delete i._query,{path:o,body:i}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,i){const r=i?Object.assign({},i):{},o=Date.now().toString();if(r.displayName||(r.displayName=`genaiBatchJob_${o}`),r.dest===void 0){const l=this.getGcsUri(e),c=this.getBigqueryUri(e);if(l)l.endsWith(".jsonl")?r.dest=`${l.slice(0,-6)}/dest`:r.dest=`${l}_dest_${o}`;else if(c)r.dest=`${c}_dest_${o}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return r}async createInternal(e){var i,r,o,l;let c,h="",v={};if(this.apiClient.isVertexAI()){const m=gE(this.apiClient,e);return h=ee("batchPredictionJobs",m._url),v=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:v,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(x=>x.json()),c.then(x=>sd(x))}else{const m=v0(this.apiClient,e);return h=ee("{model}:batchGenerateContent",m._url),v=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:v,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(x=>x.json()),c.then(x=>$o(x))}}async createEmbeddingsInternal(e){var i,r;let o,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=yE(this.apiClient,e);return l=ee("{model}:asyncBatchEmbedContent",h._url),c=h._query,delete h._url,delete h._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(v=>v.json()),o.then(v=>$o(v))}}async get(e){var i,r,o,l;let c,h="",v={};if(this.apiClient.isVertexAI()){const m=DE(this.apiClient,e);return h=ee("batchPredictionJobs/{name}",m._url),v=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:v,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(x=>x.json()),c.then(x=>sd(x))}else{const m=IE(this.apiClient,e);return h=ee("batches/{name}",m._url),v=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:v,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(x=>x.json()),c.then(x=>$o(x))}}async cancel(e){var i,r,o,l;let c="",h={};if(this.apiClient.isVertexAI()){const v=dE(this.apiClient,e);c=ee("batchPredictionJobs/{name}:cancel",v._url),h=v._query,delete v._url,delete v._query,await this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(v),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}else{const v=cE(this.apiClient,e);c=ee("batches/{name}:cancel",v._url),h=v._query,delete v._url,delete v._query,await this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(v),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal})}}async listInternal(e){var i,r,o,l;let c,h="",v={};if(this.apiClient.isVertexAI()){const m=HE(e);return h=ee("batchPredictionJobs",m._url),v=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:v,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(x=>x.json().then(b=>{const _=b;return _.sdkHttpResponse={headers:x.headers},_})),c.then(x=>{const b=VE(x),_=new h0;return Object.assign(_,b),_})}else{const m=BE(e);return h=ee("batches",m._url),v=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:v,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(x=>x.json().then(b=>{const _=b;return _.sdkHttpResponse={headers:x.headers},_})),c.then(x=>{const b=qE(x),_=new h0;return Object.assign(_,b),_})}}async delete(e){var i,r,o,l;let c,h="",v={};if(this.apiClient.isVertexAI()){const m=bE(this.apiClient,e);return h=ee("batchPredictionJobs/{name}",m._url),v=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:v,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(x=>x.json().then(b=>{const _=b;return _.sdkHttpResponse={headers:x.headers},_})),c.then(x=>wE(x))}else{const m=xE(this.apiClient,e);return h=ee("batches/{name}",m._url),v=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:v,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(x=>x.json().then(b=>{const _=b;return _.sdkHttpResponse={headers:x.headers},_})),c.then(x=>_E(x))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function YE(t){const e={},i=d(t,["data"]);if(i!=null&&f(e,["data"],i),d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=d(t,["mimeType"]);return r!=null&&f(e,["mimeType"],r),e}function y0(t){const e={},i=d(t,["parts"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>yT(l))),f(e,["parts"],o)}const r=d(t,["role"]);return r!=null&&f(e,["role"],r),e}function XE(t,e){const i={},r=d(t,["ttl"]);e!==void 0&&r!=null&&f(e,["ttl"],r);const o=d(t,["expireTime"]);e!==void 0&&o!=null&&f(e,["expireTime"],o);const l=d(t,["displayName"]);e!==void 0&&l!=null&&f(e,["displayName"],l);const c=d(t,["contents"]);if(e!==void 0&&c!=null){let x=gn(c);Array.isArray(x)&&(x=x.map(b=>y0(b))),f(e,["contents"],x)}const h=d(t,["systemInstruction"]);e!==void 0&&h!=null&&f(e,["systemInstruction"],y0(Dt(h)));const v=d(t,["tools"]);if(e!==void 0&&v!=null){let x=v;Array.isArray(x)&&(x=x.map(b=>bT(b))),f(e,["tools"],x)}const m=d(t,["toolConfig"]);if(e!==void 0&&m!=null&&f(e,["toolConfig"],xT(m)),d(t,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return i}function WE(t,e){const i={},r=d(t,["ttl"]);e!==void 0&&r!=null&&f(e,["ttl"],r);const o=d(t,["expireTime"]);e!==void 0&&o!=null&&f(e,["expireTime"],o);const l=d(t,["displayName"]);e!==void 0&&l!=null&&f(e,["displayName"],l);const c=d(t,["contents"]);if(e!==void 0&&c!=null){let b=gn(c);Array.isArray(b)&&(b=b.map(_=>_)),f(e,["contents"],b)}const h=d(t,["systemInstruction"]);e!==void 0&&h!=null&&f(e,["systemInstruction"],Dt(h));const v=d(t,["tools"]);if(e!==void 0&&v!=null){let b=v;Array.isArray(b)&&(b=b.map(_=>_T(_))),f(e,["tools"],b)}const m=d(t,["toolConfig"]);e!==void 0&&m!=null&&f(e,["toolConfig"],m);const x=d(t,["kmsKeyName"]);return e!==void 0&&x!=null&&f(e,["encryption_spec","kmsKeyName"],x),i}function QE(t,e){const i={},r=d(e,["model"]);r!=null&&f(i,["model"],ov(t,r));const o=d(e,["config"]);return o!=null&&XE(o,i),i}function ZE(t,e){const i={},r=d(e,["model"]);r!=null&&f(i,["model"],ov(t,r));const o=d(e,["config"]);return o!=null&&WE(o,i),i}function eT(t,e){const i={},r=d(e,["name"]);return r!=null&&f(i,["_url","name"],ii(t,r)),i}function tT(t,e){const i={},r=d(e,["name"]);return r!=null&&f(i,["_url","name"],ii(t,r)),i}function nT(t){const e={},i=d(t,["sdkHttpResponse"]);return i!=null&&f(e,["sdkHttpResponse"],i),e}function iT(t){const e={},i=d(t,["sdkHttpResponse"]);return i!=null&&f(e,["sdkHttpResponse"],i),e}function sT(t){const e={};if(d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=d(t,["fileUri"]);i!=null&&f(e,["fileUri"],i);const r=d(t,["mimeType"]);return r!=null&&f(e,["mimeType"],r),e}function rT(t){const e={},i=d(t,["id"]);i!=null&&f(e,["id"],i);const r=d(t,["args"]);r!=null&&f(e,["args"],r);const o=d(t,["name"]);if(o!=null&&f(e,["name"],o),d(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(d(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function aT(t){const e={},i=d(t,["mode"]);i!=null&&f(e,["mode"],i);const r=d(t,["allowedFunctionNames"]);if(r!=null&&f(e,["allowedFunctionNames"],r),d(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function oT(t){const e={};if(d(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const i=d(t,["description"]);i!=null&&f(e,["description"],i);const r=d(t,["name"]);r!=null&&f(e,["name"],r);const o=d(t,["parameters"]);o!=null&&f(e,["parameters"],o);const l=d(t,["parametersJsonSchema"]);l!=null&&f(e,["parametersJsonSchema"],l);const c=d(t,["response"]);c!=null&&f(e,["response"],c);const h=d(t,["responseJsonSchema"]);return h!=null&&f(e,["responseJsonSchema"],h),e}function lT(t,e){const i={},r=d(e,["name"]);return r!=null&&f(i,["_url","name"],ii(t,r)),i}function uT(t,e){const i={},r=d(e,["name"]);return r!=null&&f(i,["_url","name"],ii(t,r)),i}function cT(t){const e={};if(d(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const i=d(t,["enableWidget"]);return i!=null&&f(e,["enableWidget"],i),e}function dT(t){const e={};if(d(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(d(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const i=d(t,["timeRangeFilter"]);return i!=null&&f(e,["timeRangeFilter"],i),e}function fT(t,e){const i={},r=d(t,["pageSize"]);e!==void 0&&r!=null&&f(e,["_query","pageSize"],r);const o=d(t,["pageToken"]);return e!==void 0&&o!=null&&f(e,["_query","pageToken"],o),i}function hT(t,e){const i={},r=d(t,["pageSize"]);e!==void 0&&r!=null&&f(e,["_query","pageSize"],r);const o=d(t,["pageToken"]);return e!==void 0&&o!=null&&f(e,["_query","pageToken"],o),i}function pT(t){const e={},i=d(t,["config"]);return i!=null&&fT(i,e),e}function mT(t){const e={},i=d(t,["config"]);return i!=null&&hT(i,e),e}function gT(t){const e={},i=d(t,["sdkHttpResponse"]);i!=null&&f(e,["sdkHttpResponse"],i);const r=d(t,["nextPageToken"]);r!=null&&f(e,["nextPageToken"],r);const o=d(t,["cachedContents"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(c=>c)),f(e,["cachedContents"],l)}return e}function vT(t){const e={},i=d(t,["sdkHttpResponse"]);i!=null&&f(e,["sdkHttpResponse"],i);const r=d(t,["nextPageToken"]);r!=null&&f(e,["nextPageToken"],r);const o=d(t,["cachedContents"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(c=>c)),f(e,["cachedContents"],l)}return e}function yT(t){const e={},i=d(t,["mediaResolution"]);i!=null&&f(e,["mediaResolution"],i);const r=d(t,["codeExecutionResult"]);r!=null&&f(e,["codeExecutionResult"],r);const o=d(t,["executableCode"]);o!=null&&f(e,["executableCode"],o);const l=d(t,["fileData"]);l!=null&&f(e,["fileData"],sT(l));const c=d(t,["functionCall"]);c!=null&&f(e,["functionCall"],rT(c));const h=d(t,["functionResponse"]);h!=null&&f(e,["functionResponse"],h);const v=d(t,["inlineData"]);v!=null&&f(e,["inlineData"],YE(v));const m=d(t,["text"]);m!=null&&f(e,["text"],m);const x=d(t,["thought"]);x!=null&&f(e,["thought"],x);const b=d(t,["thoughtSignature"]);b!=null&&f(e,["thoughtSignature"],b);const _=d(t,["videoMetadata"]);return _!=null&&f(e,["videoMetadata"],_),e}function xT(t){const e={},i=d(t,["functionCallingConfig"]);i!=null&&f(e,["functionCallingConfig"],aT(i));const r=d(t,["retrievalConfig"]);return r!=null&&f(e,["retrievalConfig"],r),e}function bT(t){const e={},i=d(t,["functionDeclarations"]);if(i!=null){let x=i;Array.isArray(x)&&(x=x.map(b=>b)),f(e,["functionDeclarations"],x)}if(d(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=d(t,["googleSearchRetrieval"]);r!=null&&f(e,["googleSearchRetrieval"],r);const o=d(t,["computerUse"]);o!=null&&f(e,["computerUse"],o);const l=d(t,["fileSearch"]);l!=null&&f(e,["fileSearch"],l);const c=d(t,["codeExecution"]);if(c!=null&&f(e,["codeExecution"],c),d(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const h=d(t,["googleMaps"]);h!=null&&f(e,["googleMaps"],cT(h));const v=d(t,["googleSearch"]);v!=null&&f(e,["googleSearch"],dT(v));const m=d(t,["urlContext"]);return m!=null&&f(e,["urlContext"],m),e}function _T(t){const e={},i=d(t,["functionDeclarations"]);if(i!=null){let b=i;Array.isArray(b)&&(b=b.map(_=>oT(_))),f(e,["functionDeclarations"],b)}const r=d(t,["retrieval"]);r!=null&&f(e,["retrieval"],r);const o=d(t,["googleSearchRetrieval"]);o!=null&&f(e,["googleSearchRetrieval"],o);const l=d(t,["computerUse"]);if(l!=null&&f(e,["computerUse"],l),d(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const c=d(t,["codeExecution"]);c!=null&&f(e,["codeExecution"],c);const h=d(t,["enterpriseWebSearch"]);h!=null&&f(e,["enterpriseWebSearch"],h);const v=d(t,["googleMaps"]);v!=null&&f(e,["googleMaps"],v);const m=d(t,["googleSearch"]);m!=null&&f(e,["googleSearch"],m);const x=d(t,["urlContext"]);return x!=null&&f(e,["urlContext"],x),e}function wT(t,e){const i={},r=d(t,["ttl"]);e!==void 0&&r!=null&&f(e,["ttl"],r);const o=d(t,["expireTime"]);return e!==void 0&&o!=null&&f(e,["expireTime"],o),i}function ST(t,e){const i={},r=d(t,["ttl"]);e!==void 0&&r!=null&&f(e,["ttl"],r);const o=d(t,["expireTime"]);return e!==void 0&&o!=null&&f(e,["expireTime"],o),i}function ET(t,e){const i={},r=d(e,["name"]);r!=null&&f(i,["_url","name"],ii(t,r));const o=d(e,["config"]);return o!=null&&wT(o,i),i}function TT(t,e){const i={},r=d(e,["name"]);r!=null&&f(i,["_url","name"],ii(t,r));const o=d(e,["config"]);return o!=null&&ST(o,i),i}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class AT extends ni{constructor(e){super(),this.apiClient=e,this.list=async(i={})=>new cs(ei.PAGED_ITEM_CACHED_CONTENTS,r=>this.listInternal(r),await this.listInternal(i),i)}async create(e){var i,r,o,l;let c,h="",v={};if(this.apiClient.isVertexAI()){const m=ZE(this.apiClient,e);return h=ee("cachedContents",m._url),v=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:v,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(x=>x.json()),c.then(x=>x)}else{const m=QE(this.apiClient,e);return h=ee("cachedContents",m._url),v=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:v,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(x=>x.json()),c.then(x=>x)}}async get(e){var i,r,o,l;let c,h="",v={};if(this.apiClient.isVertexAI()){const m=uT(this.apiClient,e);return h=ee("{name}",m._url),v=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:v,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(x=>x.json()),c.then(x=>x)}else{const m=lT(this.apiClient,e);return h=ee("{name}",m._url),v=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:v,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(x=>x.json()),c.then(x=>x)}}async delete(e){var i,r,o,l;let c,h="",v={};if(this.apiClient.isVertexAI()){const m=tT(this.apiClient,e);return h=ee("{name}",m._url),v=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:v,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(x=>x.json().then(b=>{const _=b;return _.sdkHttpResponse={headers:x.headers},_})),c.then(x=>{const b=iT(x),_=new d0;return Object.assign(_,b),_})}else{const m=eT(this.apiClient,e);return h=ee("{name}",m._url),v=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:v,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(x=>x.json().then(b=>{const _=b;return _.sdkHttpResponse={headers:x.headers},_})),c.then(x=>{const b=nT(x),_=new d0;return Object.assign(_,b),_})}}async update(e){var i,r,o,l;let c,h="",v={};if(this.apiClient.isVertexAI()){const m=TT(this.apiClient,e);return h=ee("{name}",m._url),v=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:v,body:JSON.stringify(m),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(x=>x.json()),c.then(x=>x)}else{const m=ET(this.apiClient,e);return h=ee("{name}",m._url),v=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:v,body:JSON.stringify(m),httpMethod:"PATCH",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(x=>x.json()),c.then(x=>x)}}async listInternal(e){var i,r,o,l;let c,h="",v={};if(this.apiClient.isVertexAI()){const m=mT(e);return h=ee("cachedContents",m._url),v=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:v,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(x=>x.json().then(b=>{const _=b;return _.sdkHttpResponse={headers:x.headers},_})),c.then(x=>{const b=vT(x),_=new f0;return Object.assign(_,b),_})}else{const m=pT(e);return h=ee("cachedContents",m._url),v=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:v,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(x=>x.json().then(b=>{const _=b;return _.sdkHttpResponse={headers:x.headers},_})),c.then(x=>{const b=gT(x),_=new f0;return Object.assign(_,b),_})}}}function el(t,e){var i={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(i[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(i[r[o]]=t[r[o]]);return i}function x0(t){var e=typeof Symbol=="function"&&Symbol.iterator,i=e&&t[e],r=0;if(i)return i.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function me(t){return this instanceof me?(this.v=t,this):new me(t)}function An(t,e,i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=i.apply(t,e||[]),o,l=[];return o=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),h("next"),h("throw"),h("return",c),o[Symbol.asyncIterator]=function(){return this},o;function c(S){return function(T){return Promise.resolve(T).then(S,b)}}function h(S,T){r[S]&&(o[S]=function(N){return new Promise(function(C,D){l.push([S,N,C,D])>1||v(S,N)})},T&&(o[S]=T(o[S])))}function v(S,T){try{m(r[S](T))}catch(N){_(l[0][3],N)}}function m(S){S.value instanceof me?Promise.resolve(S.value.v).then(x,b):_(l[0][2],S)}function x(S){v("next",S)}function b(S){v("throw",S)}function _(S,T){S(T),l.shift(),l.length&&v(l[0][0],l[0][1])}}function Cn(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],i;return e?e.call(t):(t=typeof x0=="function"?x0(t):t[Symbol.iterator](),i={},r("next"),r("throw"),r("return"),i[Symbol.asyncIterator]=function(){return this},i);function r(l){i[l]=t[l]&&function(c){return new Promise(function(h,v){c=t[l](c),o(h,v,c.done,c.value)})}}function o(l,c,h,v){Promise.resolve(v).then(function(m){l({value:m,done:h})},c)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function CT(t){var e;if(t.candidates==null||t.candidates.length===0)return!1;const i=(e=t.candidates[0])===null||e===void 0?void 0:e.content;return i===void 0?!1:bv(i)}function bv(t){if(t.parts===void 0||t.parts.length===0)return!1;for(const e of t.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function NT(t){if(t.length!==0){for(const e of t)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function b0(t){if(t===void 0||t.length===0)return[];const e=[],i=t.length;let r=0;for(;r<i;)if(t[r].role==="user")e.push(t[r]),r++;else{const o=[];let l=!0;for(;r<i&&t[r].role==="model";)o.push(t[r]),l&&!bv(t[r])&&(l=!1),r++;l?e.push(...o):e.pop()}return e}class RT{constructor(e,i){this.modelsModule=e,this.apiClient=i}create(e){return new kT(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class kT{constructor(e,i,r,o={},l=[]){this.apiClient=e,this.modelsModule=i,this.model=r,this.config=o,this.history=l,this.sendPromise=Promise.resolve(),NT(l)}async sendMessage(e){var i;await this.sendPromise;const r=Dt(e.message),o=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(r),config:(i=e.config)!==null&&i!==void 0?i:this.config});return this.sendPromise=(async()=>{var l,c,h;const v=await o,m=(c=(l=v.candidates)===null||l===void 0?void 0:l[0])===null||c===void 0?void 0:c.content,x=v.automaticFunctionCallingHistory,b=this.getHistory(!0).length;let _=[];x!=null&&(_=(h=x.slice(b))!==null&&h!==void 0?h:[]);const S=m?[m]:[];this.recordHistory(r,S,_)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),o}async sendMessageStream(e){var i;await this.sendPromise;const r=Dt(e.message),o=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(r),config:(i=e.config)!==null&&i!==void 0?i:this.config});this.sendPromise=o.then(()=>{}).catch(()=>{});const l=await o;return this.processStreamResponse(l,r)}getHistory(e=!1){const i=e?b0(this.history):this.history;return structuredClone(i)}processStreamResponse(e,i){return An(this,arguments,function*(){var o,l,c,h,v,m;const x=[];try{for(var b=!0,_=Cn(e),S;S=yield me(_.next()),o=S.done,!o;b=!0){h=S.value,b=!1;const T=h;if(CT(T)){const N=(m=(v=T.candidates)===null||v===void 0?void 0:v[0])===null||m===void 0?void 0:m.content;N!==void 0&&x.push(N)}yield yield me(T)}}catch(T){l={error:T}}finally{try{!b&&!o&&(c=_.return)&&(yield me(c.call(_)))}finally{if(l)throw l.error}}this.recordHistory(i,x)})}recordHistory(e,i,r){let o=[];i.length>0&&i.every(l=>l.role!==void 0)?o=i:o.push({role:"model",parts:[]}),r&&r.length>0?this.history.push(...b0(r)):this.history.push(e),this.history.push(...o)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class al extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,al.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function IT(t){const e={},i=d(t,["file"]);return i!=null&&f(e,["file"],i),e}function DT(t){const e={},i=d(t,["sdkHttpResponse"]);return i!=null&&f(e,["sdkHttpResponse"],i),e}function MT(t){const e={},i=d(t,["name"]);return i!=null&&f(e,["_url","file"],hv(i)),e}function UT(t){const e={},i=d(t,["sdkHttpResponse"]);return i!=null&&f(e,["sdkHttpResponse"],i),e}function PT(t){const e={},i=d(t,["name"]);return i!=null&&f(e,["_url","file"],hv(i)),e}function LT(t,e){const i={},r=d(t,["pageSize"]);e!==void 0&&r!=null&&f(e,["_query","pageSize"],r);const o=d(t,["pageToken"]);return e!==void 0&&o!=null&&f(e,["_query","pageToken"],o),i}function OT(t){const e={},i=d(t,["config"]);return i!=null&&LT(i,e),e}function GT(t){const e={},i=d(t,["sdkHttpResponse"]);i!=null&&f(e,["sdkHttpResponse"],i);const r=d(t,["nextPageToken"]);r!=null&&f(e,["nextPageToken"],r);const o=d(t,["files"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(c=>c)),f(e,["files"],l)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class jT extends ni{constructor(e){super(),this.apiClient=e,this.list=async(i={})=>new cs(ei.PAGED_ITEM_FILES,r=>this.listInternal(r),await this.listInternal(i),i)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(i=>i)}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var i,r;let o,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=OT(e);return l=ee("files",h._url),c=h._query,delete h._url,delete h._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(v=>v.json().then(m=>{const x=m;return x.sdkHttpResponse={headers:v.headers},x})),o.then(v=>{const m=GT(v),x=new VS;return Object.assign(x,m),x})}}async createInternal(e){var i,r;let o,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=IT(e);return l=ee("upload/v1beta/files",h._url),c=h._query,delete h._url,delete h._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(v=>v.json()),o.then(v=>{const m=DT(v),x=new zS;return Object.assign(x,m),x})}}async get(e){var i,r;let o,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=PT(e);return l=ee("files/{file}",h._url),c=h._query,delete h._url,delete h._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(v=>v.json()),o.then(v=>v)}}async delete(e){var i,r;let o,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=MT(e);return l=ee("files/{file}",h._url),c=h._query,delete h._url,delete h._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(v=>v.json().then(m=>{const x=m;return x.sdkHttpResponse={headers:v.headers},x})),o.then(v=>{const m=UT(v),x=new FS;return Object.assign(x,m),x})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Jo(t){const e={},i=d(t,["data"]);if(i!=null&&f(e,["data"],i),d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=d(t,["mimeType"]);return r!=null&&f(e,["mimeType"],r),e}function BT(t){const e={},i=d(t,["parts"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>nA(l))),f(e,["parts"],o)}const r=d(t,["role"]);return r!=null&&f(e,["role"],r),e}function HT(t){const e={};if(d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=d(t,["fileUri"]);i!=null&&f(e,["fileUri"],i);const r=d(t,["mimeType"]);return r!=null&&f(e,["mimeType"],r),e}function qT(t){const e={},i=d(t,["id"]);i!=null&&f(e,["id"],i);const r=d(t,["args"]);r!=null&&f(e,["args"],r);const o=d(t,["name"]);if(o!=null&&f(e,["name"],o),d(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(d(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function VT(t){const e={};if(d(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const i=d(t,["description"]);i!=null&&f(e,["description"],i);const r=d(t,["name"]);r!=null&&f(e,["name"],r);const o=d(t,["parameters"]);o!=null&&f(e,["parameters"],o);const l=d(t,["parametersJsonSchema"]);l!=null&&f(e,["parametersJsonSchema"],l);const c=d(t,["response"]);c!=null&&f(e,["response"],c);const h=d(t,["responseJsonSchema"]);return h!=null&&f(e,["responseJsonSchema"],h),e}function zT(t){const e={},i=d(t,["modelSelectionConfig"]);i!=null&&f(e,["modelConfig"],i);const r=d(t,["responseJsonSchema"]);r!=null&&f(e,["responseJsonSchema"],r);const o=d(t,["audioTimestamp"]);o!=null&&f(e,["audioTimestamp"],o);const l=d(t,["candidateCount"]);l!=null&&f(e,["candidateCount"],l);const c=d(t,["enableAffectiveDialog"]);c!=null&&f(e,["enableAffectiveDialog"],c);const h=d(t,["frequencyPenalty"]);h!=null&&f(e,["frequencyPenalty"],h);const v=d(t,["logprobs"]);v!=null&&f(e,["logprobs"],v);const m=d(t,["maxOutputTokens"]);m!=null&&f(e,["maxOutputTokens"],m);const x=d(t,["mediaResolution"]);x!=null&&f(e,["mediaResolution"],x);const b=d(t,["presencePenalty"]);b!=null&&f(e,["presencePenalty"],b);const _=d(t,["responseLogprobs"]);_!=null&&f(e,["responseLogprobs"],_);const S=d(t,["responseMimeType"]);S!=null&&f(e,["responseMimeType"],S);const T=d(t,["responseModalities"]);T!=null&&f(e,["responseModalities"],T);const N=d(t,["responseSchema"]);N!=null&&f(e,["responseSchema"],N);const C=d(t,["routingConfig"]);C!=null&&f(e,["routingConfig"],C);const D=d(t,["seed"]);D!=null&&f(e,["seed"],D);const B=d(t,["speechConfig"]);B!=null&&f(e,["speechConfig"],B);const M=d(t,["stopSequences"]);M!=null&&f(e,["stopSequences"],M);const J=d(t,["temperature"]);J!=null&&f(e,["temperature"],J);const X=d(t,["thinkingConfig"]);X!=null&&f(e,["thinkingConfig"],X);const K=d(t,["topK"]);K!=null&&f(e,["topK"],K);const H=d(t,["topP"]);if(H!=null&&f(e,["topP"],H),d(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function FT(t){const e={};if(d(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const i=d(t,["enableWidget"]);return i!=null&&f(e,["enableWidget"],i),e}function $T(t){const e={};if(d(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(d(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const i=d(t,["timeRangeFilter"]);return i!=null&&f(e,["timeRangeFilter"],i),e}function JT(t,e){const i={},r=d(t,["generationConfig"]);e!==void 0&&r!=null&&f(e,["setup","generationConfig"],r);const o=d(t,["responseModalities"]);e!==void 0&&o!=null&&f(e,["setup","generationConfig","responseModalities"],o);const l=d(t,["temperature"]);e!==void 0&&l!=null&&f(e,["setup","generationConfig","temperature"],l);const c=d(t,["topP"]);e!==void 0&&c!=null&&f(e,["setup","generationConfig","topP"],c);const h=d(t,["topK"]);e!==void 0&&h!=null&&f(e,["setup","generationConfig","topK"],h);const v=d(t,["maxOutputTokens"]);e!==void 0&&v!=null&&f(e,["setup","generationConfig","maxOutputTokens"],v);const m=d(t,["mediaResolution"]);e!==void 0&&m!=null&&f(e,["setup","generationConfig","mediaResolution"],m);const x=d(t,["seed"]);e!==void 0&&x!=null&&f(e,["setup","generationConfig","seed"],x);const b=d(t,["speechConfig"]);e!==void 0&&b!=null&&f(e,["setup","generationConfig","speechConfig"],Ad(b));const _=d(t,["thinkingConfig"]);e!==void 0&&_!=null&&f(e,["setup","generationConfig","thinkingConfig"],_);const S=d(t,["enableAffectiveDialog"]);e!==void 0&&S!=null&&f(e,["setup","generationConfig","enableAffectiveDialog"],S);const T=d(t,["systemInstruction"]);e!==void 0&&T!=null&&f(e,["setup","systemInstruction"],BT(Dt(T)));const N=d(t,["tools"]);if(e!==void 0&&N!=null){let K=pr(N);Array.isArray(K)&&(K=K.map(H=>sA(hr(H)))),f(e,["setup","tools"],K)}const C=d(t,["sessionResumption"]);e!==void 0&&C!=null&&f(e,["setup","sessionResumption"],iA(C));const D=d(t,["inputAudioTranscription"]);e!==void 0&&D!=null&&f(e,["setup","inputAudioTranscription"],D);const B=d(t,["outputAudioTranscription"]);e!==void 0&&B!=null&&f(e,["setup","outputAudioTranscription"],B);const M=d(t,["realtimeInputConfig"]);e!==void 0&&M!=null&&f(e,["setup","realtimeInputConfig"],M);const J=d(t,["contextWindowCompression"]);e!==void 0&&J!=null&&f(e,["setup","contextWindowCompression"],J);const X=d(t,["proactivity"]);if(e!==void 0&&X!=null&&f(e,["setup","proactivity"],X),d(t,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return i}function KT(t,e){const i={},r=d(t,["generationConfig"]);e!==void 0&&r!=null&&f(e,["setup","generationConfig"],zT(r));const o=d(t,["responseModalities"]);e!==void 0&&o!=null&&f(e,["setup","generationConfig","responseModalities"],o);const l=d(t,["temperature"]);e!==void 0&&l!=null&&f(e,["setup","generationConfig","temperature"],l);const c=d(t,["topP"]);e!==void 0&&c!=null&&f(e,["setup","generationConfig","topP"],c);const h=d(t,["topK"]);e!==void 0&&h!=null&&f(e,["setup","generationConfig","topK"],h);const v=d(t,["maxOutputTokens"]);e!==void 0&&v!=null&&f(e,["setup","generationConfig","maxOutputTokens"],v);const m=d(t,["mediaResolution"]);e!==void 0&&m!=null&&f(e,["setup","generationConfig","mediaResolution"],m);const x=d(t,["seed"]);e!==void 0&&x!=null&&f(e,["setup","generationConfig","seed"],x);const b=d(t,["speechConfig"]);e!==void 0&&b!=null&&f(e,["setup","generationConfig","speechConfig"],Ad(b));const _=d(t,["thinkingConfig"]);e!==void 0&&_!=null&&f(e,["setup","generationConfig","thinkingConfig"],_);const S=d(t,["enableAffectiveDialog"]);e!==void 0&&S!=null&&f(e,["setup","generationConfig","enableAffectiveDialog"],S);const T=d(t,["systemInstruction"]);e!==void 0&&T!=null&&f(e,["setup","systemInstruction"],Dt(T));const N=d(t,["tools"]);if(e!==void 0&&N!=null){let H=pr(N);Array.isArray(H)&&(H=H.map(ae=>rA(hr(ae)))),f(e,["setup","tools"],H)}const C=d(t,["sessionResumption"]);e!==void 0&&C!=null&&f(e,["setup","sessionResumption"],C);const D=d(t,["inputAudioTranscription"]);e!==void 0&&D!=null&&f(e,["setup","inputAudioTranscription"],D);const B=d(t,["outputAudioTranscription"]);e!==void 0&&B!=null&&f(e,["setup","outputAudioTranscription"],B);const M=d(t,["realtimeInputConfig"]);e!==void 0&&M!=null&&f(e,["setup","realtimeInputConfig"],M);const J=d(t,["contextWindowCompression"]);e!==void 0&&J!=null&&f(e,["setup","contextWindowCompression"],J);const X=d(t,["proactivity"]);e!==void 0&&X!=null&&f(e,["setup","proactivity"],X);const K=d(t,["explicitVadSignal"]);return e!==void 0&&K!=null&&f(e,["setup","explicitVadSignal"],K),i}function YT(t,e){const i={},r=d(e,["model"]);r!=null&&f(i,["setup","model"],Pe(t,r));const o=d(e,["config"]);return o!=null&&f(i,["config"],JT(o,i)),i}function XT(t,e){const i={},r=d(e,["model"]);r!=null&&f(i,["setup","model"],Pe(t,r));const o=d(e,["config"]);return o!=null&&f(i,["config"],KT(o,i)),i}function WT(t){const e={},i=d(t,["musicGenerationConfig"]);return i!=null&&f(e,["musicGenerationConfig"],i),e}function QT(t){const e={},i=d(t,["weightedPrompts"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(o=>o)),f(e,["weightedPrompts"],r)}return e}function ZT(t){const e={},i=d(t,["media"]);if(i!=null){let m=lv(i);Array.isArray(m)&&(m=m.map(x=>Jo(x))),f(e,["mediaChunks"],m)}const r=d(t,["audio"]);r!=null&&f(e,["audio"],Jo(cv(r)));const o=d(t,["audioStreamEnd"]);o!=null&&f(e,["audioStreamEnd"],o);const l=d(t,["video"]);l!=null&&f(e,["video"],Jo(uv(l)));const c=d(t,["text"]);c!=null&&f(e,["text"],c);const h=d(t,["activityStart"]);h!=null&&f(e,["activityStart"],h);const v=d(t,["activityEnd"]);return v!=null&&f(e,["activityEnd"],v),e}function eA(t){const e={},i=d(t,["media"]);if(i!=null){let m=lv(i);Array.isArray(m)&&(m=m.map(x=>x)),f(e,["mediaChunks"],m)}const r=d(t,["audio"]);r!=null&&f(e,["audio"],cv(r));const o=d(t,["audioStreamEnd"]);o!=null&&f(e,["audioStreamEnd"],o);const l=d(t,["video"]);l!=null&&f(e,["video"],uv(l));const c=d(t,["text"]);c!=null&&f(e,["text"],c);const h=d(t,["activityStart"]);h!=null&&f(e,["activityStart"],h);const v=d(t,["activityEnd"]);return v!=null&&f(e,["activityEnd"],v),e}function tA(t){const e={},i=d(t,["setupComplete"]);i!=null&&f(e,["setupComplete"],i);const r=d(t,["serverContent"]);r!=null&&f(e,["serverContent"],r);const o=d(t,["toolCall"]);o!=null&&f(e,["toolCall"],o);const l=d(t,["toolCallCancellation"]);l!=null&&f(e,["toolCallCancellation"],l);const c=d(t,["usageMetadata"]);c!=null&&f(e,["usageMetadata"],aA(c));const h=d(t,["goAway"]);h!=null&&f(e,["goAway"],h);const v=d(t,["sessionResumptionUpdate"]);v!=null&&f(e,["sessionResumptionUpdate"],v);const m=d(t,["voiceActivityDetectionSignal"]);return m!=null&&f(e,["voiceActivityDetectionSignal"],m),e}function nA(t){const e={},i=d(t,["mediaResolution"]);i!=null&&f(e,["mediaResolution"],i);const r=d(t,["codeExecutionResult"]);r!=null&&f(e,["codeExecutionResult"],r);const o=d(t,["executableCode"]);o!=null&&f(e,["executableCode"],o);const l=d(t,["fileData"]);l!=null&&f(e,["fileData"],HT(l));const c=d(t,["functionCall"]);c!=null&&f(e,["functionCall"],qT(c));const h=d(t,["functionResponse"]);h!=null&&f(e,["functionResponse"],h);const v=d(t,["inlineData"]);v!=null&&f(e,["inlineData"],Jo(v));const m=d(t,["text"]);m!=null&&f(e,["text"],m);const x=d(t,["thought"]);x!=null&&f(e,["thought"],x);const b=d(t,["thoughtSignature"]);b!=null&&f(e,["thoughtSignature"],b);const _=d(t,["videoMetadata"]);return _!=null&&f(e,["videoMetadata"],_),e}function iA(t){const e={},i=d(t,["handle"]);if(i!=null&&f(e,["handle"],i),d(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function sA(t){const e={},i=d(t,["functionDeclarations"]);if(i!=null){let x=i;Array.isArray(x)&&(x=x.map(b=>b)),f(e,["functionDeclarations"],x)}if(d(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=d(t,["googleSearchRetrieval"]);r!=null&&f(e,["googleSearchRetrieval"],r);const o=d(t,["computerUse"]);o!=null&&f(e,["computerUse"],o);const l=d(t,["fileSearch"]);l!=null&&f(e,["fileSearch"],l);const c=d(t,["codeExecution"]);if(c!=null&&f(e,["codeExecution"],c),d(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const h=d(t,["googleMaps"]);h!=null&&f(e,["googleMaps"],FT(h));const v=d(t,["googleSearch"]);v!=null&&f(e,["googleSearch"],$T(v));const m=d(t,["urlContext"]);return m!=null&&f(e,["urlContext"],m),e}function rA(t){const e={},i=d(t,["functionDeclarations"]);if(i!=null){let b=i;Array.isArray(b)&&(b=b.map(_=>VT(_))),f(e,["functionDeclarations"],b)}const r=d(t,["retrieval"]);r!=null&&f(e,["retrieval"],r);const o=d(t,["googleSearchRetrieval"]);o!=null&&f(e,["googleSearchRetrieval"],o);const l=d(t,["computerUse"]);if(l!=null&&f(e,["computerUse"],l),d(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const c=d(t,["codeExecution"]);c!=null&&f(e,["codeExecution"],c);const h=d(t,["enterpriseWebSearch"]);h!=null&&f(e,["enterpriseWebSearch"],h);const v=d(t,["googleMaps"]);v!=null&&f(e,["googleMaps"],v);const m=d(t,["googleSearch"]);m!=null&&f(e,["googleSearch"],m);const x=d(t,["urlContext"]);return x!=null&&f(e,["urlContext"],x),e}function aA(t){const e={},i=d(t,["promptTokenCount"]);i!=null&&f(e,["promptTokenCount"],i);const r=d(t,["cachedContentTokenCount"]);r!=null&&f(e,["cachedContentTokenCount"],r);const o=d(t,["candidatesTokenCount"]);o!=null&&f(e,["responseTokenCount"],o);const l=d(t,["toolUsePromptTokenCount"]);l!=null&&f(e,["toolUsePromptTokenCount"],l);const c=d(t,["thoughtsTokenCount"]);c!=null&&f(e,["thoughtsTokenCount"],c);const h=d(t,["totalTokenCount"]);h!=null&&f(e,["totalTokenCount"],h);const v=d(t,["promptTokensDetails"]);if(v!=null){let S=v;Array.isArray(S)&&(S=S.map(T=>T)),f(e,["promptTokensDetails"],S)}const m=d(t,["cacheTokensDetails"]);if(m!=null){let S=m;Array.isArray(S)&&(S=S.map(T=>T)),f(e,["cacheTokensDetails"],S)}const x=d(t,["candidatesTokensDetails"]);if(x!=null){let S=x;Array.isArray(S)&&(S=S.map(T=>T)),f(e,["responseTokensDetails"],S)}const b=d(t,["toolUsePromptTokensDetails"]);if(b!=null){let S=b;Array.isArray(S)&&(S=S.map(T=>T)),f(e,["toolUsePromptTokensDetails"],S)}const _=d(t,["trafficType"]);return _!=null&&f(e,["trafficType"],_),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function oA(t){const e={},i=d(t,["data"]);if(i!=null&&f(e,["data"],i),d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=d(t,["mimeType"]);return r!=null&&f(e,["mimeType"],r),e}function lA(t){const e={},i=d(t,["content"]);i!=null&&f(e,["content"],i);const r=d(t,["citationMetadata"]);r!=null&&f(e,["citationMetadata"],uA(r));const o=d(t,["tokenCount"]);o!=null&&f(e,["tokenCount"],o);const l=d(t,["finishReason"]);l!=null&&f(e,["finishReason"],l);const c=d(t,["avgLogprobs"]);c!=null&&f(e,["avgLogprobs"],c);const h=d(t,["groundingMetadata"]);h!=null&&f(e,["groundingMetadata"],h);const v=d(t,["index"]);v!=null&&f(e,["index"],v);const m=d(t,["logprobsResult"]);m!=null&&f(e,["logprobsResult"],m);const x=d(t,["safetyRatings"]);if(x!=null){let _=x;Array.isArray(_)&&(_=_.map(S=>S)),f(e,["safetyRatings"],_)}const b=d(t,["urlContextMetadata"]);return b!=null&&f(e,["urlContextMetadata"],b),e}function uA(t){const e={},i=d(t,["citationSources"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(o=>o)),f(e,["citations"],r)}return e}function cA(t,e){const i={},r=d(e,["model"]);r!=null&&f(i,["_url","model"],Pe(t,r));const o=d(e,["contents"]);if(o!=null){let l=gn(o);Array.isArray(l)&&(l=l.map(c=>c)),f(i,["contents"],l)}return i}function dA(t){const e={},i=d(t,["sdkHttpResponse"]);i!=null&&f(e,["sdkHttpResponse"],i);const r=d(t,["tokensInfo"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(l=>l)),f(e,["tokensInfo"],o)}return e}function fA(t){const e={},i=d(t,["values"]);i!=null&&f(e,["values"],i);const r=d(t,["statistics"]);return r!=null&&f(e,["statistics"],hA(r)),e}function hA(t){const e={},i=d(t,["truncated"]);i!=null&&f(e,["truncated"],i);const r=d(t,["token_count"]);return r!=null&&f(e,["tokenCount"],r),e}function ol(t){const e={},i=d(t,["parts"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>wC(l))),f(e,["parts"],o)}const r=d(t,["role"]);return r!=null&&f(e,["role"],r),e}function pA(t){const e={},i=d(t,["controlType"]);i!=null&&f(e,["controlType"],i);const r=d(t,["enableControlImageComputation"]);return r!=null&&f(e,["computeControl"],r),e}function mA(t){const e={};if(d(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(d(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(d(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function gA(t,e){const i={},r=d(t,["systemInstruction"]);e!==void 0&&r!=null&&f(e,["systemInstruction"],Dt(r));const o=d(t,["tools"]);if(e!==void 0&&o!=null){let c=o;Array.isArray(c)&&(c=c.map(h=>Ev(h))),f(e,["tools"],c)}const l=d(t,["generationConfig"]);return e!==void 0&&l!=null&&f(e,["generationConfig"],oC(l)),i}function vA(t,e){const i={},r=d(e,["model"]);r!=null&&f(i,["_url","model"],Pe(t,r));const o=d(e,["contents"]);if(o!=null){let c=gn(o);Array.isArray(c)&&(c=c.map(h=>ol(h))),f(i,["contents"],c)}const l=d(e,["config"]);return l!=null&&mA(l),i}function yA(t,e){const i={},r=d(e,["model"]);r!=null&&f(i,["_url","model"],Pe(t,r));const o=d(e,["contents"]);if(o!=null){let c=gn(o);Array.isArray(c)&&(c=c.map(h=>h)),f(i,["contents"],c)}const l=d(e,["config"]);return l!=null&&gA(l,i),i}function xA(t){const e={},i=d(t,["sdkHttpResponse"]);i!=null&&f(e,["sdkHttpResponse"],i);const r=d(t,["totalTokens"]);r!=null&&f(e,["totalTokens"],r);const o=d(t,["cachedContentTokenCount"]);return o!=null&&f(e,["cachedContentTokenCount"],o),e}function bA(t){const e={},i=d(t,["sdkHttpResponse"]);i!=null&&f(e,["sdkHttpResponse"],i);const r=d(t,["totalTokens"]);return r!=null&&f(e,["totalTokens"],r),e}function _A(t,e){const i={},r=d(e,["model"]);return r!=null&&f(i,["_url","name"],Pe(t,r)),i}function wA(t,e){const i={},r=d(e,["model"]);return r!=null&&f(i,["_url","name"],Pe(t,r)),i}function SA(t){const e={},i=d(t,["sdkHttpResponse"]);return i!=null&&f(e,["sdkHttpResponse"],i),e}function EA(t){const e={},i=d(t,["sdkHttpResponse"]);return i!=null&&f(e,["sdkHttpResponse"],i),e}function TA(t,e){const i={},r=d(t,["outputGcsUri"]);e!==void 0&&r!=null&&f(e,["parameters","storageUri"],r);const o=d(t,["negativePrompt"]);e!==void 0&&o!=null&&f(e,["parameters","negativePrompt"],o);const l=d(t,["numberOfImages"]);e!==void 0&&l!=null&&f(e,["parameters","sampleCount"],l);const c=d(t,["aspectRatio"]);e!==void 0&&c!=null&&f(e,["parameters","aspectRatio"],c);const h=d(t,["guidanceScale"]);e!==void 0&&h!=null&&f(e,["parameters","guidanceScale"],h);const v=d(t,["seed"]);e!==void 0&&v!=null&&f(e,["parameters","seed"],v);const m=d(t,["safetyFilterLevel"]);e!==void 0&&m!=null&&f(e,["parameters","safetySetting"],m);const x=d(t,["personGeneration"]);e!==void 0&&x!=null&&f(e,["parameters","personGeneration"],x);const b=d(t,["includeSafetyAttributes"]);e!==void 0&&b!=null&&f(e,["parameters","includeSafetyAttributes"],b);const _=d(t,["includeRaiReason"]);e!==void 0&&_!=null&&f(e,["parameters","includeRaiReason"],_);const S=d(t,["language"]);e!==void 0&&S!=null&&f(e,["parameters","language"],S);const T=d(t,["outputMimeType"]);e!==void 0&&T!=null&&f(e,["parameters","outputOptions","mimeType"],T);const N=d(t,["outputCompressionQuality"]);e!==void 0&&N!=null&&f(e,["parameters","outputOptions","compressionQuality"],N);const C=d(t,["addWatermark"]);e!==void 0&&C!=null&&f(e,["parameters","addWatermark"],C);const D=d(t,["labels"]);e!==void 0&&D!=null&&f(e,["labels"],D);const B=d(t,["editMode"]);e!==void 0&&B!=null&&f(e,["parameters","editMode"],B);const M=d(t,["baseSteps"]);return e!==void 0&&M!=null&&f(e,["parameters","editConfig","baseSteps"],M),i}function AA(t,e){const i={},r=d(e,["model"]);r!=null&&f(i,["_url","model"],Pe(t,r));const o=d(e,["prompt"]);o!=null&&f(i,["instances[0]","prompt"],o);const l=d(e,["referenceImages"]);if(l!=null){let h=l;Array.isArray(h)&&(h=h.map(v=>NC(v))),f(i,["instances[0]","referenceImages"],h)}const c=d(e,["config"]);return c!=null&&TA(c,i),i}function CA(t){const e={},i=d(t,["sdkHttpResponse"]);i!=null&&f(e,["sdkHttpResponse"],i);const r=d(t,["predictions"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(l=>ll(l))),f(e,["generatedImages"],o)}return e}function NA(t,e){const i={},r=d(t,["taskType"]);e!==void 0&&r!=null&&f(e,["requests[]","taskType"],r);const o=d(t,["title"]);e!==void 0&&o!=null&&f(e,["requests[]","title"],o);const l=d(t,["outputDimensionality"]);if(e!==void 0&&l!=null&&f(e,["requests[]","outputDimensionality"],l),d(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(d(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return i}function RA(t,e){const i={},r=d(t,["taskType"]);e!==void 0&&r!=null&&f(e,["instances[]","task_type"],r);const o=d(t,["title"]);e!==void 0&&o!=null&&f(e,["instances[]","title"],o);const l=d(t,["outputDimensionality"]);e!==void 0&&l!=null&&f(e,["parameters","outputDimensionality"],l);const c=d(t,["mimeType"]);e!==void 0&&c!=null&&f(e,["instances[]","mimeType"],c);const h=d(t,["autoTruncate"]);return e!==void 0&&h!=null&&f(e,["parameters","autoTruncate"],h),i}function kA(t,e){const i={},r=d(e,["model"]);r!=null&&f(i,["_url","model"],Pe(t,r));const o=d(e,["contents"]);if(o!=null){let h=Sd(t,o);Array.isArray(h)&&(h=h.map(v=>v)),f(i,["requests[]","content"],h)}const l=d(e,["config"]);l!=null&&NA(l,i);const c=d(e,["model"]);return c!==void 0&&f(i,["requests[]","model"],Pe(t,c)),i}function IA(t,e){const i={},r=d(e,["model"]);r!=null&&f(i,["_url","model"],Pe(t,r));const o=d(e,["contents"]);if(o!=null){let c=Sd(t,o);Array.isArray(c)&&(c=c.map(h=>h)),f(i,["instances[]","content"],c)}const l=d(e,["config"]);return l!=null&&RA(l,i),i}function DA(t){const e={},i=d(t,["sdkHttpResponse"]);i!=null&&f(e,["sdkHttpResponse"],i);const r=d(t,["embeddings"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(c=>c)),f(e,["embeddings"],l)}const o=d(t,["metadata"]);return o!=null&&f(e,["metadata"],o),e}function MA(t){const e={},i=d(t,["sdkHttpResponse"]);i!=null&&f(e,["sdkHttpResponse"],i);const r=d(t,["predictions[]","embeddings"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(c=>fA(c))),f(e,["embeddings"],l)}const o=d(t,["metadata"]);return o!=null&&f(e,["metadata"],o),e}function UA(t){const e={},i=d(t,["endpoint"]);i!=null&&f(e,["name"],i);const r=d(t,["deployedModelId"]);return r!=null&&f(e,["deployedModelId"],r),e}function PA(t){const e={};if(d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=d(t,["fileUri"]);i!=null&&f(e,["fileUri"],i);const r=d(t,["mimeType"]);return r!=null&&f(e,["mimeType"],r),e}function LA(t){const e={},i=d(t,["id"]);i!=null&&f(e,["id"],i);const r=d(t,["args"]);r!=null&&f(e,["args"],r);const o=d(t,["name"]);if(o!=null&&f(e,["name"],o),d(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(d(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function OA(t){const e={},i=d(t,["mode"]);i!=null&&f(e,["mode"],i);const r=d(t,["allowedFunctionNames"]);if(r!=null&&f(e,["allowedFunctionNames"],r),d(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function GA(t){const e={};if(d(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const i=d(t,["description"]);i!=null&&f(e,["description"],i);const r=d(t,["name"]);r!=null&&f(e,["name"],r);const o=d(t,["parameters"]);o!=null&&f(e,["parameters"],o);const l=d(t,["parametersJsonSchema"]);l!=null&&f(e,["parametersJsonSchema"],l);const c=d(t,["response"]);c!=null&&f(e,["response"],c);const h=d(t,["responseJsonSchema"]);return h!=null&&f(e,["responseJsonSchema"],h),e}function jA(t,e,i){const r={},o=d(e,["systemInstruction"]);i!==void 0&&o!=null&&f(i,["systemInstruction"],ol(Dt(o)));const l=d(e,["temperature"]);l!=null&&f(r,["temperature"],l);const c=d(e,["topP"]);c!=null&&f(r,["topP"],c);const h=d(e,["topK"]);h!=null&&f(r,["topK"],h);const v=d(e,["candidateCount"]);v!=null&&f(r,["candidateCount"],v);const m=d(e,["maxOutputTokens"]);m!=null&&f(r,["maxOutputTokens"],m);const x=d(e,["stopSequences"]);x!=null&&f(r,["stopSequences"],x);const b=d(e,["responseLogprobs"]);b!=null&&f(r,["responseLogprobs"],b);const _=d(e,["logprobs"]);_!=null&&f(r,["logprobs"],_);const S=d(e,["presencePenalty"]);S!=null&&f(r,["presencePenalty"],S);const T=d(e,["frequencyPenalty"]);T!=null&&f(r,["frequencyPenalty"],T);const N=d(e,["seed"]);N!=null&&f(r,["seed"],N);const C=d(e,["responseMimeType"]);C!=null&&f(r,["responseMimeType"],C);const D=d(e,["responseSchema"]);D!=null&&f(r,["responseSchema"],Ed(D));const B=d(e,["responseJsonSchema"]);if(B!=null&&f(r,["responseJsonSchema"],B),d(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(d(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const M=d(e,["safetySettings"]);if(i!==void 0&&M!=null){let Ae=M;Array.isArray(Ae)&&(Ae=Ae.map(Le=>RC(Le))),f(i,["safetySettings"],Ae)}const J=d(e,["tools"]);if(i!==void 0&&J!=null){let Ae=pr(J);Array.isArray(Ae)&&(Ae=Ae.map(Le=>LC(hr(Le)))),f(i,["tools"],Ae)}const X=d(e,["toolConfig"]);if(i!==void 0&&X!=null&&f(i,["toolConfig"],PC(X)),d(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const K=d(e,["cachedContent"]);i!==void 0&&K!=null&&f(i,["cachedContent"],ii(t,K));const H=d(e,["responseModalities"]);H!=null&&f(r,["responseModalities"],H);const ae=d(e,["mediaResolution"]);ae!=null&&f(r,["mediaResolution"],ae);const Q=d(e,["speechConfig"]);if(Q!=null&&f(r,["speechConfig"],Td(Q)),d(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const ve=d(e,["thinkingConfig"]);ve!=null&&f(r,["thinkingConfig"],ve);const _e=d(e,["imageConfig"]);_e!=null&&f(r,["imageConfig"],fC(_e));const De=d(e,["enableEnhancedCivicAnswers"]);return De!=null&&f(r,["enableEnhancedCivicAnswers"],De),r}function BA(t,e,i){const r={},o=d(e,["systemInstruction"]);i!==void 0&&o!=null&&f(i,["systemInstruction"],Dt(o));const l=d(e,["temperature"]);l!=null&&f(r,["temperature"],l);const c=d(e,["topP"]);c!=null&&f(r,["topP"],c);const h=d(e,["topK"]);h!=null&&f(r,["topK"],h);const v=d(e,["candidateCount"]);v!=null&&f(r,["candidateCount"],v);const m=d(e,["maxOutputTokens"]);m!=null&&f(r,["maxOutputTokens"],m);const x=d(e,["stopSequences"]);x!=null&&f(r,["stopSequences"],x);const b=d(e,["responseLogprobs"]);b!=null&&f(r,["responseLogprobs"],b);const _=d(e,["logprobs"]);_!=null&&f(r,["logprobs"],_);const S=d(e,["presencePenalty"]);S!=null&&f(r,["presencePenalty"],S);const T=d(e,["frequencyPenalty"]);T!=null&&f(r,["frequencyPenalty"],T);const N=d(e,["seed"]);N!=null&&f(r,["seed"],N);const C=d(e,["responseMimeType"]);C!=null&&f(r,["responseMimeType"],C);const D=d(e,["responseSchema"]);D!=null&&f(r,["responseSchema"],Ed(D));const B=d(e,["responseJsonSchema"]);B!=null&&f(r,["responseJsonSchema"],B);const M=d(e,["routingConfig"]);M!=null&&f(r,["routingConfig"],M);const J=d(e,["modelSelectionConfig"]);J!=null&&f(r,["modelConfig"],J);const X=d(e,["safetySettings"]);if(i!==void 0&&X!=null){let O=X;Array.isArray(O)&&(O=O.map(Y=>Y)),f(i,["safetySettings"],O)}const K=d(e,["tools"]);if(i!==void 0&&K!=null){let O=pr(K);Array.isArray(O)&&(O=O.map(Y=>Ev(hr(Y)))),f(i,["tools"],O)}const H=d(e,["toolConfig"]);i!==void 0&&H!=null&&f(i,["toolConfig"],H);const ae=d(e,["labels"]);i!==void 0&&ae!=null&&f(i,["labels"],ae);const Q=d(e,["cachedContent"]);i!==void 0&&Q!=null&&f(i,["cachedContent"],ii(t,Q));const ve=d(e,["responseModalities"]);ve!=null&&f(r,["responseModalities"],ve);const _e=d(e,["mediaResolution"]);_e!=null&&f(r,["mediaResolution"],_e);const De=d(e,["speechConfig"]);De!=null&&f(r,["speechConfig"],Td(De));const Ae=d(e,["audioTimestamp"]);Ae!=null&&f(r,["audioTimestamp"],Ae);const Le=d(e,["thinkingConfig"]);Le!=null&&f(r,["thinkingConfig"],Le);const it=d(e,["imageConfig"]);if(it!=null&&f(r,["imageConfig"],hC(it)),d(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return r}function _0(t,e){const i={},r=d(e,["model"]);r!=null&&f(i,["_url","model"],Pe(t,r));const o=d(e,["contents"]);if(o!=null){let c=gn(o);Array.isArray(c)&&(c=c.map(h=>ol(h))),f(i,["contents"],c)}const l=d(e,["config"]);return l!=null&&f(i,["generationConfig"],jA(t,l,i)),i}function w0(t,e){const i={},r=d(e,["model"]);r!=null&&f(i,["_url","model"],Pe(t,r));const o=d(e,["contents"]);if(o!=null){let c=gn(o);Array.isArray(c)&&(c=c.map(h=>h)),f(i,["contents"],c)}const l=d(e,["config"]);return l!=null&&f(i,["generationConfig"],BA(t,l,i)),i}function S0(t){const e={},i=d(t,["sdkHttpResponse"]);i!=null&&f(e,["sdkHttpResponse"],i);const r=d(t,["candidates"]);if(r!=null){let v=r;Array.isArray(v)&&(v=v.map(m=>lA(m))),f(e,["candidates"],v)}const o=d(t,["modelVersion"]);o!=null&&f(e,["modelVersion"],o);const l=d(t,["promptFeedback"]);l!=null&&f(e,["promptFeedback"],l);const c=d(t,["responseId"]);c!=null&&f(e,["responseId"],c);const h=d(t,["usageMetadata"]);return h!=null&&f(e,["usageMetadata"],h),e}function E0(t){const e={},i=d(t,["sdkHttpResponse"]);i!=null&&f(e,["sdkHttpResponse"],i);const r=d(t,["candidates"]);if(r!=null){let m=r;Array.isArray(m)&&(m=m.map(x=>x)),f(e,["candidates"],m)}const o=d(t,["createTime"]);o!=null&&f(e,["createTime"],o);const l=d(t,["modelVersion"]);l!=null&&f(e,["modelVersion"],l);const c=d(t,["promptFeedback"]);c!=null&&f(e,["promptFeedback"],c);const h=d(t,["responseId"]);h!=null&&f(e,["responseId"],h);const v=d(t,["usageMetadata"]);return v!=null&&f(e,["usageMetadata"],v),e}function HA(t,e){const i={};if(d(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(d(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const r=d(t,["numberOfImages"]);e!==void 0&&r!=null&&f(e,["parameters","sampleCount"],r);const o=d(t,["aspectRatio"]);e!==void 0&&o!=null&&f(e,["parameters","aspectRatio"],o);const l=d(t,["guidanceScale"]);if(e!==void 0&&l!=null&&f(e,["parameters","guidanceScale"],l),d(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const c=d(t,["safetyFilterLevel"]);e!==void 0&&c!=null&&f(e,["parameters","safetySetting"],c);const h=d(t,["personGeneration"]);e!==void 0&&h!=null&&f(e,["parameters","personGeneration"],h);const v=d(t,["includeSafetyAttributes"]);e!==void 0&&v!=null&&f(e,["parameters","includeSafetyAttributes"],v);const m=d(t,["includeRaiReason"]);e!==void 0&&m!=null&&f(e,["parameters","includeRaiReason"],m);const x=d(t,["language"]);e!==void 0&&x!=null&&f(e,["parameters","language"],x);const b=d(t,["outputMimeType"]);e!==void 0&&b!=null&&f(e,["parameters","outputOptions","mimeType"],b);const _=d(t,["outputCompressionQuality"]);if(e!==void 0&&_!=null&&f(e,["parameters","outputOptions","compressionQuality"],_),d(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(d(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const S=d(t,["imageSize"]);if(e!==void 0&&S!=null&&f(e,["parameters","sampleImageSize"],S),d(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return i}function qA(t,e){const i={},r=d(t,["outputGcsUri"]);e!==void 0&&r!=null&&f(e,["parameters","storageUri"],r);const o=d(t,["negativePrompt"]);e!==void 0&&o!=null&&f(e,["parameters","negativePrompt"],o);const l=d(t,["numberOfImages"]);e!==void 0&&l!=null&&f(e,["parameters","sampleCount"],l);const c=d(t,["aspectRatio"]);e!==void 0&&c!=null&&f(e,["parameters","aspectRatio"],c);const h=d(t,["guidanceScale"]);e!==void 0&&h!=null&&f(e,["parameters","guidanceScale"],h);const v=d(t,["seed"]);e!==void 0&&v!=null&&f(e,["parameters","seed"],v);const m=d(t,["safetyFilterLevel"]);e!==void 0&&m!=null&&f(e,["parameters","safetySetting"],m);const x=d(t,["personGeneration"]);e!==void 0&&x!=null&&f(e,["parameters","personGeneration"],x);const b=d(t,["includeSafetyAttributes"]);e!==void 0&&b!=null&&f(e,["parameters","includeSafetyAttributes"],b);const _=d(t,["includeRaiReason"]);e!==void 0&&_!=null&&f(e,["parameters","includeRaiReason"],_);const S=d(t,["language"]);e!==void 0&&S!=null&&f(e,["parameters","language"],S);const T=d(t,["outputMimeType"]);e!==void 0&&T!=null&&f(e,["parameters","outputOptions","mimeType"],T);const N=d(t,["outputCompressionQuality"]);e!==void 0&&N!=null&&f(e,["parameters","outputOptions","compressionQuality"],N);const C=d(t,["addWatermark"]);e!==void 0&&C!=null&&f(e,["parameters","addWatermark"],C);const D=d(t,["labels"]);e!==void 0&&D!=null&&f(e,["labels"],D);const B=d(t,["imageSize"]);e!==void 0&&B!=null&&f(e,["parameters","sampleImageSize"],B);const M=d(t,["enhancePrompt"]);return e!==void 0&&M!=null&&f(e,["parameters","enhancePrompt"],M),i}function VA(t,e){const i={},r=d(e,["model"]);r!=null&&f(i,["_url","model"],Pe(t,r));const o=d(e,["prompt"]);o!=null&&f(i,["instances[0]","prompt"],o);const l=d(e,["config"]);return l!=null&&HA(l,i),i}function zA(t,e){const i={},r=d(e,["model"]);r!=null&&f(i,["_url","model"],Pe(t,r));const o=d(e,["prompt"]);o!=null&&f(i,["instances[0]","prompt"],o);const l=d(e,["config"]);return l!=null&&qA(l,i),i}function FA(t){const e={},i=d(t,["sdkHttpResponse"]);i!=null&&f(e,["sdkHttpResponse"],i);const r=d(t,["predictions"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(c=>iC(c))),f(e,["generatedImages"],l)}const o=d(t,["positivePromptSafetyAttributes"]);return o!=null&&f(e,["positivePromptSafetyAttributes"],wv(o)),e}function $A(t){const e={},i=d(t,["sdkHttpResponse"]);i!=null&&f(e,["sdkHttpResponse"],i);const r=d(t,["predictions"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(c=>ll(c))),f(e,["generatedImages"],l)}const o=d(t,["positivePromptSafetyAttributes"]);return o!=null&&f(e,["positivePromptSafetyAttributes"],Sv(o)),e}function JA(t,e){const i={},r=d(t,["numberOfVideos"]);if(e!==void 0&&r!=null&&f(e,["parameters","sampleCount"],r),d(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(d(t,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const o=d(t,["durationSeconds"]);if(e!==void 0&&o!=null&&f(e,["parameters","durationSeconds"],o),d(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const l=d(t,["aspectRatio"]);e!==void 0&&l!=null&&f(e,["parameters","aspectRatio"],l);const c=d(t,["resolution"]);e!==void 0&&c!=null&&f(e,["parameters","resolution"],c);const h=d(t,["personGeneration"]);if(e!==void 0&&h!=null&&f(e,["parameters","personGeneration"],h),d(t,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const v=d(t,["negativePrompt"]);e!==void 0&&v!=null&&f(e,["parameters","negativePrompt"],v);const m=d(t,["enhancePrompt"]);if(e!==void 0&&m!=null&&f(e,["parameters","enhancePrompt"],m),d(t,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const x=d(t,["lastFrame"]);e!==void 0&&x!=null&&f(e,["instances[0]","lastFrame"],ul(x));const b=d(t,["referenceImages"]);if(e!==void 0&&b!=null){let _=b;Array.isArray(_)&&(_=_.map(S=>YC(S))),f(e,["instances[0]","referenceImages"],_)}if(d(t,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(d(t,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return i}function KA(t,e){const i={},r=d(t,["numberOfVideos"]);e!==void 0&&r!=null&&f(e,["parameters","sampleCount"],r);const o=d(t,["outputGcsUri"]);e!==void 0&&o!=null&&f(e,["parameters","storageUri"],o);const l=d(t,["fps"]);e!==void 0&&l!=null&&f(e,["parameters","fps"],l);const c=d(t,["durationSeconds"]);e!==void 0&&c!=null&&f(e,["parameters","durationSeconds"],c);const h=d(t,["seed"]);e!==void 0&&h!=null&&f(e,["parameters","seed"],h);const v=d(t,["aspectRatio"]);e!==void 0&&v!=null&&f(e,["parameters","aspectRatio"],v);const m=d(t,["resolution"]);e!==void 0&&m!=null&&f(e,["parameters","resolution"],m);const x=d(t,["personGeneration"]);e!==void 0&&x!=null&&f(e,["parameters","personGeneration"],x);const b=d(t,["pubsubTopic"]);e!==void 0&&b!=null&&f(e,["parameters","pubsubTopic"],b);const _=d(t,["negativePrompt"]);e!==void 0&&_!=null&&f(e,["parameters","negativePrompt"],_);const S=d(t,["enhancePrompt"]);e!==void 0&&S!=null&&f(e,["parameters","enhancePrompt"],S);const T=d(t,["generateAudio"]);e!==void 0&&T!=null&&f(e,["parameters","generateAudio"],T);const N=d(t,["lastFrame"]);e!==void 0&&N!=null&&f(e,["instances[0]","lastFrame"],Nn(N));const C=d(t,["referenceImages"]);if(e!==void 0&&C!=null){let M=C;Array.isArray(M)&&(M=M.map(J=>XC(J))),f(e,["instances[0]","referenceImages"],M)}const D=d(t,["mask"]);e!==void 0&&D!=null&&f(e,["instances[0]","mask"],KC(D));const B=d(t,["compressionQuality"]);return e!==void 0&&B!=null&&f(e,["parameters","compressionQuality"],B),i}function YA(t){const e={},i=d(t,["name"]);i!=null&&f(e,["name"],i);const r=d(t,["metadata"]);r!=null&&f(e,["metadata"],r);const o=d(t,["done"]);o!=null&&f(e,["done"],o);const l=d(t,["error"]);l!=null&&f(e,["error"],l);const c=d(t,["response","generateVideoResponse"]);return c!=null&&f(e,["response"],ZA(c)),e}function XA(t){const e={},i=d(t,["name"]);i!=null&&f(e,["name"],i);const r=d(t,["metadata"]);r!=null&&f(e,["metadata"],r);const o=d(t,["done"]);o!=null&&f(e,["done"],o);const l=d(t,["error"]);l!=null&&f(e,["error"],l);const c=d(t,["response"]);return c!=null&&f(e,["response"],eC(c)),e}function WA(t,e){const i={},r=d(e,["model"]);r!=null&&f(i,["_url","model"],Pe(t,r));const o=d(e,["prompt"]);o!=null&&f(i,["instances[0]","prompt"],o);const l=d(e,["image"]);l!=null&&f(i,["instances[0]","image"],ul(l));const c=d(e,["video"]);c!=null&&f(i,["instances[0]","video"],Tv(c));const h=d(e,["source"]);h!=null&&tC(h,i);const v=d(e,["config"]);return v!=null&&JA(v,i),i}function QA(t,e){const i={},r=d(e,["model"]);r!=null&&f(i,["_url","model"],Pe(t,r));const o=d(e,["prompt"]);o!=null&&f(i,["instances[0]","prompt"],o);const l=d(e,["image"]);l!=null&&f(i,["instances[0]","image"],Nn(l));const c=d(e,["video"]);c!=null&&f(i,["instances[0]","video"],Av(c));const h=d(e,["source"]);h!=null&&nC(h,i);const v=d(e,["config"]);return v!=null&&KA(v,i),i}function ZA(t){const e={},i=d(t,["generatedSamples"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(c=>rC(c))),f(e,["generatedVideos"],l)}const r=d(t,["raiMediaFilteredCount"]);r!=null&&f(e,["raiMediaFilteredCount"],r);const o=d(t,["raiMediaFilteredReasons"]);return o!=null&&f(e,["raiMediaFilteredReasons"],o),e}function eC(t){const e={},i=d(t,["videos"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(c=>aC(c))),f(e,["generatedVideos"],l)}const r=d(t,["raiMediaFilteredCount"]);r!=null&&f(e,["raiMediaFilteredCount"],r);const o=d(t,["raiMediaFilteredReasons"]);return o!=null&&f(e,["raiMediaFilteredReasons"],o),e}function tC(t,e){const i={},r=d(t,["prompt"]);e!==void 0&&r!=null&&f(e,["instances[0]","prompt"],r);const o=d(t,["image"]);e!==void 0&&o!=null&&f(e,["instances[0]","image"],ul(o));const l=d(t,["video"]);return e!==void 0&&l!=null&&f(e,["instances[0]","video"],Tv(l)),i}function nC(t,e){const i={},r=d(t,["prompt"]);e!==void 0&&r!=null&&f(e,["instances[0]","prompt"],r);const o=d(t,["image"]);e!==void 0&&o!=null&&f(e,["instances[0]","image"],Nn(o));const l=d(t,["video"]);return e!==void 0&&l!=null&&f(e,["instances[0]","video"],Av(l)),i}function iC(t){const e={},i=d(t,["_self"]);i!=null&&f(e,["image"],pC(i));const r=d(t,["raiFilteredReason"]);r!=null&&f(e,["raiFilteredReason"],r);const o=d(t,["_self"]);return o!=null&&f(e,["safetyAttributes"],wv(o)),e}function ll(t){const e={},i=d(t,["_self"]);i!=null&&f(e,["image"],_v(i));const r=d(t,["raiFilteredReason"]);r!=null&&f(e,["raiFilteredReason"],r);const o=d(t,["_self"]);o!=null&&f(e,["safetyAttributes"],Sv(o));const l=d(t,["prompt"]);return l!=null&&f(e,["enhancedPrompt"],l),e}function sC(t){const e={},i=d(t,["_self"]);i!=null&&f(e,["mask"],_v(i));const r=d(t,["labels"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(l=>l)),f(e,["labels"],o)}return e}function rC(t){const e={},i=d(t,["video"]);return i!=null&&f(e,["video"],$C(i)),e}function aC(t){const e={},i=d(t,["_self"]);return i!=null&&f(e,["video"],JC(i)),e}function oC(t){const e={},i=d(t,["modelSelectionConfig"]);i!=null&&f(e,["modelConfig"],i);const r=d(t,["responseJsonSchema"]);r!=null&&f(e,["responseJsonSchema"],r);const o=d(t,["audioTimestamp"]);o!=null&&f(e,["audioTimestamp"],o);const l=d(t,["candidateCount"]);l!=null&&f(e,["candidateCount"],l);const c=d(t,["enableAffectiveDialog"]);c!=null&&f(e,["enableAffectiveDialog"],c);const h=d(t,["frequencyPenalty"]);h!=null&&f(e,["frequencyPenalty"],h);const v=d(t,["logprobs"]);v!=null&&f(e,["logprobs"],v);const m=d(t,["maxOutputTokens"]);m!=null&&f(e,["maxOutputTokens"],m);const x=d(t,["mediaResolution"]);x!=null&&f(e,["mediaResolution"],x);const b=d(t,["presencePenalty"]);b!=null&&f(e,["presencePenalty"],b);const _=d(t,["responseLogprobs"]);_!=null&&f(e,["responseLogprobs"],_);const S=d(t,["responseMimeType"]);S!=null&&f(e,["responseMimeType"],S);const T=d(t,["responseModalities"]);T!=null&&f(e,["responseModalities"],T);const N=d(t,["responseSchema"]);N!=null&&f(e,["responseSchema"],N);const C=d(t,["routingConfig"]);C!=null&&f(e,["routingConfig"],C);const D=d(t,["seed"]);D!=null&&f(e,["seed"],D);const B=d(t,["speechConfig"]);B!=null&&f(e,["speechConfig"],B);const M=d(t,["stopSequences"]);M!=null&&f(e,["stopSequences"],M);const J=d(t,["temperature"]);J!=null&&f(e,["temperature"],J);const X=d(t,["thinkingConfig"]);X!=null&&f(e,["thinkingConfig"],X);const K=d(t,["topK"]);K!=null&&f(e,["topK"],K);const H=d(t,["topP"]);if(H!=null&&f(e,["topP"],H),d(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function lC(t,e){const i={},r=d(e,["model"]);return r!=null&&f(i,["_url","name"],Pe(t,r)),i}function uC(t,e){const i={},r=d(e,["model"]);return r!=null&&f(i,["_url","name"],Pe(t,r)),i}function cC(t){const e={};if(d(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const i=d(t,["enableWidget"]);return i!=null&&f(e,["enableWidget"],i),e}function dC(t){const e={};if(d(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(d(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const i=d(t,["timeRangeFilter"]);return i!=null&&f(e,["timeRangeFilter"],i),e}function fC(t){const e={},i=d(t,["aspectRatio"]);i!=null&&f(e,["aspectRatio"],i);const r=d(t,["imageSize"]);if(r!=null&&f(e,["imageSize"],r),d(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(d(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function hC(t){const e={},i=d(t,["aspectRatio"]);i!=null&&f(e,["aspectRatio"],i);const r=d(t,["imageSize"]);r!=null&&f(e,["imageSize"],r);const o=d(t,["outputMimeType"]);o!=null&&f(e,["imageOutputOptions","mimeType"],o);const l=d(t,["outputCompressionQuality"]);return l!=null&&f(e,["imageOutputOptions","compressionQuality"],l),e}function pC(t){const e={},i=d(t,["bytesBase64Encoded"]);i!=null&&f(e,["imageBytes"],Ui(i));const r=d(t,["mimeType"]);return r!=null&&f(e,["mimeType"],r),e}function _v(t){const e={},i=d(t,["gcsUri"]);i!=null&&f(e,["gcsUri"],i);const r=d(t,["bytesBase64Encoded"]);r!=null&&f(e,["imageBytes"],Ui(r));const o=d(t,["mimeType"]);return o!=null&&f(e,["mimeType"],o),e}function ul(t){const e={};if(d(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const i=d(t,["imageBytes"]);i!=null&&f(e,["bytesBase64Encoded"],Ui(i));const r=d(t,["mimeType"]);return r!=null&&f(e,["mimeType"],r),e}function Nn(t){const e={},i=d(t,["gcsUri"]);i!=null&&f(e,["gcsUri"],i);const r=d(t,["imageBytes"]);r!=null&&f(e,["bytesBase64Encoded"],Ui(r));const o=d(t,["mimeType"]);return o!=null&&f(e,["mimeType"],o),e}function mC(t,e,i){const r={},o=d(e,["pageSize"]);i!==void 0&&o!=null&&f(i,["_query","pageSize"],o);const l=d(e,["pageToken"]);i!==void 0&&l!=null&&f(i,["_query","pageToken"],l);const c=d(e,["filter"]);i!==void 0&&c!=null&&f(i,["_query","filter"],c);const h=d(e,["queryBase"]);return i!==void 0&&h!=null&&f(i,["_url","models_url"],pv(t,h)),r}function gC(t,e,i){const r={},o=d(e,["pageSize"]);i!==void 0&&o!=null&&f(i,["_query","pageSize"],o);const l=d(e,["pageToken"]);i!==void 0&&l!=null&&f(i,["_query","pageToken"],l);const c=d(e,["filter"]);i!==void 0&&c!=null&&f(i,["_query","filter"],c);const h=d(e,["queryBase"]);return i!==void 0&&h!=null&&f(i,["_url","models_url"],pv(t,h)),r}function vC(t,e){const i={},r=d(e,["config"]);return r!=null&&mC(t,r,i),i}function yC(t,e){const i={},r=d(e,["config"]);return r!=null&&gC(t,r,i),i}function xC(t){const e={},i=d(t,["sdkHttpResponse"]);i!=null&&f(e,["sdkHttpResponse"],i);const r=d(t,["nextPageToken"]);r!=null&&f(e,["nextPageToken"],r);const o=d(t,["_self"]);if(o!=null){let l=mv(o);Array.isArray(l)&&(l=l.map(c=>rd(c))),f(e,["models"],l)}return e}function bC(t){const e={},i=d(t,["sdkHttpResponse"]);i!=null&&f(e,["sdkHttpResponse"],i);const r=d(t,["nextPageToken"]);r!=null&&f(e,["nextPageToken"],r);const o=d(t,["_self"]);if(o!=null){let l=mv(o);Array.isArray(l)&&(l=l.map(c=>ad(c))),f(e,["models"],l)}return e}function _C(t){const e={},i=d(t,["maskMode"]);i!=null&&f(e,["maskMode"],i);const r=d(t,["segmentationClasses"]);r!=null&&f(e,["maskClasses"],r);const o=d(t,["maskDilation"]);return o!=null&&f(e,["dilation"],o),e}function rd(t){const e={},i=d(t,["name"]);i!=null&&f(e,["name"],i);const r=d(t,["displayName"]);r!=null&&f(e,["displayName"],r);const o=d(t,["description"]);o!=null&&f(e,["description"],o);const l=d(t,["version"]);l!=null&&f(e,["version"],l);const c=d(t,["_self"]);c!=null&&f(e,["tunedModelInfo"],OC(c));const h=d(t,["inputTokenLimit"]);h!=null&&f(e,["inputTokenLimit"],h);const v=d(t,["outputTokenLimit"]);v!=null&&f(e,["outputTokenLimit"],v);const m=d(t,["supportedGenerationMethods"]);m!=null&&f(e,["supportedActions"],m);const x=d(t,["temperature"]);x!=null&&f(e,["temperature"],x);const b=d(t,["maxTemperature"]);b!=null&&f(e,["maxTemperature"],b);const _=d(t,["topP"]);_!=null&&f(e,["topP"],_);const S=d(t,["topK"]);S!=null&&f(e,["topK"],S);const T=d(t,["thinking"]);return T!=null&&f(e,["thinking"],T),e}function ad(t){const e={},i=d(t,["name"]);i!=null&&f(e,["name"],i);const r=d(t,["displayName"]);r!=null&&f(e,["displayName"],r);const o=d(t,["description"]);o!=null&&f(e,["description"],o);const l=d(t,["versionId"]);l!=null&&f(e,["version"],l);const c=d(t,["deployedModels"]);if(c!=null){let b=c;Array.isArray(b)&&(b=b.map(_=>UA(_))),f(e,["endpoints"],b)}const h=d(t,["labels"]);h!=null&&f(e,["labels"],h);const v=d(t,["_self"]);v!=null&&f(e,["tunedModelInfo"],GC(v));const m=d(t,["defaultCheckpointId"]);m!=null&&f(e,["defaultCheckpointId"],m);const x=d(t,["checkpoints"]);if(x!=null){let b=x;Array.isArray(b)&&(b=b.map(_=>_)),f(e,["checkpoints"],b)}return e}function wC(t){const e={},i=d(t,["mediaResolution"]);i!=null&&f(e,["mediaResolution"],i);const r=d(t,["codeExecutionResult"]);r!=null&&f(e,["codeExecutionResult"],r);const o=d(t,["executableCode"]);o!=null&&f(e,["executableCode"],o);const l=d(t,["fileData"]);l!=null&&f(e,["fileData"],PA(l));const c=d(t,["functionCall"]);c!=null&&f(e,["functionCall"],LA(c));const h=d(t,["functionResponse"]);h!=null&&f(e,["functionResponse"],h);const v=d(t,["inlineData"]);v!=null&&f(e,["inlineData"],oA(v));const m=d(t,["text"]);m!=null&&f(e,["text"],m);const x=d(t,["thought"]);x!=null&&f(e,["thought"],x);const b=d(t,["thoughtSignature"]);b!=null&&f(e,["thoughtSignature"],b);const _=d(t,["videoMetadata"]);return _!=null&&f(e,["videoMetadata"],_),e}function SC(t){const e={},i=d(t,["productImage"]);return i!=null&&f(e,["image"],Nn(i)),e}function EC(t,e){const i={},r=d(t,["numberOfImages"]);e!==void 0&&r!=null&&f(e,["parameters","sampleCount"],r);const o=d(t,["baseSteps"]);e!==void 0&&o!=null&&f(e,["parameters","baseSteps"],o);const l=d(t,["outputGcsUri"]);e!==void 0&&l!=null&&f(e,["parameters","storageUri"],l);const c=d(t,["seed"]);e!==void 0&&c!=null&&f(e,["parameters","seed"],c);const h=d(t,["safetyFilterLevel"]);e!==void 0&&h!=null&&f(e,["parameters","safetySetting"],h);const v=d(t,["personGeneration"]);e!==void 0&&v!=null&&f(e,["parameters","personGeneration"],v);const m=d(t,["addWatermark"]);e!==void 0&&m!=null&&f(e,["parameters","addWatermark"],m);const x=d(t,["outputMimeType"]);e!==void 0&&x!=null&&f(e,["parameters","outputOptions","mimeType"],x);const b=d(t,["outputCompressionQuality"]);e!==void 0&&b!=null&&f(e,["parameters","outputOptions","compressionQuality"],b);const _=d(t,["enhancePrompt"]);e!==void 0&&_!=null&&f(e,["parameters","enhancePrompt"],_);const S=d(t,["labels"]);return e!==void 0&&S!=null&&f(e,["labels"],S),i}function TC(t,e){const i={},r=d(e,["model"]);r!=null&&f(i,["_url","model"],Pe(t,r));const o=d(e,["source"]);o!=null&&CC(o,i);const l=d(e,["config"]);return l!=null&&EC(l,i),i}function AC(t){const e={},i=d(t,["predictions"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(o=>ll(o))),f(e,["generatedImages"],r)}return e}function CC(t,e){const i={},r=d(t,["prompt"]);e!==void 0&&r!=null&&f(e,["instances[0]","prompt"],r);const o=d(t,["personImage"]);e!==void 0&&o!=null&&f(e,["instances[0]","personImage","image"],Nn(o));const l=d(t,["productImages"]);if(e!==void 0&&l!=null){let c=l;Array.isArray(c)&&(c=c.map(h=>SC(h))),f(e,["instances[0]","productImages"],c)}return i}function NC(t){const e={},i=d(t,["referenceImage"]);i!=null&&f(e,["referenceImage"],Nn(i));const r=d(t,["referenceId"]);r!=null&&f(e,["referenceId"],r);const o=d(t,["referenceType"]);o!=null&&f(e,["referenceType"],o);const l=d(t,["maskImageConfig"]);l!=null&&f(e,["maskImageConfig"],_C(l));const c=d(t,["controlImageConfig"]);c!=null&&f(e,["controlImageConfig"],pA(c));const h=d(t,["styleImageConfig"]);h!=null&&f(e,["styleImageConfig"],h);const v=d(t,["subjectImageConfig"]);return v!=null&&f(e,["subjectImageConfig"],v),e}function wv(t){const e={},i=d(t,["safetyAttributes","categories"]);i!=null&&f(e,["categories"],i);const r=d(t,["safetyAttributes","scores"]);r!=null&&f(e,["scores"],r);const o=d(t,["contentType"]);return o!=null&&f(e,["contentType"],o),e}function Sv(t){const e={},i=d(t,["safetyAttributes","categories"]);i!=null&&f(e,["categories"],i);const r=d(t,["safetyAttributes","scores"]);r!=null&&f(e,["scores"],r);const o=d(t,["contentType"]);return o!=null&&f(e,["contentType"],o),e}function RC(t){const e={},i=d(t,["category"]);if(i!=null&&f(e,["category"],i),d(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=d(t,["threshold"]);return r!=null&&f(e,["threshold"],r),e}function kC(t){const e={},i=d(t,["image"]);return i!=null&&f(e,["image"],Nn(i)),e}function IC(t,e){const i={},r=d(t,["mode"]);e!==void 0&&r!=null&&f(e,["parameters","mode"],r);const o=d(t,["maxPredictions"]);e!==void 0&&o!=null&&f(e,["parameters","maxPredictions"],o);const l=d(t,["confidenceThreshold"]);e!==void 0&&l!=null&&f(e,["parameters","confidenceThreshold"],l);const c=d(t,["maskDilation"]);e!==void 0&&c!=null&&f(e,["parameters","maskDilation"],c);const h=d(t,["binaryColorThreshold"]);e!==void 0&&h!=null&&f(e,["parameters","binaryColorThreshold"],h);const v=d(t,["labels"]);return e!==void 0&&v!=null&&f(e,["labels"],v),i}function DC(t,e){const i={},r=d(e,["model"]);r!=null&&f(i,["_url","model"],Pe(t,r));const o=d(e,["source"]);o!=null&&UC(o,i);const l=d(e,["config"]);return l!=null&&IC(l,i),i}function MC(t){const e={},i=d(t,["predictions"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(o=>sC(o))),f(e,["generatedMasks"],r)}return e}function UC(t,e){const i={},r=d(t,["prompt"]);e!==void 0&&r!=null&&f(e,["instances[0]","prompt"],r);const o=d(t,["image"]);e!==void 0&&o!=null&&f(e,["instances[0]","image"],Nn(o));const l=d(t,["scribbleImage"]);return e!==void 0&&l!=null&&f(e,["instances[0]","scribble"],kC(l)),i}function PC(t){const e={},i=d(t,["functionCallingConfig"]);i!=null&&f(e,["functionCallingConfig"],OA(i));const r=d(t,["retrievalConfig"]);return r!=null&&f(e,["retrievalConfig"],r),e}function LC(t){const e={},i=d(t,["functionDeclarations"]);if(i!=null){let x=i;Array.isArray(x)&&(x=x.map(b=>b)),f(e,["functionDeclarations"],x)}if(d(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=d(t,["googleSearchRetrieval"]);r!=null&&f(e,["googleSearchRetrieval"],r);const o=d(t,["computerUse"]);o!=null&&f(e,["computerUse"],o);const l=d(t,["fileSearch"]);l!=null&&f(e,["fileSearch"],l);const c=d(t,["codeExecution"]);if(c!=null&&f(e,["codeExecution"],c),d(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const h=d(t,["googleMaps"]);h!=null&&f(e,["googleMaps"],cC(h));const v=d(t,["googleSearch"]);v!=null&&f(e,["googleSearch"],dC(v));const m=d(t,["urlContext"]);return m!=null&&f(e,["urlContext"],m),e}function Ev(t){const e={},i=d(t,["functionDeclarations"]);if(i!=null){let b=i;Array.isArray(b)&&(b=b.map(_=>GA(_))),f(e,["functionDeclarations"],b)}const r=d(t,["retrieval"]);r!=null&&f(e,["retrieval"],r);const o=d(t,["googleSearchRetrieval"]);o!=null&&f(e,["googleSearchRetrieval"],o);const l=d(t,["computerUse"]);if(l!=null&&f(e,["computerUse"],l),d(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const c=d(t,["codeExecution"]);c!=null&&f(e,["codeExecution"],c);const h=d(t,["enterpriseWebSearch"]);h!=null&&f(e,["enterpriseWebSearch"],h);const v=d(t,["googleMaps"]);v!=null&&f(e,["googleMaps"],v);const m=d(t,["googleSearch"]);m!=null&&f(e,["googleSearch"],m);const x=d(t,["urlContext"]);return x!=null&&f(e,["urlContext"],x),e}function OC(t){const e={},i=d(t,["baseModel"]);i!=null&&f(e,["baseModel"],i);const r=d(t,["createTime"]);r!=null&&f(e,["createTime"],r);const o=d(t,["updateTime"]);return o!=null&&f(e,["updateTime"],o),e}function GC(t){const e={},i=d(t,["labels","google-vertex-llm-tuning-base-model-id"]);i!=null&&f(e,["baseModel"],i);const r=d(t,["createTime"]);r!=null&&f(e,["createTime"],r);const o=d(t,["updateTime"]);return o!=null&&f(e,["updateTime"],o),e}function jC(t,e){const i={},r=d(t,["displayName"]);e!==void 0&&r!=null&&f(e,["displayName"],r);const o=d(t,["description"]);e!==void 0&&o!=null&&f(e,["description"],o);const l=d(t,["defaultCheckpointId"]);return e!==void 0&&l!=null&&f(e,["defaultCheckpointId"],l),i}function BC(t,e){const i={},r=d(t,["displayName"]);e!==void 0&&r!=null&&f(e,["displayName"],r);const o=d(t,["description"]);e!==void 0&&o!=null&&f(e,["description"],o);const l=d(t,["defaultCheckpointId"]);return e!==void 0&&l!=null&&f(e,["defaultCheckpointId"],l),i}function HC(t,e){const i={},r=d(e,["model"]);r!=null&&f(i,["_url","name"],Pe(t,r));const o=d(e,["config"]);return o!=null&&jC(o,i),i}function qC(t,e){const i={},r=d(e,["model"]);r!=null&&f(i,["_url","model"],Pe(t,r));const o=d(e,["config"]);return o!=null&&BC(o,i),i}function VC(t,e){const i={},r=d(t,["outputGcsUri"]);e!==void 0&&r!=null&&f(e,["parameters","storageUri"],r);const o=d(t,["safetyFilterLevel"]);e!==void 0&&o!=null&&f(e,["parameters","safetySetting"],o);const l=d(t,["personGeneration"]);e!==void 0&&l!=null&&f(e,["parameters","personGeneration"],l);const c=d(t,["includeRaiReason"]);e!==void 0&&c!=null&&f(e,["parameters","includeRaiReason"],c);const h=d(t,["outputMimeType"]);e!==void 0&&h!=null&&f(e,["parameters","outputOptions","mimeType"],h);const v=d(t,["outputCompressionQuality"]);e!==void 0&&v!=null&&f(e,["parameters","outputOptions","compressionQuality"],v);const m=d(t,["enhanceInputImage"]);e!==void 0&&m!=null&&f(e,["parameters","upscaleConfig","enhanceInputImage"],m);const x=d(t,["imagePreservationFactor"]);e!==void 0&&x!=null&&f(e,["parameters","upscaleConfig","imagePreservationFactor"],x);const b=d(t,["labels"]);e!==void 0&&b!=null&&f(e,["labels"],b);const _=d(t,["numberOfImages"]);e!==void 0&&_!=null&&f(e,["parameters","sampleCount"],_);const S=d(t,["mode"]);return e!==void 0&&S!=null&&f(e,["parameters","mode"],S),i}function zC(t,e){const i={},r=d(e,["model"]);r!=null&&f(i,["_url","model"],Pe(t,r));const o=d(e,["image"]);o!=null&&f(i,["instances[0]","image"],Nn(o));const l=d(e,["upscaleFactor"]);l!=null&&f(i,["parameters","upscaleConfig","upscaleFactor"],l);const c=d(e,["config"]);return c!=null&&VC(c,i),i}function FC(t){const e={},i=d(t,["sdkHttpResponse"]);i!=null&&f(e,["sdkHttpResponse"],i);const r=d(t,["predictions"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(l=>ll(l))),f(e,["generatedImages"],o)}return e}function $C(t){const e={},i=d(t,["uri"]);i!=null&&f(e,["uri"],i);const r=d(t,["encodedVideo"]);r!=null&&f(e,["videoBytes"],Ui(r));const o=d(t,["encoding"]);return o!=null&&f(e,["mimeType"],o),e}function JC(t){const e={},i=d(t,["gcsUri"]);i!=null&&f(e,["uri"],i);const r=d(t,["bytesBase64Encoded"]);r!=null&&f(e,["videoBytes"],Ui(r));const o=d(t,["mimeType"]);return o!=null&&f(e,["mimeType"],o),e}function KC(t){const e={},i=d(t,["image"]);i!=null&&f(e,["_self"],Nn(i));const r=d(t,["maskMode"]);return r!=null&&f(e,["maskMode"],r),e}function YC(t){const e={},i=d(t,["image"]);i!=null&&f(e,["image"],ul(i));const r=d(t,["referenceType"]);return r!=null&&f(e,["referenceType"],r),e}function XC(t){const e={},i=d(t,["image"]);i!=null&&f(e,["image"],Nn(i));const r=d(t,["referenceType"]);return r!=null&&f(e,["referenceType"],r),e}function Tv(t){const e={},i=d(t,["uri"]);i!=null&&f(e,["uri"],i);const r=d(t,["videoBytes"]);r!=null&&f(e,["encodedVideo"],Ui(r));const o=d(t,["mimeType"]);return o!=null&&f(e,["encoding"],o),e}function Av(t){const e={},i=d(t,["uri"]);i!=null&&f(e,["gcsUri"],i);const r=d(t,["videoBytes"]);r!=null&&f(e,["bytesBase64Encoded"],Ui(r));const o=d(t,["mimeType"]);return o!=null&&f(e,["mimeType"],o),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function WC(t,e){const i={},r=d(t,["displayName"]);return e!==void 0&&r!=null&&f(e,["displayName"],r),i}function QC(t){const e={},i=d(t,["config"]);return i!=null&&WC(i,e),e}function ZC(t,e){const i={},r=d(t,["force"]);return e!==void 0&&r!=null&&f(e,["_query","force"],r),i}function eN(t){const e={},i=d(t,["name"]);i!=null&&f(e,["_url","name"],i);const r=d(t,["config"]);return r!=null&&ZC(r,e),e}function tN(t){const e={},i=d(t,["name"]);return i!=null&&f(e,["_url","name"],i),e}function nN(t,e){const i={},r=d(t,["customMetadata"]);if(e!==void 0&&r!=null){let l=r;Array.isArray(l)&&(l=l.map(c=>c)),f(e,["customMetadata"],l)}const o=d(t,["chunkingConfig"]);return e!==void 0&&o!=null&&f(e,["chunkingConfig"],o),i}function iN(t){const e={},i=d(t,["name"]);i!=null&&f(e,["name"],i);const r=d(t,["metadata"]);r!=null&&f(e,["metadata"],r);const o=d(t,["done"]);o!=null&&f(e,["done"],o);const l=d(t,["error"]);l!=null&&f(e,["error"],l);const c=d(t,["response"]);return c!=null&&f(e,["response"],rN(c)),e}function sN(t){const e={},i=d(t,["fileSearchStoreName"]);i!=null&&f(e,["_url","file_search_store_name"],i);const r=d(t,["fileName"]);r!=null&&f(e,["fileName"],r);const o=d(t,["config"]);return o!=null&&nN(o,e),e}function rN(t){const e={},i=d(t,["sdkHttpResponse"]);i!=null&&f(e,["sdkHttpResponse"],i);const r=d(t,["parent"]);r!=null&&f(e,["parent"],r);const o=d(t,["documentName"]);return o!=null&&f(e,["documentName"],o),e}function aN(t,e){const i={},r=d(t,["pageSize"]);e!==void 0&&r!=null&&f(e,["_query","pageSize"],r);const o=d(t,["pageToken"]);return e!==void 0&&o!=null&&f(e,["_query","pageToken"],o),i}function oN(t){const e={},i=d(t,["config"]);return i!=null&&aN(i,e),e}function lN(t){const e={},i=d(t,["sdkHttpResponse"]);i!=null&&f(e,["sdkHttpResponse"],i);const r=d(t,["nextPageToken"]);r!=null&&f(e,["nextPageToken"],r);const o=d(t,["fileSearchStores"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(c=>c)),f(e,["fileSearchStores"],l)}return e}function Cv(t,e){const i={},r=d(t,["mimeType"]);e!==void 0&&r!=null&&f(e,["mimeType"],r);const o=d(t,["displayName"]);e!==void 0&&o!=null&&f(e,["displayName"],o);const l=d(t,["customMetadata"]);if(e!==void 0&&l!=null){let h=l;Array.isArray(h)&&(h=h.map(v=>v)),f(e,["customMetadata"],h)}const c=d(t,["chunkingConfig"]);return e!==void 0&&c!=null&&f(e,["chunkingConfig"],c),i}function uN(t){const e={},i=d(t,["fileSearchStoreName"]);i!=null&&f(e,["_url","file_search_store_name"],i);const r=d(t,["config"]);return r!=null&&Cv(r,e),e}function cN(t){const e={},i=d(t,["sdkHttpResponse"]);return i!=null&&f(e,["sdkHttpResponse"],i),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const dN="Content-Type",fN="X-Server-Timeout",hN="User-Agent",od="x-goog-api-client",pN="1.34.0",mN=`google-genai-sdk/${pN}`,gN="v1beta1",vN="v1beta";class yN{constructor(e){var i,r;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const o={};this.clientOptions.vertexai?(o.apiVersion=(i=this.clientOptions.apiVersion)!==null&&i!==void 0?i:gN,o.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(o.apiVersion=(r=this.clientOptions.apiVersion)!==null&&r!==void 0?r:vN,o.baseUrl="https://generativelanguage.googleapis.com/"),o.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=o,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(o,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}async getAuthHeaders(){const e=new Headers;return await this.clientOptions.auth.addAuthHeaders(e),e}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const r=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&r.push(e.apiVersion),r.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),i=new URL(e);return i.protocol=i.protocol=="http:"?"ws":"wss",i.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,i,r){const o=[this.getRequestUrlInternal(i)];return r&&o.push(this.getBaseResourcePath()),e!==""&&o.push(e),new URL(`${o.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let i=this.clientOptions.httpOptions;e.httpOptions&&(i=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e),o=this.constructUrl(e.path,i,r);if(e.queryParams)for(const[c,h]of Object.entries(e.queryParams))o.searchParams.append(c,String(h));let l={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else l.body=e.body;return l=await this.includeExtraHttpOptionsToRequestInit(l,i,o.toString(),e.abortSignal),this.unaryApiCall(o,l,e.httpMethod)}patchHttpOptions(e,i){const r=JSON.parse(JSON.stringify(e));for(const[o,l]of Object.entries(i))typeof l=="object"?r[o]=Object.assign(Object.assign({},r[o]),l):l!==void 0&&(r[o]=l);return r}async requestStream(e){let i=this.clientOptions.httpOptions;e.httpOptions&&(i=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e),o=this.constructUrl(e.path,i,r);(!o.searchParams.has("alt")||o.searchParams.get("alt")!=="sse")&&o.searchParams.set("alt","sse");let l={};return l.body=e.body,l=await this.includeExtraHttpOptionsToRequestInit(l,i,o.toString(),e.abortSignal),this.streamApiCall(o,l,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,i,r,o){if(i&&i.timeout||o){const l=new AbortController,c=l.signal;if(i.timeout&&(i==null?void 0:i.timeout)>0){const h=setTimeout(()=>l.abort(),i.timeout);h&&typeof h.unref=="function"&&h.unref()}o&&o.addEventListener("abort",()=>{l.abort()}),e.signal=c}return i&&i.extraBody!==null&&xN(e,i.extraBody),e.headers=await this.getHeadersInternal(i,r),e}async unaryApiCall(e,i,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},i),{method:r})).then(async o=>(await T0(o),new nd(o))).catch(o=>{throw o instanceof Error?o:new Error(JSON.stringify(o))})}async streamApiCall(e,i,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},i),{method:r})).then(async o=>(await T0(o),this.processStreamResponse(o))).catch(o=>{throw o instanceof Error?o:new Error(JSON.stringify(o))})}processStreamResponse(e){return An(this,arguments,function*(){var r;const o=(r=e==null?void 0:e.body)===null||r===void 0?void 0:r.getReader(),l=new TextDecoder("utf-8");if(!o)throw new Error("Response body is empty");try{let c="";const h="data:",v=[`

`,"\r\r",`\r
\r
`];for(;;){const{done:m,value:x}=yield me(o.read());if(m){if(c.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const b=l.decode(x,{stream:!0});try{const T=JSON.parse(b);if("error"in T){const N=JSON.parse(JSON.stringify(T.error)),C=N.status,D=N.code,B=`got status: ${C}. ${JSON.stringify(T)}`;if(D>=400&&D<600)throw new al({message:B,status:D})}}catch(T){if(T.name==="ApiError")throw T}c+=b;let _=-1,S=0;for(;;){_=-1,S=0;for(const C of v){const D=c.indexOf(C);D!==-1&&(_===-1||D<_)&&(_=D,S=C.length)}if(_===-1)break;const T=c.substring(0,_);c=c.substring(_+S);const N=T.trim();if(N.startsWith(h)){const C=N.substring(h.length).trim();try{const D=new Response(C,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield me(new nd(D))}catch(D){throw new Error(`exception parsing stream chunk ${C}. ${D}`)}}}}}finally{o.releaseLock()}})}async apiCall(e,i){return fetch(e,i).catch(r=>{throw new Error(`exception ${r} sending request`)})}getDefaultHeaders(){const e={},i=mN+" "+this.clientOptions.userAgentExtra;return e[hN]=i,e[od]=i,e[dN]="application/json",e}async getHeadersInternal(e,i){const r=new Headers;if(e&&e.headers){for(const[o,l]of Object.entries(e.headers))r.append(o,l);e.timeout&&e.timeout>0&&r.append(fN,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(r,i),r}getFileName(e){var i;let r="";return typeof e=="string"&&(r=e.replace(/[/\\]+$/,""),r=(i=r.split(/[/\\]/).pop())!==null&&i!==void 0?i:""),r}async uploadFile(e,i){var r;const o={};i!=null&&(o.mimeType=i.mimeType,o.name=i.name,o.displayName=i.displayName),o.name&&!o.name.startsWith("files/")&&(o.name=`files/${o.name}`);const l=this.clientOptions.uploader,c=await l.stat(e);o.sizeBytes=String(c.size);const h=(r=i==null?void 0:i.mimeType)!==null&&r!==void 0?r:c.type;if(h===void 0||h==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");o.mimeType=h;const v={file:o},m=this.getFileName(e),x=ee("upload/v1beta/files",v._url),b=await this.fetchUploadUrl(x,o.sizeBytes,o.mimeType,m,v,i==null?void 0:i.httpOptions);return l.upload(e,b,this)}async uploadFileToFileSearchStore(e,i,r){var o;const l=this.clientOptions.uploader,c=await l.stat(i),h=String(c.size),v=(o=r==null?void 0:r.mimeType)!==null&&o!==void 0?o:c.type;if(v===void 0||v==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const m=`upload/v1beta/${e}:uploadToFileSearchStore`,x=this.getFileName(i),b={};r!=null&&Cv(r,b);const _=await this.fetchUploadUrl(m,h,v,x,b,r==null?void 0:r.httpOptions);return l.uploadToFileSearchStore(i,_,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,i,r,o,l,c){var h;let v={};c?v=c:v={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${i}`,"X-Goog-Upload-Header-Content-Type":`${r}`},o?{"X-Goog-Upload-File-Name":o}:{})};const m=await this.request({path:e,body:JSON.stringify(l),httpMethod:"POST",httpOptions:v});if(!m||!(m!=null&&m.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const x=(h=m==null?void 0:m.headers)===null||h===void 0?void 0:h["x-goog-upload-url"];if(x===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return x}}async function T0(t){var e;if(t===void 0)throw new Error("response is undefined");if(!t.ok){const i=t.status;let r;!((e=t.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?r=await t.json():r={error:{message:await t.text(),code:t.status,status:t.statusText}};const o=JSON.stringify(r);throw i>=400&&i<600?new al({message:o,status:i}):new Error(o)}}function xN(t,e){if(!e||Object.keys(e).length===0)return;if(t.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let i={};if(typeof t.body=="string"&&t.body.length>0)try{const l=JSON.parse(t.body);if(typeof l=="object"&&l!==null&&!Array.isArray(l))i=l;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function r(l,c){const h=Object.assign({},l);for(const v in c)if(Object.prototype.hasOwnProperty.call(c,v)){const m=c[v],x=h[v];m&&typeof m=="object"&&!Array.isArray(m)&&x&&typeof x=="object"&&!Array.isArray(x)?h[v]=r(x,m):(x&&m&&typeof x!=typeof m&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${v}". Original type: ${typeof x}, New type: ${typeof m}. Overwriting.`),h[v]=m)}return h}const o=r(i,e);t.body=JSON.stringify(o)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const bN="mcp_used/unknown";let _N=!1;function Nv(t){for(const e of t)if(wN(e)||typeof e=="object"&&"inputSchema"in e)return!0;return _N}function Rv(t){var e;const i=(e=t[od])!==null&&e!==void 0?e:"";t[od]=(i+` ${bN}`).trimStart()}function wN(t){return t!==null&&typeof t=="object"&&t instanceof Cd}function SN(t){return An(this,arguments,function*(i,r=100){let o,l=0;for(;l<r;){const c=yield me(i.listTools({cursor:o}));for(const h of c.tools)yield yield me(h),l++;if(!c.nextCursor)break;o=c.nextCursor}})}class Cd{constructor(e=[],i){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=i}static create(e,i){return new Cd(e,i)}async initialize(){var e,i,r,o;if(this.mcpTools.length>0)return;const l={},c=[];for(const x of this.mcpClients)try{for(var h=!0,v=(i=void 0,Cn(SN(x))),m;m=await v.next(),e=m.done,!e;h=!0){o=m.value,h=!1;const b=o;c.push(b);const _=b.name;if(l[_])throw new Error(`Duplicate function name ${_} found in MCP tools. Please ensure function names are unique.`);l[_]=x}}catch(b){i={error:b}}finally{try{!h&&!e&&(r=v.return)&&await r.call(v)}finally{if(i)throw i.error}}this.mcpTools=c,this.functionNameToMcpClient=l}async tool(){return await this.initialize(),tE(this.mcpTools,this.config)}async callTool(e){await this.initialize();const i=[];for(const r of e)if(r.name in this.functionNameToMcpClient){const o=this.functionNameToMcpClient[r.name];let l;this.config.timeout&&(l={timeout:this.config.timeout});const c=await o.callTool({name:r.name,arguments:r.args},void 0,l);i.push({functionResponse:{name:r.name,response:c.isError?{error:c}:c}})}return i}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function EN(t,e,i){const r=new JS;let o;i.data instanceof Blob?o=JSON.parse(await i.data.text()):o=JSON.parse(i.data),Object.assign(r,o),e(r)}class TN{constructor(e,i,r){this.apiClient=e,this.auth=i,this.webSocketFactory=r}async connect(e){var i,r;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const o=this.apiClient.getWebsocketBaseUrl(),l=this.apiClient.getApiVersion(),c=NN(this.apiClient.getDefaultHeaders()),h=this.apiClient.getApiKey(),v=`${o}/ws/google.ai.generativelanguage.${l}.GenerativeService.BidiGenerateMusic?key=${h}`;let m=()=>{};const x=new Promise(M=>{m=M}),b=e.callbacks,_=function(){m({})},S=this.apiClient,T={onopen:_,onmessage:M=>{EN(S,b.onmessage,M)},onerror:(i=b==null?void 0:b.onerror)!==null&&i!==void 0?i:function(M){},onclose:(r=b==null?void 0:b.onclose)!==null&&r!==void 0?r:function(M){}},N=this.webSocketFactory.create(v,CN(c),T);N.connect(),await x;const B={setup:{model:Pe(this.apiClient,e.model)}};return N.send(JSON.stringify(B)),new AN(N,this.apiClient)}}class AN{constructor(e,i){this.conn=e,this.apiClient=i}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const i=QT(e);this.conn.send(JSON.stringify({clientContent:i}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const i=WT(e);this.conn.send(JSON.stringify(i))}sendPlaybackControl(e){const i={playbackControl:e};this.conn.send(JSON.stringify(i))}play(){this.sendPlaybackControl(lr.PLAY)}pause(){this.sendPlaybackControl(lr.PAUSE)}stop(){this.sendPlaybackControl(lr.STOP)}resetContext(){this.sendPlaybackControl(lr.RESET_CONTEXT)}close(){this.conn.close()}}function CN(t){const e={};return t.forEach((i,r)=>{e[r]=i}),e}function NN(t){const e=new Headers;for(const[i,r]of Object.entries(t))e.append(i,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const RN="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function kN(t,e,i){const r=new $S;let o;i.data instanceof Blob?o=await i.data.text():i.data instanceof ArrayBuffer?o=new TextDecoder().decode(i.data):o=i.data;const l=JSON.parse(o);if(t.isVertexAI()){const c=tA(l);Object.assign(r,c)}else Object.assign(r,l);e(r)}class IN{constructor(e,i,r){this.apiClient=e,this.auth=i,this.webSocketFactory=r,this.music=new TN(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var i,r,o,l,c,h;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const v=this.apiClient.getWebsocketBaseUrl(),m=this.apiClient.getApiVersion();let x;const b=this.apiClient.getHeaders();e.config&&e.config.tools&&Nv(e.config.tools)&&Rv(b);const _=PN(b);if(this.apiClient.isVertexAI())x=`${v}/ws/google.cloud.aiplatform.${m}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(_,x);else{const Q=this.apiClient.getApiKey();let ve="BidiGenerateContent",_e="key";Q!=null&&Q.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),m!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),ve="BidiGenerateContentConstrained",_e="access_token"),x=`${v}/ws/google.ai.generativelanguage.${m}.GenerativeService.${ve}?${_e}=${Q}`}let S=()=>{};const T=new Promise(Q=>{S=Q}),N=e.callbacks,C=function(){var Q;(Q=N==null?void 0:N.onopen)===null||Q===void 0||Q.call(N),S({})},D=this.apiClient,B={onopen:C,onmessage:Q=>{kN(D,N.onmessage,Q)},onerror:(i=N==null?void 0:N.onerror)!==null&&i!==void 0?i:function(Q){},onclose:(r=N==null?void 0:N.onclose)!==null&&r!==void 0?r:function(Q){}},M=this.webSocketFactory.create(x,UN(_),B);M.connect(),await T;let J=Pe(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&J.startsWith("publishers/")){const Q=this.apiClient.getProject(),ve=this.apiClient.getLocation();J=`projects/${Q}/locations/${ve}/`+J}let X={};this.apiClient.isVertexAI()&&((o=e.config)===null||o===void 0?void 0:o.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[Wo.AUDIO]}:e.config.responseModalities=[Wo.AUDIO]),!((l=e.config)===null||l===void 0)&&l.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const K=(h=(c=e.config)===null||c===void 0?void 0:c.tools)!==null&&h!==void 0?h:[],H=[];for(const Q of K)if(this.isCallableTool(Q)){const ve=Q;H.push(await ve.tool())}else H.push(Q);H.length>0&&(e.config.tools=H);const ae={model:J,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?X=XT(this.apiClient,ae):X=YT(this.apiClient,ae),delete X.config,M.send(JSON.stringify(X)),new MN(M,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const DN={turnComplete:!0};class MN{constructor(e,i){this.conn=e,this.apiClient=i}tLiveClientContent(e,i){if(i.turns!==null&&i.turns!==void 0){let r=[];try{r=gn(i.turns),e.isVertexAI()||(r=r.map(o=>ol(o)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof i.turns}'`)}return{clientContent:{turns:r,turnComplete:i.turnComplete}}}return{clientContent:{turnComplete:i.turnComplete}}}tLiveClienttToolResponse(e,i){let r=[];if(i.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(i.functionResponses)?r=i.functionResponses:r=[i.functionResponses],r.length===0)throw new Error("functionResponses is required.");for(const l of r){if(typeof l!="object"||l===null||!("name"in l)||!("response"in l))throw new Error(`Could not parse function response, type '${typeof l}'.`);if(!e.isVertexAI()&&!("id"in l))throw new Error(RN)}return{toolResponse:{functionResponses:r}}}sendClientContent(e){e=Object.assign(Object.assign({},DN),e);const i=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(i))}sendRealtimeInput(e){let i={};this.apiClient.isVertexAI()?i={realtimeInput:eA(e)}:i={realtimeInput:ZT(e)},this.conn.send(JSON.stringify(i))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const i=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(i))}close(){this.conn.close()}}function UN(t){const e={};return t.forEach((i,r)=>{e[r]=i}),e}function PN(t){const e=new Headers;for(const[i,r]of Object.entries(t))e.append(i,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const A0=10;function C0(t){var e,i,r;if(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let o=!1;for(const c of(i=t==null?void 0:t.tools)!==null&&i!==void 0?i:[])if(fr(c)){o=!0;break}if(!o)return!0;const l=(r=t==null?void 0:t.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls;return l&&(l<0||!Number.isInteger(l))||l==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",l),!0):!1}function fr(t){return"callTool"in t&&typeof t.callTool=="function"}function LN(t){var e,i,r;return(r=(i=(e=t.config)===null||e===void 0?void 0:e.tools)===null||i===void 0?void 0:i.some(o=>fr(o)))!==null&&r!==void 0?r:!1}function N0(t){var e;const i=[];return!((e=t==null?void 0:t.config)===null||e===void 0)&&e.tools&&t.config.tools.forEach((r,o)=>{if(fr(r))return;const l=r;l.functionDeclarations&&l.functionDeclarations.length>0&&i.push(o)}),i}function R0(t){var e;return!(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ON extends ni{constructor(e){super(),this.apiClient=e,this.generateContent=async i=>{var r,o,l,c,h;const v=await this.processParamsMaybeAddMcpUsage(i);if(this.maybeMoveToResponseJsonSchem(i),!LN(i)||C0(i.config))return await this.generateContentInternal(v);const m=N0(i);if(m.length>0){const N=m.map(C=>`tools[${C}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${N}.`)}let x,b;const _=gn(v.contents),S=(l=(o=(r=v.config)===null||r===void 0?void 0:r.automaticFunctionCalling)===null||o===void 0?void 0:o.maximumRemoteCalls)!==null&&l!==void 0?l:A0;let T=0;for(;T<S&&(x=await this.generateContentInternal(v),!(!x.functionCalls||x.functionCalls.length===0));){const N=x.candidates[0].content,C=[];for(const D of(h=(c=i.config)===null||c===void 0?void 0:c.tools)!==null&&h!==void 0?h:[])if(fr(D)){const M=await D.callTool(x.functionCalls);C.push(...M)}T++,b={role:"user",parts:C},v.contents=gn(v.contents),v.contents.push(N),v.contents.push(b),R0(v.config)&&(_.push(N),_.push(b))}return R0(v.config)&&(x.automaticFunctionCallingHistory=_),x},this.generateContentStream=async i=>{var r,o,l,c,h;if(this.maybeMoveToResponseJsonSchem(i),C0(i.config)){const b=await this.processParamsMaybeAddMcpUsage(i);return await this.generateContentStreamInternal(b)}const v=N0(i);if(v.length>0){const b=v.map(_=>`tools[${_}]`).join(", ");throw new Error(`Incompatible tools found at ${b}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const m=(l=(o=(r=i==null?void 0:i.config)===null||r===void 0?void 0:r.toolConfig)===null||o===void 0?void 0:o.functionCallingConfig)===null||l===void 0?void 0:l.streamFunctionCallArguments,x=(h=(c=i==null?void 0:i.config)===null||c===void 0?void 0:c.automaticFunctionCalling)===null||h===void 0?void 0:h.disable;if(m&&!x)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(i)},this.generateImages=async i=>await this.generateImagesInternal(i).then(r=>{var o;let l;const c=[];if(r!=null&&r.generatedImages)for(const v of r.generatedImages)v&&(v!=null&&v.safetyAttributes)&&((o=v==null?void 0:v.safetyAttributes)===null||o===void 0?void 0:o.contentType)==="Positive Prompt"?l=v==null?void 0:v.safetyAttributes:c.push(v);let h;return l?h={generatedImages:c,positivePromptSafetyAttributes:l,sdkHttpResponse:r.sdkHttpResponse}:h={generatedImages:c,sdkHttpResponse:r.sdkHttpResponse},h}),this.list=async i=>{var r;const c={config:Object.assign(Object.assign({},{queryBase:!0}),i==null?void 0:i.config)};if(this.apiClient.isVertexAI()&&!c.config.queryBase){if(!((r=c.config)===null||r===void 0)&&r.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");c.config.filter="labels.tune-type:*"}return new cs(ei.PAGED_ITEM_MODELS,h=>this.listInternal(h),await this.listInternal(c),c)},this.editImage=async i=>{const r={model:i.model,prompt:i.prompt,referenceImages:[],config:i.config};return i.referenceImages&&i.referenceImages&&(r.referenceImages=i.referenceImages.map(o=>o.toReferenceImageAPI())),await this.editImageInternal(r)},this.upscaleImage=async i=>{let r={numberOfImages:1,mode:"upscale"};i.config&&(r=Object.assign(Object.assign({},r),i.config));const o={model:i.model,image:i.image,upscaleFactor:i.upscaleFactor,config:r};return await this.upscaleImageInternal(o)},this.generateVideos=async i=>{var r,o,l,c,h,v;if((i.prompt||i.image||i.video)&&i.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((r=i.video)===null||r===void 0)&&r.uri&&(!((o=i.video)===null||o===void 0)&&o.videoBytes)?i.video={uri:i.video.uri,mimeType:i.video.mimeType}:!((c=(l=i.source)===null||l===void 0?void 0:l.video)===null||c===void 0)&&c.uri&&(!((v=(h=i.source)===null||h===void 0?void 0:h.video)===null||v===void 0)&&v.videoBytes)&&(i.source.video={uri:i.source.video.uri,mimeType:i.source.video.mimeType})),await this.generateVideosInternal(i)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var i,r,o;const l=(i=e.config)===null||i===void 0?void 0:i.tools;if(!l)return e;const c=await Promise.all(l.map(async v=>fr(v)?await v.tool():v)),h={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:c})};if(h.config.tools=c,e.config&&e.config.tools&&Nv(e.config.tools)){const v=(o=(r=e.config.httpOptions)===null||r===void 0?void 0:r.headers)!==null&&o!==void 0?o:{};let m=Object.assign({},v);Object.keys(m).length===0&&(m=this.apiClient.getDefaultHeaders()),Rv(m),h.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:m})}return h}async initAfcToolsMap(e){var i,r,o;const l=new Map;for(const c of(r=(i=e.config)===null||i===void 0?void 0:i.tools)!==null&&r!==void 0?r:[])if(fr(c)){const h=c,v=await h.tool();for(const m of(o=v.functionDeclarations)!==null&&o!==void 0?o:[]){if(!m.name)throw new Error("Function declaration name is required.");if(l.has(m.name))throw new Error(`Duplicate tool declaration name: ${m.name}`);l.set(m.name,h)}}return l}async processAfcStream(e){var i,r,o;const l=(o=(r=(i=e.config)===null||i===void 0?void 0:i.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&o!==void 0?o:A0;let c=!1,h=0;const v=await this.initAfcToolsMap(e);return(function(m,x,b){return An(this,arguments,function*(){for(var _,S,T,N,C,D;h<l;){c&&(h++,c=!1);const X=yield me(m.processParamsMaybeAddMcpUsage(b)),K=yield me(m.generateContentStreamInternal(X)),H=[],ae=[];try{for(var B=!0,M=(S=void 0,Cn(K)),J;J=yield me(M.next()),_=J.done,!_;B=!0){N=J.value,B=!1;const Q=N;if(yield yield me(Q),Q.candidates&&(!((C=Q.candidates[0])===null||C===void 0)&&C.content)){ae.push(Q.candidates[0].content);for(const ve of(D=Q.candidates[0].content.parts)!==null&&D!==void 0?D:[])if(h<l&&ve.functionCall){if(!ve.functionCall.name)throw new Error("Function call name was not returned by the model.");if(x.has(ve.functionCall.name)){const _e=yield me(x.get(ve.functionCall.name).callTool([ve.functionCall]));H.push(..._e)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${x.keys()}, mising tool: ${ve.functionCall.name}`)}}}}catch(Q){S={error:Q}}finally{try{!B&&!_&&(T=M.return)&&(yield me(T.call(M)))}finally{if(S)throw S.error}}if(H.length>0){c=!0;const Q=new ca;Q.candidates=[{content:{role:"user",parts:H}}],yield yield me(Q);const ve=[];ve.push(...ae),ve.push({role:"user",parts:H});const _e=gn(b.contents).concat(ve);b.contents=_e}else break}})})(this,v,e)}async generateContentInternal(e){var i,r,o,l;let c,h="",v={};if(this.apiClient.isVertexAI()){const m=w0(this.apiClient,e);return h=ee("{model}:generateContent",m._url),v=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:v,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(x=>x.json().then(b=>{const _=b;return _.sdkHttpResponse={headers:x.headers},_})),c.then(x=>{const b=E0(x),_=new ca;return Object.assign(_,b),_})}else{const m=_0(this.apiClient,e);return h=ee("{model}:generateContent",m._url),v=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:v,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(x=>x.json().then(b=>{const _=b;return _.sdkHttpResponse={headers:x.headers},_})),c.then(x=>{const b=S0(x),_=new ca;return Object.assign(_,b),_})}}async generateContentStreamInternal(e){var i,r,o,l;let c,h="",v={};if(this.apiClient.isVertexAI()){const m=w0(this.apiClient,e);return h=ee("{model}:streamGenerateContent?alt=sse",m._url),v=m._query,delete m._url,delete m._query,c=this.apiClient.requestStream({path:h,queryParams:v,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}),c.then(function(b){return An(this,arguments,function*(){var _,S,T,N;try{for(var C=!0,D=Cn(b),B;B=yield me(D.next()),_=B.done,!_;C=!0){N=B.value,C=!1;const M=N,J=E0(yield me(M.json()));J.sdkHttpResponse={headers:M.headers};const X=new ca;Object.assign(X,J),yield yield me(X)}}catch(M){S={error:M}}finally{try{!C&&!_&&(T=D.return)&&(yield me(T.call(D)))}finally{if(S)throw S.error}}})})}else{const m=_0(this.apiClient,e);return h=ee("{model}:streamGenerateContent?alt=sse",m._url),v=m._query,delete m._url,delete m._query,c=this.apiClient.requestStream({path:h,queryParams:v,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}),c.then(function(b){return An(this,arguments,function*(){var _,S,T,N;try{for(var C=!0,D=Cn(b),B;B=yield me(D.next()),_=B.done,!_;C=!0){N=B.value,C=!1;const M=N,J=S0(yield me(M.json()));J.sdkHttpResponse={headers:M.headers};const X=new ca;Object.assign(X,J),yield yield me(X)}}catch(M){S={error:M}}finally{try{!C&&!_&&(T=D.return)&&(yield me(T.call(D)))}finally{if(S)throw S.error}}})})}}async embedContent(e){var i,r,o,l;let c,h="",v={};if(this.apiClient.isVertexAI()){const m=IA(this.apiClient,e);return h=ee("{model}:predict",m._url),v=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:v,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(x=>x.json().then(b=>{const _=b;return _.sdkHttpResponse={headers:x.headers},_})),c.then(x=>{const b=MA(x),_=new s0;return Object.assign(_,b),_})}else{const m=kA(this.apiClient,e);return h=ee("{model}:batchEmbedContents",m._url),v=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:v,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(x=>x.json().then(b=>{const _=b;return _.sdkHttpResponse={headers:x.headers},_})),c.then(x=>{const b=DA(x),_=new s0;return Object.assign(_,b),_})}}async generateImagesInternal(e){var i,r,o,l;let c,h="",v={};if(this.apiClient.isVertexAI()){const m=zA(this.apiClient,e);return h=ee("{model}:predict",m._url),v=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:v,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(x=>x.json().then(b=>{const _=b;return _.sdkHttpResponse={headers:x.headers},_})),c.then(x=>{const b=$A(x),_=new r0;return Object.assign(_,b),_})}else{const m=VA(this.apiClient,e);return h=ee("{model}:predict",m._url),v=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:v,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(x=>x.json().then(b=>{const _=b;return _.sdkHttpResponse={headers:x.headers},_})),c.then(x=>{const b=FA(x),_=new r0;return Object.assign(_,b),_})}}async editImageInternal(e){var i,r;let o,l="",c={};if(this.apiClient.isVertexAI()){const h=AA(this.apiClient,e);return l=ee("{model}:predict",h._url),c=h._query,delete h._url,delete h._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(v=>v.json().then(m=>{const x=m;return x.sdkHttpResponse={headers:v.headers},x})),o.then(v=>{const m=CA(v),x=new PS;return Object.assign(x,m),x})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var i,r;let o,l="",c={};if(this.apiClient.isVertexAI()){const h=zC(this.apiClient,e);return l=ee("{model}:predict",h._url),c=h._query,delete h._url,delete h._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(v=>v.json().then(m=>{const x=m;return x.sdkHttpResponse={headers:v.headers},x})),o.then(v=>{const m=FC(v),x=new LS;return Object.assign(x,m),x})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var i,r;let o,l="",c={};if(this.apiClient.isVertexAI()){const h=TC(this.apiClient,e);return l=ee("{model}:predict",h._url),c=h._query,delete h._url,delete h._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(v=>v.json()),o.then(v=>{const m=AC(v),x=new OS;return Object.assign(x,m),x})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var i,r;let o,l="",c={};if(this.apiClient.isVertexAI()){const h=DC(this.apiClient,e);return l=ee("{model}:predict",h._url),c=h._query,delete h._url,delete h._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(v=>v.json()),o.then(v=>{const m=MC(v),x=new GS;return Object.assign(x,m),x})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var i,r,o,l;let c,h="",v={};if(this.apiClient.isVertexAI()){const m=uC(this.apiClient,e);return h=ee("{name}",m._url),v=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:v,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(x=>x.json()),c.then(x=>ad(x))}else{const m=lC(this.apiClient,e);return h=ee("{name}",m._url),v=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:v,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(x=>x.json()),c.then(x=>rd(x))}}async listInternal(e){var i,r,o,l;let c,h="",v={};if(this.apiClient.isVertexAI()){const m=yC(this.apiClient,e);return h=ee("{models_url}",m._url),v=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:v,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(x=>x.json().then(b=>{const _=b;return _.sdkHttpResponse={headers:x.headers},_})),c.then(x=>{const b=bC(x),_=new a0;return Object.assign(_,b),_})}else{const m=vC(this.apiClient,e);return h=ee("{models_url}",m._url),v=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:v,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(x=>x.json().then(b=>{const _=b;return _.sdkHttpResponse={headers:x.headers},_})),c.then(x=>{const b=xC(x),_=new a0;return Object.assign(_,b),_})}}async update(e){var i,r,o,l;let c,h="",v={};if(this.apiClient.isVertexAI()){const m=qC(this.apiClient,e);return h=ee("{model}",m._url),v=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:v,body:JSON.stringify(m),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(x=>x.json()),c.then(x=>ad(x))}else{const m=HC(this.apiClient,e);return h=ee("{name}",m._url),v=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:v,body:JSON.stringify(m),httpMethod:"PATCH",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(x=>x.json()),c.then(x=>rd(x))}}async delete(e){var i,r,o,l;let c,h="",v={};if(this.apiClient.isVertexAI()){const m=wA(this.apiClient,e);return h=ee("{name}",m._url),v=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:v,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(x=>x.json().then(b=>{const _=b;return _.sdkHttpResponse={headers:x.headers},_})),c.then(x=>{const b=EA(x),_=new o0;return Object.assign(_,b),_})}else{const m=_A(this.apiClient,e);return h=ee("{name}",m._url),v=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:v,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(x=>x.json().then(b=>{const _=b;return _.sdkHttpResponse={headers:x.headers},_})),c.then(x=>{const b=SA(x),_=new o0;return Object.assign(_,b),_})}}async countTokens(e){var i,r,o,l;let c,h="",v={};if(this.apiClient.isVertexAI()){const m=yA(this.apiClient,e);return h=ee("{model}:countTokens",m._url),v=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:v,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(x=>x.json().then(b=>{const _=b;return _.sdkHttpResponse={headers:x.headers},_})),c.then(x=>{const b=bA(x),_=new l0;return Object.assign(_,b),_})}else{const m=vA(this.apiClient,e);return h=ee("{model}:countTokens",m._url),v=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:v,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(x=>x.json().then(b=>{const _=b;return _.sdkHttpResponse={headers:x.headers},_})),c.then(x=>{const b=xA(x),_=new l0;return Object.assign(_,b),_})}}async computeTokens(e){var i,r;let o,l="",c={};if(this.apiClient.isVertexAI()){const h=cA(this.apiClient,e);return l=ee("{model}:computeTokens",h._url),c=h._query,delete h._url,delete h._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(v=>v.json().then(m=>{const x=m;return x.sdkHttpResponse={headers:v.headers},x})),o.then(v=>{const m=dA(v),x=new jS;return Object.assign(x,m),x})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var i,r,o,l;let c,h="",v={};if(this.apiClient.isVertexAI()){const m=QA(this.apiClient,e);return h=ee("{model}:predictLongRunning",m._url),v=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:v,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(x=>x.json()),c.then(x=>{const b=XA(x),_=new Qo;return Object.assign(_,b),_})}else{const m=WA(this.apiClient,e);return h=ee("{model}:predictLongRunning",m._url),v=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:v,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(x=>x.json()),c.then(x=>{const b=YA(x),_=new Qo;return Object.assign(_,b),_})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class GN extends ni{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const i=e.operation,r=e.config;if(i.name===void 0||i.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const o=i.name.split("/operations/")[0];let l;r&&"httpOptions"in r&&(l=r.httpOptions);const c=await this.fetchPredictVideosOperationInternal({operationName:i.name,resourceName:o,config:{httpOptions:l}});return i._fromAPIResponse({apiResponse:c,_isVertexAI:!0})}else{const o=await this.getVideosOperationInternal({operationName:i.name,config:r});return i._fromAPIResponse({apiResponse:o,_isVertexAI:!1})}}async get(e){const i=e.operation,r=e.config;if(i.name===void 0||i.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const o=i.name.split("/operations/")[0];let l;r&&"httpOptions"in r&&(l=r.httpOptions);const c=await this.fetchPredictVideosOperationInternal({operationName:i.name,resourceName:o,config:{httpOptions:l}});return i._fromAPIResponse({apiResponse:c,_isVertexAI:!0})}else{const o=await this.getVideosOperationInternal({operationName:i.name,config:r});return i._fromAPIResponse({apiResponse:o,_isVertexAI:!1})}}async getVideosOperationInternal(e){var i,r,o,l;let c,h="",v={};if(this.apiClient.isVertexAI()){const m=RS(e);return h=ee("{operationName}",m._url),v=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:v,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(x=>x.json()),c}else{const m=NS(e);return h=ee("{operationName}",m._url),v=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:v,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(x=>x.json()),c}}async fetchPredictVideosOperationInternal(e){var i,r;let o,l="",c={};if(this.apiClient.isVertexAI()){const h=_S(e);return l=ee("{resourceName}:fetchPredictOperation",h._url),c=h._query,delete h._url,delete h._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(v=>v.json()),o}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function jN(t){const e={},i=d(t,["data"]);if(i!=null&&f(e,["data"],i),d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=d(t,["mimeType"]);return r!=null&&f(e,["mimeType"],r),e}function BN(t){const e={},i=d(t,["parts"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>YN(l))),f(e,["parts"],o)}const r=d(t,["role"]);return r!=null&&f(e,["role"],r),e}function HN(t,e,i){const r={},o=d(e,["expireTime"]);i!==void 0&&o!=null&&f(i,["expireTime"],o);const l=d(e,["newSessionExpireTime"]);i!==void 0&&l!=null&&f(i,["newSessionExpireTime"],l);const c=d(e,["uses"]);i!==void 0&&c!=null&&f(i,["uses"],c);const h=d(e,["liveConnectConstraints"]);i!==void 0&&h!=null&&f(i,["bidiGenerateContentSetup"],KN(t,h));const v=d(e,["lockAdditionalFields"]);return i!==void 0&&v!=null&&f(i,["fieldMask"],v),r}function qN(t,e){const i={},r=d(e,["config"]);return r!=null&&f(i,["config"],HN(t,r,i)),i}function VN(t){const e={};if(d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=d(t,["fileUri"]);i!=null&&f(e,["fileUri"],i);const r=d(t,["mimeType"]);return r!=null&&f(e,["mimeType"],r),e}function zN(t){const e={},i=d(t,["id"]);i!=null&&f(e,["id"],i);const r=d(t,["args"]);r!=null&&f(e,["args"],r);const o=d(t,["name"]);if(o!=null&&f(e,["name"],o),d(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(d(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function FN(t){const e={};if(d(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const i=d(t,["enableWidget"]);return i!=null&&f(e,["enableWidget"],i),e}function $N(t){const e={};if(d(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(d(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const i=d(t,["timeRangeFilter"]);return i!=null&&f(e,["timeRangeFilter"],i),e}function JN(t,e){const i={},r=d(t,["generationConfig"]);e!==void 0&&r!=null&&f(e,["setup","generationConfig"],r);const o=d(t,["responseModalities"]);e!==void 0&&o!=null&&f(e,["setup","generationConfig","responseModalities"],o);const l=d(t,["temperature"]);e!==void 0&&l!=null&&f(e,["setup","generationConfig","temperature"],l);const c=d(t,["topP"]);e!==void 0&&c!=null&&f(e,["setup","generationConfig","topP"],c);const h=d(t,["topK"]);e!==void 0&&h!=null&&f(e,["setup","generationConfig","topK"],h);const v=d(t,["maxOutputTokens"]);e!==void 0&&v!=null&&f(e,["setup","generationConfig","maxOutputTokens"],v);const m=d(t,["mediaResolution"]);e!==void 0&&m!=null&&f(e,["setup","generationConfig","mediaResolution"],m);const x=d(t,["seed"]);e!==void 0&&x!=null&&f(e,["setup","generationConfig","seed"],x);const b=d(t,["speechConfig"]);e!==void 0&&b!=null&&f(e,["setup","generationConfig","speechConfig"],Ad(b));const _=d(t,["thinkingConfig"]);e!==void 0&&_!=null&&f(e,["setup","generationConfig","thinkingConfig"],_);const S=d(t,["enableAffectiveDialog"]);e!==void 0&&S!=null&&f(e,["setup","generationConfig","enableAffectiveDialog"],S);const T=d(t,["systemInstruction"]);e!==void 0&&T!=null&&f(e,["setup","systemInstruction"],BN(Dt(T)));const N=d(t,["tools"]);if(e!==void 0&&N!=null){let K=pr(N);Array.isArray(K)&&(K=K.map(H=>WN(hr(H)))),f(e,["setup","tools"],K)}const C=d(t,["sessionResumption"]);e!==void 0&&C!=null&&f(e,["setup","sessionResumption"],XN(C));const D=d(t,["inputAudioTranscription"]);e!==void 0&&D!=null&&f(e,["setup","inputAudioTranscription"],D);const B=d(t,["outputAudioTranscription"]);e!==void 0&&B!=null&&f(e,["setup","outputAudioTranscription"],B);const M=d(t,["realtimeInputConfig"]);e!==void 0&&M!=null&&f(e,["setup","realtimeInputConfig"],M);const J=d(t,["contextWindowCompression"]);e!==void 0&&J!=null&&f(e,["setup","contextWindowCompression"],J);const X=d(t,["proactivity"]);if(e!==void 0&&X!=null&&f(e,["setup","proactivity"],X),d(t,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return i}function KN(t,e){const i={},r=d(e,["model"]);r!=null&&f(i,["setup","model"],Pe(t,r));const o=d(e,["config"]);return o!=null&&f(i,["config"],JN(o,i)),i}function YN(t){const e={},i=d(t,["mediaResolution"]);i!=null&&f(e,["mediaResolution"],i);const r=d(t,["codeExecutionResult"]);r!=null&&f(e,["codeExecutionResult"],r);const o=d(t,["executableCode"]);o!=null&&f(e,["executableCode"],o);const l=d(t,["fileData"]);l!=null&&f(e,["fileData"],VN(l));const c=d(t,["functionCall"]);c!=null&&f(e,["functionCall"],zN(c));const h=d(t,["functionResponse"]);h!=null&&f(e,["functionResponse"],h);const v=d(t,["inlineData"]);v!=null&&f(e,["inlineData"],jN(v));const m=d(t,["text"]);m!=null&&f(e,["text"],m);const x=d(t,["thought"]);x!=null&&f(e,["thought"],x);const b=d(t,["thoughtSignature"]);b!=null&&f(e,["thoughtSignature"],b);const _=d(t,["videoMetadata"]);return _!=null&&f(e,["videoMetadata"],_),e}function XN(t){const e={},i=d(t,["handle"]);if(i!=null&&f(e,["handle"],i),d(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function WN(t){const e={},i=d(t,["functionDeclarations"]);if(i!=null){let x=i;Array.isArray(x)&&(x=x.map(b=>b)),f(e,["functionDeclarations"],x)}if(d(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=d(t,["googleSearchRetrieval"]);r!=null&&f(e,["googleSearchRetrieval"],r);const o=d(t,["computerUse"]);o!=null&&f(e,["computerUse"],o);const l=d(t,["fileSearch"]);l!=null&&f(e,["fileSearch"],l);const c=d(t,["codeExecution"]);if(c!=null&&f(e,["codeExecution"],c),d(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const h=d(t,["googleMaps"]);h!=null&&f(e,["googleMaps"],FN(h));const v=d(t,["googleSearch"]);v!=null&&f(e,["googleSearch"],$N(v));const m=d(t,["urlContext"]);return m!=null&&f(e,["urlContext"],m),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function QN(t){const e=[];for(const i in t)if(Object.prototype.hasOwnProperty.call(t,i)){const r=t[i];if(typeof r=="object"&&r!=null&&Object.keys(r).length>0){const o=Object.keys(r).map(l=>`${i}.${l}`);e.push(...o)}else e.push(i)}return e.join(",")}function ZN(t,e){let i=null;const r=t.bidiGenerateContentSetup;if(typeof r=="object"&&r!==null&&"setup"in r){const l=r.setup;typeof l=="object"&&l!==null?(t.bidiGenerateContentSetup=l,i=l):delete t.bidiGenerateContentSetup}else r!==void 0&&delete t.bidiGenerateContentSetup;const o=t.fieldMask;if(i){const l=QN(i);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)l?t.fieldMask=l:delete t.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&o!==null&&Array.isArray(o)&&o.length>0){const c=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let h=[];o.length>0&&(h=o.map(m=>c.includes(m)?`generationConfig.${m}`:m));const v=[];l&&v.push(l),h.length>0&&v.push(...h),v.length>0?t.fieldMask=v.join(","):delete t.fieldMask}else delete t.fieldMask}else o!==null&&Array.isArray(o)&&o.length>0?t.fieldMask=o.join(","):delete t.fieldMask;return t}class e1 extends ni{constructor(e){super(),this.apiClient=e}async create(e){var i,r;let o,l="",c={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const h=qN(this.apiClient,e);l=ee("auth_tokens",h._url),c=h._query,delete h.config,delete h._url,delete h._query;const v=ZN(h,e.config);return o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(v),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(m=>m.json()),o.then(m=>m)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function t1(t,e){const i={},r=d(t,["force"]);return e!==void 0&&r!=null&&f(e,["_query","force"],r),i}function n1(t){const e={},i=d(t,["name"]);i!=null&&f(e,["_url","name"],i);const r=d(t,["config"]);return r!=null&&t1(r,e),e}function i1(t){const e={},i=d(t,["name"]);return i!=null&&f(e,["_url","name"],i),e}function s1(t,e){const i={},r=d(t,["pageSize"]);e!==void 0&&r!=null&&f(e,["_query","pageSize"],r);const o=d(t,["pageToken"]);return e!==void 0&&o!=null&&f(e,["_query","pageToken"],o),i}function r1(t){const e={},i=d(t,["parent"]);i!=null&&f(e,["_url","parent"],i);const r=d(t,["config"]);return r!=null&&s1(r,e),e}function a1(t){const e={},i=d(t,["sdkHttpResponse"]);i!=null&&f(e,["sdkHttpResponse"],i);const r=d(t,["nextPageToken"]);r!=null&&f(e,["nextPageToken"],r);const o=d(t,["documents"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(c=>c)),f(e,["documents"],l)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class o1 extends ni{constructor(e){super(),this.apiClient=e,this.list=async i=>new cs(ei.PAGED_ITEM_DOCUMENTS,r=>this.listInternal({parent:i.parent,config:r.config}),await this.listInternal(i),i)}async get(e){var i,r;let o,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=i1(e);return l=ee("{name}",h._url),c=h._query,delete h._url,delete h._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(v=>v.json()),o.then(v=>v)}}async delete(e){var i,r;let o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=n1(e);o=ee("{name}",c._url),l=c._query,delete c._url,delete c._query,await this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(e){var i,r;let o,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=r1(e);return l=ee("{parent}/documents",h._url),c=h._query,delete h._url,delete h._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(v=>v.json()),o.then(v=>{const m=a1(v),x=new BS;return Object.assign(x,m),x})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class l1 extends ni{constructor(e,i=new o1(e)){super(),this.apiClient=e,this.documents=i,this.list=async(r={})=>new cs(ei.PAGED_ITEM_FILE_SEARCH_STORES,o=>this.listInternal(o),await this.listInternal(r),r)}async uploadToFileSearchStore(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(e.fileSearchStoreName,e.file,e.config)}async create(e){var i,r;let o,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=QC(e);return l=ee("fileSearchStores",h._url),c=h._query,delete h._url,delete h._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(v=>v.json()),o.then(v=>v)}}async get(e){var i,r;let o,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=tN(e);return l=ee("{name}",h._url),c=h._query,delete h._url,delete h._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(v=>v.json()),o.then(v=>v)}}async delete(e){var i,r;let o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=eN(e);o=ee("{name}",c._url),l=c._query,delete c._url,delete c._query,await this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(e){var i,r;let o,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=oN(e);return l=ee("fileSearchStores",h._url),c=h._query,delete h._url,delete h._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(v=>v.json()),o.then(v=>{const m=lN(v),x=new HS;return Object.assign(x,m),x})}}async uploadToFileSearchStoreInternal(e){var i,r;let o,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=uN(e);return l=ee("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",h._url),c=h._query,delete h._url,delete h._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(v=>v.json()),o.then(v=>{const m=cN(v),x=new qS;return Object.assign(x,m),x})}}async importFile(e){var i,r;let o,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=sN(e);return l=ee("{file_search_store_name}:importFile",h._url),c=h._query,delete h._url,delete h._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(v=>v.json()),o.then(v=>{const m=iN(v),x=new _d;return Object.assign(x,m),x})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let kv=function(){const{crypto:t}=globalThis;if(t!=null&&t.randomUUID)return kv=t.randomUUID.bind(t),t.randomUUID();const e=new Uint8Array(1),i=t?()=>t.getRandomValues(e)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,r=>(+r^i()&15>>+r/4).toString(16))};const u1=()=>kv();/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ld(t){return typeof t=="object"&&t!==null&&("name"in t&&t.name==="AbortError"||"message"in t&&String(t.message).includes("FetchRequestCanceledException"))}const ud=t=>{if(t instanceof Error)return t;if(typeof t=="object"&&t!==null){try{if(Object.prototype.toString.call(t)==="[object Error]"){const e=new Error(t.message,t.cause?{cause:t.cause}:{});return t.stack&&(e.stack=t.stack),t.cause&&!e.cause&&(e.cause=t.cause),t.name&&(e.name=t.name),e}}catch{}try{return new Error(JSON.stringify(t))}catch{}}return new Error(t)};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class vn extends Error{}class Lt extends vn{constructor(e,i,r,o){super(`${Lt.makeMessage(e,i,r)}`),this.status=e,this.headers=o,this.error=i}static makeMessage(e,i,r){const o=i!=null&&i.message?typeof i.message=="string"?i.message:JSON.stringify(i.message):i?JSON.stringify(i):r;return e&&o?`${e} ${o}`:e?`${e} status code (no body)`:o||"(no status code or body)"}static generate(e,i,r,o){if(!e||!o)return new cl({message:r,cause:ud(i)});const l=i;return e===400?new Dv(e,l,r,o):e===401?new Mv(e,l,r,o):e===403?new Uv(e,l,r,o):e===404?new Pv(e,l,r,o):e===409?new Lv(e,l,r,o):e===422?new Ov(e,l,r,o):e===429?new Gv(e,l,r,o):e>=500?new jv(e,l,r,o):new Lt(e,l,r,o)}}class cd extends Lt{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0)}}class cl extends Lt{constructor({message:e,cause:i}){super(void 0,void 0,e||"Connection error.",void 0),i&&(this.cause=i)}}class Iv extends cl{constructor({message:e}={}){super({message:e??"Request timed out."})}}class Dv extends Lt{}class Mv extends Lt{}class Uv extends Lt{}class Pv extends Lt{}class Lv extends Lt{}class Ov extends Lt{}class Gv extends Lt{}class jv extends Lt{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const c1=/^[a-z][a-z0-9+.-]*:/i,d1=t=>c1.test(t);let dd=t=>(dd=Array.isArray,dd(t));const f1=dd;let h1=f1;const k0=h1;function p1(t){if(!t)return!0;for(const e in t)return!1;return!0}function m1(t,e){return Object.prototype.hasOwnProperty.call(t,e)}const g1=(t,e)=>{if(typeof e!="number"||!Number.isInteger(e))throw new vn(`${t} must be an integer`);if(e<0)throw new vn(`${t} must be a positive integer`);return e},v1=t=>{try{return JSON.parse(t)}catch{return}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const y1=t=>new Promise(e=>setTimeout(e,t));/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const ar="0.0.1";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function x1(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const b1=()=>{var t,e,i,r,o;const l=x1();if(l==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ar,"X-Stainless-OS":D0(Deno.build.os),"X-Stainless-Arch":I0(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:(e=(t=Deno.version)===null||t===void 0?void 0:t.deno)!==null&&e!==void 0?e:"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ar,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(l==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ar,"X-Stainless-OS":D0((i=globalThis.process.platform)!==null&&i!==void 0?i:"unknown"),"X-Stainless-Arch":I0((r=globalThis.process.arch)!==null&&r!==void 0?r:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":(o=globalThis.process.version)!==null&&o!==void 0?o:"unknown"};const c=_1();return c?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ar,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${c.browser}`,"X-Stainless-Runtime-Version":c.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ar,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function _1(){if(typeof navigator>"u"||!navigator)return null;const t=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:e,pattern:i}of t){const r=i.exec(navigator.userAgent);if(r){const o=r[1]||0,l=r[2]||0,c=r[3]||0;return{browser:e,version:`${o}.${l}.${c}`}}}return null}const I0=t=>t==="x32"?"x32":t==="x86_64"||t==="x64"?"x64":t==="arm"?"arm":t==="aarch64"||t==="arm64"?"arm64":t?`other:${t}`:"unknown",D0=t=>(t=t.toLowerCase(),t.includes("ios")?"iOS":t==="android"?"Android":t==="darwin"?"MacOS":t==="win32"?"Windows":t==="freebsd"?"FreeBSD":t==="openbsd"?"OpenBSD":t==="linux"?"Linux":t?`Other:${t}`:"Unknown");let Ho;const w1=()=>Ho??(Ho=b1());/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function S1(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function Bv(...t){const e=globalThis.ReadableStream;if(typeof e>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new e(...t)}function E1(t){let e=Symbol.asyncIterator in t?t[Symbol.asyncIterator]():t[Symbol.iterator]();return Bv({start(){},async pull(i){const{done:r,value:o}=await e.next();r?i.close():i.enqueue(o)},async cancel(){var i;await((i=e.return)===null||i===void 0?void 0:i.call(e))}})}function Hv(t){if(t[Symbol.asyncIterator])return t;const e=t.getReader();return{async next(){try{const i=await e.read();return i!=null&&i.done&&e.releaseLock(),i}catch(i){throw e.releaseLock(),i}},async return(){const i=e.cancel();return e.releaseLock(),await i,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function T1(t){var e,i;if(t===null||typeof t!="object")return;if(t[Symbol.asyncIterator]){await((i=(e=t[Symbol.asyncIterator]()).return)===null||i===void 0?void 0:i.call(e));return}const r=t.getReader(),o=r.cancel();r.releaseLock(),await o}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const A1=({headers:t,body:e})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(e)});/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const qv=()=>{var t;if(typeof File>"u"){const{process:e}=globalThis,i=typeof((t=e==null?void 0:e.versions)===null||t===void 0?void 0:t.node)=="string"&&parseInt(e.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(i?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function Hc(t,e,i){return qv(),new File(t,e??"unknown_file",i)}function C1(t){return(typeof t=="object"&&t!==null&&("name"in t&&t.name&&String(t.name)||"url"in t&&t.url&&String(t.url)||"filename"in t&&t.filename&&String(t.filename)||"path"in t&&t.path&&String(t.path))||"").split(/[\\/]/).pop()||void 0}const N1=t=>t!=null&&typeof t=="object"&&typeof t[Symbol.asyncIterator]=="function";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Vv=t=>t!=null&&typeof t=="object"&&typeof t.size=="number"&&typeof t.type=="string"&&typeof t.text=="function"&&typeof t.slice=="function"&&typeof t.arrayBuffer=="function",R1=t=>t!=null&&typeof t=="object"&&typeof t.name=="string"&&typeof t.lastModified=="number"&&Vv(t),k1=t=>t!=null&&typeof t=="object"&&typeof t.url=="string"&&typeof t.blob=="function";async function I1(t,e,i){if(qv(),t=await t,R1(t))return t instanceof File?t:Hc([await t.arrayBuffer()],t.name);if(k1(t)){const o=await t.blob();return e||(e=new URL(t.url).pathname.split(/[\\/]/).pop()),Hc(await fd(o),e,i)}const r=await fd(t);if(e||(e=C1(t)),!(i!=null&&i.type)){const o=r.find(l=>typeof l=="object"&&"type"in l&&l.type);typeof o=="string"&&(i=Object.assign(Object.assign({},i),{type:o}))}return Hc(r,e,i)}async function fd(t){var e,i,r,o,l;let c=[];if(typeof t=="string"||ArrayBuffer.isView(t)||t instanceof ArrayBuffer)c.push(t);else if(Vv(t))c.push(t instanceof Blob?t:await t.arrayBuffer());else if(N1(t))try{for(var h=!0,v=Cn(t),m;m=await v.next(),e=m.done,!e;h=!0){o=m.value,h=!1;const x=o;c.push(...await fd(x))}}catch(x){i={error:x}}finally{try{!h&&!e&&(r=v.return)&&await r.call(v)}finally{if(i)throw i.error}}else{const x=(l=t==null?void 0:t.constructor)===null||l===void 0?void 0:l.name;throw new Error(`Unexpected data type: ${typeof t}${x?`; constructor: ${x}`:""}${D1(t)}`)}return c}function D1(t){return typeof t!="object"||t===null?"":`; props: [${Object.getOwnPropertyNames(t).map(i=>`"${i}"`).join(", ")}]`}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class zv{constructor(e){this._client=e}}zv._key=[];/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Fv(t){return t.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const M0=Object.freeze(Object.create(null)),M1=(t=Fv)=>(function(i,...r){if(i.length===1)return i[0];let o=!1;const l=[],c=i.reduce((x,b,_)=>{var S,T,N;/[?#]/.test(b)&&(o=!0);const C=r[_];let D=(o?encodeURIComponent:t)(""+C);return _!==r.length&&(C==null||typeof C=="object"&&C.toString===((N=Object.getPrototypeOf((T=Object.getPrototypeOf((S=C.hasOwnProperty)!==null&&S!==void 0?S:M0))!==null&&T!==void 0?T:M0))===null||N===void 0?void 0:N.toString))&&(D=C+"",l.push({start:x.length+b.length,length:D.length,error:`Value of type ${Object.prototype.toString.call(C).slice(8,-1)} is not a valid path parameter`})),x+b+(_===r.length?"":D)},""),h=c.split(/[?#]/,1)[0],v=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let m;for(;(m=v.exec(h))!==null;)l.push({start:m.index,length:m[0].length,error:`Value "${m[0]}" can't be safely passed as a path parameter`});if(l.sort((x,b)=>x.start-b.start),l.length>0){let x=0;const b=l.reduce((_,S)=>{const T=" ".repeat(S.start-x),N="^".repeat(S.length);return x=S.start+S.length,_+T+N},"");throw new vn(`Path parameters result in path with invalid segments:
${l.map(_=>_.error).join(`
`)}
${c}
${b}`)}return c}),qo=M1(Fv);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class $v extends zv{create(e,i){var r;const{api_version:o=this._client.apiVersion}=e,l=el(e,["api_version"]);if("model"in l&&"agent_config"in l)throw new vn("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in l&&"generation_config"in l)throw new vn("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post(qo`/${o}/interactions`,Object.assign(Object.assign({body:l},i),{stream:(r=e.stream)!==null&&r!==void 0?r:!1}))}delete(e,i={},r){const{api_version:o=this._client.apiVersion}=i??{};return this._client.delete(qo`/${o}/interactions/${e}`,r)}cancel(e,i={},r){const{api_version:o=this._client.apiVersion}=i??{};return this._client.post(qo`/${o}/interactions/${e}/cancel`,r)}get(e,i={},r){var o;const l=i??{},{api_version:c=this._client.apiVersion}=l,h=el(l,["api_version"]);return this._client.get(qo`/${c}/interactions/${e}`,Object.assign(Object.assign({query:h},r),{stream:(o=i==null?void 0:i.stream)!==null&&o!==void 0?o:!1}))}}$v._key=Object.freeze(["interactions"]);class Jv extends $v{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function U1(t){let e=0;for(const o of t)e+=o.length;const i=new Uint8Array(e);let r=0;for(const o of t)i.set(o,r),r+=o.length;return i}let Vo;function Nd(t){let e;return(Vo??(e=new globalThis.TextEncoder,Vo=e.encode.bind(e)))(t)}let zo;function U0(t){let e;return(zo??(e=new globalThis.TextDecoder,zo=e.decode.bind(e)))(t)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class dl{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(e){if(e==null)return[];const i=e instanceof ArrayBuffer?new Uint8Array(e):typeof e=="string"?Nd(e):e;this.buffer=U1([this.buffer,i]);const r=[];let o;for(;(o=P1(this.buffer,this.carriageReturnIndex))!=null;){if(o.carriage&&this.carriageReturnIndex==null){this.carriageReturnIndex=o.index;continue}if(this.carriageReturnIndex!=null&&(o.index!==this.carriageReturnIndex+1||o.carriage)){r.push(U0(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}const l=this.carriageReturnIndex!==null?o.preceding-1:o.preceding,c=U0(this.buffer.subarray(0,l));r.push(c),this.buffer=this.buffer.subarray(o.index),this.carriageReturnIndex=null}return r}flush(){return this.buffer.length?this.decode(`
`):[]}}dl.NEWLINE_CHARS=new Set([`
`,"\r"]);dl.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function P1(t,e){for(let o=e??0;o<t.length;o++){if(t[o]===10)return{preceding:o,index:o+1,carriage:!1};if(t[o]===13)return{preceding:o,index:o+1,carriage:!0}}return null}function L1(t){for(let r=0;r<t.length-1;r++){if(t[r]===10&&t[r+1]===10||t[r]===13&&t[r+1]===13)return r+2;if(t[r]===13&&t[r+1]===10&&r+3<t.length&&t[r+2]===13&&t[r+3]===10)return r+4}return-1}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const tl={off:0,error:200,warn:300,info:400,debug:500},P0=(t,e,i)=>{if(t){if(m1(tl,t))return t;Pt(i).warn(`${e} was set to ${JSON.stringify(t)}, expected one of ${JSON.stringify(Object.keys(tl))}`)}};function ha(){}function Fo(t,e,i){return!e||tl[t]>tl[i]?ha:e[t].bind(e)}const O1={error:ha,warn:ha,info:ha,debug:ha};let L0=new WeakMap;function Pt(t){var e;const i=t.logger,r=(e=t.logLevel)!==null&&e!==void 0?e:"off";if(!i)return O1;const o=L0.get(i);if(o&&o[0]===r)return o[1];const l={error:Fo("error",i,r),warn:Fo("warn",i,r),info:Fo("info",i,r),debug:Fo("debug",i,r)};return L0.set(i,[r,l]),l}const as=t=>(t.options&&(t.options=Object.assign({},t.options),delete t.options.headers),t.headers&&(t.headers=Object.fromEntries((t.headers instanceof Headers?[...t.headers]:Object.entries(t.headers)).map(([e,i])=>[e,e.toLowerCase()==="x-goog-api-key"||e.toLowerCase()==="authorization"||e.toLowerCase()==="cookie"||e.toLowerCase()==="set-cookie"?"***":i]))),"retryOfRequestLogID"in t&&(t.retryOfRequestLogID&&(t.retryOf=t.retryOfRequestLogID),delete t.retryOfRequestLogID),t);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ur{constructor(e,i,r){this.iterator=e,this.controller=i,this.client=r}static fromSSEResponse(e,i,r){let o=!1;const l=r?Pt(r):console;function c(){return An(this,arguments,function*(){var v,m,x,b;if(o)throw new vn("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");o=!0;let _=!1;try{try{for(var S=!0,T=Cn(G1(e,i)),N;N=yield me(T.next()),v=N.done,!v;S=!0){b=N.value,S=!1;const C=b;if(!_)if(C.data.startsWith("[DONE]")){_=!0;continue}else try{yield yield me(JSON.parse(C.data))}catch(D){throw l.error("Could not parse message into JSON:",C.data),l.error("From chunk:",C.raw),D}}}catch(C){m={error:C}}finally{try{!S&&!v&&(x=T.return)&&(yield me(x.call(T)))}finally{if(m)throw m.error}}_=!0}catch(C){if(ld(C))return yield me(void 0);throw C}finally{_||i.abort()}})}return new ur(c,i,r)}static fromReadableStream(e,i,r){let o=!1;function l(){return An(this,arguments,function*(){var v,m,x,b;const _=new dl,S=Hv(e);try{for(var T=!0,N=Cn(S),C;C=yield me(N.next()),v=C.done,!v;T=!0){b=C.value,T=!1;const D=b;for(const B of _.decode(D))yield yield me(B)}}catch(D){m={error:D}}finally{try{!T&&!v&&(x=N.return)&&(yield me(x.call(N)))}finally{if(m)throw m.error}}for(const D of _.flush())yield yield me(D)})}function c(){return An(this,arguments,function*(){var v,m,x,b;if(o)throw new vn("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");o=!0;let _=!1;try{try{for(var S=!0,T=Cn(l()),N;N=yield me(T.next()),v=N.done,!v;S=!0){b=N.value,S=!1;const C=b;_||C&&(yield yield me(JSON.parse(C)))}}catch(C){m={error:C}}finally{try{!S&&!v&&(x=T.return)&&(yield me(x.call(T)))}finally{if(m)throw m.error}}_=!0}catch(C){if(ld(C))return yield me(void 0);throw C}finally{_||i.abort()}})}return new ur(c,i,r)}[Symbol.asyncIterator](){return this.iterator()}tee(){const e=[],i=[],r=this.iterator(),o=l=>({next:()=>{if(l.length===0){const c=r.next();e.push(c),i.push(c)}return l.shift()}});return[new ur(()=>o(e),this.controller,this.client),new ur(()=>o(i),this.controller,this.client)]}toReadableStream(){const e=this;let i;return Bv({async start(){i=e[Symbol.asyncIterator]()},async pull(r){try{const{value:o,done:l}=await i.next();if(l)return r.close();const c=Nd(JSON.stringify(o)+`
`);r.enqueue(c)}catch(o){r.error(o)}},async cancel(){var r;await((r=i.return)===null||r===void 0?void 0:r.call(i))}})}}function G1(t,e){return An(this,arguments,function*(){var r,o,l,c;if(!t.body)throw e.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new vn("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new vn("Attempted to iterate over a response with no body");const h=new B1,v=new dl,m=Hv(t.body);try{for(var x=!0,b=Cn(j1(m)),_;_=yield me(b.next()),r=_.done,!r;x=!0){c=_.value,x=!1;const S=c;for(const T of v.decode(S)){const N=h.decode(T);N&&(yield yield me(N))}}}catch(S){o={error:S}}finally{try{!x&&!r&&(l=b.return)&&(yield me(l.call(b)))}finally{if(o)throw o.error}}for(const S of v.flush()){const T=h.decode(S);T&&(yield yield me(T))}})}function j1(t){return An(this,arguments,function*(){var i,r,o,l;let c=new Uint8Array;try{for(var h=!0,v=Cn(t),m;m=yield me(v.next()),i=m.done,!i;h=!0){l=m.value,h=!1;const x=l;if(x==null)continue;const b=x instanceof ArrayBuffer?new Uint8Array(x):typeof x=="string"?Nd(x):x;let _=new Uint8Array(c.length+b.length);_.set(c),_.set(b,c.length),c=_;let S;for(;(S=L1(c))!==-1;)yield yield me(c.slice(0,S)),c=c.slice(S)}}catch(x){r={error:x}}finally{try{!h&&!i&&(o=v.return)&&(yield me(o.call(v)))}finally{if(r)throw r.error}}c.length>0&&(yield yield me(c))})}class B1{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;const l={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],l}if(this.chunks.push(e),e.startsWith(":"))return null;let[i,r,o]=H1(e,":");return o.startsWith(" ")&&(o=o.substring(1)),i==="event"?this.event=o:i==="data"&&this.data.push(o),null}}function H1(t,e){const i=t.indexOf(e);return i!==-1?[t.substring(0,i),e,t.substring(i+e.length)]:[t,"",""]}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function q1(t,e){const{response:i,requestLogID:r,retryOfRequestLogID:o,startTime:l}=e,c=await(async()=>{var h;if(e.options.stream)return Pt(t).debug("response",i.status,i.url,i.headers,i.body),e.options.__streamClass?e.options.__streamClass.fromSSEResponse(i,e.controller,t):ur.fromSSEResponse(i,e.controller,t);if(i.status===204)return null;if(e.options.__binaryResponse)return i;const v=i.headers.get("content-type"),m=(h=v==null?void 0:v.split(";")[0])===null||h===void 0?void 0:h.trim();return(m==null?void 0:m.includes("application/json"))||(m==null?void 0:m.endsWith("+json"))?await i.json():await i.text()})();return Pt(t).debug(`[${r}] response parsed`,as({retryOfRequestLogID:o,url:i.url,status:i.status,body:c,durationMs:Date.now()-l})),c}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Rd extends Promise{constructor(e,i,r=q1){super(o=>{o(null)}),this.responsePromise=i,this.parseResponse=r,this.client=e}_thenUnwrap(e){return new Rd(this.client,this.responsePromise,async(i,r)=>e(await this.parseResponse(i,r),r))}asResponse(){return this.responsePromise.then(e=>e.response)}async withResponse(){const[e,i]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:i}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(e=>this.parseResponse(this.client,e))),this.parsedPromise}then(e,i){return this.parse().then(e,i)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Kv=Symbol("brand.privateNullableHeaders");function*V1(t){if(!t)return;if(Kv in t){const{values:r,nulls:o}=t;yield*r.entries();for(const l of o)yield[l,null];return}let e=!1,i;t instanceof Headers?i=t.entries():k0(t)?i=t:(e=!0,i=Object.entries(t??{}));for(let r of i){const o=r[0];if(typeof o!="string")throw new TypeError("expected header name to be a string");const l=k0(r[1])?r[1]:[r[1]];let c=!1;for(const h of l)h!==void 0&&(e&&!c&&(c=!0,yield[o,null]),yield[o,h])}}const da=t=>{const e=new Headers,i=new Set;for(const r of t){const o=new Set;for(const[l,c]of V1(r)){const h=l.toLowerCase();o.has(h)||(e.delete(l),o.add(h)),c===null?(e.delete(l),i.add(h)):(e.append(l,c),i.delete(h))}}return{[Kv]:!0,values:e,nulls:i}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const qc=t=>{var e,i,r,o,l,c;if(typeof globalThis.process<"u")return(r=(i=(e=mS)===null||e===void 0?void 0:e[t])===null||i===void 0?void 0:i.trim())!==null&&r!==void 0?r:void 0;if(typeof globalThis.Deno<"u")return(c=(l=(o=globalThis.Deno.env)===null||o===void 0?void 0:o.get)===null||l===void 0?void 0:l.call(o,t))===null||c===void 0?void 0:c.trim()};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Yv;class fl{constructor(e){var i,r,o,l,c,h,v,{baseURL:m=qc("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:x=(i=qc("GEMINI_API_KEY"))!==null&&i!==void 0?i:null,apiVersion:b="v1beta"}=e,_=el(e,["baseURL","apiKey","apiVersion"]);const S=Object.assign(Object.assign({apiKey:x,apiVersion:b},_),{baseURL:m||"https://generativelanguage.googleapis.com"});this.baseURL=S.baseURL,this.timeout=(r=S.timeout)!==null&&r!==void 0?r:fl.DEFAULT_TIMEOUT,this.logger=(o=S.logger)!==null&&o!==void 0?o:console;const T="warn";this.logLevel=T,this.logLevel=(c=(l=P0(S.logLevel,"ClientOptions.logLevel",this))!==null&&l!==void 0?l:P0(qc("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))!==null&&c!==void 0?c:T,this.fetchOptions=S.fetchOptions,this.maxRetries=(h=S.maxRetries)!==null&&h!==void 0?h:2,this.fetch=(v=S.fetch)!==null&&v!==void 0?v:S1(),this.encoder=A1,this._options=S,this.apiKey=x,this.apiVersion=b,this.clientAdapter=S.clientAdapter}withOptions(e){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),e))}baseURLOverridden(){return this.baseURL!=="https://generativelanguage.googleapis.com"}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:e,nulls:i}){if(!(e.has("authorization")||e.has("x-goog-api-key"))&&!(this.apiKey&&e.get("x-goog-api-key"))&&!i.has("x-goog-api-key"))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(e){const i=da([e.headers]);if(!(i.values.has("authorization")||i.values.has("x-goog-api-key"))){if(this.apiKey)return da([{"x-goog-api-key":this.apiKey}]);if(this.clientAdapter.isVertexAI())return da([await this.clientAdapter.getAuthHeaders()])}}stringifyQuery(e){return Object.entries(e).filter(([i,r])=>typeof r<"u").map(([i,r])=>{if(typeof r=="string"||typeof r=="number"||typeof r=="boolean")return`${encodeURIComponent(i)}=${encodeURIComponent(r)}`;if(r===null)return`${encodeURIComponent(i)}=`;throw new vn(`Cannot stringify type ${typeof r}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${ar}`}defaultIdempotencyKey(){return`stainless-node-retry-${u1()}`}makeStatusError(e,i,r,o){return Lt.generate(e,i,r,o)}buildURL(e,i,r){const o=!this.baseURLOverridden()&&r||this.baseURL,l=d1(e)?new URL(e):new URL(o+(o.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),c=this.defaultQuery();return p1(c)||(i=Object.assign(Object.assign({},c),i)),typeof i=="object"&&i&&!Array.isArray(i)&&(l.search=this.stringifyQuery(i)),l.toString()}async prepareOptions(e){if(this.clientAdapter&&this.clientAdapter.isVertexAI()&&!e.path.startsWith(`/${this.apiVersion}/projects/`)){const i=e.path.slice(this.apiVersion.length+1);e.path=`/${this.apiVersion}/projects/${this.clientAdapter.getProject()}/locations/${this.clientAdapter.getLocation()}${i}`}}async prepareRequest(e,{url:i,options:r}){}get(e,i){return this.methodRequest("get",e,i)}post(e,i){return this.methodRequest("post",e,i)}patch(e,i){return this.methodRequest("patch",e,i)}put(e,i){return this.methodRequest("put",e,i)}delete(e,i){return this.methodRequest("delete",e,i)}methodRequest(e,i,r){return this.request(Promise.resolve(r).then(o=>Object.assign({method:e,path:i},o)))}request(e,i=null){return new Rd(this,this.makeRequest(e,i,void 0))}async makeRequest(e,i,r){var o,l,c;const h=await e,v=(o=h.maxRetries)!==null&&o!==void 0?o:this.maxRetries;i==null&&(i=v),await this.prepareOptions(h);const{req:m,url:x,timeout:b}=await this.buildRequest(h,{retryCount:v-i});await this.prepareRequest(m,{url:x,options:h});const _="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),S=r===void 0?"":`, retryOf: ${r}`,T=Date.now();if(Pt(this).debug(`[${_}] sending request`,as({retryOfRequestLogID:r,method:h.method,url:x,options:h,headers:m.headers})),!((l=h.signal)===null||l===void 0)&&l.aborted)throw new cd;const N=new AbortController,C=await this.fetchWithTimeout(x,m,b,N).catch(ud),D=Date.now();if(C instanceof globalThis.Error){const M=`retrying, ${i} attempts remaining`;if(!((c=h.signal)===null||c===void 0)&&c.aborted)throw new cd;const J=ld(C)||/timed? ?out/i.test(String(C)+("cause"in C?String(C.cause):""));if(i)return Pt(this).info(`[${_}] connection ${J?"timed out":"failed"} - ${M}`),Pt(this).debug(`[${_}] connection ${J?"timed out":"failed"} (${M})`,as({retryOfRequestLogID:r,url:x,durationMs:D-T,message:C.message})),this.retryRequest(h,i,r??_);throw Pt(this).info(`[${_}] connection ${J?"timed out":"failed"} - error; no more retries left`),Pt(this).debug(`[${_}] connection ${J?"timed out":"failed"} (error; no more retries left)`,as({retryOfRequestLogID:r,url:x,durationMs:D-T,message:C.message})),J?new Iv:new cl({cause:C})}const B=`[${_}${S}] ${m.method} ${x} ${C.ok?"succeeded":"failed"} with status ${C.status} in ${D-T}ms`;if(!C.ok){const M=await this.shouldRetry(C);if(i&&M){const Q=`retrying, ${i} attempts remaining`;return await T1(C.body),Pt(this).info(`${B} - ${Q}`),Pt(this).debug(`[${_}] response error (${Q})`,as({retryOfRequestLogID:r,url:C.url,status:C.status,headers:C.headers,durationMs:D-T})),this.retryRequest(h,i,r??_,C.headers)}const J=M?"error; no more retries left":"error; not retryable";Pt(this).info(`${B} - ${J}`);const X=await C.text().catch(Q=>ud(Q).message),K=v1(X),H=K?void 0:X;throw Pt(this).debug(`[${_}] response error (${J})`,as({retryOfRequestLogID:r,url:C.url,status:C.status,headers:C.headers,message:H,durationMs:Date.now()-T})),this.makeStatusError(C.status,K,H,C.headers)}return Pt(this).info(B),Pt(this).debug(`[${_}] response start`,as({retryOfRequestLogID:r,url:C.url,status:C.status,headers:C.headers,durationMs:D-T})),{response:C,options:h,controller:N,requestLogID:_,retryOfRequestLogID:r,startTime:T}}async fetchWithTimeout(e,i,r,o){const l=i||{},{signal:c,method:h}=l,v=el(l,["signal","method"]);c&&c.addEventListener("abort",()=>o.abort());const m=setTimeout(()=>o.abort(),r),x=globalThis.ReadableStream&&v.body instanceof globalThis.ReadableStream||typeof v.body=="object"&&v.body!==null&&Symbol.asyncIterator in v.body,b=Object.assign(Object.assign(Object.assign({signal:o.signal},x?{duplex:"half"}:{}),{method:"GET"}),v);h&&(b.method=h.toUpperCase());try{return await this.fetch.call(void 0,e,b)}finally{clearTimeout(m)}}async shouldRetry(e){const i=e.headers.get("x-should-retry");return i==="true"?!0:i==="false"?!1:e.status===408||e.status===409||e.status===429||e.status>=500}async retryRequest(e,i,r,o){var l;let c;const h=o==null?void 0:o.get("retry-after-ms");if(h){const m=parseFloat(h);Number.isNaN(m)||(c=m)}const v=o==null?void 0:o.get("retry-after");if(v&&!c){const m=parseFloat(v);Number.isNaN(m)?c=Date.parse(v)-Date.now():c=m*1e3}if(!(c&&0<=c&&c<60*1e3)){const m=(l=e.maxRetries)!==null&&l!==void 0?l:this.maxRetries;c=this.calculateDefaultRetryTimeoutMillis(i,m)}return await y1(c),this.makeRequest(e,i-1,r)}calculateDefaultRetryTimeoutMillis(e,i){const l=i-e,c=Math.min(.5*Math.pow(2,l),8),h=1-Math.random()*.25;return c*h*1e3}async buildRequest(e,{retryCount:i=0}={}){var r,o,l;const c=Object.assign({},e),{method:h,path:v,query:m,defaultBaseURL:x}=c,b=this.buildURL(v,m,x);"timeout"in c&&g1("timeout",c.timeout),c.timeout=(r=c.timeout)!==null&&r!==void 0?r:this.timeout;const{bodyHeaders:_,body:S}=this.buildBody({options:c}),T=await this.buildHeaders({options:e,method:h,bodyHeaders:_,retryCount:i});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:h,headers:T},c.signal&&{signal:c.signal}),globalThis.ReadableStream&&S instanceof globalThis.ReadableStream&&{duplex:"half"}),S&&{body:S}),(o=this.fetchOptions)!==null&&o!==void 0?o:{}),(l=c.fetchOptions)!==null&&l!==void 0?l:{}),url:b,timeout:c.timeout}}async buildHeaders({options:e,method:i,bodyHeaders:r,retryCount:o}){let l={};this.idempotencyHeader&&i!=="get"&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),l[this.idempotencyHeader]=e.idempotencyKey);const c=await this.authHeaders(e);let h=da([l,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(o)},e.timeout?{"X-Stainless-Timeout":String(Math.trunc(e.timeout/1e3))}:{}),w1()),this._options.defaultHeaders,r,e.headers,c]);return this.validateHeaders(h),h.values}buildBody({options:{body:e,headers:i}}){if(!e)return{bodyHeaders:void 0,body:void 0};const r=da([i]);return ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof DataView||typeof e=="string"&&r.values.has("content-type")||globalThis.Blob&&e instanceof globalThis.Blob||e instanceof FormData||e instanceof URLSearchParams||globalThis.ReadableStream&&e instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:e}:typeof e=="object"&&(Symbol.asyncIterator in e||Symbol.iterator in e&&"next"in e&&typeof e.next=="function")?{bodyHeaders:void 0,body:E1(e)}:this.encoder({body:e,headers:r})}}fl.DEFAULT_TIMEOUT=6e4;class _t extends fl{constructor(){super(...arguments),this.interactions=new Jv(this)}}Yv=_t;_t.GeminiNextGenAPIClient=Yv;_t.GeminiNextGenAPIClientError=vn;_t.APIError=Lt;_t.APIConnectionError=cl;_t.APIConnectionTimeoutError=Iv;_t.APIUserAbortError=cd;_t.NotFoundError=Pv;_t.ConflictError=Lv;_t.RateLimitError=Gv;_t.BadRequestError=Dv;_t.AuthenticationError=Mv;_t.InternalServerError=jv;_t.PermissionDeniedError=Uv;_t.UnprocessableEntityError=Ov;_t.toFile=I1;_t.Interactions=Jv;/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function z1(t,e){const i={},r=d(t,["name"]);return r!=null&&f(i,["_url","name"],r),i}function F1(t,e){const i={},r=d(t,["name"]);return r!=null&&f(i,["_url","name"],r),i}function $1(t,e){const i={},r=d(t,["sdkHttpResponse"]);return r!=null&&f(i,["sdkHttpResponse"],r),i}function J1(t,e){const i={},r=d(t,["sdkHttpResponse"]);return r!=null&&f(i,["sdkHttpResponse"],r),i}function K1(t,e,i){const r={};if(d(t,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const o=d(t,["tunedModelDisplayName"]);if(e!==void 0&&o!=null&&f(e,["displayName"],o),d(t,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const l=d(t,["epochCount"]);e!==void 0&&l!=null&&f(e,["tuningTask","hyperparameters","epochCount"],l);const c=d(t,["learningRateMultiplier"]);if(c!=null&&f(r,["tuningTask","hyperparameters","learningRateMultiplier"],c),d(t,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(d(t,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(d(t,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const h=d(t,["batchSize"]);e!==void 0&&h!=null&&f(e,["tuningTask","hyperparameters","batchSize"],h);const v=d(t,["learningRate"]);if(e!==void 0&&v!=null&&f(e,["tuningTask","hyperparameters","learningRate"],v),d(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(d(t,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return r}function Y1(t,e,i){const r={};let o=d(i,["config","method"]);if(o===void 0&&(o="SUPERVISED_FINE_TUNING"),o==="SUPERVISED_FINE_TUNING"){const S=d(t,["validationDataset"]);e!==void 0&&S!=null&&f(e,["supervisedTuningSpec"],O0(S))}else if(o==="PREFERENCE_TUNING"){const S=d(t,["validationDataset"]);e!==void 0&&S!=null&&f(e,["preferenceOptimizationSpec"],O0(S))}const l=d(t,["tunedModelDisplayName"]);e!==void 0&&l!=null&&f(e,["tunedModelDisplayName"],l);const c=d(t,["description"]);e!==void 0&&c!=null&&f(e,["description"],c);let h=d(i,["config","method"]);if(h===void 0&&(h="SUPERVISED_FINE_TUNING"),h==="SUPERVISED_FINE_TUNING"){const S=d(t,["epochCount"]);e!==void 0&&S!=null&&f(e,["supervisedTuningSpec","hyperParameters","epochCount"],S)}else if(h==="PREFERENCE_TUNING"){const S=d(t,["epochCount"]);e!==void 0&&S!=null&&f(e,["preferenceOptimizationSpec","hyperParameters","epochCount"],S)}let v=d(i,["config","method"]);if(v===void 0&&(v="SUPERVISED_FINE_TUNING"),v==="SUPERVISED_FINE_TUNING"){const S=d(t,["learningRateMultiplier"]);e!==void 0&&S!=null&&f(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],S)}else if(v==="PREFERENCE_TUNING"){const S=d(t,["learningRateMultiplier"]);e!==void 0&&S!=null&&f(e,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],S)}let m=d(i,["config","method"]);if(m===void 0&&(m="SUPERVISED_FINE_TUNING"),m==="SUPERVISED_FINE_TUNING"){const S=d(t,["exportLastCheckpointOnly"]);e!==void 0&&S!=null&&f(e,["supervisedTuningSpec","exportLastCheckpointOnly"],S)}else if(m==="PREFERENCE_TUNING"){const S=d(t,["exportLastCheckpointOnly"]);e!==void 0&&S!=null&&f(e,["preferenceOptimizationSpec","exportLastCheckpointOnly"],S)}let x=d(i,["config","method"]);if(x===void 0&&(x="SUPERVISED_FINE_TUNING"),x==="SUPERVISED_FINE_TUNING"){const S=d(t,["adapterSize"]);e!==void 0&&S!=null&&f(e,["supervisedTuningSpec","hyperParameters","adapterSize"],S)}else if(x==="PREFERENCE_TUNING"){const S=d(t,["adapterSize"]);e!==void 0&&S!=null&&f(e,["preferenceOptimizationSpec","hyperParameters","adapterSize"],S)}if(d(t,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(d(t,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const b=d(t,["labels"]);e!==void 0&&b!=null&&f(e,["labels"],b);const _=d(t,["beta"]);return e!==void 0&&_!=null&&f(e,["preferenceOptimizationSpec","hyperParameters","beta"],_),r}function X1(t,e){const i={},r=d(t,["baseModel"]);r!=null&&f(i,["baseModel"],r);const o=d(t,["preTunedModel"]);o!=null&&f(i,["preTunedModel"],o);const l=d(t,["trainingDataset"]);l!=null&&oR(l);const c=d(t,["config"]);return c!=null&&K1(c,i),i}function W1(t,e){const i={},r=d(t,["baseModel"]);r!=null&&f(i,["baseModel"],r);const o=d(t,["preTunedModel"]);o!=null&&f(i,["preTunedModel"],o);const l=d(t,["trainingDataset"]);l!=null&&lR(l,i,e);const c=d(t,["config"]);return c!=null&&Y1(c,i,e),i}function Q1(t,e){const i={},r=d(t,["name"]);return r!=null&&f(i,["_url","name"],r),i}function Z1(t,e){const i={},r=d(t,["name"]);return r!=null&&f(i,["_url","name"],r),i}function eR(t,e,i){const r={},o=d(t,["pageSize"]);e!==void 0&&o!=null&&f(e,["_query","pageSize"],o);const l=d(t,["pageToken"]);e!==void 0&&l!=null&&f(e,["_query","pageToken"],l);const c=d(t,["filter"]);return e!==void 0&&c!=null&&f(e,["_query","filter"],c),r}function tR(t,e,i){const r={},o=d(t,["pageSize"]);e!==void 0&&o!=null&&f(e,["_query","pageSize"],o);const l=d(t,["pageToken"]);e!==void 0&&l!=null&&f(e,["_query","pageToken"],l);const c=d(t,["filter"]);return e!==void 0&&c!=null&&f(e,["_query","filter"],c),r}function nR(t,e){const i={},r=d(t,["config"]);return r!=null&&eR(r,i),i}function iR(t,e){const i={},r=d(t,["config"]);return r!=null&&tR(r,i),i}function sR(t,e){const i={},r=d(t,["sdkHttpResponse"]);r!=null&&f(i,["sdkHttpResponse"],r);const o=d(t,["nextPageToken"]);o!=null&&f(i,["nextPageToken"],o);const l=d(t,["tunedModels"]);if(l!=null){let c=l;Array.isArray(c)&&(c=c.map(h=>Xv(h))),f(i,["tuningJobs"],c)}return i}function rR(t,e){const i={},r=d(t,["sdkHttpResponse"]);r!=null&&f(i,["sdkHttpResponse"],r);const o=d(t,["nextPageToken"]);o!=null&&f(i,["nextPageToken"],o);const l=d(t,["tuningJobs"]);if(l!=null){let c=l;Array.isArray(c)&&(c=c.map(h=>hd(h))),f(i,["tuningJobs"],c)}return i}function aR(t,e){const i={},r=d(t,["name"]);r!=null&&f(i,["model"],r);const o=d(t,["name"]);return o!=null&&f(i,["endpoint"],o),i}function oR(t,e){const i={};if(d(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(d(t,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const r=d(t,["examples"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(l=>l)),f(i,["examples","examples"],o)}return i}function lR(t,e,i){const r={};let o=d(i,["config","method"]);if(o===void 0&&(o="SUPERVISED_FINE_TUNING"),o==="SUPERVISED_FINE_TUNING"){const c=d(t,["gcsUri"]);e!==void 0&&c!=null&&f(e,["supervisedTuningSpec","trainingDatasetUri"],c)}else if(o==="PREFERENCE_TUNING"){const c=d(t,["gcsUri"]);e!==void 0&&c!=null&&f(e,["preferenceOptimizationSpec","trainingDatasetUri"],c)}let l=d(i,["config","method"]);if(l===void 0&&(l="SUPERVISED_FINE_TUNING"),l==="SUPERVISED_FINE_TUNING"){const c=d(t,["vertexDatasetResource"]);e!==void 0&&c!=null&&f(e,["supervisedTuningSpec","trainingDatasetUri"],c)}else if(l==="PREFERENCE_TUNING"){const c=d(t,["vertexDatasetResource"]);e!==void 0&&c!=null&&f(e,["preferenceOptimizationSpec","trainingDatasetUri"],c)}if(d(t,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return r}function Xv(t,e){const i={},r=d(t,["sdkHttpResponse"]);r!=null&&f(i,["sdkHttpResponse"],r);const o=d(t,["name"]);o!=null&&f(i,["name"],o);const l=d(t,["state"]);l!=null&&f(i,["state"],fv(l));const c=d(t,["createTime"]);c!=null&&f(i,["createTime"],c);const h=d(t,["tuningTask","startTime"]);h!=null&&f(i,["startTime"],h);const v=d(t,["tuningTask","completeTime"]);v!=null&&f(i,["endTime"],v);const m=d(t,["updateTime"]);m!=null&&f(i,["updateTime"],m);const x=d(t,["description"]);x!=null&&f(i,["description"],x);const b=d(t,["baseModel"]);b!=null&&f(i,["baseModel"],b);const _=d(t,["_self"]);return _!=null&&f(i,["tunedModel"],aR(_)),i}function hd(t,e){const i={},r=d(t,["sdkHttpResponse"]);r!=null&&f(i,["sdkHttpResponse"],r);const o=d(t,["name"]);o!=null&&f(i,["name"],o);const l=d(t,["state"]);l!=null&&f(i,["state"],fv(l));const c=d(t,["createTime"]);c!=null&&f(i,["createTime"],c);const h=d(t,["startTime"]);h!=null&&f(i,["startTime"],h);const v=d(t,["endTime"]);v!=null&&f(i,["endTime"],v);const m=d(t,["updateTime"]);m!=null&&f(i,["updateTime"],m);const x=d(t,["error"]);x!=null&&f(i,["error"],x);const b=d(t,["description"]);b!=null&&f(i,["description"],b);const _=d(t,["baseModel"]);_!=null&&f(i,["baseModel"],_);const S=d(t,["tunedModel"]);S!=null&&f(i,["tunedModel"],S);const T=d(t,["preTunedModel"]);T!=null&&f(i,["preTunedModel"],T);const N=d(t,["supervisedTuningSpec"]);N!=null&&f(i,["supervisedTuningSpec"],N);const C=d(t,["preferenceOptimizationSpec"]);C!=null&&f(i,["preferenceOptimizationSpec"],C);const D=d(t,["tuningDataStats"]);D!=null&&f(i,["tuningDataStats"],D);const B=d(t,["encryptionSpec"]);B!=null&&f(i,["encryptionSpec"],B);const M=d(t,["partnerModelTuningSpec"]);M!=null&&f(i,["partnerModelTuningSpec"],M);const J=d(t,["customBaseModel"]);J!=null&&f(i,["customBaseModel"],J);const X=d(t,["experiment"]);X!=null&&f(i,["experiment"],X);const K=d(t,["labels"]);K!=null&&f(i,["labels"],K);const H=d(t,["outputUri"]);H!=null&&f(i,["outputUri"],H);const ae=d(t,["pipelineJob"]);ae!=null&&f(i,["pipelineJob"],ae);const Q=d(t,["serviceAccount"]);Q!=null&&f(i,["serviceAccount"],Q);const ve=d(t,["tunedModelDisplayName"]);ve!=null&&f(i,["tunedModelDisplayName"],ve);const _e=d(t,["veoTuningSpec"]);return _e!=null&&f(i,["veoTuningSpec"],_e),i}function uR(t,e){const i={},r=d(t,["sdkHttpResponse"]);r!=null&&f(i,["sdkHttpResponse"],r);const o=d(t,["name"]);o!=null&&f(i,["name"],o);const l=d(t,["metadata"]);l!=null&&f(i,["metadata"],l);const c=d(t,["done"]);c!=null&&f(i,["done"],c);const h=d(t,["error"]);return h!=null&&f(i,["error"],h),i}function O0(t,e){const i={},r=d(t,["gcsUri"]);r!=null&&f(i,["validationDatasetUri"],r);const o=d(t,["vertexDatasetResource"]);return o!=null&&f(i,["validationDatasetUri"],o),i}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class cR extends ni{constructor(e){super(),this.apiClient=e,this.list=async(i={})=>new cs(ei.PAGED_ITEM_TUNING_JOBS,r=>this.listInternal(r),await this.listInternal(i),i),this.get=async i=>await this.getInternal(i),this.tune=async i=>{var r;if(this.apiClient.isVertexAI())if(i.baseModel.startsWith("projects/")){const o={tunedModelName:i.baseModel};!((r=i.config)===null||r===void 0)&&r.preTunedModelCheckpointId&&(o.checkpointId=i.config.preTunedModelCheckpointId);const l=Object.assign(Object.assign({},i),{preTunedModel:o});return l.baseModel=void 0,await this.tuneInternal(l)}else{const o=Object.assign({},i);return await this.tuneInternal(o)}else{const o=Object.assign({},i),l=await this.tuneMldevInternal(o);let c="";return l.metadata!==void 0&&l.metadata.tunedModel!==void 0?c=l.metadata.tunedModel:l.name!==void 0&&l.name.includes("/operations/")&&(c=l.name.split("/operations/")[0]),{name:c,state:td.JOB_STATE_QUEUED}}}}async getInternal(e){var i,r,o,l;let c,h="",v={};if(this.apiClient.isVertexAI()){const m=Z1(e);return h=ee("{name}",m._url),v=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:v,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(x=>x.json().then(b=>{const _=b;return _.sdkHttpResponse={headers:x.headers},_})),c.then(x=>hd(x))}else{const m=Q1(e);return h=ee("{name}",m._url),v=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:v,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(x=>x.json().then(b=>{const _=b;return _.sdkHttpResponse={headers:x.headers},_})),c.then(x=>Xv(x))}}async listInternal(e){var i,r,o,l;let c,h="",v={};if(this.apiClient.isVertexAI()){const m=iR(e);return h=ee("tuningJobs",m._url),v=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:v,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(x=>x.json().then(b=>{const _=b;return _.sdkHttpResponse={headers:x.headers},_})),c.then(x=>{const b=rR(x),_=new u0;return Object.assign(_,b),_})}else{const m=nR(e);return h=ee("tunedModels",m._url),v=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:v,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(x=>x.json().then(b=>{const _=b;return _.sdkHttpResponse={headers:x.headers},_})),c.then(x=>{const b=sR(x),_=new u0;return Object.assign(_,b),_})}}async cancel(e){var i,r,o,l;let c,h="",v={};if(this.apiClient.isVertexAI()){const m=F1(e);return h=ee("{name}:cancel",m._url),v=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:v,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(x=>x.json().then(b=>{const _=b;return _.sdkHttpResponse={headers:x.headers},_})),c.then(x=>{const b=J1(x),_=new c0;return Object.assign(_,b),_})}else{const m=z1(e);return h=ee("{name}:cancel",m._url),v=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:h,queryParams:v,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(x=>x.json().then(b=>{const _=b;return _.sdkHttpResponse={headers:x.headers},_})),c.then(x=>{const b=$1(x),_=new c0;return Object.assign(_,b),_})}}async tuneInternal(e){var i,r;let o,l="",c={};if(this.apiClient.isVertexAI()){const h=W1(e,e);return l=ee("tuningJobs",h._url),c=h._query,delete h._url,delete h._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(v=>v.json().then(m=>{const x=m;return x.sdkHttpResponse={headers:v.headers},x})),o.then(v=>hd(v))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var i,r;let o,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=X1(e);return l=ee("tunedModels",h._url),c=h._query,delete h._url,delete h._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(v=>v.json().then(m=>{const x=m;return x.sdkHttpResponse={headers:v.headers},x})),o.then(v=>uR(v))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class dR{async download(e,i){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const fR=1024*1024*8,hR=3,pR=1e3,mR=2,nl="x-goog-upload-status";async function gR(t,e,i){var r;const o=await Wv(t,e,i),l=await(o==null?void 0:o.json());if(((r=o==null?void 0:o.headers)===null||r===void 0?void 0:r[nl])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return l.file}async function vR(t,e,i){var r;const o=await Wv(t,e,i),l=await(o==null?void 0:o.json());if(((r=o==null?void 0:o.headers)===null||r===void 0?void 0:r[nl])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const c=av(l),h=new wd;return Object.assign(h,c),h}async function Wv(t,e,i){var r,o;let l=0,c=0,h=new nd(new Response),v="upload";for(l=t.size;c<l;){const m=Math.min(fR,l-c),x=t.slice(c,c+m);c+m>=l&&(v+=", finalize");let b=0,_=pR;for(;b<hR&&(h=await i.request({path:"",body:x,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":v,"X-Goog-Upload-Offset":String(c),"Content-Length":String(m)}}}),!(!((r=h==null?void 0:h.headers)===null||r===void 0)&&r[nl]));)b++,await xR(_),_=_*mR;if(c+=m,((o=h==null?void 0:h.headers)===null||o===void 0?void 0:o[nl])!=="active")break;if(l<=c)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return h}async function yR(t){return{size:t.size,type:t.type}}function xR(t){return new Promise(e=>setTimeout(e,t))}class bR{async upload(e,i,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await gR(e,i,r)}async uploadToFileSearchStore(e,i,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await vR(e,i,r)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await yR(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class _R{create(e,i,r){return new wR(e,i,r)}}class wR{constructor(e,i,r){this.url=e,this.headers=i,this.callbacks=r}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const G0="x-goog-api-key";class SR{constructor(e){this.apiKey=e}async addAuthHeaders(e,i){if(e.get(G0)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(G0,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const ER="gl-node/";class TR{get interactions(){if(this._interactions!==void 0)return this._interactions;console.warn("GoogleGenAI.interactions: Interactions usage is experimental and may change in future versions.");const e=this.httpOptions;e!=null&&e.extraBody&&console.warn("GoogleGenAI.interactions: Client level httpOptions.extraBody is not supported by the interactions client and will be ignored.");const i=new _t({baseURL:this.apiClient.getBaseUrl(),apiKey:this.apiKey,apiVersion:this.apiClient.getApiVersion(),clientAdapter:this.apiClient,defaultHeaders:this.apiClient.getDefaultHeaders(),timeout:e==null?void 0:e.timeout});return this._interactions=i.interactions,this._interactions}constructor(e){var i;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(i=e.vertexai)!==null&&i!==void 0?i:!1,this.apiKey=e.apiKey;const r=xS(e.httpOptions,e.vertexai,void 0,void 0);r&&(e.httpOptions?e.httpOptions.baseUrl=r:e.httpOptions={baseUrl:r}),this.apiVersion=e.apiVersion,this.httpOptions=e.httpOptions;const o=new SR(this.apiKey);this.apiClient=new yN({auth:o,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:ER+"web",uploader:new bR,downloader:new dR}),this.models=new ON(this.apiClient),this.live=new IN(this.apiClient,o,new _R),this.batches=new KE(this.apiClient),this.chats=new RT(this.models,this.apiClient),this.caches=new AT(this.apiClient),this.files=new jT(this.apiClient),this.operations=new GN(this.apiClient),this.authTokens=new e1(this.apiClient),this.tunings=new cR(this.apiClient),this.fileSearchStores=new l1(this.apiClient)}}const Qv=()=>new TR({apiKey:"PLACEHOLDER_API_KEY"}),AR=async(t,e)=>(await Qv().models.generateContent({model:"gemini-3-flash-preview",contents:`As an administrative assistant at Gondwana University, refine the following note sheet content to be more formal, professional, and grammatically correct. Maintain the official university tone.
    Subject: ${e}
    Original Content: ${t}`})).text||t,CR=async(t,e,i)=>{const r=Qv(),c=[{text:`${`You are the Gondwana NotePro Digital Assistant, an elite AI support system developed by Dr. Krishna Karoo (Assistant Professor, CS) for Gondwana University, Gadchiroli. 
    
    PERSONA:
    You speak with the authority and helpfulness of the Computer Science Department. You represent the expertise of Dr. Krishna Karoo.
    
    GOAL:
    Your goal is to help university staff with the NotePro system, explain the "Green Sheet" administrative workflows, and assist in drafting official dispatches.
    If the user provides an image, analyze it for statutory relevance or provide feedback on administrative forms/drafts visible in the image.
    
    Current Chat History:
    ${e.map(v=>`${v.role==="user"?"Staff":"Assistant"}: ${v.text}`).join(`
`)}
    
    Rules:
    1. Be extremely professional, formal, and scholarly.
    2. If asked about the system developer, clearly state you were engineered by Dr. Krishna Karoo, Assistant Professor at the PG Teaching Dept. of Computer Science.
    3. Provide clear instructions on how to use the Admin Panel, create notes, and handle dispatches.
    4. Maintain the dignity of Gondwana University.`}

Staff Query: ${t}`}];if(i){const v=i.split(";")[0].split(":")[1],m=i.split(",")[1];c.push({inlineData:{data:m,mimeType:v}})}return(await r.models.generateContent({model:"gemini-3-flash-preview",contents:{parts:c}})).text||"I apologize, I am unable to process that request at the moment. Please ensure your connectivity is stable."},NR=()=>{const[t,e]=Z.useState(!1),[i,r]=Z.useState(""),[o,l]=Z.useState(null),[c,h]=Z.useState([{role:"ai",text:"Greetings. I am your Digital Concierge for the NotePro system, developed by Dr. Krishna Karoo. I can help you draft statutory notes, explain university protocols, or guide you through the 'Green Sheet' workflow. How may I assist your duties today?"}]),[v,m]=Z.useState(!1),x=Z.useRef(null),b=Z.useRef(null);Z.useEffect(()=>{x.current&&(x.current.scrollTop=x.current.scrollHeight)},[c,v]);const _=T=>{var C;const N=(C=T.target.files)==null?void 0:C[0];if(N){const D=new FileReader;D.onloadend=()=>{l(D.result)},D.readAsDataURL(N)}},S=async()=>{if(!i.trim()&&!o||v)return;const T=i.trim(),N=o;h(C=>[...C,{role:"user",text:T||"[Sent an image]",image:N||void 0}]),r(""),l(null),m(!0);try{const C=await CR(T,c,N||void 0);h(D=>[...D,{role:"ai",text:C}])}catch{h(D=>[...D,{role:"ai",text:"Service Disrupted: Unable to reach the statutory AI node. Please ensure your session is secure and try again."}])}finally{m(!1)}};return g.jsxs("div",{className:"no-print fixed bottom-8 right-8 z-[200] flex flex-col items-end",children:[t&&g.jsxs("div",{className:"mb-4 w-[350px] sm:w-[450px] h-[600px] bg-slate-900/98 backdrop-blur-3xl rounded-[3rem] shadow-[0_50px_100px_-20px_rgba(0,0,0,0.6)] border border-white/10 overflow-hidden flex flex-col animate-in slide-in-from-bottom-10 duration-500 ring-1 ring-amber-500/20",children:[g.jsxs("div",{className:"p-8 bg-gradient-to-br from-slate-950 to-slate-900 border-b border-white/5 flex items-center justify-between relative overflow-hidden",children:[g.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-amber-500/5 rounded-full blur-3xl -translate-y-1/2 translate-x-1/2"}),g.jsxs("div",{className:"flex items-center gap-5 relative z-10",children:[g.jsxs("div",{className:"relative",children:[g.jsx("div",{className:"w-14 h-14 bg-amber-500 rounded-2xl flex items-center justify-center text-slate-950 font-black shadow-2xl rotate-3 overflow-hidden border-2 border-amber-400/30",children:g.jsx("img",{src:"https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?auto=format&fit=crop&q=80&w=150",className:"w-full h-full object-cover grayscale brightness-110",alt:"Dr. Krishna Karoo Avatar"})}),g.jsx("div",{className:"absolute -bottom-1 -right-1 w-4 h-4 bg-emerald-500 border-2 border-slate-900 rounded-full animate-pulse"})]}),g.jsxs("div",{children:[g.jsx("h4",{className:"text-[12px] font-black text-white uppercase tracking-wider",children:"NotePro Assistant"}),g.jsx("p",{className:"text-[8px] font-black text-amber-500 uppercase tracking-[0.4em] opacity-90",children:"Sovereign AI Node"})]})]}),g.jsx("button",{onClick:()=>e(!1),className:"text-white/30 hover:text-white transition-all hover:rotate-90",children:g.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2.5,d:"M6 18L18 6M6 6l12 12"})})})]}),g.jsxs("div",{ref:x,className:"flex-1 overflow-y-auto p-8 space-y-8 custom-scrollbar bg-slate-900/50",children:[c.map((T,N)=>g.jsxs("div",{className:`flex flex-col ${T.role==="user"?"items-end":"items-start"}`,children:[T.image&&g.jsx("div",{className:"mb-2 max-w-[80%] rounded-2xl overflow-hidden border border-white/10 shadow-lg",children:g.jsx("img",{src:T.image,className:"w-full h-auto object-cover",alt:"Attached"})}),g.jsx("div",{className:`max-w-[88%] p-5 rounded-3xl text-[11.5px] font-medium leading-[1.6] shadow-sm ${T.role==="user"?"bg-blue-600 text-white rounded-tr-none shadow-blue-900/20":"bg-white/5 text-blue-50/90 rounded-tl-none border border-white/5"}`,children:T.text})]},N)),v&&g.jsx("div",{className:"flex justify-start",children:g.jsxs("div",{className:"bg-white/5 p-4 rounded-3xl rounded-tl-none border border-white/5 flex flex-col gap-2",children:[g.jsx("p",{className:"text-[8px] font-black text-amber-500 uppercase tracking-widest animate-pulse",children:"Processing your query..."}),g.jsxs("div",{className:"flex gap-1.5 ml-1",children:[g.jsx("div",{className:"w-1.5 h-1.5 bg-amber-500 rounded-full animate-bounce"}),g.jsx("div",{className:"w-1.5 h-1.5 bg-amber-500 rounded-full animate-bounce delay-100"}),g.jsx("div",{className:"w-1.5 h-1.5 bg-amber-500 rounded-full animate-bounce delay-200"})]})]})})]}),g.jsxs("div",{className:"p-8 bg-slate-950/80 border-t border-white/5 relative",children:[o&&g.jsx("div",{className:"absolute bottom-full left-8 mb-4 animate-in slide-in-from-bottom-4 duration-300",children:g.jsxs("div",{className:"relative w-24 h-24 rounded-2xl overflow-hidden border-4 border-blue-600 shadow-2xl",children:[g.jsx("img",{src:o,className:"w-full h-full object-cover",alt:"Preview"}),g.jsx("button",{onClick:()=>l(null),className:"absolute top-1 right-1 w-6 h-6 bg-rose-600 text-white rounded-full flex items-center justify-center shadow-lg",children:g.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M6 18L18 6M6 6l12 12"})})})]})}),g.jsxs("div",{className:"relative flex items-center gap-3",children:[g.jsx("button",{onClick:()=>{var T;return(T=b.current)==null?void 0:T.click()},className:"w-12 h-12 bg-white/5 text-slate-400 rounded-2xl flex items-center justify-center hover:bg-white/10 hover:text-white transition-all border border-white/10 shrink-0",title:"Attach Document Photo",children:g.jsxs("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 9a2 2 0 012-2h.93a2 2 0 001.664-.89l.812-1.22A2 2 0 0110.07 4h3.86a2 2 0 011.664.89l.812 1.22A2 2 0 0018.07 7H19a2 2 0 012 2v9a2 2 0 01-2 2H5a2 2 0 01-2-2V9z"}),g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 13a3 3 0 11-6 0 3 3 0 016 0z"})]})}),g.jsx("input",{type:"file",ref:b,className:"hidden",accept:"image/*",onChange:_}),g.jsxs("div",{className:"relative flex-1 group",children:[g.jsx("input",{type:"text",value:i,onChange:T=>r(T.target.value),onKeyDown:T=>T.key==="Enter"&&S(),placeholder:"Ask me anything...",className:"w-full pl-6 pr-14 py-4 bg-white/5 border border-white/10 rounded-2xl outline-none focus:border-amber-500/50 focus:bg-white/10 transition-all text-white text-[11px] font-bold placeholder:text-slate-600"}),g.jsx("button",{onClick:S,disabled:v||!i.trim()&&!o,className:"absolute right-2 top-1/2 -translate-y-1/2 w-10 h-10 bg-amber-500 text-slate-950 rounded-xl flex items-center justify-center hover:bg-white transition-all active:scale-90 disabled:opacity-30 shadow-xl",children:g.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M13 5l7 7-7 7M5 5l7 7-7 7"})})})]})]}),g.jsxs("div",{className:"mt-6 flex flex-col items-center gap-1.5",children:[g.jsx("p",{className:"text-[7px] text-center font-black text-slate-600 uppercase tracking-[0.4em]",children:"Integrated Multimodal Assistant"}),g.jsx("p",{className:"text-[8px] font-bold text-slate-500 uppercase tracking-widest leading-none",children:"Developed at PG Teaching Dept. of Computer Science"})]})]})]}),g.jsxs("button",{onClick:()=>e(!t),className:`relative w-20 h-20 rounded-[2rem] flex items-center justify-center transition-all duration-700 group shadow-[0_30px_70px_-15px_rgba(245,158,11,0.5)] ${t?"bg-white scale-90 rotate-90 rounded-full":"bg-amber-500 hover:scale-110 hover:-translate-y-2"}`,children:[g.jsx("div",{className:`absolute inset-0 rounded-[2rem] bg-amber-500 animate-ping opacity-20 duration-[3000ms] ${t?"hidden":"block"}`}),t?g.jsx("svg",{className:"w-10 h-10 text-slate-950",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M6 18L18 6M6 6l12 12"})}):g.jsxs("div",{className:"flex flex-col items-center",children:[g.jsx("div",{className:"w-10 h-10 rounded-xl overflow-hidden mb-0.5 border-2 border-slate-950/20 shadow-lg",children:g.jsx("img",{src:"https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?auto=format&fit=crop&q=80&w=150",className:"w-full h-full object-cover grayscale brightness-125"})}),g.jsx("span",{className:"text-slate-950 font-black text-[9px] tracking-tighter uppercase leading-none",children:"HELP"})]})]})]})},RR=({onComplete:t,recipientName:e,action:i})=>{const[r,o]=Z.useState(0),[l,c]=Z.useState(0),[h,v]=Z.useState(0);Z.useEffect(()=>{const x=setInterval(()=>{o(S=>S<100?S+2:100),c(S=>S<100?S+3:100)},30),b=setInterval(()=>{v(S=>S+1)},800),_=setTimeout(()=>{t()},3500);return()=>{clearInterval(x),clearInterval(b),clearTimeout(_)}},[t]);const m=["Establishing Secure Handshake...","Encrypting Statutory Content...","Connecting to SMS Gateway...","SMTP Protocol Synchronized...","Dispatched Successfully."];return g.jsx("div",{className:"fixed inset-0 z-[1000] bg-slate-950/95 backdrop-blur-3xl flex items-center justify-center p-6 animate-in fade-in duration-500",children:g.jsxs("div",{className:"max-w-md w-full space-y-12",children:[g.jsxs("div",{className:"text-center space-y-4",children:[g.jsxs("div",{className:"relative inline-block",children:[g.jsx("div",{className:"w-24 h-24 bg-blue-600 rounded-[2rem] flex items-center justify-center text-white shadow-[0_0_50px_rgba(37,99,235,0.4)] animate-pulse",children:g.jsx("svg",{className:"w-12 h-12",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2.5,d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})})}),g.jsx("div",{className:"absolute -top-2 -right-2 w-8 h-8 bg-amber-500 rounded-full flex items-center justify-center text-slate-950 font-black text-xs shadow-xl border-4 border-slate-950",children:"!"})]}),g.jsx("h2",{className:"text-2xl font-black text-white uppercase tracking-tighter",children:"Notification Engine"}),g.jsx("p",{className:"text-[10px] font-black text-blue-500 uppercase tracking-[0.5em]",children:"Statutory Dispatch in Progress"})]}),g.jsxs("div",{className:"space-y-8",children:[g.jsxs("div",{className:"space-y-3",children:[g.jsxs("div",{className:"flex justify-between items-end",children:[g.jsx("span",{className:"text-[9px] font-black text-white uppercase tracking-widest",children:"Email Gateway"}),g.jsxs("span",{className:"text-[9px] font-black text-blue-400 tabular-nums",children:[r,"%"]})]}),g.jsx("div",{className:"h-1.5 w-full bg-white/5 rounded-full overflow-hidden",children:g.jsx("div",{className:"h-full bg-blue-500 shadow-[0_0_15px_rgba(59,130,246,0.5)] transition-all duration-300 ease-out",style:{width:`${r}%`}})})]}),g.jsxs("div",{className:"space-y-3",children:[g.jsxs("div",{className:"flex justify-between items-end",children:[g.jsx("span",{className:"text-[9px] font-black text-white uppercase tracking-widest",children:"SMS Protocol"}),g.jsxs("span",{className:"text-[9px] font-black text-amber-500 tabular-nums",children:[l,"%"]})]}),g.jsx("div",{className:"h-1.5 w-full bg-white/5 rounded-full overflow-hidden",children:g.jsx("div",{className:"h-full bg-amber-500 shadow-[0_0_15px_rgba(245,158,11,0.5)] transition-all duration-300 ease-out",style:{width:`${l}%`}})})]})]}),g.jsxs("div",{className:"p-8 bg-white/5 rounded-[2.5rem] border border-white/10 text-center",children:[g.jsx("p",{className:"text-[10px] font-black text-slate-500 uppercase tracking-[0.2em] mb-4",children:"Current Task"}),g.jsx("p",{className:"text-sm font-bold text-white italic animate-in fade-in slide-in-from-bottom-2",children:m[Math.min(h,m.length-1)]}),g.jsxs("p",{className:"mt-4 text-[8px] font-black text-blue-400 uppercase tracking-widest",children:["Recipient: ",e]})]}),g.jsxs("div",{className:"flex justify-center gap-10 opacity-20",children:[g.jsxs("div",{className:"flex flex-col items-center gap-2",children:[g.jsx("div",{className:"w-1.5 h-1.5 bg-white rounded-full"}),g.jsx("span",{className:"text-[7px] font-black uppercase tracking-widest",children:"SMTP"})]}),g.jsxs("div",{className:"flex flex-col items-center gap-2",children:[g.jsx("div",{className:"w-1.5 h-1.5 bg-white rounded-full"}),g.jsx("span",{className:"text-[7px] font-black uppercase tracking-widest",children:"SMPP"})]}),g.jsxs("div",{className:"flex flex-col items-center gap-2",children:[g.jsx("div",{className:"w-1.5 h-1.5 bg-white rounded-full"}),g.jsx("span",{className:"text-[7px] font-black uppercase tracking-widest",children:"AES-256"})]})]})]})})},j0="Gondwana University, Gadchiroli",B0=[{id:"admin",name:"ADMINISTRATOR",designation:"System Architect",department:"ICT Infrastructure",role:le.ADMIN,password:"Pass",email:"admin.notepro@gondwana.ac.in",phone:"9000000001"},{id:"VC",name:"Dr. Prashant S. Bokare",designation:"Vice-Chancellor",department:"Administration",role:le.STAFF,password:"Pass",email:"vc@gondwana.ac.in",phone:"9822000001"},{id:"PVC",name:"Dr. Sriram Kawale",designation:"Pro-Vice-Chancellor",department:"Administration",role:le.STAFF,password:"Pass",email:"provc@gondwana.ac.in",phone:"9822000002"},{id:"REG",name:"Dr. Anil Hirekhan",designation:"Registrar",department:"Registrar Office",role:le.STAFF,password:"Pass",email:"registrar@gondwana.ac.in",phone:"9822000003"},{id:"ACAD_01",name:"Dr. Ashok Mistry",designation:"Dean (I/C), Science & Technology",department:"Academic Section",role:le.STAFF,password:"Pass",email:"dean.st@gondwana.ac.in",phone:"9822000004"},{id:"EXM_01",name:"Dr. Pravin A. Potdukhe",designation:"Director, Board of Examinations & Evaluation",department:"Examination Section",role:le.STAFF,password:"Pass",email:"director.bee@gondwana.ac.in",phone:"9822000006"},{id:"FIN_01",name:"Shri. Bhaskar H. Pathare",designation:"Finance & Accounts Officer",department:"Finance Section",role:le.STAFF,password:"Pass",email:"fao@gondwana.ac.in",phone:"9822000007"},{id:"INN_01",name:"Dr. Manish Uttarwar",designation:"Director, Innovation & Incubation",department:"Innovation Cell",role:le.STAFF,password:"Pass",email:"manish.u@gondwana.ac.in",phone:"9822000008"},{id:"SPT_01",name:"Dr. Anita Lokhande",designation:"Director (I/C), Sports & Phys Ed",department:"Sports Department",role:le.STAFF,password:"Pass",email:"sports.dir@gondwana.ac.in",phone:"9822000009"},{id:"SOC_01",name:"Dr. Dhanraj Patil",designation:"Professor (Sociology)",department:"Department of Sociology",role:le.STAFF,password:"Pass",email:"dhanraj.patil@gondwana.ac.in",phone:"9158000101"},{id:"SOC_02",name:"Dr. Shyam Khandare",designation:"Professor (Sociology) & Director NSS",department:"Department of Sociology",role:le.STAFF,password:"Pass",email:"shyam.k@gondwana.ac.in",phone:"9158000102"},{id:"ENG_01",name:"Dr. Vivek V. Joshi",designation:"Professor (English)",department:"Department of English",role:le.STAFF,password:"Pass",email:"vvjoshi@gondwana.ac.in",phone:"9158000103"},{id:"COM_01",name:"Dr. Uttamchand Kamble",designation:"Professor (Commerce)",department:"Department of Commerce",role:le.STAFF,password:"Pass",email:"ukamble@gondwana.ac.in",phone:"9158000104"},{id:"MAT_01",name:"Prof. Sandeep G. Kage",designation:"Asst. Professor (Maths)",department:"Department of Mathematics",role:le.STAFF,password:"Pass",email:"sandeep.kage@gondwana.ac.in",phone:"9158000105"},{id:"MAT_02",name:"Prof. Shivaji N. Chepte",designation:"Asst. Professor (Maths)",department:"Department of Mathematics",role:le.STAFF,password:"Pass",email:"snchepte@gondwana.ac.in",phone:"9158000106"},{id:"MAT_03",name:"Dr. Sunil D. Bagde",designation:"Asst. Professor (Maths)",department:"Department of Mathematics",role:le.STAFF,password:"Pass",email:"sunil.bagde@gondwana.ac.in",phone:"9158000107"},{id:"COM_02",name:"Dr. Aniruddha S. Gachke",designation:"Asst. Professor (Commerce)",department:"Department of Commerce",role:le.STAFF,password:"Pass",email:"aniruddha.g@gondwana.ac.in",phone:"9158000108"},{id:"COM_03",name:"Dr. Devdatta S. Tare",designation:"Asst. Professor (Commerce)",department:"Department of Commerce",role:le.STAFF,password:"Pass",email:"devdatta.tare@gondwana.ac.in",phone:"9158000109"},{id:"COM_04",name:"Dr. Prashant A. Sonawane",designation:"Asst. Professor (Commerce)",department:"Department of Commerce",role:le.STAFF,password:"Pass",email:"prashant.s@gondwana.ac.in",phone:"9158000110"},{id:"COM_05",name:"Dr. Priya D. Gedam",designation:"Asst. Professor (Commerce)",department:"Department of Commerce",role:le.STAFF,password:"Pass",email:"priya.gedam@gondwana.ac.in",phone:"9158000111"},{id:"ENG_02",name:"Dr. Pramod Jawre",designation:"Asst. Professor (English)",department:"Department of English",role:le.STAFF,password:"Pass",email:"pjawre@gondwana.ac.in",phone:"9158000112"},{id:"ENG_03",name:"Dr. Shilpa K. Athwale",designation:"Asst. Professor (English)",department:"Department of English",role:le.STAFF,password:"Pass",email:"shilpa.a@gondwana.ac.in",phone:"9158000113"},{id:"ENG_04",name:"Prof. Vaibhav D. Masram",designation:"Asst. Professor (English)",department:"Department of English",role:le.STAFF,password:"Pass",email:"vaibhav.m@gondwana.ac.in",phone:"9158000114"},{id:"HIS_01",name:"Dr. Praful V. Nande",designation:"Asst. Professor (History)",department:"Department of History",role:le.STAFF,password:"Pass",email:"praful.nande@gondwana.ac.in",phone:"9158000115"},{id:"HIS_02",name:"Prof. Nandkishor P. Mane",designation:"Asst. Professor (History)",department:"Department of History",role:le.STAFF,password:"Pass",email:"nandkishor.m@gondwana.ac.in",phone:"9158000116"},{id:"HIS_03",name:"Dr. Santosh P. Suradkar",designation:"Asst. Professor (History)",department:"Department of History",role:le.STAFF,password:"Pass",email:"santosh.s@gondwana.ac.in",phone:"9158000117"},{id:"HIS_04",name:"Dr. Naresh M. Madavi",designation:"Asst. Professor (History)",department:"Department of History",role:le.STAFF,password:"Pass",email:"naresh.m@gondwana.ac.in",phone:"9158000118"},{id:"SOC_03",name:"Prof. Vinayak B. Shinde",designation:"Asst. Professor (Sociology)",department:"Department of Sociology",role:le.STAFF,password:"Pass",email:"vinayak.s@gondwana.ac.in",phone:"9158000119"},{id:"SOC_04",name:"Dr. Rajani V. Wardai",designation:"Asst. Professor (Sociology)",department:"Department of Sociology",role:le.STAFF,password:"Pass",email:"rajani.w@gondwana.ac.in",phone:"9158000120"},{id:"SOC_05",name:"Dr. Priti G. Kale",designation:"Asst. Professor (Sociology)",department:"Department of Sociology",role:le.STAFF,password:"Pass",email:"priti.kale@gondwana.ac.in",phone:"9158000121"},{id:"SOC_06",name:"Prof. Satyanarayan V. Sudevad",designation:"Asst. Professor (Sociology)",department:"Department of Sociology",role:le.STAFF,password:"Pass",email:"satya.s@gondwana.ac.in",phone:"9158000122"},{id:"MAR_01",name:"Dr. Hemraj D. Nikhade",designation:"Asst. Professor (Marathi)",department:"Department of Marathi",role:le.STAFF,password:"Pass",email:"hemraj.n@gondwana.ac.in",phone:"9158000123"},{id:"MC_01",name:"Dr. Sanjay M. Daf",designation:"Asst. Professor (Mass Comm)",department:"Department of Mass Communication",role:le.STAFF,password:"Pass",email:"sanjay.daf@gondwana.ac.in",phone:"9158000127"},{id:"ECN_01",name:"Dr. Ananta S. Gawande",designation:"Asst. Professor (Applied Economics)",department:"Department of Economics",role:le.STAFF,password:"Pass",email:"ananta.g@gondwana.ac.in",phone:"9158000131"},{id:"CHM_01",name:"Dr. Prashant B. Thakre",designation:"Asst. Professor (Chemistry)",department:"Department of Chemistry",role:le.STAFF,password:"Pass",email:"prashant.t@gondwana.ac.in",phone:"9158000135"},{id:"CS_01",name:"Dr. Krishna D. Karoo",designation:"Assistant Professor",department:"Department of Computer Science",role:le.STAFF,password:"Pass",email:"krishna.karoo@gondwana.ac.in",phone:"9158000139"},{id:"PHY_01",name:"Dr. Nandkishor S. Meshram",designation:"Asst. Professor (Physics)",department:"Department of Physics",role:le.STAFF,password:"Pass",email:"nmeshram@gondwana.ac.in",phone:"9158000143"},{id:"MGT_01",name:"Dr. Prashant K. Kshirsagar",designation:"Asst. Professor (MBA)",department:"Department of Management",role:le.STAFF,password:"Pass",email:"kshirsagar.p@gondwana.ac.in",phone:"9158000147"},{id:"REG_02",name:"Dr. Hemant K. Barsagade",designation:"Deputy Registrar",department:"Registrar Office",role:le.STAFF,password:"Pass",email:"dr.barsagade@gondwana.ac.in",phone:"9422000201"},{id:"REG_03",name:"Shri. Devendra M. Zhade",designation:"Deputy Registrar",department:"Registrar Office",role:le.STAFF,password:"Pass",email:"dr.zhade@gondwana.ac.in",phone:"9422000202"},{id:"ENGN_01",name:"Shri. Jitendra N. Ambagade",designation:"University Engineer",department:"Engineering Section",role:le.STAFF,password:"Pass",email:"ue@gondwana.ac.in",phone:"9422000203"},{id:"ICT_01",name:"Shri. Amol B. Khodve",designation:"System Analyst",department:"ICT Infrastructure",role:le.STAFF,password:"Pass",email:"it.analyst@gondwana.ac.in",phone:"9422000204"},{id:"REG_04",name:"Shri. Dinesh J. Narote",designation:"Asst. Registrar",department:"Registrar Office",role:le.STAFF,password:"Pass",email:"ar.narote@gondwana.ac.in",phone:"9422000205"},{id:"REG_05",name:"Dr. Kamaji V. Deshmukh",designation:"Asst. Registrar",department:"Registrar Office",role:le.STAFF,password:"Pass",email:"ar.deshmukh@gondwana.ac.in",phone:"9422000206"},{id:"ICT_02",name:"Shri. Krishna N. Devikar",designation:"Assistant Programmer",department:"ICT Infrastructure",role:le.STAFF,password:"Pass",email:"prog.devikar@gondwana.ac.in",phone:"9422000209"},{id:"EST_01",name:"Shri. Avinash K. Porerwar",designation:"Superintendent",department:"Establishment Section",role:le.STAFF,password:"Pass",email:"sup.porerwar@gondwana.ac.in",phone:"9422000212"},{id:"ADM_03",name:"Smt. Vaishali S. Sonatakke",designation:"Senior Stenographer",department:"Administration",role:le.STAFF,password:"Pass",email:"vaishali.s@gondwana.ac.in",phone:"9422000218"},{id:"GADM_01",name:"Shri. Samir A. Bodhankar",designation:"Selection Grade Clerk",department:"General Administration",role:le.STAFF,password:"Pass",email:"samir.b@gondwana.ac.in",phone:"9422000227"},{id:"FIN_02",name:"Shri. Sachin W. Moon",designation:"Upper Division Clerk",department:"Finance Section",role:le.STAFF,password:"Pass",email:"sachin.moon@gondwana.ac.in",phone:"9422000240"},{id:"EST_02",name:"Shri. Dilip V. Nandanwar",designation:"Lower Division Clerk",department:"Establishment Section",role:le.STAFF,password:"Pass",email:"dilip.n@gondwana.ac.in",phone:"9422000260"},{id:"TRN_01",name:"Shri. Sham R. Kalaskar",designation:"Driver",department:"Transport Section",role:le.STAFF,password:"Pass",email:"transport@gondwana.ac.in",phone:"9422000296"},{id:"GADM_02",name:"Shri. Amit M. Bodhankar",designation:"Peon",department:"General Administration",role:le.STAFF,password:"Pass",email:"amit.b@gondwana.ac.in",phone:"9422000302"},{id:"SEC_01",name:"Shri. Sahebrao P. Sonkamble",designation:"Watchman",department:"Security Section",role:le.STAFF,password:"Pass",email:"security@gondwana.ac.in",phone:"9422000313"}],H0=["Administration","Registrar Office","Finance Section","Examination Section","Academic Section","Establishment Section","Innovation Cell","Student Welfare","Sports Department","NSS Department","Knowledge Resource Center","Department of Computer Science","Department of English","Department of Physics","Department of Chemistry","Department of Mathematics","Department of Sociology","Department of History","Department of Economics","Department of Marathi","Department of Mass Communication","Department of Commerce","Department of Management","ICT Infrastructure","Engineering Section","Transport Section","Security Section","General Administration"],kR=()=>{const[t,e]=Z.useState("LANDING"),[i,r]=Z.useState(null),[o,l]=Z.useState(!1),[c,h]=Z.useState(!0),[v,m]=Z.useState(!1),[x,b]=Z.useState([]),[_,S]=Z.useState([]),[T,N]=Z.useState([]),[C,D]=Z.useState(void 0),[B,M]=Z.useState(!1),[J,X]=Z.useState("CONNECTING"),[K,H]=Z.useState(null),[ae,Q]=Z.useState(new Date().toISOString().split("T")[0]),[ve,_e]=Z.useState(!1),[De,Ae]=Z.useState(""),[Le,it]=Z.useState(""),[O,Y]=Z.useState(""),[oe,Se]=Z.useState(""),[Re,R]=Z.useState(""),[z,W]=Z.useState(!1),[te,ce]=Z.useState([]),[xe,we]=Z.useState(null),[Ke,Be]=Z.useState(""),[Ft,Rt]=Z.useState("IN_TRAY"),[Ot,Rn]=Z.useState(null),yn=Z.useRef(null),at=Z.useMemo(()=>_.find(j=>j.id===K)||null,[_,K]);Z.useMemo(()=>_.filter(j=>new Date(j.dateInitiated).toISOString().split("T")[0]===ae).sort((j,ne)=>new Date(j.dateInitiated).getTime()-new Date(ne.dateInitiated).getTime()),[_,ae]);const si=Z.useMemo(()=>{if(!i)return[];if(Ft==="ALL_HITS"){let ne=[..._];if(Ke.trim()){const ie=Ke.toLowerCase();ne=ne.filter(pt=>pt.subject.toLowerCase().includes(ie)||pt.referenceNo.toLowerCase().includes(ie))}return ne}let j=_.filter(ne=>ne.currentHandler.id===i.id||ne.creator.id===i.id||ne.history.some(ie=>ie.from.id===i.id||ie.to.id===i.id));if(Ft==="IN_TRAY"?j=j.filter(ne=>ne.currentHandler.id===i.id&&ne.status!==tt.APPROVED&&ne.status!==tt.REJECTED):Ft==="OUT_TRAY"&&(j=j.filter(ne=>ne.currentHandler.id!==i.id&&ne.history.some(ie=>ie.from.id===i.id)&&ne.status!==tt.APPROVED&&ne.status!==tt.REJECTED)),Ke.trim()){const ne=Ke.toLowerCase();j=j.filter(ie=>ie.subject.toLowerCase().includes(ne)||ie.referenceNo.toLowerCase().includes(ne)||ie.creator.name.toLowerCase().includes(ne)||ie.currentHandler.name.toLowerCase().includes(ne))}return j},[_,i,Ft,Ke]),Pi=Z.useMemo(()=>{if(!i)return{inTray:0,outTray:0,allHits:_.length};const j=_.filter(ie=>ie.currentHandler.id===i.id&&ie.status!==tt.APPROVED&&ie.status!==tt.REJECTED).length,ne=_.filter(ie=>ie.currentHandler.id!==i.id&&ie.history.some(pt=>pt.from.id===i.id)&&ie.status!==tt.APPROVED&&ie.status!==tt.REJECTED).length;return{inTray:j,outTray:ne,allHits:_.length}},[_,i]);Z.useEffect(()=>{(async()=>{try{await vt.init();let ie=await vt.getAll(Je.STAFF),pt=await vt.getAll(Je.NOTES),kt=await vt.getAll(Je.DEPARTMENTS),sn=await vt.get(Je.SETTINGS,"main");if(ie.length===0){for(const rn of B0)await vt.put(Je.STAFF,rn);ie=B0}kt.length===0&&(await vt.saveAllDepartments(H0),kt=H0),b(ie),S(pt),N(kt.sort()),sn&&sn.logo&&D(sn.logo),M(!0),X("SECURE")}catch(ie){X("ERROR"),console.error("DB Load Error",ie)}})();const ne=vt.onSync(ie=>{ie.action==="SYNC"&&(ie.store===Je.NOTES&&S(ie.data),ie.store===Je.STAFF&&b(ie.data))});return()=>ne()},[]);const ds=j=>{r(j),e("PORTAL")},xn=()=>{r(null),e("LANDING"),H(null),l(!1)},ri=j=>{H(j.id),e("PUBLIC_VIEW")},Li=j=>{Q(j),e("DAILY_REPORT")},Oi=async j=>{await vt.put(Je.STAFF,j),b(ne=>[...ne,j])},gr=async j=>{await vt.put(Je.STAFF,j),b(ne=>ne.map(ie=>ie.id===j.id?j:ie))},V=async j=>{await vt.delete(Je.STAFF,j),b(ne=>ne.filter(ie=>ie.id!==j))},ke=async j=>{if(!T.includes(j)){const ne=[...T,j].sort();await vt.saveAllDepartments(ne),N(ne)}},ot=async j=>{const ne=T.filter(ie=>ie!==j);await vt.saveAllDepartments(ne),N(ne)},ht=async j=>{await vt.put(Je.SETTINGS,{id:"main",universityName:j0,logo:j}),D(j)},ai=j=>{const ne={Administration:"ADM","Registrar Office":"REG","Finance Section":"FIN","Examination Section":"EXM","Academic Section":"ACAD","Department of Computer Science":"CS","ICT Infrastructure":"ICT"};return ne[j]?ne[j]:j.replace(/^Department of\s+/i,"").substring(0,3).toUpperCase()},fs=j=>{const ne=_.filter(pt=>pt.creator.department===j);if(ne.length===0)return 1;const ie=ne.map(pt=>{const kt=pt.referenceNo.split("/"),sn=kt[kt.length-1],rn=parseInt(sn);return isNaN(rn)?0:rn});return Math.max(...ie)+1},Mt=()=>{if(!i)return;_e(!0),H(null),l(!1),h(!1),Ae(""),it(""),ce([]),Se(""),R("");const j=fs(i.department),ne=ai(i.department),ie=new Date().getFullYear();Y(`GU/${ne}/${ie}/${j}`)},Gi=async()=>{if(!(!Le||!De)){W(!0);try{const j=await AR(Le,De);it(j)}catch{we("AI refinement failed."),setTimeout(()=>we(null),5e3)}finally{W(!1)}}},hl=j=>{const ne=j.target.files;ne&&(Array.from(ne).forEach(ie=>{const pt=new FileReader;pt.onload=kt=>{var rn;const sn={id:Math.random().toString(36).substr(2,9),name:ie.name,type:ie.type,size:ie.size,data:(rn=kt.target)==null?void 0:rn.result};ce(Un=>[...Un,sn])},pt.readAsDataURL(ie)}),j.target.value="")},ji=async()=>{if(!De||!Le||!oe||!i||!O)return;const j=x.find(ie=>ie.id===oe);if(!j)return;const ne={id:`NS-${Math.floor(Math.random()*1e5)}`,subject:De.trim(),content:Le,referenceNo:O.trim().toUpperCase(),dateInitiated:new Date().toISOString(),status:tt.PENDING,creator:i,currentHandler:j,attachments:[...te],history:[{id:Math.random().toString(36).substr(2,9),from:i,to:j,timestamp:new Date().toISOString(),remark:Re||"Note sheet initiated.",action:Fe.INITIATE,notificationsSent:{email:!0,sms:!0}}]};Rn({active:!0,recipient:j.name,action:"Initiation"}),await vt.put(Je.NOTES,ne),S(ie=>[ne,...ie]),_e(!1),H(ne.id),ce([])},yt=async j=>{if(!at||!i)return;let ne;if(j===Fe.APPROVE||j===Fe.REJECT)ne=at.creator;else{if(!oe){we("Target official required."),setTimeout(()=>we(null),5e3);return}ne=x.find(pt=>pt.id===oe)}if(!ne)return;const ie={...at,status:j===Fe.APPROVE?tt.APPROVED:j===Fe.REJECT?tt.REJECTED:j===Fe.RETURN?tt.RETURNED:tt.PENDING,currentHandler:ne,attachments:[...at.attachments||[],...te],history:[...at.history,{id:Math.random().toString(36).substr(2,9),from:i,to:ne,timestamp:new Date().toISOString(),remark:Re||(j===Fe.APPROVE?"Approved.":"Forwarded."),action:j,notificationsSent:{email:!0,sms:!0}}]};Rn({active:!0,recipient:ne.name,action:j}),await vt.put(Je.NOTES,ie),S(pt=>pt.map(kt=>kt.id===ie.id?ie:kt)),R(""),Se(""),ce([]),H(null)},nn=(j,ne=!1)=>g.jsxs("div",{className:`printable-file bg-white rounded-3xl lg:rounded-[3.5rem] shadow-2xl border border-slate-200 overflow-hidden relative paper-texture mx-auto ${ne?"max-w-[98vw] lg:max-w-[1200px]":"max-w-5xl"} ${v?"shadow-none border-none rounded-none !max-w-full":""}`,children:[g.jsxs("div",{className:"no-print sticky top-0 left-0 right-0 z-[100] p-4 bg-white/90 backdrop-blur-xl border-b border-slate-100 flex justify-between items-center lg:px-14 shadow-sm",children:[g.jsxs("button",{onClick:()=>{ne&&e("LOGIN"),m(!1)},className:"px-6 py-2.5 bg-slate-900 text-white rounded-xl font-black text-[9px] uppercase tracking-widest flex items-center gap-2 hover:bg-slate-800 transition-all shadow-lg active:scale-95",children:[g.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M10 19l-7-7m0 0l7-7"})}),ne?"Back to Portal":"Back to Dashboard"]}),g.jsxs("button",{onClick:()=>{m(!0),setTimeout(()=>window.print(),800)},className:"px-6 py-2.5 bg-blue-600 text-white rounded-xl font-black text-[9px] uppercase tracking-widest flex items-center gap-2 hover:bg-blue-700 transition-all shadow-lg active:scale-95",children:[g.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2.5,d:"M17 17h2a2 2 0 002-2v-4a2 2 0 00-2-2H5a2 2 0 00-2 2v4a2 2 0 00-2 2v4a2 2 0 002 2h2m2 4h6a2 2 0 002-2v-4a2 2 0 00-2-2H9a2 2 0 00-2 2v4a2 2 0 002 2zm8-12V5a2 2 0 00-2-2H9a2 2 0 00-2 2v4h10z"})}),"Print Note"]})]}),g.jsx("div",{className:"letter-head p-6 lg:p-10 border-b-2 border-slate-900 text-center bg-white",children:g.jsxs("div",{className:"flex flex-col items-center",children:[g.jsx("div",{className:"w-12 h-12 lg:w-16 lg:h-16 bg-white rounded-xl flex items-center justify-center overflow-hidden mb-2 shadow-md border border-slate-100",children:C?g.jsx("img",{src:C,alt:"Logo",className:"w-full h-full object-contain p-1"}):g.jsx("div",{className:"w-full h-full bg-slate-900 flex items-center justify-center text-white font-black text-xl",children:"G"})}),g.jsx("h1",{className:"text-lg lg:text-3xl font-black text-slate-900 tracking-tighter uppercase mb-1",children:j0}),g.jsx("p",{className:"text-[9px] lg:text-[11px] font-black text-slate-950 uppercase tracking-[0.1em] italic underline underline-offset-2 mb-1",children:j.creator.department})]})}),g.jsxs("div",{className:"official-header p-4 lg:px-14 lg:py-6 border-b border-slate-200 bg-slate-50/60",children:[g.jsxs("div",{className:"flex justify-between items-start w-full mb-2",children:[g.jsxs("span",{className:"bg-slate-950 text-white text-[9px] lg:text-[11px] font-black px-4 lg:px-5 py-1.5 rounded-lg uppercase tracking-widest shadow-md",children:["FILE: ",j.referenceNo]}),g.jsxs("span",{className:"text-slate-900 text-[7px] lg:text-[9px] font-black uppercase tracking-widest border-b-2 border-slate-300",children:["DATED: ",new Date(j.dateInitiated).toLocaleDateString("en-GB")]})]}),g.jsx("h2",{className:"text-lg lg:text-3xl font-black text-slate-950 tracking-tight leading-tight official-font mt-4 underline underline-offset-4 decoration-slate-200",children:j.subject})]}),g.jsx("div",{className:"green-sheet-container bg-white",children:g.jsxs("div",{className:`green-sheet p-6 lg:p-20 text-base lg:text-2xl text-slate-950 official-font whitespace-pre-wrap ${v?"!px-[1.2in] !py-[0.8in]":""}`,children:[g.jsx("div",{className:"statutory-watermark",children:C?g.jsx("img",{src:C,className:"w-full h-full object-contain opacity-5"}):g.jsx("div",{className:"text-[100px] lg:text-[140px] font-black opacity-20 text-slate-900",children:"GONDWANA"})}),g.jsxs("div",{className:"remark-para relative border-b border-slate-200/50 pb-4 mb-4 text-justify",children:[g.jsx("span",{className:"font-bold text-slate-900 border-b border-slate-900/10 mr-2 lg:mr-3",children:"Note:"}),j.content,g.jsx("div",{className:"flex justify-end mt-6",children:g.jsxs("div",{className:"signature-block text-right leading-none",children:[g.jsx("p",{className:"text-base lg:text-xl font-black text-slate-950 uppercase tracking-tighter mb-1",children:j.creator.name}),g.jsx("p",{className:"text-[9px] lg:text-[11px] font-bold text-slate-500 uppercase",children:j.creator.designation})]})})]}),g.jsx("div",{className:"space-y-4",children:j.history.filter(ie=>ie.action!==Fe.INITIATE).map(ie=>g.jsxs("div",{className:"remark-para relative border-b border-slate-200/50 pb-4 mb-4 text-justify",children:[g.jsxs("div",{className:"text-sm lg:text-2xl text-slate-900 italic border-l-4 border-slate-100 pl-4 lg:pl-8 py-1 mb-3 bg-slate-50/[0.3] leading-relaxed relative",children:['"',ie.remark||"Forwarded for perusal.",'"']}),g.jsx("div",{className:"flex justify-end mt-4",children:g.jsxs("div",{className:"signature-block text-right leading-none",children:[g.jsx("div",{className:`inline-block px-2 lg:px-3 py-0.5 lg:py-1 rounded text-[6px] lg:text-[7px] font-black uppercase tracking-widest mb-1.5 ${ie.action===Fe.APPROVE?"bg-emerald-600 text-white":"bg-slate-950 text-white"}`,children:ie.action}),g.jsx("p",{className:"text-base lg:text-xl font-black text-slate-950 uppercase tracking-tighter mb-1",children:ie.from.name}),g.jsx("p",{className:"text-[9px] lg:text-[11px] font-bold text-slate-500 uppercase",children:ie.from.designation})]})})]},ie.id))})]})})]});return g.jsxs(g.Fragment,{children:[t==="LANDING"&&g.jsx(Ab,{onEnterPortal:()=>e("LOGIN"),onShowManual:()=>e("USER_MANUAL"),onShowPresentation:()=>e("PRESENTATION")}),t==="LOGIN"&&g.jsx(Cb,{staffList:x,notes:_,onLogin:ds,onPublicDownload:ri,onDailyGazette:Li,onBack:()=>e("LANDING")}),t==="USER_MANUAL"&&g.jsx(hS,{onBack:()=>e("LANDING")}),t==="PRESENTATION"&&g.jsx(pS,{onBack:()=>e("LANDING")}),i&&t==="PORTAL"&&!v&&g.jsxs(Tb,{user:i,onLogout:xn,children:[g.jsxs("div",{className:"flex flex-col lg:flex-row gap-6 lg:gap-10 relative",children:[g.jsx("input",{type:"file",multiple:!0,ref:yn,onChange:hl,className:"hidden"}),(Ot==null?void 0:Ot.active)&&g.jsx(RR,{recipientName:Ot.recipient,action:Ot.action,onComplete:()=>Rn(null)}),g.jsxs("aside",{className:`no-print w-full lg:w-96 flex flex-col gap-6 ${c?"flex":"hidden lg:flex"}`,children:[g.jsxs("div",{className:"flex items-center justify-between px-2 shrink-0",children:[g.jsxs("div",{children:[g.jsx("h2",{className:"text-2xl lg:text-3xl font-black text-slate-900 tracking-tighter uppercase leading-none",children:"Registry"}),g.jsx("p",{className:"text-[9px] font-black text-blue-600 uppercase tracking-widest mt-1",children:"Statutory Cloud Store"})]}),g.jsxs("div",{className:"flex gap-2",children:[i.role===le.ADMIN&&g.jsx("button",{onClick:()=>l(!0),className:"w-10 h-10 rounded-xl border bg-white border-slate-200 text-slate-400 hover:text-indigo-600 flex items-center justify-center",children:g.jsxs("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2.5,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2.5,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]})}),g.jsx("button",{onClick:Mt,className:"w-10 h-10 bg-blue-600 text-white rounded-xl shadow-lg flex items-center justify-center",children:g.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:4,d:"M12 4v16m8-8H4"})})})]})]}),g.jsxs("div",{className:"space-y-3 px-2",children:[g.jsxs("div",{className:"relative",children:[g.jsx("input",{type:"text",value:Ke,onChange:j=>Be(j.target.value),placeholder:"SEARCH...",className:"w-full pl-9 pr-4 py-2.5 bg-white border border-slate-200 rounded-xl text-[9px] font-black uppercase tracking-widest outline-none focus:border-blue-600 shadow-sm"}),g.jsx("svg",{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})]}),g.jsx("div",{className:"flex gap-1.5 overflow-x-auto no-scrollbar pb-1",children:["IN_TRAY","OUT_TRAY","ALL_HITS"].map(j=>g.jsx("button",{onClick:()=>Rt(j),className:`shrink-0 px-4 py-2 rounded-lg text-[8px] font-black uppercase tracking-widest border transition-all ${Ft===j?"bg-blue-600 border-blue-600 text-white shadow-md":"bg-white border-slate-200 text-slate-400"}`,children:j.replace("_"," ")},j))})]}),g.jsx("div",{className:"flex-1 overflow-y-auto custom-scrollbar lg:h-[calc(100vh-320px)] space-y-3 pr-2 pb-10",children:si.length===0?g.jsx("div",{className:"text-center py-10 opacity-30",children:g.jsx("p",{className:"text-[8px] font-black uppercase tracking-widest",children:"No records found"})}):si.map(j=>g.jsxs("button",{onClick:()=>{H(j.id),_e(!1),h(!1)},className:`w-full p-5 rounded-2xl text-left border transition-all duration-300 relative overflow-hidden ${K===j.id?"bg-white border-blue-600 shadow-lg":"bg-white border-slate-100 hover:bg-slate-50"}`,children:[g.jsx("div",{className:`absolute left-0 top-0 bottom-0 w-2 ${j.status===tt.APPROVED?"bg-emerald-500":"bg-blue-600"}`}),g.jsxs("div",{className:"flex justify-between items-start mb-2 ml-1",children:[g.jsx("span",{className:`text-[7px] font-black px-1.5 py-0.5 rounded uppercase ${j.status===tt.APPROVED?"bg-emerald-50 text-emerald-700":"bg-blue-50 text-blue-700"}`,children:j.status}),g.jsx("span",{className:"text-[7px] font-black text-slate-300",children:new Date(j.dateInitiated).toLocaleDateString()})]}),g.jsx("h4",{className:"text-[10px] font-black text-slate-950 leading-snug line-clamp-2 mb-1 ml-1",children:j.subject}),g.jsx("p",{className:"text-[7px] font-bold text-slate-400 uppercase truncate ml-1",children:j.referenceNo})]},j.id))})]}),g.jsx("section",{className:`flex-1 min-w-0 ${c?"hidden lg:flex":"flex"} flex-col gap-6`,children:!ve&&!at?g.jsxs("div",{className:"p-10 lg:p-20 bg-slate-950 text-white rounded-[3rem] shadow-2xl flex flex-col items-center justify-center text-center space-y-8 animate-in zoom-in-95",children:[g.jsx("div",{className:"w-20 h-20 bg-blue-600 rounded-[2rem] flex items-center justify-center text-4xl font-black",children:"G"}),g.jsxs("div",{className:"space-y-4",children:[g.jsx("h2",{className:"text-4xl lg:text-6xl font-black uppercase tracking-tighter",children:"Statutory Dashboard"}),g.jsx("p",{className:"text-blue-200/60 font-medium uppercase tracking-[0.3em] text-xs",children:"Connected to Gondwana Cloud Node"})]}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 w-full max-w-4xl pt-10",children:[g.jsxs("div",{onClick:()=>Rt("IN_TRAY"),className:"p-8 bg-white/5 border border-white/10 rounded-3xl cursor-pointer hover:bg-white/10 transition-all",children:[g.jsx("h4",{className:"text-[10px] font-black text-blue-400 uppercase tracking-widest mb-2",children:"In-Tray"}),g.jsx("p",{className:"text-4xl font-black tabular-nums",children:Pi.inTray})]}),g.jsxs("div",{onClick:()=>Rt("OUT_TRAY"),className:"p-8 bg-white/5 border border-white/10 rounded-3xl cursor-pointer hover:bg-white/10 transition-all",children:[g.jsx("h4",{className:"text-[10px] font-black text-amber-400 uppercase tracking-widest mb-2",children:"Out-Tray"}),g.jsx("p",{className:"text-4xl font-black tabular-nums",children:Pi.outTray})]}),g.jsxs("div",{onClick:()=>Rt("ALL_HITS"),className:"p-8 bg-white/5 border border-white/10 rounded-3xl cursor-pointer hover:bg-white/10 transition-all",children:[g.jsx("h4",{className:"text-[10px] font-black text-emerald-400 uppercase tracking-widest mb-2",children:"Total Registry"}),g.jsx("p",{className:"text-4xl font-black tabular-nums",children:Pi.allHits})]})]}),g.jsx("button",{onClick:Mt,className:"px-12 py-5 bg-blue-600 text-white rounded-2xl font-black text-xs uppercase tracking-widest shadow-2xl active:scale-95 transition-all",children:" Initiate New Note-Sheet"})]}):g.jsxs("div",{className:"flex flex-col gap-6",children:[g.jsx("div",{className:"flex mb-2 no-print",children:g.jsxs("button",{onClick:()=>{H(null),_e(!1),h(!0)},className:"px-5 py-2.5 bg-slate-900 text-white rounded-xl font-black text-[9px] uppercase tracking-widest flex items-center gap-2 hover:bg-slate-800 transition-all shadow-lg active:scale-95",children:[g.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M10 19l-7-7m0 0l7-7"})}),"Dashboard"]})}),ve?g.jsxs("div",{className:"bg-white rounded-3xl border border-slate-200 shadow-2xl p-8 lg:p-16 space-y-12",children:[g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[g.jsxs("div",{className:"space-y-2",children:[g.jsx("label",{className:"text-[10px] font-black text-slate-500 uppercase tracking-widest",children:"Reference Number"}),g.jsx("input",{type:"text",value:O,onChange:j=>Y(j.target.value.toUpperCase()),className:"w-full px-6 py-4 bg-slate-50 border border-slate-200 rounded-2xl outline-none focus:border-blue-600 font-black text-sm uppercase"})]}),g.jsxs("div",{className:"space-y-2",children:[g.jsx("label",{className:"text-[10px] font-black text-slate-500 uppercase tracking-widest",children:"Target Official"}),g.jsxs("select",{value:oe,onChange:j=>Se(j.target.value),className:"w-full px-6 py-4 bg-slate-50 border border-slate-200 rounded-2xl outline-none focus:border-blue-600 font-black text-xs uppercase",children:[g.jsx("option",{value:"",children:"Select Recipient"}),x.map(j=>g.jsxs("option",{value:j.id,children:[j.name," (",j.designation,")"]},j.id))]})]})]}),g.jsxs("div",{className:"space-y-3",children:[g.jsx("label",{className:"text-[10px] font-black text-slate-500 uppercase tracking-widest",children:"Official Subject"}),g.jsx("textarea",{rows:2,value:De,onChange:j=>Ae(j.target.value),className:"w-full px-8 py-6 border-2 border-slate-200 rounded-[2rem] outline-none focus:border-blue-600 font-black text-xl lg:text-3xl",placeholder:"ENTER SUBJECT..."})]}),g.jsxs("div",{className:"space-y-3",children:[g.jsxs("div",{className:"flex justify-between items-center",children:[g.jsx("label",{className:"text-[10px] font-black text-slate-500 uppercase tracking-widest",children:"Note Body"}),g.jsx("button",{onClick:Gi,disabled:z,className:"px-4 py-2 bg-indigo-600 text-white rounded-xl text-[9px] font-black uppercase tracking-widest",children:z?"Refining...":"AI Refine"})]}),g.jsx("textarea",{value:Le,onChange:j=>it(j.target.value),rows:15,className:"w-full px-8 py-10 bg-slate-50 border border-slate-200 rounded-[2rem] outline-none focus:border-blue-600 font-medium text-lg leading-relaxed",placeholder:"Draft your proposal here..."})]}),g.jsx("div",{className:"pt-8 border-t border-slate-100 flex justify-end",children:g.jsx("button",{onClick:ji,disabled:!De||!Le||!oe,className:"px-16 py-6 bg-blue-600 text-white rounded-2xl font-black text-sm uppercase shadow-2xl active:scale-95 disabled:opacity-50 transition-all",children:" Dispatch Statutory Note"})})]}):at?g.jsxs("div",{className:"space-y-8 animate-in fade-in",children:[nn(at),at.currentHandler.id===i.id&&g.jsxs("div",{className:"bg-white rounded-[3rem] p-10 lg:p-16 border border-slate-200 shadow-2xl space-y-10",children:[g.jsxs("div",{className:"space-y-4",children:[g.jsx("label",{className:"text-[11px] font-black text-slate-400 uppercase tracking-widest",children:"Official Decision Remark"}),g.jsx("textarea",{value:Re,onChange:j=>R(j.target.value),rows:4,className:"w-full px-8 py-6 bg-slate-50 border border-slate-200 rounded-3xl outline-none focus:border-blue-600 font-bold italic text-lg",placeholder:"Enter remarks..."})]}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[g.jsx("button",{onClick:()=>yt(Fe.APPROVE),className:"py-6 bg-emerald-600 text-white rounded-2xl font-black text-xs uppercase tracking-widest shadow-xl active:scale-95",children:"Approve"}),g.jsx("button",{onClick:()=>yt(Fe.FORWARD),className:"py-6 bg-slate-950 text-white rounded-2xl font-black text-xs uppercase tracking-widest shadow-xl active:scale-95",children:"Forward"}),g.jsx("button",{onClick:()=>yt(Fe.RETURN),className:"py-6 bg-amber-500 text-white rounded-2xl font-black text-xs uppercase tracking-widest shadow-xl active:scale-95",children:"Return"}),g.jsx("button",{onClick:()=>yt(Fe.REJECT),className:"py-6 bg-rose-600 text-white rounded-2xl font-black text-xs uppercase tracking-widest shadow-xl active:scale-95",children:"Reject"})]}),g.jsxs("div",{className:"pt-4 border-t border-slate-50",children:[g.jsx("label",{className:"text-[10px] font-black text-slate-300 uppercase tracking-widest",children:"Routing Recipient"}),g.jsxs("select",{value:oe,onChange:j=>Se(j.target.value),className:"w-full mt-2 px-6 py-4 bg-slate-50 border border-slate-200 rounded-xl outline-none font-black text-xs uppercase",children:[g.jsx("option",{value:"",children:"Forward To..."}),x.filter(j=>j.id!==i.id).map(j=>g.jsx("option",{value:j.id,children:j.name},j.id))]})]})]}),g.jsx(fS,{history:at.history})]}):null]})})]}),o&&g.jsx("div",{className:"fixed inset-0 z-[500] bg-white animate-in slide-in-from-bottom-5",children:g.jsx(dS,{staffList:x,notes:_,departments:T,universityLogo:C,onUpdateLogo:ht,onAddStaff:Oi,onUpdateStaff:gr,onDeleteStaff:V,onAddDepartment:ke,onDeleteDepartment:ot,onClose:()=>l(!1),currentUserId:i.id,dbStatus:J})})]}),!v&&t==="PUBLIC_VIEW"&&at&&g.jsxs("div",{className:"min-h-screen bg-[#010409] p-4 lg:p-12 overflow-y-auto flex flex-col items-center",children:[g.jsxs("div",{className:"w-full max-w-[1200px] flex justify-between items-center text-white mb-8 bg-white/5 p-6 rounded-[2.5rem] border border-white/10",children:[g.jsx("h2",{className:"text-xl lg:text-3xl font-black uppercase tracking-tighter",children:"Statutory Verification"}),g.jsx("button",{onClick:()=>e("LOGIN"),className:"px-10 py-4 bg-white text-slate-950 rounded-xl text-[10px] font-black uppercase tracking-widest",children:"Close Record"})]}),nn(at,!0)]}),v&&at&&g.jsx("div",{className:"min-h-screen bg-white",children:nn(at)}),g.jsx(NR,{})]})},Zv=document.getElementById("root");if(!Zv)throw new Error("Could not find root element to mount to");const IR=Eb.createRoot(Zv);IR.render(g.jsx(gb.StrictMode,{children:g.jsx(kR,{})}));
